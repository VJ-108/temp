function m8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r1={exports:{}},bm={},i1={exports:{}},mn={};var U2;function v8(){if(U2)return mn;U2=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),u=Symbol.iterator;function d(K){return K===null||typeof K!="object"?null:(K=u&&K[u]||K["@@iterator"],typeof K=="function"?K:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(K,X,J){this.props=K,this.context=X,this.refs=m,this.updater=J||f}g.prototype.isReactComponent={},g.prototype.setState=function(K,X){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,X,"setState")},g.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function v(){}v.prototype=g.prototype;function y(K,X,J){this.props=K,this.context=X,this.refs=m,this.updater=J||f}var _=y.prototype=new v;_.constructor=y,p(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,b={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(K,X,J){var te,re={},ae=null,ie=null;if(X!=null)for(te in X.ref!==void 0&&(ie=X.ref),X.key!==void 0&&(ae=""+X.key),X)C.call(X,te)&&!T.hasOwnProperty(te)&&(re[te]=X[te]);var Q=arguments.length-2;if(Q===1)re.children=J;else if(1<Q){for(var se=Array(Q),de=0;de<Q;de++)se[de]=arguments[de+2];re.children=se}if(K&&K.defaultProps)for(te in Q=K.defaultProps,Q)re[te]===void 0&&(re[te]=Q[te]);return{$$typeof:n,type:K,key:ae,ref:ie,props:re,_owner:b.current}}function k(K,X){return{$$typeof:n,type:K.type,key:X,ref:K.ref,props:K.props,_owner:K._owner}}function P(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function N(K){var X={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(J){return X[J]})}var D=/\/+/g;function L(K,X){return typeof K=="object"&&K!==null&&K.key!=null?N(""+K.key):X.toString(36)}function I(K,X,J,te,re){var ae=typeof K;(ae==="undefined"||ae==="boolean")&&(K=null);var ie=!1;if(K===null)ie=!0;else switch(ae){case"string":case"number":ie=!0;break;case"object":switch(K.$$typeof){case n:case e:ie=!0}}if(ie)return ie=K,re=re(ie),K=te===""?"."+L(ie,0):te,w(re)?(J="",K!=null&&(J=K.replace(D,"$&/")+"/"),I(re,X,J,"",function(de){return de})):re!=null&&(P(re)&&(re=k(re,J+(!re.key||ie&&ie.key===re.key?"":(""+re.key).replace(D,"$&/")+"/")+K)),X.push(re)),1;if(ie=0,te=te===""?".":te+":",w(K))for(var Q=0;Q<K.length;Q++){ae=K[Q];var se=te+L(ae,Q);ie+=I(ae,X,J,se,re)}else if(se=d(K),typeof se=="function")for(K=se.call(K),Q=0;!(ae=K.next()).done;)ae=ae.value,se=te+L(ae,Q++),ie+=I(ae,X,J,se,re);else if(ae==="object")throw X=String(K),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ie}function O(K,X,J){if(K==null)return K;var te=[],re=0;return I(K,te,"","",function(ae){return X.call(J,ae,re++)}),te}function F(K){if(K._status===-1){var X=K._result;X=X(),X.then(function(J){(K._status===0||K._status===-1)&&(K._status=1,K._result=J)},function(J){(K._status===0||K._status===-1)&&(K._status=2,K._result=J)}),K._status===-1&&(K._status=0,K._result=X)}if(K._status===1)return K._result.default;throw K._result}var H={current:null},j={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:j,ReactCurrentOwner:b};function W(){throw Error("act(...) is not supported in production builds of React.")}return mn.Children={map:O,forEach:function(K,X,J){O(K,function(){X.apply(this,arguments)},J)},count:function(K){var X=0;return O(K,function(){X++}),X},toArray:function(K){return O(K,function(X){return X})||[]},only:function(K){if(!P(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},mn.Component=g,mn.Fragment=t,mn.Profiler=i,mn.PureComponent=y,mn.StrictMode=r,mn.Suspense=o,mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,mn.act=W,mn.cloneElement=function(K,X,J){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var te=p({},K.props),re=K.key,ae=K.ref,ie=K._owner;if(X!=null){if(X.ref!==void 0&&(ae=X.ref,ie=b.current),X.key!==void 0&&(re=""+X.key),K.type&&K.type.defaultProps)var Q=K.type.defaultProps;for(se in X)C.call(X,se)&&!T.hasOwnProperty(se)&&(te[se]=X[se]===void 0&&Q!==void 0?Q[se]:X[se])}var se=arguments.length-2;if(se===1)te.children=J;else if(1<se){Q=Array(se);for(var de=0;de<se;de++)Q[de]=arguments[de+2];te.children=Q}return{$$typeof:n,type:K.type,key:re,ref:ae,props:te,_owner:ie}},mn.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},mn.createElement=A,mn.createFactory=function(K){var X=A.bind(null,K);return X.type=K,X},mn.createRef=function(){return{current:null}},mn.forwardRef=function(K){return{$$typeof:a,render:K}},mn.isValidElement=P,mn.lazy=function(K){return{$$typeof:c,_payload:{_status:-1,_result:K},_init:F}},mn.memo=function(K,X){return{$$typeof:h,type:K,compare:X===void 0?null:X}},mn.startTransition=function(K){var X=j.transition;j.transition={};try{K()}finally{j.transition=X}},mn.unstable_act=W,mn.useCallback=function(K,X){return H.current.useCallback(K,X)},mn.useContext=function(K){return H.current.useContext(K)},mn.useDebugValue=function(){},mn.useDeferredValue=function(K){return H.current.useDeferredValue(K)},mn.useEffect=function(K,X){return H.current.useEffect(K,X)},mn.useId=function(){return H.current.useId()},mn.useImperativeHandle=function(K,X,J){return H.current.useImperativeHandle(K,X,J)},mn.useInsertionEffect=function(K,X){return H.current.useInsertionEffect(K,X)},mn.useLayoutEffect=function(K,X){return H.current.useLayoutEffect(K,X)},mn.useMemo=function(K,X){return H.current.useMemo(K,X)},mn.useReducer=function(K,X,J){return H.current.useReducer(K,X,J)},mn.useRef=function(K){return H.current.useRef(K)},mn.useState=function(K){return H.current.useState(K)},mn.useSyncExternalStore=function(K,X,J){return H.current.useSyncExternalStore(K,X,J)},mn.useTransition=function(){return H.current.useTransition()},mn.version="18.3.1",mn}var j2;function Ll(){return j2||(j2=1,i1.exports=v8()),i1.exports}var H2;function y8(){if(H2)return bm;H2=1;var n=Ll(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(a,o,h){var c,u={},d=null,f=null;h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),o.ref!==void 0&&(f=o.ref);for(c in o)r.call(o,c)&&!s.hasOwnProperty(c)&&(u[c]=o[c]);if(a&&a.defaultProps)for(c in o=a.defaultProps,o)u[c]===void 0&&(u[c]=o[c]);return{$$typeof:e,type:a,key:d,ref:f,props:u,_owner:i.current}}return bm.Fragment=t,bm.jsx=l,bm.jsxs=l,bm}var W2;function x8(){return W2||(W2=1,r1.exports=y8()),r1.exports}var U=x8();if(typeof window<"u")try{const n=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n)for(const e in n)typeof n[e]=="function"&&(n[e]=function(){})}catch{console.warn("React DevTools patch applied to prevent semver crash.")}var G=Ll();const tv=aa(G),_8=m8({__proto__:null,default:tv},[G]);var O0={},s1={exports:{}},Ks={},o1={exports:{}},a1={};var V2;function b8(){return V2||(V2=1,(function(n){function e(j,z){var W=j.length;j.push(z);e:for(;0<W;){var K=W-1>>>1,X=j[K];if(0<i(X,z))j[K]=z,j[W]=X,W=K;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],W=j.pop();if(W!==z){j[0]=W;e:for(var K=0,X=j.length,J=X>>>1;K<J;){var te=2*(K+1)-1,re=j[te],ae=te+1,ie=j[ae];if(0>i(re,W))ae<X&&0>i(ie,re)?(j[K]=ie,j[ae]=W,K=ae):(j[K]=re,j[te]=W,K=te);else if(ae<X&&0>i(ie,W))j[K]=ie,j[ae]=W,K=ae;else break e}}return z}function i(j,z){var W=j.sortIndex-z.sortIndex;return W!==0?W:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();n.unstable_now=function(){return l.now()-a}}var o=[],h=[],c=1,u=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var z=t(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=j)r(h),z.sortIndex=z.expirationTime,e(o,z);else break;z=t(h)}}function w(j){if(m=!1,_(j),!p)if(t(o)!==null)p=!0,F(C);else{var z=t(h);z!==null&&H(w,z.startTime-j)}}function C(j,z){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var W=d;try{for(_(z),u=t(o);u!==null&&(!(u.expirationTime>z)||j&&!N());){var K=u.callback;if(typeof K=="function"){u.callback=null,d=u.priorityLevel;var X=K(u.expirationTime<=z);z=n.unstable_now(),typeof X=="function"?u.callback=X:u===t(o)&&r(o),_(z)}else r(o);u=t(o)}if(u!==null)var J=!0;else{var te=t(h);te!==null&&H(w,te.startTime-z),J=!1}return J}finally{u=null,d=W,f=!1}}var b=!1,T=null,A=-1,k=5,P=-1;function N(){return!(n.unstable_now()-P<k)}function D(){if(T!==null){var j=n.unstable_now();P=j;var z=!0;try{z=T(!0,j)}finally{z?L():(b=!1,T=null)}}else b=!1}var L;if(typeof y=="function")L=function(){y(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=D,L=function(){O.postMessage(null)}}else L=function(){g(D,0)};function F(j){T=j,b||(b=!0,L())}function H(j,z){A=g(function(){j(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,F(C))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(o)},n.unstable_next=function(j){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var W=d;d=z;try{return j()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=d;d=j;try{return z()}finally{d=W}},n.unstable_scheduleCallback=function(j,z,W){var K=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,j={id:c++,callback:z,priorityLevel:j,startTime:W,expirationTime:X,sortIndex:-1},W>K?(j.sortIndex=W,e(h,j),t(o)===null&&j===t(h)&&(m?(v(A),A=-1):m=!0,H(w,W-K))):(j.sortIndex=X,e(o,j),p||f||(p=!0,F(C))),j},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(j){var z=d;return function(){var W=d;d=z;try{return j.apply(this,arguments)}finally{d=W}}}})(a1)),a1}var G2;function w8(){return G2||(G2=1,o1.exports=b8()),o1.exports}var K2;function S8(){if(K2)return Ks;K2=1;var n=Ll(),e=w8();function t(x){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+x,R=1;R<arguments.length;R++)S+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+x+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(x,S){l(x,S),l(x+"Capture",S)}function l(x,S){for(i[x]=S,x=0;x<S.length;x++)r.add(S[x])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},u={};function d(x){return o.call(u,x)?!0:o.call(c,x)?!1:h.test(x)?u[x]=!0:(c[x]=!0,!1)}function f(x,S,R,$){if(R!==null&&R.type===0)return!1;switch(typeof S){case"function":case"symbol":return!0;case"boolean":return $?!1:R!==null?!R.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function p(x,S,R,$){if(S===null||typeof S>"u"||f(x,S,R,$))return!0;if($)return!1;if(R!==null)switch(R.type){case 3:return!S;case 4:return S===!1;case 5:return isNaN(S);case 6:return isNaN(S)||1>S}return!1}function m(x,S,R,$,q,Z,oe){this.acceptsBooleans=S===2||S===3||S===4,this.attributeName=$,this.attributeNamespace=q,this.mustUseProperty=R,this.propertyName=x,this.type=S,this.sanitizeURL=Z,this.removeEmptyString=oe}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){g[x]=new m(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var S=x[0];g[S]=new m(S,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){g[x]=new m(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){g[x]=new m(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){g[x]=new m(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){g[x]=new m(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){g[x]=new m(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){g[x]=new m(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){g[x]=new m(x,5,!1,x.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var S=x.replace(v,y);g[S]=new m(S,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var S=x.replace(v,y);g[S]=new m(S,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var S=x.replace(v,y);g[S]=new m(S,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!0,!0)});function _(x,S,R,$){var q=g.hasOwnProperty(S)?g[S]:null;(q!==null?q.type!==0:$||!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(p(S,R,q,$)&&(R=null),$||q===null?d(S)&&(R===null?x.removeAttribute(S):x.setAttribute(S,""+R)):q.mustUseProperty?x[q.propertyName]=R===null?q.type===3?!1:"":R:(S=q.attributeName,$=q.attributeNamespace,R===null?x.removeAttribute(S):(q=q.type,R=q===3||q===4&&R===!0?"":""+R,$?x.setAttributeNS($,S,R):x.setAttribute(S,R))))}var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),j=Symbol.iterator;function z(x){return x===null||typeof x!="object"?null:(x=j&&x[j]||x["@@iterator"],typeof x=="function"?x:null)}var W=Object.assign,K;function X(x){if(K===void 0)try{throw Error()}catch(R){var S=R.stack.trim().match(/\n( *(at )?)/);K=S&&S[1]||""}return`
`+K+x}var J=!1;function te(x,S){if(!x||J)return"";J=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(Be){var $=Be}Reflect.construct(x,[],S)}else{try{S.call()}catch(Be){$=Be}x.call(S.prototype)}else{try{throw Error()}catch(Be){$=Be}x()}}catch(Be){if(Be&&$&&typeof Be.stack=="string"){for(var q=Be.stack.split(`
`),Z=$.stack.split(`
`),oe=q.length-1,ve=Z.length-1;1<=oe&&0<=ve&&q[oe]!==Z[ve];)ve--;for(;1<=oe&&0<=ve;oe--,ve--)if(q[oe]!==Z[ve]){if(oe!==1||ve!==1)do if(oe--,ve--,0>ve||q[oe]!==Z[ve]){var we=`
`+q[oe].replace(" at new "," at ");return x.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",x.displayName)),we}while(1<=oe&&0<=ve);break}}}finally{J=!1,Error.prepareStackTrace=R}return(x=x?x.displayName||x.name:"")?X(x):""}function re(x){switch(x.tag){case 5:return X(x.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return x=te(x.type,!1),x;case 11:return x=te(x.type.render,!1),x;case 1:return x=te(x.type,!0),x;default:return""}}function ae(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case T:return"Fragment";case b:return"Portal";case k:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case I:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case N:return(x.displayName||"Context")+".Consumer";case P:return(x._context.displayName||"Context")+".Provider";case D:var S=x.render;return x=x.displayName,x||(x=S.displayName||S.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case O:return S=x.displayName||null,S!==null?S:ae(x.type)||"Memo";case F:S=x._payload,x=x._init;try{return ae(x(S))}catch{}}return null}function ie(x){var S=x.type;switch(x.tag){case 24:return"Cache";case 9:return(S.displayName||"Context")+".Consumer";case 10:return(S._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=S.render,x=x.displayName||x.name||"",S.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return S;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(S);case 8:return S===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S}return null}function Q(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function se(x){var S=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(S==="checkbox"||S==="radio")}function de(x){var S=se(x)?"checked":"value",R=Object.getOwnPropertyDescriptor(x.constructor.prototype,S),$=""+x[S];if(!x.hasOwnProperty(S)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var q=R.get,Z=R.set;return Object.defineProperty(x,S,{configurable:!0,get:function(){return q.call(this)},set:function(oe){$=""+oe,Z.call(this,oe)}}),Object.defineProperty(x,S,{enumerable:R.enumerable}),{getValue:function(){return $},setValue:function(oe){$=""+oe},stopTracking:function(){x._valueTracker=null,delete x[S]}}}}function xe(x){x._valueTracker||(x._valueTracker=de(x))}function ne(x){if(!x)return!1;var S=x._valueTracker;if(!S)return!0;var R=S.getValue(),$="";return x&&($=se(x)?x.checked?"true":"false":x.value),x=$,x!==R?(S.setValue(x),!0):!1}function ye(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function _e(x,S){var R=S.checked;return W({},S,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??x._wrapperState.initialChecked})}function Ae(x,S){var R=S.defaultValue==null?"":S.defaultValue,$=S.checked!=null?S.checked:S.defaultChecked;R=Q(S.value!=null?S.value:R),x._wrapperState={initialChecked:$,initialValue:R,controlled:S.type==="checkbox"||S.type==="radio"?S.checked!=null:S.value!=null}}function Te(x,S){S=S.checked,S!=null&&_(x,"checked",S,!1)}function ze(x,S){Te(x,S);var R=Q(S.value),$=S.type;if(R!=null)$==="number"?(R===0&&x.value===""||x.value!=R)&&(x.value=""+R):x.value!==""+R&&(x.value=""+R);else if($==="submit"||$==="reset"){x.removeAttribute("value");return}S.hasOwnProperty("value")?at(x,S.type,R):S.hasOwnProperty("defaultValue")&&at(x,S.type,Q(S.defaultValue)),S.checked==null&&S.defaultChecked!=null&&(x.defaultChecked=!!S.defaultChecked)}function tt(x,S,R){if(S.hasOwnProperty("value")||S.hasOwnProperty("defaultValue")){var $=S.type;if(!($!=="submit"&&$!=="reset"||S.value!==void 0&&S.value!==null))return;S=""+x._wrapperState.initialValue,R||S===x.value||(x.value=S),x.defaultValue=S}R=x.name,R!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,R!==""&&(x.name=R)}function at(x,S,R){(S!=="number"||ye(x.ownerDocument)!==x)&&(R==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+R&&(x.defaultValue=""+R))}var _t=Array.isArray;function It(x,S,R,$){if(x=x.options,S){S={};for(var q=0;q<R.length;q++)S["$"+R[q]]=!0;for(R=0;R<x.length;R++)q=S.hasOwnProperty("$"+x[R].value),x[R].selected!==q&&(x[R].selected=q),q&&$&&(x[R].defaultSelected=!0)}else{for(R=""+Q(R),S=null,q=0;q<x.length;q++){if(x[q].value===R){x[q].selected=!0,$&&(x[q].defaultSelected=!0);return}S!==null||x[q].disabled||(S=x[q])}S!==null&&(S.selected=!0)}}function ln(x,S){if(S.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},S,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function pe(x,S){var R=S.value;if(R==null){if(R=S.children,S=S.defaultValue,R!=null){if(S!=null)throw Error(t(92));if(_t(R)){if(1<R.length)throw Error(t(93));R=R[0]}S=R}S==null&&(S=""),R=S}x._wrapperState={initialValue:Q(R)}}function ce(x,S){var R=Q(S.value),$=Q(S.defaultValue);R!=null&&(R=""+R,R!==x.value&&(x.value=R),S.defaultValue==null&&x.defaultValue!==R&&(x.defaultValue=R)),$!=null&&(x.defaultValue=""+$)}function Ne(x){var S=x.textContent;S===x._wrapperState.initialValue&&S!==""&&S!==null&&(x.value=S)}function Ye(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(x,S){return x==null||x==="http://www.w3.org/1999/xhtml"?Ye(S):x==="http://www.w3.org/2000/svg"&&S==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var et,dt=(function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(S,R,$,q){MSApp.execUnsafeLocalFunction(function(){return x(S,R,$,q)})}:x})(function(x,S){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=S;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+S.valueOf().toString()+"</svg>",S=et.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;S.firstChild;)x.appendChild(S.firstChild)}});function Xe(x,S){if(S){var R=x.firstChild;if(R&&R===x.lastChild&&R.nodeType===3){R.nodeValue=S;return}}x.textContent=S}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(x){st.forEach(function(S){S=S+x.charAt(0).toUpperCase()+x.substring(1),Fe[S]=Fe[x]})});function St(x,S,R){return S==null||typeof S=="boolean"||S===""?"":R||typeof S!="number"||S===0||Fe.hasOwnProperty(x)&&Fe[x]?(""+S).trim():S+"px"}function Et(x,S){x=x.style;for(var R in S)if(S.hasOwnProperty(R)){var $=R.indexOf("--")===0,q=St(R,S[R],$);R==="float"&&(R="cssFloat"),$?x.setProperty(R,q):x[R]=q}}var ht=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(x,S){if(S){if(ht[x]&&(S.children!=null||S.dangerouslySetInnerHTML!=null))throw Error(t(137,x));if(S.dangerouslySetInnerHTML!=null){if(S.children!=null)throw Error(t(60));if(typeof S.dangerouslySetInnerHTML!="object"||!("__html"in S.dangerouslySetInnerHTML))throw Error(t(61))}if(S.style!=null&&typeof S.style!="object")throw Error(t(62))}}function be(x,S){if(x.indexOf("-")===-1)return typeof S.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function me(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var qe=null,Le=null,Je=null;function lt(x){if(x=xa(x)){if(typeof qe!="function")throw Error(t(280));var S=x.stateNode;S&&(S=Of(S),qe(x.stateNode,x.type,S))}}function Kt(x){Le?Je?Je.push(x):Je=[x]:Le=x}function nn(){if(Le){var x=Le,S=Je;if(Je=Le=null,lt(x),S)for(x=0;x<S.length;x++)lt(S[x])}}function fn(x,S){return x(S)}function _r(){}var an=!1;function ar(x,S,R){if(an)return x(S,R);an=!0;try{return fn(x,S,R)}finally{an=!1,(Le!==null||Je!==null)&&(_r(),nn())}}function On(x,S){var R=x.stateNode;if(R===null)return null;var $=Of(R);if($===null)return null;R=$[S];e:switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(x=x.type,$=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!$;break e;default:x=!1}if(x)return null;if(R&&typeof R!="function")throw Error(t(231,S,typeof R));return R}var Ja=!1;if(a)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Ja=!1}function nu(x,S,R,$,q,Z,oe,ve,we){var Be=Array.prototype.slice.call(arguments,3);try{S.apply(R,Be)}catch(Qe){this.onError(Qe)}}var Ni=!1,to=null,br=!1,Qa=null,_h={onError:function(x){Ni=!0,to=x}};function bh(x,S,R,$,q,Z,oe,ve,we){Ni=!1,to=null,nu.apply(_h,arguments)}function wh(x,S,R,$,q,Z,oe,ve,we){if(bh.apply(this,arguments),Ni){if(Ni){var Be=to;Ni=!1,to=null}else throw Error(t(198));br||(br=!0,Qa=Be)}}function he(x){var S=x,R=x;if(x.alternate)for(;S.return;)S=S.return;else{x=S;do S=x,(S.flags&4098)!==0&&(R=S.return),x=S.return;while(x)}return S.tag===3?R:null}function Pe(x){if(x.tag===13){var S=x.memoizedState;if(S===null&&(x=x.alternate,x!==null&&(S=x.memoizedState)),S!==null)return S.dehydrated}return null}function He(x){if(he(x)!==x)throw Error(t(188))}function ke(x){var S=x.alternate;if(!S){if(S=he(x),S===null)throw Error(t(188));return S!==x?null:x}for(var R=x,$=S;;){var q=R.return;if(q===null)break;var Z=q.alternate;if(Z===null){if($=q.return,$!==null){R=$;continue}break}if(q.child===Z.child){for(Z=q.child;Z;){if(Z===R)return He(q),x;if(Z===$)return He(q),S;Z=Z.sibling}throw Error(t(188))}if(R.return!==$.return)R=q,$=Z;else{for(var oe=!1,ve=q.child;ve;){if(ve===R){oe=!0,R=q,$=Z;break}if(ve===$){oe=!0,$=q,R=Z;break}ve=ve.sibling}if(!oe){for(ve=Z.child;ve;){if(ve===R){oe=!0,R=Z,$=q;break}if(ve===$){oe=!0,$=Z,R=q;break}ve=ve.sibling}if(!oe)throw Error(t(189))}}if(R.alternate!==$)throw Error(t(190))}if(R.tag!==3)throw Error(t(188));return R.stateNode.current===R?x:S}function We(x){return x=ke(x),x!==null?gt(x):null}function gt(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var S=gt(x);if(S!==null)return S;x=x.sibling}return null}var Ot=e.unstable_scheduleCallback,Lt=e.unstable_cancelCallback,$t=e.unstable_shouldYield,Jt=e.unstable_requestPaint,mt=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,xn=e.unstable_ImmediatePriority,Sn=e.unstable_UserBlockingPriority,Xr=e.unstable_NormalPriority,Bi=e.unstable_LowPriority,pn=e.unstable_IdlePriority,Ut=null,rn=null;function jt(x){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ut,x,void 0,(x.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Ei,wr=Math.log,lr=Math.LN2;function Ei(x){return x>>>=0,x===0?32:31-(wr(x)/lr|0)|0}var Fn=64,Cn=4194304;function Fi(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function cr(x,S){var R=x.pendingLanes;if(R===0)return 0;var $=0,q=x.suspendedLanes,Z=x.pingedLanes,oe=R&268435455;if(oe!==0){var ve=oe&~q;ve!==0?$=Fi(ve):(Z&=oe,Z!==0&&($=Fi(Z)))}else oe=R&~q,oe!==0?$=Fi(oe):Z!==0&&($=Fi(Z));if($===0)return 0;if(S!==0&&S!==$&&(S&q)===0&&(q=$&-$,Z=S&-S,q>=Z||q===16&&(Z&4194240)!==0))return S;if(($&4)!==0&&($|=R&16),S=x.entangledLanes,S!==0)for(x=x.entanglements,S&=$;0<S;)R=31-In(S),q=1<<R,$|=x[R],S&=~q;return $}function el(x,S){switch(x){case 1:case 2:case 4:return S+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(x,S){for(var R=x.suspendedLanes,$=x.pingedLanes,q=x.expirationTimes,Z=x.pendingLanes;0<Z;){var oe=31-In(Z),ve=1<<oe,we=q[oe];we===-1?((ve&R)===0||(ve&$)!==0)&&(q[oe]=el(ve,S)):we<=S&&(x.expiredLanes|=ve),Z&=~ve}}function ca(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Qi(){var x=Fn;return Fn<<=1,(Fn&4194240)===0&&(Fn=64),x}function ru(x){for(var S=[],R=0;31>R;R++)S.push(x);return S}function Bl(x,S,R){x.pendingLanes|=S,S!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,S=31-In(S),x[S]=R}function kg(x,S){var R=x.pendingLanes&~S;x.pendingLanes=S,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=S,x.mutableReadLanes&=S,x.entangledLanes&=S,S=x.entanglements;var $=x.eventTimes;for(x=x.expirationTimes;0<R;){var q=31-In(R),Z=1<<q;S[q]=0,$[q]=-1,x[q]=-1,R&=~Z}}function ua(x,S){var R=x.entangledLanes|=S;for(x=x.entanglements;R;){var $=31-In(R),q=1<<$;q&S|x[$]&S&&(x[$]|=S),R&=~q}}var gn=0;function ps(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Fl,Sh,no,iu,su,ha=!1,ou=[],Ds=null,Ht=null,Ns=null,da=new Map,ro=new Map,ko=[],Ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sr(x,S){switch(x){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":da.delete(S.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(S.pointerId)}}function Ro(x,S,R,$,q,Z){return x===null||x.nativeEvent!==Z?(x={blockedOn:S,domEventName:R,eventSystemFlags:$,nativeEvent:Z,targetContainers:[q]},S!==null&&(S=xa(S),S!==null&&Sh(S)),x):(x.eventSystemFlags|=$,S=x.targetContainers,q!==null&&S.indexOf(q)===-1&&S.push(q),x)}function cf(x,S,R,$,q){switch(S){case"focusin":return Ds=Ro(Ds,x,S,R,$,q),!0;case"dragenter":return Ht=Ro(Ht,x,S,R,$,q),!0;case"mouseover":return Ns=Ro(Ns,x,S,R,$,q),!0;case"pointerover":var Z=q.pointerId;return da.set(Z,Ro(da.get(Z)||null,x,S,R,$,q)),!0;case"gotpointercapture":return Z=q.pointerId,ro.set(Z,Ro(ro.get(Z)||null,x,S,R,$,q)),!0}return!1}function $l(x){var S=cl(x.target);if(S!==null){var R=he(S);if(R!==null){if(S=R.tag,S===13){if(S=Pe(R),S!==null){x.blockedOn=S,su(x.priority,function(){no(R)});return}}else if(S===3&&R.stateNode.current.memoizedState.isDehydrated){x.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Lo(x){if(x.blockedOn!==null)return!1;for(var S=x.targetContainers;0<S.length;){var R=vn(x.domEventName,x.eventSystemFlags,S[0],x.nativeEvent);if(R===null){R=x.nativeEvent;var $=new R.constructor(R.type,R);Ue=$,R.target.dispatchEvent($),Ue=null}else return S=xa(R),S!==null&&Sh(S),x.blockedOn=R,!1;S.shift()}return!0}function nl(x,S,R){Lo(x)&&R.delete(S)}function Bs(){ha=!1,Ds!==null&&Lo(Ds)&&(Ds=null),Ht!==null&&Lo(Ht)&&(Ht=null),Ns!==null&&Lo(Ns)&&(Ns=null),da.forEach(nl),ro.forEach(nl)}function zl(x,S){x.blockedOn===S&&(x.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bs)))}function Ul(x){function S(q){return zl(q,x)}if(0<ou.length){zl(ou[0],x);for(var R=1;R<ou.length;R++){var $=ou[R];$.blockedOn===x&&($.blockedOn=null)}}for(Ds!==null&&zl(Ds,x),Ht!==null&&zl(Ht,x),Ns!==null&&zl(Ns,x),da.forEach(S),ro.forEach(S),R=0;R<ko.length;R++)$=ko[R],$.blockedOn===x&&($.blockedOn=null);for(;0<ko.length&&(R=ko[0],R.blockedOn===null);)$l(R),R.blockedOn===null&&ko.shift()}var ue=w.ReactCurrentBatchConfig,Se=!0;function Ge(x,S,R,$){var q=gn,Z=ue.transition;ue.transition=null;try{gn=1,Tn(x,S,R,$)}finally{gn=q,ue.transition=Z}}function pt(x,S,R,$){var q=gn,Z=ue.transition;ue.transition=null;try{gn=4,Tn(x,S,R,$)}finally{gn=q,ue.transition=Z}}function Tn(x,S,R,$){if(Se){var q=vn(x,S,R,$);if(q===null)Tf(x,S,$,Wt,R),Sr(x,$);else if(cf(q,x,S,R,$))$.stopPropagation();else if(Sr(x,$),S&4&&-1<Ch.indexOf(x)){for(;q!==null;){var Z=xa(q);if(Z!==null&&Fl(Z),Z=vn(x,S,R,$),Z===null&&Tf(x,S,$,Wt,R),Z===q)break;q=Z}q!==null&&$.stopPropagation()}else Tf(x,S,$,null,R)}}var Wt=null;function vn(x,S,R,$){if(Wt=null,x=me($),x=cl(x),x!==null)if(S=he(x),S===null)x=null;else if(R=S.tag,R===13){if(x=Pe(S),x!==null)return x;x=null}else if(R===3){if(S.stateNode.current.memoizedState.isDehydrated)return S.tag===3?S.stateNode.containerInfo:null;x=null}else S!==x&&(x=null);return Wt=x,null}function Cr(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zt()){case xn:return 1;case Sn:return 4;case Xr:case Bi:return 16;case pn:return 536870912;default:return 16}default:return 16}}var Pn=null,$n=null,Dn=null;function ai(){if(Dn)return Dn;var x,S=$n,R=S.length,$,q="value"in Pn?Pn.value:Pn.textContent,Z=q.length;for(x=0;x<R&&S[x]===q[x];x++);var oe=R-x;for($=1;$<=oe&&S[R-$]===q[Z-$];$++);return Dn=q.slice(x,1<$?1-$:void 0)}function Qn(x){var S=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&S===13&&(x=13)):x=S,x===10&&(x=13),32<=x||x===13?x:0}function ur(){return!0}function li(){return!1}function er(x){function S(R,$,q,Z,oe){this._reactName=R,this._targetInst=q,this.type=$,this.nativeEvent=Z,this.target=oe,this.currentTarget=null;for(var ve in x)x.hasOwnProperty(ve)&&(R=x[ve],this[ve]=R?R(Z):Z[ve]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?ur:li,this.isPropagationStopped=li,this}return W(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),S}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=er(ci),Po=W({},ci,{view:0,detail:0}),io=er(Po),zr,Fs,$s,au=W({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==$s&&($s&&x.type==="mousemove"?(zr=x.screenX-$s.screenX,Fs=x.screenY-$s.screenY):Fs=zr=0,$s=x),zr)},movementY:function(x){return"movementY"in x?x.movementY:Fs}}),Rg=er(au),fa=W({},au,{dataTransfer:0}),rl=er(fa),uf=W({},Po,{relatedTarget:0}),hf=er(uf),df=W({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=er(df),Wy=W({},ci,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),Lg=er(Wy),ff=W({},ci,{data:0}),Pg=er(ff),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(x){var S=this.nativeEvent;return S.getModifierState?S.getModifierState(x):(x=Og[x])?!!S[x]:!1}function il(){return lu}var pf=W({},Po,{key:function(x){if(x.key){var S=Vy[x.key]||x.key;if(S!=="Unidentified")return S}return x.type==="keypress"?(x=Qn(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?Gy[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(x){return x.type==="keypress"?Qn(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Qn(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),gf=er(pf),zs=W({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=er(zs),jl=W({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),pa=er(jl),ga=W({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hl=er(ga),Ky=W({},au,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=er(Ky),Dg=[9,13,27,32],$i=a&&"CompositionEvent"in window,ui=null;a&&"documentMode"in document&&(ui=document.documentMode);var tr=a&&"TextEvent"in window&&!ui,cu=a&&(!$i||ui&&8<ui&&11>=ui),Us=" ",Ng=!1;function Bg(x,S){switch(x){case"keyup":return Dg.indexOf(S.keyCode)!==-1;case"keydown":return S.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var sl=!1;function qy(x,S){switch(x){case"compositionend":return mf(S);case"keypress":return S.which!==32?null:(Ng=!0,Us);case"textInput":return x=S.data,x===Us&&Ng?null:x;default:return null}}function Eh(x,S){if(sl)return x==="compositionend"||!$i&&Bg(x,S)?(x=ai(),Dn=$n=Pn=null,sl=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(S.ctrlKey||S.altKey||S.metaKey)||S.ctrlKey&&S.altKey){if(S.char&&1<S.char.length)return S.char;if(S.which)return String.fromCharCode(S.which)}return null;case"compositionend":return cu&&S.locale!=="ko"?null:S.data;default:return null}}var uu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S==="input"?!!uu[x.type]:S==="textarea"}function hu(x,S,R,$){Kt($),S=Af(S,"onChange"),0<S.length&&(R=new gs("onChange","change",null,R,$),x.push({event:R,listeners:S}))}var ol=null,du=null;function Xy(x){mu(x,0)}function ma(x){var S=Er(x);if(ne(S))return x}function Yy(x,S){if(x==="change")return S}var fu=!1;if(a){var es;if(a){var Wl="oninput"in document;if(!Wl){var Vl=document.createElement("div");Vl.setAttribute("oninput","return;"),Wl=typeof Vl.oninput=="function"}es=Wl}else es=!1;fu=es&&(!document.documentMode||9<document.documentMode)}function so(){ol&&(ol.detachEvent("onpropertychange",yf),du=ol=null)}function yf(x){if(x.propertyName==="value"&&ma(du)){var S=[];hu(S,du,x,me(x)),ar(Xy,S)}}function pu(x,S,R){x==="focusin"?(so(),ol=S,du=R,ol.attachEvent("onpropertychange",yf)):x==="focusout"&&so()}function Zy(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return ma(du)}function Fg(x,S){if(x==="click")return ma(S)}function ir(x,S){if(x==="input"||x==="change")return ma(S)}function xf(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}var vs=typeof Object.is=="function"?Object.is:xf;function Gl(x,S){if(vs(x,S))return!0;if(typeof x!="object"||x===null||typeof S!="object"||S===null)return!1;var R=Object.keys(x),$=Object.keys(S);if(R.length!==$.length)return!1;for($=0;$<R.length;$++){var q=R[$];if(!o.call(S,q)||!vs(x[q],S[q]))return!1}return!0}function Mh(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function ys(x,S){var R=Mh(x);x=0;for(var $;R;){if(R.nodeType===3){if($=x+R.textContent.length,x<=S&&$>=S)return{node:R,offset:S-x};x=$}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=Mh(R)}}function Kl(x,S){return x&&S?x===S?!0:x&&x.nodeType===3?!1:S&&S.nodeType===3?Kl(x,S.parentNode):"contains"in x?x.contains(S):x.compareDocumentPosition?!!(x.compareDocumentPosition(S)&16):!1:!1}function sr(){for(var x=window,S=ye();S instanceof x.HTMLIFrameElement;){try{var R=typeof S.contentWindow.location.href=="string"}catch{R=!1}if(R)x=S.contentWindow;else break;S=ye(x.document)}return S}function Yr(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S&&(S==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||S==="textarea"||x.contentEditable==="true")}function Zr(x){var S=sr(),R=x.focusedElem,$=x.selectionRange;if(S!==R&&R&&R.ownerDocument&&Kl(R.ownerDocument.documentElement,R)){if($!==null&&Yr(R)){if(S=$.start,x=$.end,x===void 0&&(x=S),"selectionStart"in R)R.selectionStart=S,R.selectionEnd=Math.min(x,R.value.length);else if(x=(S=R.ownerDocument||document)&&S.defaultView||window,x.getSelection){x=x.getSelection();var q=R.textContent.length,Z=Math.min($.start,q);$=$.end===void 0?Z:Math.min($.end,q),!x.extend&&Z>$&&(q=$,$=Z,Z=q),q=ys(R,Z);var oe=ys(R,$);q&&oe&&(x.rangeCount!==1||x.anchorNode!==q.node||x.anchorOffset!==q.offset||x.focusNode!==oe.node||x.focusOffset!==oe.offset)&&(S=S.createRange(),S.setStart(q.node,q.offset),x.removeAllRanges(),Z>$?(x.addRange(S),x.extend(oe.node,oe.offset)):(S.setEnd(oe.node,oe.offset),x.addRange(S)))}}for(S=[],x=R;x=x.parentNode;)x.nodeType===1&&S.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<S.length;R++)x=S[R],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var _f=a&&"documentMode"in document&&11>=document.documentMode,Oo=null,ql=null,Th=null,Jr=!1;function bf(x,S,R){var $=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;Jr||Oo==null||Oo!==ye($)||($=Oo,"selectionStart"in $&&Yr($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Th&&Gl(Th,$)||(Th=$,$=Af(ql,"onSelect"),0<$.length&&(S=new gs("onSelect","select",null,S,R),x.push({event:S,listeners:$}),S.target=Oo)))}function gu(x,S){var R={};return R[x.toLowerCase()]=S.toLowerCase(),R["Webkit"+x]="webkit"+S,R["Moz"+x]="moz"+S,R}var al={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},oo={},ao={};a&&(ao=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Io(x){if(oo[x])return oo[x];if(!al[x])return x;var S=al[x],R;for(R in S)if(S.hasOwnProperty(R)&&R in ao)return oo[x]=S[R];return x}var Ah=Io("animationend"),kh=Io("animationiteration"),$g=Io("animationstart"),zg=Io("transitionend"),Ug=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(x,S){Ug.set(x,S),s(S,[x])}for(var wf=0;wf<jg.length;wf++){var Rh=jg[wf],Lh=Rh.toLowerCase(),Jy=Rh[0].toUpperCase()+Rh.slice(1);va(Lh,"on"+Jy)}va(Ah,"onAnimationEnd"),va(kh,"onAnimationIteration"),va($g,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(zg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Cf(x,S,R){var $=x.type||"unknown-event";x.currentTarget=R,wh($,S,void 0,x),x.currentTarget=null}function mu(x,S){S=(S&4)!==0;for(var R=0;R<x.length;R++){var $=x[R],q=$.event;$=$.listeners;e:{var Z=void 0;if(S)for(var oe=$.length-1;0<=oe;oe--){var ve=$[oe],we=ve.instance,Be=ve.currentTarget;if(ve=ve.listener,we!==Z&&q.isPropagationStopped())break e;Cf(q,ve,Be),Z=we}else for(oe=0;oe<$.length;oe++){if(ve=$[oe],we=ve.instance,Be=ve.currentTarget,ve=ve.listener,we!==Z&&q.isPropagationStopped())break e;Cf(q,ve,Be),Z=we}}}if(br)throw x=Qa,br=!1,Qa=null,x}function Wn(x,S){var R=S[Zl];R===void 0&&(R=S[Zl]=new Set);var $=x+"__bubble";R.has($)||(Mf(S,x,2,!1),R.add($))}function Ef(x,S,R){var $=0;S&&($|=4),Mf(R,x,$,S)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function vu(x){if(!x[Ph]){x[Ph]=!0,r.forEach(function(R){R!=="selectionchange"&&(Sf.has(R)||Ef(R,!1,x),Ef(R,!0,x))});var S=x.nodeType===9?x:x.ownerDocument;S===null||S[Ph]||(S[Ph]=!0,Ef("selectionchange",!1,S))}}function Mf(x,S,R,$){switch(Cr(S)){case 1:var q=Ge;break;case 4:q=pt;break;default:q=Tn}R=q.bind(null,S,R,x),q=void 0,!Ja||S!=="touchstart"&&S!=="touchmove"&&S!=="wheel"||(q=!0),$?q!==void 0?x.addEventListener(S,R,{capture:!0,passive:q}):x.addEventListener(S,R,!0):q!==void 0?x.addEventListener(S,R,{passive:q}):x.addEventListener(S,R,!1)}function Tf(x,S,R,$,q){var Z=$;if((S&1)===0&&(S&2)===0&&$!==null)e:for(;;){if($===null)return;var oe=$.tag;if(oe===3||oe===4){var ve=$.stateNode.containerInfo;if(ve===q||ve.nodeType===8&&ve.parentNode===q)break;if(oe===4)for(oe=$.return;oe!==null;){var we=oe.tag;if((we===3||we===4)&&(we=oe.stateNode.containerInfo,we===q||we.nodeType===8&&we.parentNode===q))return;oe=oe.return}for(;ve!==null;){if(oe=cl(ve),oe===null)return;if(we=oe.tag,we===5||we===6){$=Z=oe;continue e}ve=ve.parentNode}}$=$.return}ar(function(){var Be=Z,Qe=me(R),nt=[];e:{var Ze=Ug.get(x);if(Ze!==void 0){var vt=gs,Ct=x;switch(x){case"keypress":if(Qn(R)===0)break e;case"keydown":case"keyup":vt=gf;break;case"focusin":Ct="focus",vt=hf;break;case"focusout":Ct="blur",vt=hf;break;case"beforeblur":case"afterblur":vt=hf;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=pa;break;case Ah:case kh:case $g:vt=Hy;break;case zg:vt=Hl;break;case"scroll":vt=io;break;case"wheel":vt=Ig;break;case"copy":case"cut":case"paste":vt=Lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=ms}var Mt=(S&4)!==0,jr=!Mt&&x==="scroll",Re=Mt?Ze!==null?Ze+"Capture":null:Ze;Mt=[];for(var Ce=Be,Oe;Ce!==null;){Oe=Ce;var it=Oe.stateNode;if(Oe.tag===5&&it!==null&&(Oe=it,Re!==null&&(it=On(Ce,Re),it!=null&&Mt.push(yu(Ce,it,Oe)))),jr)break;Ce=Ce.return}0<Mt.length&&(Ze=new vt(Ze,Ct,null,R,Qe),nt.push({event:Ze,listeners:Mt}))}}if((S&7)===0){e:{if(Ze=x==="mouseover"||x==="pointerover",vt=x==="mouseout"||x==="pointerout",Ze&&R!==Ue&&(Ct=R.relatedTarget||R.fromElement)&&(cl(Ct)||Ct[xs]))break e;if((vt||Ze)&&(Ze=Qe.window===Qe?Qe:(Ze=Qe.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,vt?(Ct=R.relatedTarget||R.toElement,vt=Be,Ct=Ct?cl(Ct):null,Ct!==null&&(jr=he(Ct),Ct!==jr||Ct.tag!==5&&Ct.tag!==6)&&(Ct=null)):(vt=null,Ct=Be),vt!==Ct)){if(Mt=Rg,it="onMouseLeave",Re="onMouseEnter",Ce="mouse",(x==="pointerout"||x==="pointerover")&&(Mt=ms,it="onPointerLeave",Re="onPointerEnter",Ce="pointer"),jr=vt==null?Ze:Er(vt),Oe=Ct==null?Ze:Er(Ct),Ze=new Mt(it,Ce+"leave",vt,R,Qe),Ze.target=jr,Ze.relatedTarget=Oe,it=null,cl(Qe)===Be&&(Mt=new Mt(Re,Ce+"enter",Ct,R,Qe),Mt.target=Oe,Mt.relatedTarget=jr,it=Mt),jr=it,vt&&Ct)t:{for(Mt=vt,Re=Ct,Ce=0,Oe=Mt;Oe;Oe=Xl(Oe))Ce++;for(Oe=0,it=Re;it;it=Xl(it))Oe++;for(;0<Ce-Oe;)Mt=Xl(Mt),Ce--;for(;0<Oe-Ce;)Re=Xl(Re),Oe--;for(;Ce--;){if(Mt===Re||Re!==null&&Mt===Re.alternate)break t;Mt=Xl(Mt),Re=Xl(Re)}Mt=null}else Mt=null;vt!==null&&Qy(nt,Ze,vt,Mt,!1),Ct!==null&&jr!==null&&Qy(nt,jr,Ct,Mt,!0)}}e:{if(Ze=Be?Er(Be):window,vt=Ze.nodeName&&Ze.nodeName.toLowerCase(),vt==="select"||vt==="input"&&Ze.type==="file")var kt=Yy;else if(vf(Ze))if(fu)kt=ir;else{kt=Zy;var Nt=pu}else(vt=Ze.nodeName)&&vt.toLowerCase()==="input"&&(Ze.type==="checkbox"||Ze.type==="radio")&&(kt=Fg);if(kt&&(kt=kt(x,Be))){hu(nt,kt,R,Qe);break e}Nt&&Nt(x,Ze,Be),x==="focusout"&&(Nt=Ze._wrapperState)&&Nt.controlled&&Ze.type==="number"&&at(Ze,"number",Ze.value)}switch(Nt=Be?Er(Be):window,x){case"focusin":(vf(Nt)||Nt.contentEditable==="true")&&(Oo=Nt,ql=Be,Th=null);break;case"focusout":Th=ql=Oo=null;break;case"mousedown":Jr=!0;break;case"contextmenu":case"mouseup":case"dragend":Jr=!1,bf(nt,R,Qe);break;case"selectionchange":if(_f)break;case"keydown":case"keyup":bf(nt,R,Qe)}var Bt;if($i)e:{switch(x){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else sl?Bg(x,R)&&(qt="onCompositionEnd"):x==="keydown"&&R.keyCode===229&&(qt="onCompositionStart");qt&&(cu&&R.locale!=="ko"&&(sl||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&sl&&(Bt=ai()):(Pn=Qe,$n="value"in Pn?Pn.value:Pn.textContent,sl=!0)),Nt=Af(Be,qt),0<Nt.length&&(qt=new Pg(qt,x,null,R,Qe),nt.push({event:qt,listeners:Nt}),Bt?qt.data=Bt:(Bt=mf(R),Bt!==null&&(qt.data=Bt)))),(Bt=tr?qy(x,R):Eh(x,R))&&(Be=Af(Be,"onBeforeInput"),0<Be.length&&(Qe=new Pg("onBeforeInput","beforeinput",null,R,Qe),nt.push({event:Qe,listeners:Be}),Qe.data=Bt))}mu(nt,S)})}function yu(x,S,R){return{instance:x,listener:S,currentTarget:R}}function Af(x,S){for(var R=S+"Capture",$=[];x!==null;){var q=x,Z=q.stateNode;q.tag===5&&Z!==null&&(q=Z,Z=On(x,R),Z!=null&&$.unshift(yu(x,Z,q)),Z=On(x,S),Z!=null&&$.push(yu(x,Z,q))),x=x.return}return $}function Xl(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function Qy(x,S,R,$,q){for(var Z=S._reactName,oe=[];R!==null&&R!==$;){var ve=R,we=ve.alternate,Be=ve.stateNode;if(we!==null&&we===$)break;ve.tag===5&&Be!==null&&(ve=Be,q?(we=On(R,Z),we!=null&&oe.unshift(yu(R,we,ve))):q||(we=On(R,Z),we!=null&&oe.push(yu(R,we,ve)))),R=R.return}oe.length!==0&&x.push({event:S,listeners:oe})}var Rw=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Hg(x){return(typeof x=="string"?x:""+x).replace(Rw,`
`).replace(e0,"")}function Oh(x,S,R){if(S=Hg(S),Hg(x)!==S&&R)throw Error(t(425))}function Ih(){}var xu=null,Wg=null;function Vg(x,S){return x==="textarea"||x==="noscript"||typeof S.children=="string"||typeof S.children=="number"||typeof S.dangerouslySetInnerHTML=="object"&&S.dangerouslySetInnerHTML!==null&&S.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,Kg=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(x){return kf.resolve(null).then(x).catch(t0)}:Gg;function t0(x){setTimeout(function(){throw x})}function Rf(x,S){var R=S,$=0;do{var q=R.nextSibling;if(x.removeChild(R),q&&q.nodeType===8)if(R=q.data,R==="/$"){if($===0){x.removeChild(q),Ul(S);return}$--}else R!=="$"&&R!=="$?"&&R!=="$!"||$++;R=q}while(R);Ul(S)}function ya(x){for(;x!=null;x=x.nextSibling){var S=x.nodeType;if(S===1||S===3)break;if(S===8){if(S=x.data,S==="$"||S==="$!"||S==="$?")break;if(S==="/$")return null}}return x}function qg(x){x=x.previousSibling;for(var S=0;x;){if(x.nodeType===8){var R=x.data;if(R==="$"||R==="$!"||R==="$?"){if(S===0)return x;S--}else R==="/$"&&S++}x=x.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Yl,_u="__reactProps$"+Yl,xs="__reactContainer$"+Yl,Zl="__reactEvents$"+Yl,Lf="__reactListeners$"+Yl,Pf="__reactHandles$"+Yl;function cl(x){var S=x[Ur];if(S)return S;for(var R=x.parentNode;R;){if(S=R[xs]||R[Ur]){if(R=S.alternate,S.child!==null||R!==null&&R.child!==null)for(x=qg(x);x!==null;){if(R=x[Ur])return R;x=qg(x)}return S}x=R,R=x.parentNode}return null}function xa(x){return x=x[Ur]||x[xs],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function Er(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(t(33))}function Of(x){return x[_u]||null}var Xg=[],Qr=-1;function hr(x){return{current:x}}function Vn(x){0>Qr||(x.current=Xg[Qr],Xg[Qr]=null,Qr--)}function zn(x,S){Qr++,Xg[Qr]=x.current,x.current=S}var _a={},hi=hr(_a),zi=hr(!1),ba=_a;function Jl(x,S){var R=x.type.contextTypes;if(!R)return _a;var $=x.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===S)return $.__reactInternalMemoizedMaskedChildContext;var q={},Z;for(Z in R)q[Z]=S[Z];return $&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=S,x.__reactInternalMemoizedMaskedChildContext=q),q}function Mi(x){return x=x.childContextTypes,x!=null}function Dh(){Vn(zi),Vn(hi)}function Yg(x,S,R){if(hi.current!==_a)throw Error(t(168));zn(hi,S),zn(zi,R)}function Nh(x,S,R){var $=x.stateNode;if(S=S.childContextTypes,typeof $.getChildContext!="function")return R;$=$.getChildContext();for(var q in $)if(!(q in S))throw Error(t(108,ie(x)||"Unknown",q));return W({},R,$)}function Ql(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||_a,ba=hi.current,zn(hi,x),zn(zi,zi.current),!0}function Zg(x,S,R){var $=x.stateNode;if(!$)throw Error(t(169));R?(x=Nh(x,S,ba),$.__reactInternalMemoizedMergedChildContext=x,Vn(zi),Vn(hi),zn(hi,x)):Vn(zi),zn(zi,R)}var lo=null,Bh=!1,If=!1;function Fh(x){lo===null?lo=[x]:lo.push(x)}function n0(x){Bh=!0,Fh(x)}function Do(){if(!If&&lo!==null){If=!0;var x=0,S=gn;try{var R=lo;for(gn=1;x<R.length;x++){var $=R[x];do $=$(!0);while($!==null)}lo=null,Bh=!1}catch(q){throw lo!==null&&(lo=lo.slice(x+1)),Ot(xn,Do),q}finally{gn=S,If=!1}}return null}var ec=[],ts=0,Df=null,Nf=0,Ui=[],ei=0,tc=null,ot=1,js="";function wa(x,S){ec[ts++]=Nf,ec[ts++]=Df,Df=x,Nf=S}function Jg(x,S,R){Ui[ei++]=ot,Ui[ei++]=js,Ui[ei++]=tc,tc=x;var $=ot;x=js;var q=32-In($)-1;$&=~(1<<q),R+=1;var Z=32-In(S)+q;if(30<Z){var oe=q-q%5;Z=($&(1<<oe)-1).toString(32),$>>=oe,q-=oe,ot=1<<32-In(S)+q|R<<q|$,js=Z+x}else ot=1<<Z|R<<q|$,js=x}function Qg(x){x.return!==null&&(wa(x,1),Jg(x,1,0))}function Sa(x){for(;x===Df;)Df=ec[--ts],ec[ts]=null,Nf=ec[--ts],ec[ts]=null;for(;x===tc;)tc=Ui[--ei],Ui[ei]=null,js=Ui[--ei],Ui[ei]=null,ot=Ui[--ei],Ui[ei]=null}var di=null,ji=null,qn=!1,Hs=null;function em(x,S){var R=zo(5,null,null,0);R.elementType="DELETED",R.stateNode=S,R.return=x,S=x.deletions,S===null?(x.deletions=[R],x.flags|=16):S.push(R)}function tm(x,S){switch(x.tag){case 5:var R=x.type;return S=S.nodeType!==1||R.toLowerCase()!==S.nodeName.toLowerCase()?null:S,S!==null?(x.stateNode=S,di=x,ji=ya(S.firstChild),!0):!1;case 6:return S=x.pendingProps===""||S.nodeType!==3?null:S,S!==null?(x.stateNode=S,di=x,ji=null,!0):!1;case 13:return S=S.nodeType!==8?null:S,S!==null?(R=tc!==null?{id:ot,overflow:js}:null,x.memoizedState={dehydrated:S,treeContext:R,retryLane:1073741824},R=zo(18,null,null,0),R.stateNode=S,R.return=x,x.child=R,di=x,ji=null,!0):!1;default:return!1}}function Bf(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Ff(x){if(qn){var S=ji;if(S){var R=S;if(!tm(x,S)){if(Bf(x))throw Error(t(418));S=ya(R.nextSibling);var $=di;S&&tm(x,S)?em($,R):(x.flags=x.flags&-4097|2,qn=!1,di=x)}}else{if(Bf(x))throw Error(t(418));x.flags=x.flags&-4097|2,qn=!1,di=x}}}function $f(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;di=x}function bu(x){if(x!==di)return!1;if(!qn)return $f(x),qn=!0,!1;var S;if((S=x.tag!==3)&&!(S=x.tag!==5)&&(S=x.type,S=S!=="head"&&S!=="body"&&!Vg(x.type,x.memoizedProps)),S&&(S=ji)){if(Bf(x))throw nm(),Error(t(418));for(;S;)em(x,S),S=ya(S.nextSibling)}if($f(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));e:{for(x=x.nextSibling,S=0;x;){if(x.nodeType===8){var R=x.data;if(R==="/$"){if(S===0){ji=ya(x.nextSibling);break e}S--}else R!=="$"&&R!=="$!"&&R!=="$?"||S++}x=x.nextSibling}ji=null}}else ji=di?ya(x.stateNode.nextSibling):null;return!0}function nm(){for(var x=ji;x;)x=ya(x.nextSibling)}function ul(){ji=di=null,qn=!1}function wu(x){Hs===null?Hs=[x]:Hs.push(x)}var Pw=w.ReactCurrentBatchConfig;function $h(x,S,R){if(x=R.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(t(309));var $=R.stateNode}if(!$)throw Error(t(147,x));var q=$,Z=""+x;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===Z?S.ref:(S=function(oe){var ve=q.refs;oe===null?delete ve[Z]:ve[Z]=oe},S._stringRef=Z,S)}if(typeof x!="string")throw Error(t(284));if(!R._owner)throw Error(t(290,x))}return x}function zh(x,S){throw x=Object.prototype.toString.call(S),Error(t(31,x==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":x))}function rm(x){var S=x._init;return S(x._payload)}function im(x){function S(Re,Ce){if(x){var Oe=Re.deletions;Oe===null?(Re.deletions=[Ce],Re.flags|=16):Oe.push(Ce)}}function R(Re,Ce){if(!x)return null;for(;Ce!==null;)S(Re,Ce),Ce=Ce.sibling;return null}function $(Re,Ce){for(Re=new Map;Ce!==null;)Ce.key!==null?Re.set(Ce.key,Ce):Re.set(Ce.index,Ce),Ce=Ce.sibling;return Re}function q(Re,Ce){return Re=Ou(Re,Ce),Re.index=0,Re.sibling=null,Re}function Z(Re,Ce,Oe){return Re.index=Oe,x?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Ce?(Re.flags|=2,Ce):Oe):(Re.flags|=2,Ce)):(Re.flags|=1048576,Ce)}function oe(Re){return x&&Re.alternate===null&&(Re.flags|=2),Re}function ve(Re,Ce,Oe,it){return Ce===null||Ce.tag!==6?(Ce=Zw(Oe,Re.mode,it),Ce.return=Re,Ce):(Ce=q(Ce,Oe),Ce.return=Re,Ce)}function we(Re,Ce,Oe,it){var kt=Oe.type;return kt===T?Qe(Re,Ce,Oe.props.children,it,Oe.key):Ce!==null&&(Ce.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===F&&rm(kt)===Ce.type)?(it=q(Ce,Oe.props),it.ref=$h(Re,Ce,Oe),it.return=Re,it):(it=E0(Oe.type,Oe.key,Oe.props,null,Re.mode,it),it.ref=$h(Re,Ce,Oe),it.return=Re,it)}function Be(Re,Ce,Oe,it){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Oe.containerInfo||Ce.stateNode.implementation!==Oe.implementation?(Ce=Jw(Oe,Re.mode,it),Ce.return=Re,Ce):(Ce=q(Ce,Oe.children||[]),Ce.return=Re,Ce)}function Qe(Re,Ce,Oe,it,kt){return Ce===null||Ce.tag!==7?(Ce=rd(Oe,Re.mode,it,kt),Ce.return=Re,Ce):(Ce=q(Ce,Oe),Ce.return=Re,Ce)}function nt(Re,Ce,Oe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Zw(""+Ce,Re.mode,Oe),Ce.return=Re,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case C:return Oe=E0(Ce.type,Ce.key,Ce.props,null,Re.mode,Oe),Oe.ref=$h(Re,null,Ce),Oe.return=Re,Oe;case b:return Ce=Jw(Ce,Re.mode,Oe),Ce.return=Re,Ce;case F:var it=Ce._init;return nt(Re,it(Ce._payload),Oe)}if(_t(Ce)||z(Ce))return Ce=rd(Ce,Re.mode,Oe,null),Ce.return=Re,Ce;zh(Re,Ce)}return null}function Ze(Re,Ce,Oe,it){var kt=Ce!==null?Ce.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return kt!==null?null:ve(Re,Ce,""+Oe,it);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case C:return Oe.key===kt?we(Re,Ce,Oe,it):null;case b:return Oe.key===kt?Be(Re,Ce,Oe,it):null;case F:return kt=Oe._init,Ze(Re,Ce,kt(Oe._payload),it)}if(_t(Oe)||z(Oe))return kt!==null?null:Qe(Re,Ce,Oe,it,null);zh(Re,Oe)}return null}function vt(Re,Ce,Oe,it,kt){if(typeof it=="string"&&it!==""||typeof it=="number")return Re=Re.get(Oe)||null,ve(Ce,Re,""+it,kt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case C:return Re=Re.get(it.key===null?Oe:it.key)||null,we(Ce,Re,it,kt);case b:return Re=Re.get(it.key===null?Oe:it.key)||null,Be(Ce,Re,it,kt);case F:var Nt=it._init;return vt(Re,Ce,Oe,Nt(it._payload),kt)}if(_t(it)||z(it))return Re=Re.get(Oe)||null,Qe(Ce,Re,it,kt,null);zh(Ce,it)}return null}function Ct(Re,Ce,Oe,it){for(var kt=null,Nt=null,Bt=Ce,qt=Ce=0,Ri=null;Bt!==null&&qt<Oe.length;qt++){Bt.index>qt?(Ri=Bt,Bt=null):Ri=Bt.sibling;var An=Ze(Re,Bt,Oe[qt],it);if(An===null){Bt===null&&(Bt=Ri);break}x&&Bt&&An.alternate===null&&S(Re,Bt),Ce=Z(An,Ce,qt),Nt===null?kt=An:Nt.sibling=An,Nt=An,Bt=Ri}if(qt===Oe.length)return R(Re,Bt),qn&&wa(Re,qt),kt;if(Bt===null){for(;qt<Oe.length;qt++)Bt=nt(Re,Oe[qt],it),Bt!==null&&(Ce=Z(Bt,Ce,qt),Nt===null?kt=Bt:Nt.sibling=Bt,Nt=Bt);return qn&&wa(Re,qt),kt}for(Bt=$(Re,Bt);qt<Oe.length;qt++)Ri=vt(Bt,Re,qt,Oe[qt],it),Ri!==null&&(x&&Ri.alternate!==null&&Bt.delete(Ri.key===null?qt:Ri.key),Ce=Z(Ri,Ce,qt),Nt===null?kt=Ri:Nt.sibling=Ri,Nt=Ri);return x&&Bt.forEach(function(Iu){return S(Re,Iu)}),qn&&wa(Re,qt),kt}function Mt(Re,Ce,Oe,it){var kt=z(Oe);if(typeof kt!="function")throw Error(t(150));if(Oe=kt.call(Oe),Oe==null)throw Error(t(151));for(var Nt=kt=null,Bt=Ce,qt=Ce=0,Ri=null,An=Oe.next();Bt!==null&&!An.done;qt++,An=Oe.next()){Bt.index>qt?(Ri=Bt,Bt=null):Ri=Bt.sibling;var Iu=Ze(Re,Bt,An.value,it);if(Iu===null){Bt===null&&(Bt=Ri);break}x&&Bt&&Iu.alternate===null&&S(Re,Bt),Ce=Z(Iu,Ce,qt),Nt===null?kt=Iu:Nt.sibling=Iu,Nt=Iu,Bt=Ri}if(An.done)return R(Re,Bt),qn&&wa(Re,qt),kt;if(Bt===null){for(;!An.done;qt++,An=Oe.next())An=nt(Re,An.value,it),An!==null&&(Ce=Z(An,Ce,qt),Nt===null?kt=An:Nt.sibling=An,Nt=An);return qn&&wa(Re,qt),kt}for(Bt=$(Re,Bt);!An.done;qt++,An=Oe.next())An=vt(Bt,Re,qt,An.value,it),An!==null&&(x&&An.alternate!==null&&Bt.delete(An.key===null?qt:An.key),Ce=Z(An,Ce,qt),Nt===null?kt=An:Nt.sibling=An,Nt=An);return x&&Bt.forEach(function(g8){return S(Re,g8)}),qn&&wa(Re,qt),kt}function jr(Re,Ce,Oe,it){if(typeof Oe=="object"&&Oe!==null&&Oe.type===T&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case C:e:{for(var kt=Oe.key,Nt=Ce;Nt!==null;){if(Nt.key===kt){if(kt=Oe.type,kt===T){if(Nt.tag===7){R(Re,Nt.sibling),Ce=q(Nt,Oe.props.children),Ce.return=Re,Re=Ce;break e}}else if(Nt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===F&&rm(kt)===Nt.type){R(Re,Nt.sibling),Ce=q(Nt,Oe.props),Ce.ref=$h(Re,Nt,Oe),Ce.return=Re,Re=Ce;break e}R(Re,Nt);break}else S(Re,Nt);Nt=Nt.sibling}Oe.type===T?(Ce=rd(Oe.props.children,Re.mode,it,Oe.key),Ce.return=Re,Re=Ce):(it=E0(Oe.type,Oe.key,Oe.props,null,Re.mode,it),it.ref=$h(Re,Ce,Oe),it.return=Re,Re=it)}return oe(Re);case b:e:{for(Nt=Oe.key;Ce!==null;){if(Ce.key===Nt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Oe.containerInfo&&Ce.stateNode.implementation===Oe.implementation){R(Re,Ce.sibling),Ce=q(Ce,Oe.children||[]),Ce.return=Re,Re=Ce;break e}else{R(Re,Ce);break}else S(Re,Ce);Ce=Ce.sibling}Ce=Jw(Oe,Re.mode,it),Ce.return=Re,Re=Ce}return oe(Re);case F:return Nt=Oe._init,jr(Re,Ce,Nt(Oe._payload),it)}if(_t(Oe))return Ct(Re,Ce,Oe,it);if(z(Oe))return Mt(Re,Ce,Oe,it);zh(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ce!==null&&Ce.tag===6?(R(Re,Ce.sibling),Ce=q(Ce,Oe),Ce.return=Re,Re=Ce):(R(Re,Ce),Ce=Zw(Oe,Re.mode,it),Ce.return=Re,Re=Ce),oe(Re)):R(Re,Ce)}return jr}var nc=im(!0),Uh=im(!1),rc=hr(null),ic=null,Ca=null,Su=null;function sc(){Su=Ca=ic=null}function jh(x){var S=rc.current;Vn(rc),x._currentValue=S}function Hh(x,S,R){for(;x!==null;){var $=x.alternate;if((x.childLanes&S)!==S?(x.childLanes|=S,$!==null&&($.childLanes|=S)):$!==null&&($.childLanes&S)!==S&&($.childLanes|=S),x===R)break;x=x.return}}function hl(x,S){ic=x,Su=Ca=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&S)!==0&&(sn=!0),x.firstContext=null)}function _s(x){var S=x._currentValue;if(Su!==x)if(x={context:x,memoizedValue:S,next:null},Ca===null){if(ic===null)throw Error(t(308));Ca=x,ic.dependencies={lanes:0,firstContext:x}}else Ca=Ca.next=x;return S}var Ea=null;function sm(x){Ea===null?Ea=[x]:Ea.push(x)}function Wh(x,S,R,$){var q=S.interleaved;return q===null?(R.next=R,sm(S)):(R.next=q.next,q.next=R),S.interleaved=R,co(x,$)}function co(x,S){x.lanes|=S;var R=x.alternate;for(R!==null&&(R.lanes|=S),R=x,x=x.return;x!==null;)x.childLanes|=S,R=x.alternate,R!==null&&(R.childLanes|=S),R=x,x=x.return;return R.tag===3?R.stateNode:null}var Nn=!1;function Qt(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mr(x,S){x=x.updateQueue,S.updateQueue===x&&(S.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Bn(x,S){return{eventTime:x,lane:S,tag:0,payload:null,callback:null,next:null}}function nr(x,S,R){var $=x.updateQueue;if($===null)return null;if($=$.shared,(En&2)!==0){var q=$.pending;return q===null?S.next=S:(S.next=q.next,q.next=S),$.pending=S,co(x,R)}return q=$.interleaved,q===null?(S.next=S,sm($)):(S.next=q.next,q.next=S),$.interleaved=S,co(x,R)}function Ti(x,S,R){if(S=S.updateQueue,S!==null&&(S=S.shared,(R&4194240)!==0)){var $=S.lanes;$&=x.pendingLanes,R|=$,S.lanes=R,ua(x,R)}}function oc(x,S){var R=x.updateQueue,$=x.alternate;if($!==null&&($=$.updateQueue,R===$)){var q=null,Z=null;if(R=R.firstBaseUpdate,R!==null){do{var oe={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};Z===null?q=Z=oe:Z=Z.next=oe,R=R.next}while(R!==null);Z===null?q=Z=S:Z=Z.next=S}else q=Z=S;R={baseState:$.baseState,firstBaseUpdate:q,lastBaseUpdate:Z,shared:$.shared,effects:$.effects},x.updateQueue=R;return}x=R.lastBaseUpdate,x===null?R.firstBaseUpdate=S:x.next=S,R.lastBaseUpdate=S}function dr(x,S,R,$){var q=x.updateQueue;Nn=!1;var Z=q.firstBaseUpdate,oe=q.lastBaseUpdate,ve=q.shared.pending;if(ve!==null){q.shared.pending=null;var we=ve,Be=we.next;we.next=null,oe===null?Z=Be:oe.next=Be,oe=we;var Qe=x.alternate;Qe!==null&&(Qe=Qe.updateQueue,ve=Qe.lastBaseUpdate,ve!==oe&&(ve===null?Qe.firstBaseUpdate=Be:ve.next=Be,Qe.lastBaseUpdate=we))}if(Z!==null){var nt=q.baseState;oe=0,Qe=Be=we=null,ve=Z;do{var Ze=ve.lane,vt=ve.eventTime;if(($&Ze)===Ze){Qe!==null&&(Qe=Qe.next={eventTime:vt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Ct=x,Mt=ve;switch(Ze=S,vt=R,Mt.tag){case 1:if(Ct=Mt.payload,typeof Ct=="function"){nt=Ct.call(vt,nt,Ze);break e}nt=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Mt.payload,Ze=typeof Ct=="function"?Ct.call(vt,nt,Ze):Ct,Ze==null)break e;nt=W({},nt,Ze);break e;case 2:Nn=!0}}ve.callback!==null&&ve.lane!==0&&(x.flags|=64,Ze=q.effects,Ze===null?q.effects=[ve]:Ze.push(ve))}else vt={eventTime:vt,lane:Ze,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Qe===null?(Be=Qe=vt,we=nt):Qe=Qe.next=vt,oe|=Ze;if(ve=ve.next,ve===null){if(ve=q.shared.pending,ve===null)break;Ze=ve,ve=Ze.next,Ze.next=null,q.lastBaseUpdate=Ze,q.shared.pending=null}}while(!0);if(Qe===null&&(we=nt),q.baseState=we,q.firstBaseUpdate=Be,q.lastBaseUpdate=Qe,S=q.shared.interleaved,S!==null){q=S;do oe|=q.lane,q=q.next;while(q!==S)}else Z===null&&(q.shared.lanes=0);Qh|=oe,x.lanes=oe,x.memoizedState=nt}}function Cu(x,S,R){if(x=S.effects,S.effects=null,x!==null)for(S=0;S<x.length;S++){var $=x[S],q=$.callback;if(q!==null){if($.callback=null,$=R,typeof q!="function")throw Error(t(191,q));q.call($)}}}var No={},bs=hr(No),ac=hr(No),Ma=hr(No);function Or(x){if(x===No)throw Error(t(174));return x}function Vh(x,S){switch(zn(Ma,S),zn(ac,x),zn(bs,No),x=S.nodeType,x){case 9:case 11:S=(S=S.documentElement)?S.namespaceURI:Ke(null,"");break;default:x=x===8?S.parentNode:S,S=x.namespaceURI||null,x=x.tagName,S=Ke(S,x)}Vn(bs),zn(bs,S)}function dl(){Vn(bs),Vn(ac),Vn(Ma)}function lc(x){Or(Ma.current);var S=Or(bs.current),R=Ke(S,x.type);S!==R&&(zn(ac,x),zn(bs,R))}function Eu(x){ac.current===x&&(Vn(bs),Vn(ac))}var Xn=hr(0);function uo(x){for(var S=x;S!==null;){if(S.tag===13){var R=S.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var Mu=[];function Bo(){for(var x=0;x<Mu.length;x++)Mu[x]._workInProgressVersionPrimary=null;Mu.length=0}var cc=w.ReactCurrentDispatcher,uc=w.ReactCurrentBatchConfig,Ta=0,Gn=null,fr=null,wn=null,ho=!1,Ai=!1,fl=0,ns=0;function fi(){throw Error(t(321))}function Gh(x,S){if(S===null)return!1;for(var R=0;R<S.length&&R<x.length;R++)if(!vs(x[R],S[R]))return!1;return!0}function Kh(x,S,R,$,q,Z){if(Ta=Z,Gn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,cc.current=x===null||x.memoizedState===null?c0:u0,x=R($,q),Ai){Z=0;do{if(Ai=!1,fl=0,25<=Z)throw Error(t(301));Z+=1,wn=fr=null,S.updateQueue=null,cc.current=h0,x=R($,q)}while(Ai)}if(cc.current=Gf,S=fr!==null&&fr.next!==null,Ta=0,wn=fr=Gn=null,ho=!1,S)throw Error(t(300));return x}function om(){var x=fl!==0;return fl=0,x}function pi(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Gn.memoizedState=wn=x:wn=wn.next=x,wn}function ws(){if(fr===null){var x=Gn.alternate;x=x!==null?x.memoizedState:null}else x=fr.next;var S=wn===null?Gn.memoizedState:wn.next;if(S!==null)wn=S,fr=x;else{if(x===null)throw Error(t(310));fr=x,x={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wn===null?Gn.memoizedState=wn=x:wn=wn.next=x}return wn}function Tu(x,S){return typeof S=="function"?S(x):S}function qh(x){var S=ws(),R=S.queue;if(R===null)throw Error(t(311));R.lastRenderedReducer=x;var $=fr,q=$.baseQueue,Z=R.pending;if(Z!==null){if(q!==null){var oe=q.next;q.next=Z.next,Z.next=oe}$.baseQueue=q=Z,R.pending=null}if(q!==null){Z=q.next,$=$.baseState;var ve=oe=null,we=null,Be=Z;do{var Qe=Be.lane;if((Ta&Qe)===Qe)we!==null&&(we=we.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),$=Be.hasEagerState?Be.eagerState:x($,Be.action);else{var nt={lane:Qe,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};we===null?(ve=we=nt,oe=$):we=we.next=nt,Gn.lanes|=Qe,Qh|=Qe}Be=Be.next}while(Be!==null&&Be!==Z);we===null?oe=$:we.next=ve,vs($,S.memoizedState)||(sn=!0),S.memoizedState=$,S.baseState=oe,S.baseQueue=we,R.lastRenderedState=$}if(x=R.interleaved,x!==null){q=x;do Z=q.lane,Gn.lanes|=Z,Qh|=Z,q=q.next;while(q!==x)}else q===null&&(R.lanes=0);return[S.memoizedState,R.dispatch]}function Aa(x){var S=ws(),R=S.queue;if(R===null)throw Error(t(311));R.lastRenderedReducer=x;var $=R.dispatch,q=R.pending,Z=S.memoizedState;if(q!==null){R.pending=null;var oe=q=q.next;do Z=x(Z,oe.action),oe=oe.next;while(oe!==q);vs(Z,S.memoizedState)||(sn=!0),S.memoizedState=Z,S.baseQueue===null&&(S.baseState=Z),R.lastRenderedState=Z}return[Z,$]}function am(){}function lm(x,S){var R=Gn,$=ws(),q=S(),Z=!vs($.memoizedState,q);if(Z&&($.memoizedState=q,sn=!0),$=$.queue,hm(r0.bind(null,R,$,x),[x]),$.getSnapshot!==S||Z||wn!==null&&wn.memoizedState.tag&1){if(R.flags|=2048,fo(9,Xh.bind(null,R,$,q,S),void 0,null),ki===null)throw Error(t(349));(Ta&30)!==0||zf(R,S,q)}return q}function zf(x,S,R){x.flags|=16384,x={getSnapshot:S,value:R},S=Gn.updateQueue,S===null?(S={lastEffect:null,stores:null},Gn.updateQueue=S,S.stores=[x]):(R=S.stores,R===null?S.stores=[x]:R.push(x))}function Xh(x,S,R,$){S.value=R,S.getSnapshot=$,i0(S)&&cm(x)}function r0(x,S,R){return R(function(){i0(S)&&cm(x)})}function i0(x){var S=x.getSnapshot;x=x.value;try{var R=S();return!vs(x,R)}catch{return!0}}function cm(x){var S=co(x,1);S!==null&&Oa(S,x,1,-1)}function um(x){var S=pi();return typeof x=="function"&&(x=x()),S.memoizedState=S.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:x},S.queue=x,x=x.dispatch=hc.bind(null,Gn,x),[S.memoizedState,x]}function fo(x,S,R,$){return x={tag:x,create:S,destroy:R,deps:$,next:null},S=Gn.updateQueue,S===null?(S={lastEffect:null,stores:null},Gn.updateQueue=S,S.lastEffect=x.next=x):(R=S.lastEffect,R===null?S.lastEffect=x.next=x:($=R.next,R.next=x,x.next=$,S.lastEffect=x)),x}function s0(){return ws().memoizedState}function Fo(x,S,R,$){var q=pi();Gn.flags|=x,q.memoizedState=fo(1|S,R,void 0,$===void 0?null:$)}function Yh(x,S,R,$){var q=ws();$=$===void 0?null:$;var Z=void 0;if(fr!==null){var oe=fr.memoizedState;if(Z=oe.destroy,$!==null&&Gh($,oe.deps)){q.memoizedState=fo(S,R,Z,$);return}}Gn.flags|=x,q.memoizedState=fo(1|S,R,Z,$)}function Hi(x,S){return Fo(8390656,8,x,S)}function hm(x,S){return Yh(2048,8,x,S)}function dm(x,S){return Yh(4,2,x,S)}function o0(x,S){return Yh(4,4,x,S)}function a0(x,S){if(typeof S=="function")return x=x(),S(x),function(){S(null)};if(S!=null)return x=x(),S.current=x,function(){S.current=null}}function fm(x,S,R){return R=R!=null?R.concat([x]):null,Yh(4,4,a0.bind(null,S,x),R)}function Uf(){}function l0(x,S){var R=ws();S=S===void 0?null:S;var $=R.memoizedState;return $!==null&&S!==null&&Gh(S,$[1])?$[0]:(R.memoizedState=[x,S],x)}function Ss(x,S){var R=ws();S=S===void 0?null:S;var $=R.memoizedState;return $!==null&&S!==null&&Gh(S,$[1])?$[0]:(x=x(),R.memoizedState=[x,S],x)}function jf(x,S,R){return(Ta&21)===0?(x.baseState&&(x.baseState=!1,sn=!0),x.memoizedState=R):(vs(R,S)||(R=Qi(),Gn.lanes|=R,Qh|=R,x.baseState=!0),S)}function Ow(x,S){var R=gn;gn=R!==0&&4>R?R:4,x(!0);var $=uc.transition;uc.transition={};try{x(!1),S()}finally{gn=R,uc.transition=$}}function ka(){return ws().memoizedState}function Hf(x,S,R){var $=Lu(x);if(R={lane:$,action:R,hasEagerState:!1,eagerState:null,next:null},Zh(x))Wf(S,R);else if(R=Wh(x,S,R,$),R!==null){var q=Es();Oa(R,x,$,q),Vf(R,S,$)}}function hc(x,S,R){var $=Lu(x),q={lane:$,action:R,hasEagerState:!1,eagerState:null,next:null};if(Zh(x))Wf(S,q);else{var Z=x.alternate;if(x.lanes===0&&(Z===null||Z.lanes===0)&&(Z=S.lastRenderedReducer,Z!==null))try{var oe=S.lastRenderedState,ve=Z(oe,R);if(q.hasEagerState=!0,q.eagerState=ve,vs(ve,oe)){var we=S.interleaved;we===null?(q.next=q,sm(S)):(q.next=we.next,we.next=q),S.interleaved=q;return}}catch{}finally{}R=Wh(x,S,q,$),R!==null&&(q=Es(),Oa(R,x,$,q),Vf(R,S,$))}}function Zh(x){var S=x.alternate;return x===Gn||S!==null&&S===Gn}function Wf(x,S){Ai=ho=!0;var R=x.pending;R===null?S.next=S:(S.next=R.next,R.next=S),x.pending=S}function Vf(x,S,R){if((R&4194240)!==0){var $=S.lanes;$&=x.pendingLanes,R|=$,S.lanes=R,ua(x,R)}}var Gf={readContext:_s,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},c0={readContext:_s,useCallback:function(x,S){return pi().memoizedState=[x,S===void 0?null:S],x},useContext:_s,useEffect:Hi,useImperativeHandle:function(x,S,R){return R=R!=null?R.concat([x]):null,Fo(4194308,4,a0.bind(null,S,x),R)},useLayoutEffect:function(x,S){return Fo(4194308,4,x,S)},useInsertionEffect:function(x,S){return Fo(4,2,x,S)},useMemo:function(x,S){var R=pi();return S=S===void 0?null:S,x=x(),R.memoizedState=[x,S],x},useReducer:function(x,S,R){var $=pi();return S=R!==void 0?R(S):S,$.memoizedState=$.baseState=S,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:S},$.queue=x,x=x.dispatch=Hf.bind(null,Gn,x),[$.memoizedState,x]},useRef:function(x){var S=pi();return x={current:x},S.memoizedState=x},useState:um,useDebugValue:Uf,useDeferredValue:function(x){return pi().memoizedState=x},useTransition:function(){var x=um(!1),S=x[0];return x=Ow.bind(null,x[1]),pi().memoizedState=x,[S,x]},useMutableSource:function(){},useSyncExternalStore:function(x,S,R){var $=Gn,q=pi();if(qn){if(R===void 0)throw Error(t(407));R=R()}else{if(R=S(),ki===null)throw Error(t(349));(Ta&30)!==0||zf($,S,R)}q.memoizedState=R;var Z={value:R,getSnapshot:S};return q.queue=Z,Hi(r0.bind(null,$,Z,x),[x]),$.flags|=2048,fo(9,Xh.bind(null,$,Z,R,S),void 0,null),R},useId:function(){var x=pi(),S=ki.identifierPrefix;if(qn){var R=js,$=ot;R=($&~(1<<32-In($)-1)).toString(32)+R,S=":"+S+"R"+R,R=fl++,0<R&&(S+="H"+R.toString(32)),S+=":"}else R=ns++,S=":"+S+"r"+R.toString(32)+":";return x.memoizedState=S},unstable_isNewReconciler:!1},u0={readContext:_s,useCallback:l0,useContext:_s,useEffect:hm,useImperativeHandle:fm,useInsertionEffect:dm,useLayoutEffect:o0,useMemo:Ss,useReducer:qh,useRef:s0,useState:function(){return qh(Tu)},useDebugValue:Uf,useDeferredValue:function(x){var S=ws();return jf(S,fr.memoizedState,x)},useTransition:function(){var x=qh(Tu)[0],S=ws().memoizedState;return[x,S]},useMutableSource:am,useSyncExternalStore:lm,useId:ka,unstable_isNewReconciler:!1},h0={readContext:_s,useCallback:l0,useContext:_s,useEffect:hm,useImperativeHandle:fm,useInsertionEffect:dm,useLayoutEffect:o0,useMemo:Ss,useReducer:Aa,useRef:s0,useState:function(){return Aa(Tu)},useDebugValue:Uf,useDeferredValue:function(x){var S=ws();return fr===null?S.memoizedState=x:jf(S,fr.memoizedState,x)},useTransition:function(){var x=Aa(Tu)[0],S=ws().memoizedState;return[x,S]},useMutableSource:am,useSyncExternalStore:lm,useId:ka,unstable_isNewReconciler:!1};function Ws(x,S){if(x&&x.defaultProps){S=W({},S),x=x.defaultProps;for(var R in x)S[R]===void 0&&(S[R]=x[R]);return S}return S}function Jh(x,S,R,$){S=x.memoizedState,R=R($,S),R=R==null?S:W({},S,R),x.memoizedState=R,x.lanes===0&&(x.updateQueue.baseState=R)}var Kf={isMounted:function(x){return(x=x._reactInternals)?he(x)===x:!1},enqueueSetState:function(x,S,R){x=x._reactInternals;var $=Es(),q=Lu(x),Z=Bn($,q);Z.payload=S,R!=null&&(Z.callback=R),S=nr(x,Z,q),S!==null&&(Oa(S,x,q,$),Ti(S,x,q))},enqueueReplaceState:function(x,S,R){x=x._reactInternals;var $=Es(),q=Lu(x),Z=Bn($,q);Z.tag=1,Z.payload=S,R!=null&&(Z.callback=R),S=nr(x,Z,q),S!==null&&(Oa(S,x,q,$),Ti(S,x,q))},enqueueForceUpdate:function(x,S){x=x._reactInternals;var R=Es(),$=Lu(x),q=Bn(R,$);q.tag=2,S!=null&&(q.callback=S),S=nr(x,q,$),S!==null&&(Oa(S,x,$,R),Ti(S,x,$))}};function d0(x,S,R,$,q,Z,oe){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate($,Z,oe):S.prototype&&S.prototype.isPureReactComponent?!Gl(R,$)||!Gl(q,Z):!0}function E(x,S,R){var $=!1,q=_a,Z=S.contextType;return typeof Z=="object"&&Z!==null?Z=_s(Z):(q=Mi(S)?ba:hi.current,$=S.contextTypes,Z=($=$!=null)?Jl(x,q):_a),S=new S(R,Z),x.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Kf,x.stateNode=S,S._reactInternals=x,$&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=q,x.__reactInternalMemoizedMaskedChildContext=Z),S}function M(x,S,R,$){x=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(R,$),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(R,$),S.state!==x&&Kf.enqueueReplaceState(S,S.state,null)}function B(x,S,R,$){var q=x.stateNode;q.props=R,q.state=x.memoizedState,q.refs={},Qt(x);var Z=S.contextType;typeof Z=="object"&&Z!==null?q.context=_s(Z):(Z=Mi(S)?ba:hi.current,q.context=Jl(x,Z)),q.state=x.memoizedState,Z=S.getDerivedStateFromProps,typeof Z=="function"&&(Jh(x,S,Z,R),q.state=x.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(S=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),S!==q.state&&Kf.enqueueReplaceState(q,q.state,null),dr(x,R,q,$),q.state=x.memoizedState),typeof q.componentDidMount=="function"&&(x.flags|=4194308)}function V(x,S){try{var R="",$=S;do R+=re($),$=$.return;while($);var q=R}catch(Z){q=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:x,source:S,stack:q,digest:null}}function Y(x,S,R){return{value:x,source:null,stack:R??null,digest:S??null}}function ee(x,S){try{console.error(S.value)}catch(R){setTimeout(function(){throw R})}}var ge=typeof WeakMap=="function"?WeakMap:Map;function Ee(x,S,R){R=Bn(-1,R),R.tag=3,R.payload={element:null};var $=S.value;return R.callback=function(){x0||(x0=!0,Hw=$),ee(x,S)},R}function je(x,S,R){R=Bn(-1,R),R.tag=3;var $=x.type.getDerivedStateFromError;if(typeof $=="function"){var q=S.value;R.payload=function(){return $(q)},R.callback=function(){ee(x,S)}}var Z=x.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(R.callback=function(){ee(x,S),typeof $!="function"&&(ku===null?ku=new Set([this]):ku.add(this));var oe=S.stack;this.componentDidCatch(S.value,{componentStack:oe!==null?oe:""})}),R}function rt(x,S,R){var $=x.pingCache;if($===null){$=x.pingCache=new ge;var q=new Set;$.set(S,q)}else q=$.get(S),q===void 0&&(q=new Set,$.set(S,q));q.has(R)||(q.add(R),x=i8.bind(null,x,S,R),S.then(x,x))}function xt(x){do{var S;if((S=x.tag===13)&&(S=x.memoizedState,S=S!==null?S.dehydrated!==null:!0),S)return x;x=x.return}while(x!==null);return null}function Xt(x,S,R,$,q){return(x.mode&1)===0?(x===S?x.flags|=65536:(x.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(S=Bn(-1,1),S.tag=2,nr(R,S,1))),R.lanes|=1),x):(x.flags|=65536,x.lanes=q,x)}var Dt=w.ReactCurrentOwner,sn=!1;function ft(x,S,R,$){S.child=x===null?Uh(S,null,R,$):nc(S,x.child,R,$)}function gi(x,S,R,$,q){R=R.render;var Z=S.ref;return hl(S,q),$=Kh(x,S,R,$,Z,q),R=om(),x!==null&&!sn?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~q,dc(x,S,q)):(qn&&R&&Qg(S),S.flags|=1,ft(x,S,$,q),S.child)}function Cs(x,S,R,$,q){if(x===null){var Z=R.type;return typeof Z=="function"&&!Yw(Z)&&Z.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(S.tag=15,S.type=Z,Ie(x,S,Z,$,q)):(x=E0(R.type,null,$,S,S.mode,q),x.ref=S.ref,x.return=S,S.child=x)}if(Z=x.child,(x.lanes&q)===0){var oe=Z.memoizedProps;if(R=R.compare,R=R!==null?R:Gl,R(oe,$)&&x.ref===S.ref)return dc(x,S,q)}return S.flags|=1,x=Ou(Z,$),x.ref=S.ref,x.return=S,S.child=x}function Ie(x,S,R,$,q){if(x!==null){var Z=x.memoizedProps;if(Gl(Z,$)&&x.ref===S.ref)if(sn=!1,S.pendingProps=$=Z,(x.lanes&q)!==0)(x.flags&131072)!==0&&(sn=!0);else return S.lanes=x.lanes,dc(x,S,q)}return ut(x,S,R,$,q)}function Me(x,S,R){var $=S.pendingProps,q=$.children,Z=x!==null?x.memoizedState:null;if($.mode==="hidden")if((S.mode&1)===0)S.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Xf,po),po|=R;else{if((R&1073741824)===0)return x=Z!==null?Z.baseLanes|R:R,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:x,cachePool:null,transitions:null},S.updateQueue=null,zn(Xf,po),po|=x,null;S.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=Z!==null?Z.baseLanes:R,zn(Xf,po),po|=$}else Z!==null?($=Z.baseLanes|R,S.memoizedState=null):$=R,zn(Xf,po),po|=$;return ft(x,S,q,R),S.child}function $e(x,S){var R=S.ref;(x===null&&R!==null||x!==null&&x.ref!==R)&&(S.flags|=512,S.flags|=2097152)}function ut(x,S,R,$,q){var Z=Mi(R)?ba:hi.current;return Z=Jl(S,Z),hl(S,q),R=Kh(x,S,R,$,Z,q),$=om(),x!==null&&!sn?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~q,dc(x,S,q)):(qn&&$&&Qg(S),S.flags|=1,ft(x,S,R,q),S.child)}function Tt(x,S,R,$,q){if(Mi(R)){var Z=!0;Ql(S)}else Z=!1;if(hl(S,q),S.stateNode===null)p0(x,S),E(S,R,$),B(S,R,$,q),$=!0;else if(x===null){var oe=S.stateNode,ve=S.memoizedProps;oe.props=ve;var we=oe.context,Be=R.contextType;typeof Be=="object"&&Be!==null?Be=_s(Be):(Be=Mi(R)?ba:hi.current,Be=Jl(S,Be));var Qe=R.getDerivedStateFromProps,nt=typeof Qe=="function"||typeof oe.getSnapshotBeforeUpdate=="function";nt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==$||we!==Be)&&M(S,oe,$,Be),Nn=!1;var Ze=S.memoizedState;oe.state=Ze,dr(S,$,oe,q),we=S.memoizedState,ve!==$||Ze!==we||zi.current||Nn?(typeof Qe=="function"&&(Jh(S,R,Qe,$),we=S.memoizedState),(ve=Nn||d0(S,R,ve,$,Ze,we,Be))?(nt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(S.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=$,S.memoizedState=we),oe.props=$,oe.state=we,oe.context=Be,$=ve):(typeof oe.componentDidMount=="function"&&(S.flags|=4194308),$=!1)}else{oe=S.stateNode,Mr(x,S),ve=S.memoizedProps,Be=S.type===S.elementType?ve:Ws(S.type,ve),oe.props=Be,nt=S.pendingProps,Ze=oe.context,we=R.contextType,typeof we=="object"&&we!==null?we=_s(we):(we=Mi(R)?ba:hi.current,we=Jl(S,we));var vt=R.getDerivedStateFromProps;(Qe=typeof vt=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==nt||Ze!==we)&&M(S,oe,$,we),Nn=!1,Ze=S.memoizedState,oe.state=Ze,dr(S,$,oe,q);var Ct=S.memoizedState;ve!==nt||Ze!==Ct||zi.current||Nn?(typeof vt=="function"&&(Jh(S,R,vt,$),Ct=S.memoizedState),(Be=Nn||d0(S,R,Be,$,Ze,Ct,we)||!1)?(Qe||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate($,Ct,we),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate($,Ct,we)),typeof oe.componentDidUpdate=="function"&&(S.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ve===x.memoizedProps&&Ze===x.memoizedState||(S.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===x.memoizedProps&&Ze===x.memoizedState||(S.flags|=1024),S.memoizedProps=$,S.memoizedState=Ct),oe.props=$,oe.state=Ct,oe.context=we,$=Be):(typeof oe.componentDidUpdate!="function"||ve===x.memoizedProps&&Ze===x.memoizedState||(S.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===x.memoizedProps&&Ze===x.memoizedState||(S.flags|=1024),$=!1)}return Zt(x,S,R,$,Z,q)}function Zt(x,S,R,$,q,Z){$e(x,S);var oe=(S.flags&128)!==0;if(!$&&!oe)return q&&Zg(S,R,!1),dc(x,S,Z);$=S.stateNode,Dt.current=S;var ve=oe&&typeof R.getDerivedStateFromError!="function"?null:$.render();return S.flags|=1,x!==null&&oe?(S.child=nc(S,x.child,null,Z),S.child=nc(S,null,ve,Z)):ft(x,S,ve,Z),S.memoizedState=$.state,q&&Zg(S,R,!0),S.child}function Yt(x){var S=x.stateNode;S.pendingContext?Yg(x,S.pendingContext,S.pendingContext!==S.context):S.context&&Yg(x,S.context,!1),Vh(x,S.containerInfo)}function _n(x,S,R,$,q){return ul(),wu(q),S.flags|=256,ft(x,S,R,$),S.child}var Ir={dehydrated:null,treeContext:null,retryLane:0};function yn(x){return{baseLanes:x,cachePool:null,transitions:null}}function Ra(x,S,R){var $=S.pendingProps,q=Xn.current,Z=!1,oe=(S.flags&128)!==0,ve;if((ve=oe)||(ve=x!==null&&x.memoizedState===null?!1:(q&2)!==0),ve?(Z=!0,S.flags&=-129):(x===null||x.memoizedState!==null)&&(q|=1),zn(Xn,q&1),x===null)return Ff(S),x=S.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((S.mode&1)===0?S.lanes=1:x.data==="$!"?S.lanes=8:S.lanes=1073741824,null):(oe=$.children,x=$.fallback,Z?($=S.mode,Z=S.child,oe={mode:"hidden",children:oe},($&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=oe):Z=M0(oe,$,0,null),x=rd(x,$,R,null),Z.return=S,x.return=S,Z.sibling=x,S.child=Z,S.child.memoizedState=yn(R),S.memoizedState=Ir,x):pm(S,oe));if(q=x.memoizedState,q!==null&&(ve=q.dehydrated,ve!==null))return G6(x,S,oe,$,ve,q,R);if(Z){Z=$.fallback,oe=S.mode,q=x.child,ve=q.sibling;var we={mode:"hidden",children:$.children};return(oe&1)===0&&S.child!==q?($=S.child,$.childLanes=0,$.pendingProps=we,S.deletions=null):($=Ou(q,we),$.subtreeFlags=q.subtreeFlags&14680064),ve!==null?Z=Ou(ve,Z):(Z=rd(Z,oe,R,null),Z.flags|=2),Z.return=S,$.return=S,$.sibling=Z,S.child=$,$=Z,Z=S.child,oe=x.child.memoizedState,oe=oe===null?yn(R):{baseLanes:oe.baseLanes|R,cachePool:null,transitions:oe.transitions},Z.memoizedState=oe,Z.childLanes=x.childLanes&~R,S.memoizedState=Ir,$}return Z=x.child,x=Z.sibling,$=Ou(Z,{mode:"visible",children:$.children}),(S.mode&1)===0&&($.lanes=R),$.return=S,$.sibling=null,x!==null&&(R=S.deletions,R===null?(S.deletions=[x],S.flags|=16):R.push(x)),S.child=$,S.memoizedState=null,$}function pm(x,S){return S=M0({mode:"visible",children:S},x.mode,0,null),S.return=x,x.child=S}function f0(x,S,R,$){return $!==null&&wu($),nc(S,x.child,null,R),x=pm(S,S.pendingProps.children),x.flags|=2,S.memoizedState=null,x}function G6(x,S,R,$,q,Z,oe){if(R)return S.flags&256?(S.flags&=-257,$=Y(Error(t(422))),f0(x,S,oe,$)):S.memoizedState!==null?(S.child=x.child,S.flags|=128,null):(Z=$.fallback,q=S.mode,$=M0({mode:"visible",children:$.children},q,0,null),Z=rd(Z,q,oe,null),Z.flags|=2,$.return=S,Z.return=S,$.sibling=Z,S.child=$,(S.mode&1)!==0&&nc(S,x.child,null,oe),S.child.memoizedState=yn(oe),S.memoizedState=Ir,Z);if((S.mode&1)===0)return f0(x,S,oe,null);if(q.data==="$!"){if($=q.nextSibling&&q.nextSibling.dataset,$)var ve=$.dgst;return $=ve,Z=Error(t(419)),$=Y(Z,$,void 0),f0(x,S,oe,$)}if(ve=(oe&x.childLanes)!==0,sn||ve){if($=ki,$!==null){switch(oe&-oe){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}q=(q&($.suspendedLanes|oe))!==0?0:q,q!==0&&q!==Z.retryLane&&(Z.retryLane=q,co(x,q),Oa($,x,q,-1))}return Xw(),$=Y(Error(t(421))),f0(x,S,oe,$)}return q.data==="$?"?(S.flags|=128,S.child=x.child,S=s8.bind(null,x),q._reactRetry=S,null):(x=Z.treeContext,ji=ya(q.nextSibling),di=S,qn=!0,Hs=null,x!==null&&(Ui[ei++]=ot,Ui[ei++]=js,Ui[ei++]=tc,ot=x.id,js=x.overflow,tc=S),S=pm(S,$.children),S.flags|=4096,S)}function u2(x,S,R){x.lanes|=S;var $=x.alternate;$!==null&&($.lanes|=S),Hh(x.return,S,R)}function Iw(x,S,R,$,q){var Z=x.memoizedState;Z===null?x.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:$,tail:R,tailMode:q}:(Z.isBackwards=S,Z.rendering=null,Z.renderingStartTime=0,Z.last=$,Z.tail=R,Z.tailMode=q)}function h2(x,S,R){var $=S.pendingProps,q=$.revealOrder,Z=$.tail;if(ft(x,S,$.children,R),$=Xn.current,($&2)!==0)$=$&1|2,S.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=S.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&u2(x,R,S);else if(x.tag===19)u2(x,R,S);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===S)break e;for(;x.sibling===null;){if(x.return===null||x.return===S)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}$&=1}if(zn(Xn,$),(S.mode&1)===0)S.memoizedState=null;else switch(q){case"forwards":for(R=S.child,q=null;R!==null;)x=R.alternate,x!==null&&uo(x)===null&&(q=R),R=R.sibling;R=q,R===null?(q=S.child,S.child=null):(q=R.sibling,R.sibling=null),Iw(S,!1,q,R,Z);break;case"backwards":for(R=null,q=S.child,S.child=null;q!==null;){if(x=q.alternate,x!==null&&uo(x)===null){S.child=q;break}x=q.sibling,q.sibling=R,R=q,q=x}Iw(S,!0,R,null,Z);break;case"together":Iw(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function p0(x,S){(S.mode&1)===0&&x!==null&&(x.alternate=null,S.alternate=null,S.flags|=2)}function dc(x,S,R){if(x!==null&&(S.dependencies=x.dependencies),Qh|=S.lanes,(R&S.childLanes)===0)return null;if(x!==null&&S.child!==x.child)throw Error(t(153));if(S.child!==null){for(x=S.child,R=Ou(x,x.pendingProps),S.child=R,R.return=S;x.sibling!==null;)x=x.sibling,R=R.sibling=Ou(x,x.pendingProps),R.return=S;R.sibling=null}return S.child}function K6(x,S,R){switch(S.tag){case 3:Yt(S),ul();break;case 5:lc(S);break;case 1:Mi(S.type)&&Ql(S);break;case 4:Vh(S,S.stateNode.containerInfo);break;case 10:var $=S.type._context,q=S.memoizedProps.value;zn(rc,$._currentValue),$._currentValue=q;break;case 13:if($=S.memoizedState,$!==null)return $.dehydrated!==null?(zn(Xn,Xn.current&1),S.flags|=128,null):(R&S.child.childLanes)!==0?Ra(x,S,R):(zn(Xn,Xn.current&1),x=dc(x,S,R),x!==null?x.sibling:null);zn(Xn,Xn.current&1);break;case 19:if($=(R&S.childLanes)!==0,(x.flags&128)!==0){if($)return h2(x,S,R);S.flags|=128}if(q=S.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),zn(Xn,Xn.current),$)break;return null;case 22:case 23:return S.lanes=0,Me(x,S,R)}return dc(x,S,R)}var d2,Dw,f2,p2;d2=function(x,S){for(var R=S.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===S)break;for(;R.sibling===null;){if(R.return===null||R.return===S)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Dw=function(){},f2=function(x,S,R,$){var q=x.memoizedProps;if(q!==$){x=S.stateNode,Or(bs.current);var Z=null;switch(R){case"input":q=_e(x,q),$=_e(x,$),Z=[];break;case"select":q=W({},q,{value:void 0}),$=W({},$,{value:void 0}),Z=[];break;case"textarea":q=ln(x,q),$=ln(x,$),Z=[];break;default:typeof q.onClick!="function"&&typeof $.onClick=="function"&&(x.onclick=Ih)}le(R,$);var oe;R=null;for(Be in q)if(!$.hasOwnProperty(Be)&&q.hasOwnProperty(Be)&&q[Be]!=null)if(Be==="style"){var ve=q[Be];for(oe in ve)ve.hasOwnProperty(oe)&&(R||(R={}),R[oe]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?Z||(Z=[]):(Z=Z||[]).push(Be,null));for(Be in $){var we=$[Be];if(ve=q?.[Be],$.hasOwnProperty(Be)&&we!==ve&&(we!=null||ve!=null))if(Be==="style")if(ve){for(oe in ve)!ve.hasOwnProperty(oe)||we&&we.hasOwnProperty(oe)||(R||(R={}),R[oe]="");for(oe in we)we.hasOwnProperty(oe)&&ve[oe]!==we[oe]&&(R||(R={}),R[oe]=we[oe])}else R||(Z||(Z=[]),Z.push(Be,R)),R=we;else Be==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,ve=ve?ve.__html:void 0,we!=null&&ve!==we&&(Z=Z||[]).push(Be,we)):Be==="children"?typeof we!="string"&&typeof we!="number"||(Z=Z||[]).push(Be,""+we):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(we!=null&&Be==="onScroll"&&Wn("scroll",x),Z||ve===we||(Z=[])):(Z=Z||[]).push(Be,we))}R&&(Z=Z||[]).push("style",R);var Be=Z;(S.updateQueue=Be)&&(S.flags|=4)}},p2=function(x,S,R,$){R!==$&&(S.flags|=4)};function gm(x,S){if(!qn)switch(x.tailMode){case"hidden":S=x.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?x.tail=null:R.sibling=null;break;case"collapsed":R=x.tail;for(var $=null;R!==null;)R.alternate!==null&&($=R),R=R.sibling;$===null?S||x.tail===null?x.tail=null:x.tail.sibling=null:$.sibling=null}}function rs(x){var S=x.alternate!==null&&x.alternate.child===x.child,R=0,$=0;if(S)for(var q=x.child;q!==null;)R|=q.lanes|q.childLanes,$|=q.subtreeFlags&14680064,$|=q.flags&14680064,q.return=x,q=q.sibling;else for(q=x.child;q!==null;)R|=q.lanes|q.childLanes,$|=q.subtreeFlags,$|=q.flags,q.return=x,q=q.sibling;return x.subtreeFlags|=$,x.childLanes=R,S}function q6(x,S,R){var $=S.pendingProps;switch(Sa(S),S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(S),null;case 1:return Mi(S.type)&&Dh(),rs(S),null;case 3:return $=S.stateNode,dl(),Vn(zi),Vn(hi),Bo(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(x===null||x.child===null)&&(bu(S)?S.flags|=4:x===null||x.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,Hs!==null&&(Gw(Hs),Hs=null))),Dw(x,S),rs(S),null;case 5:Eu(S);var q=Or(Ma.current);if(R=S.type,x!==null&&S.stateNode!=null)f2(x,S,R,$,q),x.ref!==S.ref&&(S.flags|=512,S.flags|=2097152);else{if(!$){if(S.stateNode===null)throw Error(t(166));return rs(S),null}if(x=Or(bs.current),bu(S)){$=S.stateNode,R=S.type;var Z=S.memoizedProps;switch($[Ur]=S,$[_u]=Z,x=(S.mode&1)!==0,R){case"dialog":Wn("cancel",$),Wn("close",$);break;case"iframe":case"object":case"embed":Wn("load",$);break;case"video":case"audio":for(q=0;q<ll.length;q++)Wn(ll[q],$);break;case"source":Wn("error",$);break;case"img":case"image":case"link":Wn("error",$),Wn("load",$);break;case"details":Wn("toggle",$);break;case"input":Ae($,Z),Wn("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!Z.multiple},Wn("invalid",$);break;case"textarea":pe($,Z),Wn("invalid",$)}le(R,Z),q=null;for(var oe in Z)if(Z.hasOwnProperty(oe)){var ve=Z[oe];oe==="children"?typeof ve=="string"?$.textContent!==ve&&(Z.suppressHydrationWarning!==!0&&Oh($.textContent,ve,x),q=["children",ve]):typeof ve=="number"&&$.textContent!==""+ve&&(Z.suppressHydrationWarning!==!0&&Oh($.textContent,ve,x),q=["children",""+ve]):i.hasOwnProperty(oe)&&ve!=null&&oe==="onScroll"&&Wn("scroll",$)}switch(R){case"input":xe($),tt($,Z,!0);break;case"textarea":xe($),Ne($);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&($.onclick=Ih)}$=q,S.updateQueue=$,$!==null&&(S.flags|=4)}else{oe=q.nodeType===9?q:q.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=Ye(R)),x==="http://www.w3.org/1999/xhtml"?R==="script"?(x=oe.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof $.is=="string"?x=oe.createElement(R,{is:$.is}):(x=oe.createElement(R),R==="select"&&(oe=x,$.multiple?oe.multiple=!0:$.size&&(oe.size=$.size))):x=oe.createElementNS(x,R),x[Ur]=S,x[_u]=$,d2(x,S,!1,!1),S.stateNode=x;e:{switch(oe=be(R,$),R){case"dialog":Wn("cancel",x),Wn("close",x),q=$;break;case"iframe":case"object":case"embed":Wn("load",x),q=$;break;case"video":case"audio":for(q=0;q<ll.length;q++)Wn(ll[q],x);q=$;break;case"source":Wn("error",x),q=$;break;case"img":case"image":case"link":Wn("error",x),Wn("load",x),q=$;break;case"details":Wn("toggle",x),q=$;break;case"input":Ae(x,$),q=_e(x,$),Wn("invalid",x);break;case"option":q=$;break;case"select":x._wrapperState={wasMultiple:!!$.multiple},q=W({},$,{value:void 0}),Wn("invalid",x);break;case"textarea":pe(x,$),q=ln(x,$),Wn("invalid",x);break;default:q=$}le(R,q),ve=q;for(Z in ve)if(ve.hasOwnProperty(Z)){var we=ve[Z];Z==="style"?Et(x,we):Z==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&dt(x,we)):Z==="children"?typeof we=="string"?(R!=="textarea"||we!=="")&&Xe(x,we):typeof we=="number"&&Xe(x,""+we):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?we!=null&&Z==="onScroll"&&Wn("scroll",x):we!=null&&_(x,Z,we,oe))}switch(R){case"input":xe(x),tt(x,$,!1);break;case"textarea":xe(x),Ne(x);break;case"option":$.value!=null&&x.setAttribute("value",""+Q($.value));break;case"select":x.multiple=!!$.multiple,Z=$.value,Z!=null?It(x,!!$.multiple,Z,!1):$.defaultValue!=null&&It(x,!!$.multiple,$.defaultValue,!0);break;default:typeof q.onClick=="function"&&(x.onclick=Ih)}switch(R){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(S.flags|=4)}S.ref!==null&&(S.flags|=512,S.flags|=2097152)}return rs(S),null;case 6:if(x&&S.stateNode!=null)p2(x,S,x.memoizedProps,$);else{if(typeof $!="string"&&S.stateNode===null)throw Error(t(166));if(R=Or(Ma.current),Or(bs.current),bu(S)){if($=S.stateNode,R=S.memoizedProps,$[Ur]=S,(Z=$.nodeValue!==R)&&(x=di,x!==null))switch(x.tag){case 3:Oh($.nodeValue,R,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&Oh($.nodeValue,R,(x.mode&1)!==0)}Z&&(S.flags|=4)}else $=(R.nodeType===9?R:R.ownerDocument).createTextNode($),$[Ur]=S,S.stateNode=$}return rs(S),null;case 13:if(Vn(Xn),$=S.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(qn&&ji!==null&&(S.mode&1)!==0&&(S.flags&128)===0)nm(),ul(),S.flags|=98560,Z=!1;else if(Z=bu(S),$!==null&&$.dehydrated!==null){if(x===null){if(!Z)throw Error(t(318));if(Z=S.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(t(317));Z[Ur]=S}else ul(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;rs(S),Z=!1}else Hs!==null&&(Gw(Hs),Hs=null),Z=!0;if(!Z)return S.flags&65536?S:null}return(S.flags&128)!==0?(S.lanes=R,S):($=$!==null,$!==(x!==null&&x.memoizedState!==null)&&$&&(S.child.flags|=8192,(S.mode&1)!==0&&(x===null||(Xn.current&1)!==0?mi===0&&(mi=3):Xw())),S.updateQueue!==null&&(S.flags|=4),rs(S),null);case 4:return dl(),Dw(x,S),x===null&&vu(S.stateNode.containerInfo),rs(S),null;case 10:return jh(S.type._context),rs(S),null;case 17:return Mi(S.type)&&Dh(),rs(S),null;case 19:if(Vn(Xn),Z=S.memoizedState,Z===null)return rs(S),null;if($=(S.flags&128)!==0,oe=Z.rendering,oe===null)if($)gm(Z,!1);else{if(mi!==0||x!==null&&(x.flags&128)!==0)for(x=S.child;x!==null;){if(oe=uo(x),oe!==null){for(S.flags|=128,gm(Z,!1),$=oe.updateQueue,$!==null&&(S.updateQueue=$,S.flags|=4),S.subtreeFlags=0,$=R,R=S.child;R!==null;)Z=R,x=$,Z.flags&=14680066,oe=Z.alternate,oe===null?(Z.childLanes=0,Z.lanes=x,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=oe.childLanes,Z.lanes=oe.lanes,Z.child=oe.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=oe.memoizedProps,Z.memoizedState=oe.memoizedState,Z.updateQueue=oe.updateQueue,Z.type=oe.type,x=oe.dependencies,Z.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),R=R.sibling;return zn(Xn,Xn.current&1|2),S.child}x=x.sibling}Z.tail!==null&&mt()>Yf&&(S.flags|=128,$=!0,gm(Z,!1),S.lanes=4194304)}else{if(!$)if(x=uo(oe),x!==null){if(S.flags|=128,$=!0,R=x.updateQueue,R!==null&&(S.updateQueue=R,S.flags|=4),gm(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!oe.alternate&&!qn)return rs(S),null}else 2*mt()-Z.renderingStartTime>Yf&&R!==1073741824&&(S.flags|=128,$=!0,gm(Z,!1),S.lanes=4194304);Z.isBackwards?(oe.sibling=S.child,S.child=oe):(R=Z.last,R!==null?R.sibling=oe:S.child=oe,Z.last=oe)}return Z.tail!==null?(S=Z.tail,Z.rendering=S,Z.tail=S.sibling,Z.renderingStartTime=mt(),S.sibling=null,R=Xn.current,zn(Xn,$?R&1|2:R&1),S):(rs(S),null);case 22:case 23:return qw(),$=S.memoizedState!==null,x!==null&&x.memoizedState!==null!==$&&(S.flags|=8192),$&&(S.mode&1)!==0?(po&1073741824)!==0&&(rs(S),S.subtreeFlags&6&&(S.flags|=8192)):rs(S),null;case 24:return null;case 25:return null}throw Error(t(156,S.tag))}function X6(x,S){switch(Sa(S),S.tag){case 1:return Mi(S.type)&&Dh(),x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 3:return dl(),Vn(zi),Vn(hi),Bo(),x=S.flags,(x&65536)!==0&&(x&128)===0?(S.flags=x&-65537|128,S):null;case 5:return Eu(S),null;case 13:if(Vn(Xn),x=S.memoizedState,x!==null&&x.dehydrated!==null){if(S.alternate===null)throw Error(t(340));ul()}return x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 19:return Vn(Xn),null;case 4:return dl(),null;case 10:return jh(S.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var g0=!1,is=!1,Y6=typeof WeakSet=="function"?WeakSet:Set,bt=null;function qf(x,S){var R=x.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch($){Dr(x,S,$)}else R.current=null}function Nw(x,S,R){try{R()}catch($){Dr(x,S,$)}}var g2=!1;function Z6(x,S){if(xu=Se,x=sr(),Yr(x)){if("selectionStart"in x)var R={start:x.selectionStart,end:x.selectionEnd};else e:{R=(R=x.ownerDocument)&&R.defaultView||window;var $=R.getSelection&&R.getSelection();if($&&$.rangeCount!==0){R=$.anchorNode;var q=$.anchorOffset,Z=$.focusNode;$=$.focusOffset;try{R.nodeType,Z.nodeType}catch{R=null;break e}var oe=0,ve=-1,we=-1,Be=0,Qe=0,nt=x,Ze=null;t:for(;;){for(var vt;nt!==R||q!==0&&nt.nodeType!==3||(ve=oe+q),nt!==Z||$!==0&&nt.nodeType!==3||(we=oe+$),nt.nodeType===3&&(oe+=nt.nodeValue.length),(vt=nt.firstChild)!==null;)Ze=nt,nt=vt;for(;;){if(nt===x)break t;if(Ze===R&&++Be===q&&(ve=oe),Ze===Z&&++Qe===$&&(we=oe),(vt=nt.nextSibling)!==null)break;nt=Ze,Ze=nt.parentNode}nt=vt}R=ve===-1||we===-1?null:{start:ve,end:we}}else R=null}R=R||{start:0,end:0}}else R=null;for(Wg={focusedElem:x,selectionRange:R},Se=!1,bt=S;bt!==null;)if(S=bt,x=S.child,(S.subtreeFlags&1028)!==0&&x!==null)x.return=S,bt=x;else for(;bt!==null;){S=bt;try{var Ct=S.alternate;if((S.flags&1024)!==0)switch(S.tag){case 0:case 11:case 15:break;case 1:if(Ct!==null){var Mt=Ct.memoizedProps,jr=Ct.memoizedState,Re=S.stateNode,Ce=Re.getSnapshotBeforeUpdate(S.elementType===S.type?Mt:Ws(S.type,Mt),jr);Re.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Oe=S.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(it){Dr(S,S.return,it)}if(x=S.sibling,x!==null){x.return=S.return,bt=x;break}bt=S.return}return Ct=g2,g2=!1,Ct}function mm(x,S,R){var $=S.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var q=$=$.next;do{if((q.tag&x)===x){var Z=q.destroy;q.destroy=void 0,Z!==void 0&&Nw(S,R,Z)}q=q.next}while(q!==$)}}function m0(x,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&x)===x){var $=R.create;R.destroy=$()}R=R.next}while(R!==S)}}function Bw(x){var S=x.ref;if(S!==null){var R=x.stateNode;switch(x.tag){case 5:x=R;break;default:x=R}typeof S=="function"?S(x):S.current=x}}function m2(x){var S=x.alternate;S!==null&&(x.alternate=null,m2(S)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(S=x.stateNode,S!==null&&(delete S[Ur],delete S[_u],delete S[Zl],delete S[Lf],delete S[Pf])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function v2(x){return x.tag===5||x.tag===3||x.tag===4}function y2(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||v2(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Fw(x,S,R){var $=x.tag;if($===5||$===6)x=x.stateNode,S?R.nodeType===8?R.parentNode.insertBefore(x,S):R.insertBefore(x,S):(R.nodeType===8?(S=R.parentNode,S.insertBefore(x,R)):(S=R,S.appendChild(x)),R=R._reactRootContainer,R!=null||S.onclick!==null||(S.onclick=Ih));else if($!==4&&(x=x.child,x!==null))for(Fw(x,S,R),x=x.sibling;x!==null;)Fw(x,S,R),x=x.sibling}function $w(x,S,R){var $=x.tag;if($===5||$===6)x=x.stateNode,S?R.insertBefore(x,S):R.appendChild(x);else if($!==4&&(x=x.child,x!==null))for($w(x,S,R),x=x.sibling;x!==null;)$w(x,S,R),x=x.sibling}var Wi=null,La=!1;function Au(x,S,R){for(R=R.child;R!==null;)x2(x,S,R),R=R.sibling}function x2(x,S,R){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ut,R)}catch{}switch(R.tag){case 5:is||qf(R,S);case 6:var $=Wi,q=La;Wi=null,Au(x,S,R),Wi=$,La=q,Wi!==null&&(La?(x=Wi,R=R.stateNode,x.nodeType===8?x.parentNode.removeChild(R):x.removeChild(R)):Wi.removeChild(R.stateNode));break;case 18:Wi!==null&&(La?(x=Wi,R=R.stateNode,x.nodeType===8?Rf(x.parentNode,R):x.nodeType===1&&Rf(x,R),Ul(x)):Rf(Wi,R.stateNode));break;case 4:$=Wi,q=La,Wi=R.stateNode.containerInfo,La=!0,Au(x,S,R),Wi=$,La=q;break;case 0:case 11:case 14:case 15:if(!is&&($=R.updateQueue,$!==null&&($=$.lastEffect,$!==null))){q=$=$.next;do{var Z=q,oe=Z.destroy;Z=Z.tag,oe!==void 0&&((Z&2)!==0||(Z&4)!==0)&&Nw(R,S,oe),q=q.next}while(q!==$)}Au(x,S,R);break;case 1:if(!is&&(qf(R,S),$=R.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=R.memoizedProps,$.state=R.memoizedState,$.componentWillUnmount()}catch(ve){Dr(R,S,ve)}Au(x,S,R);break;case 21:Au(x,S,R);break;case 22:R.mode&1?(is=($=is)||R.memoizedState!==null,Au(x,S,R),is=$):Au(x,S,R);break;default:Au(x,S,R)}}function _2(x){var S=x.updateQueue;if(S!==null){x.updateQueue=null;var R=x.stateNode;R===null&&(R=x.stateNode=new Y6),S.forEach(function($){var q=o8.bind(null,x,$);R.has($)||(R.add($),$.then(q,q))})}}function Pa(x,S){var R=S.deletions;if(R!==null)for(var $=0;$<R.length;$++){var q=R[$];try{var Z=x,oe=S,ve=oe;e:for(;ve!==null;){switch(ve.tag){case 5:Wi=ve.stateNode,La=!1;break e;case 3:Wi=ve.stateNode.containerInfo,La=!0;break e;case 4:Wi=ve.stateNode.containerInfo,La=!0;break e}ve=ve.return}if(Wi===null)throw Error(t(160));x2(Z,oe,q),Wi=null,La=!1;var we=q.alternate;we!==null&&(we.return=null),q.return=null}catch(Be){Dr(q,S,Be)}}if(S.subtreeFlags&12854)for(S=S.child;S!==null;)b2(S,x),S=S.sibling}function b2(x,S){var R=x.alternate,$=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(Pa(S,x),pl(x),$&4){try{mm(3,x,x.return),m0(3,x)}catch(Mt){Dr(x,x.return,Mt)}try{mm(5,x,x.return)}catch(Mt){Dr(x,x.return,Mt)}}break;case 1:Pa(S,x),pl(x),$&512&&R!==null&&qf(R,R.return);break;case 5:if(Pa(S,x),pl(x),$&512&&R!==null&&qf(R,R.return),x.flags&32){var q=x.stateNode;try{Xe(q,"")}catch(Mt){Dr(x,x.return,Mt)}}if($&4&&(q=x.stateNode,q!=null)){var Z=x.memoizedProps,oe=R!==null?R.memoizedProps:Z,ve=x.type,we=x.updateQueue;if(x.updateQueue=null,we!==null)try{ve==="input"&&Z.type==="radio"&&Z.name!=null&&Te(q,Z),be(ve,oe);var Be=be(ve,Z);for(oe=0;oe<we.length;oe+=2){var Qe=we[oe],nt=we[oe+1];Qe==="style"?Et(q,nt):Qe==="dangerouslySetInnerHTML"?dt(q,nt):Qe==="children"?Xe(q,nt):_(q,Qe,nt,Be)}switch(ve){case"input":ze(q,Z);break;case"textarea":ce(q,Z);break;case"select":var Ze=q._wrapperState.wasMultiple;q._wrapperState.wasMultiple=!!Z.multiple;var vt=Z.value;vt!=null?It(q,!!Z.multiple,vt,!1):Ze!==!!Z.multiple&&(Z.defaultValue!=null?It(q,!!Z.multiple,Z.defaultValue,!0):It(q,!!Z.multiple,Z.multiple?[]:"",!1))}q[_u]=Z}catch(Mt){Dr(x,x.return,Mt)}}break;case 6:if(Pa(S,x),pl(x),$&4){if(x.stateNode===null)throw Error(t(162));q=x.stateNode,Z=x.memoizedProps;try{q.nodeValue=Z}catch(Mt){Dr(x,x.return,Mt)}}break;case 3:if(Pa(S,x),pl(x),$&4&&R!==null&&R.memoizedState.isDehydrated)try{Ul(S.containerInfo)}catch(Mt){Dr(x,x.return,Mt)}break;case 4:Pa(S,x),pl(x);break;case 13:Pa(S,x),pl(x),q=x.child,q.flags&8192&&(Z=q.memoizedState!==null,q.stateNode.isHidden=Z,!Z||q.alternate!==null&&q.alternate.memoizedState!==null||(jw=mt())),$&4&&_2(x);break;case 22:if(Qe=R!==null&&R.memoizedState!==null,x.mode&1?(is=(Be=is)||Qe,Pa(S,x),is=Be):Pa(S,x),pl(x),$&8192){if(Be=x.memoizedState!==null,(x.stateNode.isHidden=Be)&&!Qe&&(x.mode&1)!==0)for(bt=x,Qe=x.child;Qe!==null;){for(nt=bt=Qe;bt!==null;){switch(Ze=bt,vt=Ze.child,Ze.tag){case 0:case 11:case 14:case 15:mm(4,Ze,Ze.return);break;case 1:qf(Ze,Ze.return);var Ct=Ze.stateNode;if(typeof Ct.componentWillUnmount=="function"){$=Ze,R=Ze.return;try{S=$,Ct.props=S.memoizedProps,Ct.state=S.memoizedState,Ct.componentWillUnmount()}catch(Mt){Dr($,R,Mt)}}break;case 5:qf(Ze,Ze.return);break;case 22:if(Ze.memoizedState!==null){C2(nt);continue}}vt!==null?(vt.return=Ze,bt=vt):C2(nt)}Qe=Qe.sibling}e:for(Qe=null,nt=x;;){if(nt.tag===5){if(Qe===null){Qe=nt;try{q=nt.stateNode,Be?(Z=q.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(ve=nt.stateNode,we=nt.memoizedProps.style,oe=we!=null&&we.hasOwnProperty("display")?we.display:null,ve.style.display=St("display",oe))}catch(Mt){Dr(x,x.return,Mt)}}}else if(nt.tag===6){if(Qe===null)try{nt.stateNode.nodeValue=Be?"":nt.memoizedProps}catch(Mt){Dr(x,x.return,Mt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===x)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===x)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===x)break e;Qe===nt&&(Qe=null),nt=nt.return}Qe===nt&&(Qe=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Pa(S,x),pl(x),$&4&&_2(x);break;case 21:break;default:Pa(S,x),pl(x)}}function pl(x){var S=x.flags;if(S&2){try{e:{for(var R=x.return;R!==null;){if(v2(R)){var $=R;break e}R=R.return}throw Error(t(160))}switch($.tag){case 5:var q=$.stateNode;$.flags&32&&(Xe(q,""),$.flags&=-33);var Z=y2(x);$w(x,Z,q);break;case 3:case 4:var oe=$.stateNode.containerInfo,ve=y2(x);Fw(x,ve,oe);break;default:throw Error(t(161))}}catch(we){Dr(x,x.return,we)}x.flags&=-3}S&4096&&(x.flags&=-4097)}function J6(x,S,R){bt=x,w2(x)}function w2(x,S,R){for(var $=(x.mode&1)!==0;bt!==null;){var q=bt,Z=q.child;if(q.tag===22&&$){var oe=q.memoizedState!==null||g0;if(!oe){var ve=q.alternate,we=ve!==null&&ve.memoizedState!==null||is;ve=g0;var Be=is;if(g0=oe,(is=we)&&!Be)for(bt=q;bt!==null;)oe=bt,we=oe.child,oe.tag===22&&oe.memoizedState!==null?E2(q):we!==null?(we.return=oe,bt=we):E2(q);for(;Z!==null;)bt=Z,w2(Z),Z=Z.sibling;bt=q,g0=ve,is=Be}S2(x)}else(q.subtreeFlags&8772)!==0&&Z!==null?(Z.return=q,bt=Z):S2(x)}}function S2(x){for(;bt!==null;){var S=bt;if((S.flags&8772)!==0){var R=S.alternate;try{if((S.flags&8772)!==0)switch(S.tag){case 0:case 11:case 15:is||m0(5,S);break;case 1:var $=S.stateNode;if(S.flags&4&&!is)if(R===null)$.componentDidMount();else{var q=S.elementType===S.type?R.memoizedProps:Ws(S.type,R.memoizedProps);$.componentDidUpdate(q,R.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var Z=S.updateQueue;Z!==null&&Cu(S,Z,$);break;case 3:var oe=S.updateQueue;if(oe!==null){if(R=null,S.child!==null)switch(S.child.tag){case 5:R=S.child.stateNode;break;case 1:R=S.child.stateNode}Cu(S,oe,R)}break;case 5:var ve=S.stateNode;if(R===null&&S.flags&4){R=ve;var we=S.memoizedProps;switch(S.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&R.focus();break;case"img":we.src&&(R.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(S.memoizedState===null){var Be=S.alternate;if(Be!==null){var Qe=Be.memoizedState;if(Qe!==null){var nt=Qe.dehydrated;nt!==null&&Ul(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}is||S.flags&512&&Bw(S)}catch(Ze){Dr(S,S.return,Ze)}}if(S===x){bt=null;break}if(R=S.sibling,R!==null){R.return=S.return,bt=R;break}bt=S.return}}function C2(x){for(;bt!==null;){var S=bt;if(S===x){bt=null;break}var R=S.sibling;if(R!==null){R.return=S.return,bt=R;break}bt=S.return}}function E2(x){for(;bt!==null;){var S=bt;try{switch(S.tag){case 0:case 11:case 15:var R=S.return;try{m0(4,S)}catch(we){Dr(S,R,we)}break;case 1:var $=S.stateNode;if(typeof $.componentDidMount=="function"){var q=S.return;try{$.componentDidMount()}catch(we){Dr(S,q,we)}}var Z=S.return;try{Bw(S)}catch(we){Dr(S,Z,we)}break;case 5:var oe=S.return;try{Bw(S)}catch(we){Dr(S,oe,we)}}}catch(we){Dr(S,S.return,we)}if(S===x){bt=null;break}var ve=S.sibling;if(ve!==null){ve.return=S.return,bt=ve;break}bt=S.return}}var Q6=Math.ceil,v0=w.ReactCurrentDispatcher,zw=w.ReactCurrentOwner,$o=w.ReactCurrentBatchConfig,En=0,ki=null,ti=null,Vi=0,po=0,Xf=hr(0),mi=0,vm=null,Qh=0,y0=0,Uw=0,ym=null,Vs=null,jw=0,Yf=1/0,fc=null,x0=!1,Hw=null,ku=null,_0=!1,Ru=null,b0=0,xm=0,Ww=null,w0=-1,S0=0;function Es(){return(En&6)!==0?mt():w0!==-1?w0:w0=mt()}function Lu(x){return(x.mode&1)===0?1:(En&2)!==0&&Vi!==0?Vi&-Vi:Pw.transition!==null?(S0===0&&(S0=Qi()),S0):(x=gn,x!==0||(x=window.event,x=x===void 0?16:Cr(x.type)),x)}function Oa(x,S,R,$){if(50<xm)throw xm=0,Ww=null,Error(t(185));Bl(x,R,$),((En&2)===0||x!==ki)&&(x===ki&&((En&2)===0&&(y0|=R),mi===4&&Pu(x,Vi)),Gs(x,$),R===1&&En===0&&(S.mode&1)===0&&(Yf=mt()+500,Bh&&Do()))}function Gs(x,S){var R=x.callbackNode;tl(x,S);var $=cr(x,x===ki?Vi:0);if($===0)R!==null&&Lt(R),x.callbackNode=null,x.callbackPriority=0;else if(S=$&-$,x.callbackPriority!==S){if(R!=null&&Lt(R),S===1)x.tag===0?n0(T2.bind(null,x)):Fh(T2.bind(null,x)),Lw(function(){(En&6)===0&&Do()}),R=null;else{switch(ps($)){case 1:R=xn;break;case 4:R=Sn;break;case 16:R=Xr;break;case 536870912:R=pn;break;default:R=Xr}R=D2(R,M2.bind(null,x))}x.callbackPriority=S,x.callbackNode=R}}function M2(x,S){if(w0=-1,S0=0,(En&6)!==0)throw Error(t(327));var R=x.callbackNode;if(Zf()&&x.callbackNode!==R)return null;var $=cr(x,x===ki?Vi:0);if($===0)return null;if(($&30)!==0||($&x.expiredLanes)!==0||S)S=C0(x,$);else{S=$;var q=En;En|=2;var Z=k2();(ki!==x||Vi!==S)&&(fc=null,Yf=mt()+500,td(x,S));do try{n8();break}catch(ve){A2(x,ve)}while(!0);sc(),v0.current=Z,En=q,ti!==null?S=0:(ki=null,Vi=0,S=mi)}if(S!==0){if(S===2&&(q=ca(x),q!==0&&($=q,S=Vw(x,q))),S===1)throw R=vm,td(x,0),Pu(x,$),Gs(x,mt()),R;if(S===6)Pu(x,$);else{if(q=x.current.alternate,($&30)===0&&!e8(q)&&(S=C0(x,$),S===2&&(Z=ca(x),Z!==0&&($=Z,S=Vw(x,Z))),S===1))throw R=vm,td(x,0),Pu(x,$),Gs(x,mt()),R;switch(x.finishedWork=q,x.finishedLanes=$,S){case 0:case 1:throw Error(t(345));case 2:nd(x,Vs,fc);break;case 3:if(Pu(x,$),($&130023424)===$&&(S=jw+500-mt(),10<S)){if(cr(x,0)!==0)break;if(q=x.suspendedLanes,(q&$)!==$){Es(),x.pingedLanes|=x.suspendedLanes&q;break}x.timeoutHandle=Gg(nd.bind(null,x,Vs,fc),S);break}nd(x,Vs,fc);break;case 4:if(Pu(x,$),($&4194240)===$)break;for(S=x.eventTimes,q=-1;0<$;){var oe=31-In($);Z=1<<oe,oe=S[oe],oe>q&&(q=oe),$&=~Z}if($=q,$=mt()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*Q6($/1960))-$,10<$){x.timeoutHandle=Gg(nd.bind(null,x,Vs,fc),$);break}nd(x,Vs,fc);break;case 5:nd(x,Vs,fc);break;default:throw Error(t(329))}}}return Gs(x,mt()),x.callbackNode===R?M2.bind(null,x):null}function Vw(x,S){var R=ym;return x.current.memoizedState.isDehydrated&&(td(x,S).flags|=256),x=C0(x,S),x!==2&&(S=Vs,Vs=R,S!==null&&Gw(S)),x}function Gw(x){Vs===null?Vs=x:Vs.push.apply(Vs,x)}function e8(x){for(var S=x;;){if(S.flags&16384){var R=S.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var $=0;$<R.length;$++){var q=R[$],Z=q.getSnapshot;q=q.value;try{if(!vs(Z(),q))return!1}catch{return!1}}}if(R=S.child,S.subtreeFlags&16384&&R!==null)R.return=S,S=R;else{if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Pu(x,S){for(S&=~Uw,S&=~y0,x.suspendedLanes|=S,x.pingedLanes&=~S,x=x.expirationTimes;0<S;){var R=31-In(S),$=1<<R;x[R]=-1,S&=~$}}function T2(x){if((En&6)!==0)throw Error(t(327));Zf();var S=cr(x,0);if((S&1)===0)return Gs(x,mt()),null;var R=C0(x,S);if(x.tag!==0&&R===2){var $=ca(x);$!==0&&(S=$,R=Vw(x,$))}if(R===1)throw R=vm,td(x,0),Pu(x,S),Gs(x,mt()),R;if(R===6)throw Error(t(345));return x.finishedWork=x.current.alternate,x.finishedLanes=S,nd(x,Vs,fc),Gs(x,mt()),null}function Kw(x,S){var R=En;En|=1;try{return x(S)}finally{En=R,En===0&&(Yf=mt()+500,Bh&&Do())}}function ed(x){Ru!==null&&Ru.tag===0&&(En&6)===0&&Zf();var S=En;En|=1;var R=$o.transition,$=gn;try{if($o.transition=null,gn=1,x)return x()}finally{gn=$,$o.transition=R,En=S,(En&6)===0&&Do()}}function qw(){po=Xf.current,Vn(Xf)}function td(x,S){x.finishedWork=null,x.finishedLanes=0;var R=x.timeoutHandle;if(R!==-1&&(x.timeoutHandle=-1,Kg(R)),ti!==null)for(R=ti.return;R!==null;){var $=R;switch(Sa($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&Dh();break;case 3:dl(),Vn(zi),Vn(hi),Bo();break;case 5:Eu($);break;case 4:dl();break;case 13:Vn(Xn);break;case 19:Vn(Xn);break;case 10:jh($.type._context);break;case 22:case 23:qw()}R=R.return}if(ki=x,ti=x=Ou(x.current,null),Vi=po=S,mi=0,vm=null,Uw=y0=Qh=0,Vs=ym=null,Ea!==null){for(S=0;S<Ea.length;S++)if(R=Ea[S],$=R.interleaved,$!==null){R.interleaved=null;var q=$.next,Z=R.pending;if(Z!==null){var oe=Z.next;Z.next=q,$.next=oe}R.pending=$}Ea=null}return x}function A2(x,S){do{var R=ti;try{if(sc(),cc.current=Gf,ho){for(var $=Gn.memoizedState;$!==null;){var q=$.queue;q!==null&&(q.pending=null),$=$.next}ho=!1}if(Ta=0,wn=fr=Gn=null,Ai=!1,fl=0,zw.current=null,R===null||R.return===null){mi=1,vm=S,ti=null;break}e:{var Z=x,oe=R.return,ve=R,we=S;if(S=Vi,ve.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Be=we,Qe=ve,nt=Qe.tag;if((Qe.mode&1)===0&&(nt===0||nt===11||nt===15)){var Ze=Qe.alternate;Ze?(Qe.updateQueue=Ze.updateQueue,Qe.memoizedState=Ze.memoizedState,Qe.lanes=Ze.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var vt=xt(oe);if(vt!==null){vt.flags&=-257,Xt(vt,oe,ve,Z,S),vt.mode&1&&rt(Z,Be,S),S=vt,we=Be;var Ct=S.updateQueue;if(Ct===null){var Mt=new Set;Mt.add(we),S.updateQueue=Mt}else Ct.add(we);break e}else{if((S&1)===0){rt(Z,Be,S),Xw();break e}we=Error(t(426))}}else if(qn&&ve.mode&1){var jr=xt(oe);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),Xt(jr,oe,ve,Z,S),wu(V(we,ve));break e}}Z=we=V(we,ve),mi!==4&&(mi=2),ym===null?ym=[Z]:ym.push(Z),Z=oe;do{switch(Z.tag){case 3:Z.flags|=65536,S&=-S,Z.lanes|=S;var Re=Ee(Z,we,S);oc(Z,Re);break e;case 1:ve=we;var Ce=Z.type,Oe=Z.stateNode;if((Z.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(ku===null||!ku.has(Oe)))){Z.flags|=65536,S&=-S,Z.lanes|=S;var it=je(Z,ve,S);oc(Z,it);break e}}Z=Z.return}while(Z!==null)}L2(R)}catch(kt){S=kt,ti===R&&R!==null&&(ti=R=R.return);continue}break}while(!0)}function k2(){var x=v0.current;return v0.current=Gf,x===null?Gf:x}function Xw(){(mi===0||mi===3||mi===2)&&(mi=4),ki===null||(Qh&268435455)===0&&(y0&268435455)===0||Pu(ki,Vi)}function C0(x,S){var R=En;En|=2;var $=k2();(ki!==x||Vi!==S)&&(fc=null,td(x,S));do try{t8();break}catch(q){A2(x,q)}while(!0);if(sc(),En=R,v0.current=$,ti!==null)throw Error(t(261));return ki=null,Vi=0,mi}function t8(){for(;ti!==null;)R2(ti)}function n8(){for(;ti!==null&&!$t();)R2(ti)}function R2(x){var S=I2(x.alternate,x,po);x.memoizedProps=x.pendingProps,S===null?L2(x):ti=S,zw.current=null}function L2(x){var S=x;do{var R=S.alternate;if(x=S.return,(S.flags&32768)===0){if(R=q6(R,S,po),R!==null){ti=R;return}}else{if(R=X6(R,S),R!==null){R.flags&=32767,ti=R;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{mi=6,ti=null;return}}if(S=S.sibling,S!==null){ti=S;return}ti=S=x}while(S!==null);mi===0&&(mi=5)}function nd(x,S,R){var $=gn,q=$o.transition;try{$o.transition=null,gn=1,r8(x,S,R,$)}finally{$o.transition=q,gn=$}return null}function r8(x,S,R,$){do Zf();while(Ru!==null);if((En&6)!==0)throw Error(t(327));R=x.finishedWork;var q=x.finishedLanes;if(R===null)return null;if(x.finishedWork=null,x.finishedLanes=0,R===x.current)throw Error(t(177));x.callbackNode=null,x.callbackPriority=0;var Z=R.lanes|R.childLanes;if(kg(x,Z),x===ki&&(ti=ki=null,Vi=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||_0||(_0=!0,D2(Xr,function(){return Zf(),null})),Z=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||Z){Z=$o.transition,$o.transition=null;var oe=gn;gn=1;var ve=En;En|=4,zw.current=null,Z6(x,R),b2(R,x),Zr(Wg),Se=!!xu,Wg=xu=null,x.current=R,J6(R),Jt(),En=ve,gn=oe,$o.transition=Z}else x.current=R;if(_0&&(_0=!1,Ru=x,b0=q),Z=x.pendingLanes,Z===0&&(ku=null),jt(R.stateNode),Gs(x,mt()),S!==null)for($=x.onRecoverableError,R=0;R<S.length;R++)q=S[R],$(q.value,{componentStack:q.stack,digest:q.digest});if(x0)throw x0=!1,x=Hw,Hw=null,x;return(b0&1)!==0&&x.tag!==0&&Zf(),Z=x.pendingLanes,(Z&1)!==0?x===Ww?xm++:(xm=0,Ww=x):xm=0,Do(),null}function Zf(){if(Ru!==null){var x=ps(b0),S=$o.transition,R=gn;try{if($o.transition=null,gn=16>x?16:x,Ru===null)var $=!1;else{if(x=Ru,Ru=null,b0=0,(En&6)!==0)throw Error(t(331));var q=En;for(En|=4,bt=x.current;bt!==null;){var Z=bt,oe=Z.child;if((bt.flags&16)!==0){var ve=Z.deletions;if(ve!==null){for(var we=0;we<ve.length;we++){var Be=ve[we];for(bt=Be;bt!==null;){var Qe=bt;switch(Qe.tag){case 0:case 11:case 15:mm(8,Qe,Z)}var nt=Qe.child;if(nt!==null)nt.return=Qe,bt=nt;else for(;bt!==null;){Qe=bt;var Ze=Qe.sibling,vt=Qe.return;if(m2(Qe),Qe===Be){bt=null;break}if(Ze!==null){Ze.return=vt,bt=Ze;break}bt=vt}}}var Ct=Z.alternate;if(Ct!==null){var Mt=Ct.child;if(Mt!==null){Ct.child=null;do{var jr=Mt.sibling;Mt.sibling=null,Mt=jr}while(Mt!==null)}}bt=Z}}if((Z.subtreeFlags&2064)!==0&&oe!==null)oe.return=Z,bt=oe;else e:for(;bt!==null;){if(Z=bt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:mm(9,Z,Z.return)}var Re=Z.sibling;if(Re!==null){Re.return=Z.return,bt=Re;break e}bt=Z.return}}var Ce=x.current;for(bt=Ce;bt!==null;){oe=bt;var Oe=oe.child;if((oe.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=oe,bt=Oe;else e:for(oe=Ce;bt!==null;){if(ve=bt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:m0(9,ve)}}catch(kt){Dr(ve,ve.return,kt)}if(ve===oe){bt=null;break e}var it=ve.sibling;if(it!==null){it.return=ve.return,bt=it;break e}bt=ve.return}}if(En=q,Do(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ut,x)}catch{}$=!0}return $}finally{gn=R,$o.transition=S}}return!1}function P2(x,S,R){S=V(R,S),S=Ee(x,S,1),x=nr(x,S,1),S=Es(),x!==null&&(Bl(x,1,S),Gs(x,S))}function Dr(x,S,R){if(x.tag===3)P2(x,x,R);else for(;S!==null;){if(S.tag===3){P2(S,x,R);break}else if(S.tag===1){var $=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(ku===null||!ku.has($))){x=V(R,x),x=je(S,x,1),S=nr(S,x,1),x=Es(),S!==null&&(Bl(S,1,x),Gs(S,x));break}}S=S.return}}function i8(x,S,R){var $=x.pingCache;$!==null&&$.delete(S),S=Es(),x.pingedLanes|=x.suspendedLanes&R,ki===x&&(Vi&R)===R&&(mi===4||mi===3&&(Vi&130023424)===Vi&&500>mt()-jw?td(x,0):Uw|=R),Gs(x,S)}function O2(x,S){S===0&&((x.mode&1)===0?S=1:(S=Cn,Cn<<=1,(Cn&130023424)===0&&(Cn=4194304)));var R=Es();x=co(x,S),x!==null&&(Bl(x,S,R),Gs(x,R))}function s8(x){var S=x.memoizedState,R=0;S!==null&&(R=S.retryLane),O2(x,R)}function o8(x,S){var R=0;switch(x.tag){case 13:var $=x.stateNode,q=x.memoizedState;q!==null&&(R=q.retryLane);break;case 19:$=x.stateNode;break;default:throw Error(t(314))}$!==null&&$.delete(S),O2(x,R)}var I2;I2=function(x,S,R){if(x!==null)if(x.memoizedProps!==S.pendingProps||zi.current)sn=!0;else{if((x.lanes&R)===0&&(S.flags&128)===0)return sn=!1,K6(x,S,R);sn=(x.flags&131072)!==0}else sn=!1,qn&&(S.flags&1048576)!==0&&Jg(S,Nf,S.index);switch(S.lanes=0,S.tag){case 2:var $=S.type;p0(x,S),x=S.pendingProps;var q=Jl(S,hi.current);hl(S,R),q=Kh(null,S,$,x,q,R);var Z=om();return S.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0?(S.tag=1,S.memoizedState=null,S.updateQueue=null,Mi($)?(Z=!0,Ql(S)):Z=!1,S.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,Qt(S),q.updater=Kf,S.stateNode=q,q._reactInternals=S,B(S,$,x,R),S=Zt(null,S,$,!0,Z,R)):(S.tag=0,qn&&Z&&Qg(S),ft(null,S,q,R),S=S.child),S;case 16:$=S.elementType;e:{switch(p0(x,S),x=S.pendingProps,q=$._init,$=q($._payload),S.type=$,q=S.tag=l8($),x=Ws($,x),q){case 0:S=ut(null,S,$,x,R);break e;case 1:S=Tt(null,S,$,x,R);break e;case 11:S=gi(null,S,$,x,R);break e;case 14:S=Cs(null,S,$,Ws($.type,x),R);break e}throw Error(t(306,$,""))}return S;case 0:return $=S.type,q=S.pendingProps,q=S.elementType===$?q:Ws($,q),ut(x,S,$,q,R);case 1:return $=S.type,q=S.pendingProps,q=S.elementType===$?q:Ws($,q),Tt(x,S,$,q,R);case 3:e:{if(Yt(S),x===null)throw Error(t(387));$=S.pendingProps,Z=S.memoizedState,q=Z.element,Mr(x,S),dr(S,$,null,R);var oe=S.memoizedState;if($=oe.element,Z.isDehydrated)if(Z={element:$,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},S.updateQueue.baseState=Z,S.memoizedState=Z,S.flags&256){q=V(Error(t(423)),S),S=_n(x,S,$,R,q);break e}else if($!==q){q=V(Error(t(424)),S),S=_n(x,S,$,R,q);break e}else for(ji=ya(S.stateNode.containerInfo.firstChild),di=S,qn=!0,Hs=null,R=Uh(S,null,$,R),S.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(ul(),$===q){S=dc(x,S,R);break e}ft(x,S,$,R)}S=S.child}return S;case 5:return lc(S),x===null&&Ff(S),$=S.type,q=S.pendingProps,Z=x!==null?x.memoizedProps:null,oe=q.children,Vg($,q)?oe=null:Z!==null&&Vg($,Z)&&(S.flags|=32),$e(x,S),ft(x,S,oe,R),S.child;case 6:return x===null&&Ff(S),null;case 13:return Ra(x,S,R);case 4:return Vh(S,S.stateNode.containerInfo),$=S.pendingProps,x===null?S.child=nc(S,null,$,R):ft(x,S,$,R),S.child;case 11:return $=S.type,q=S.pendingProps,q=S.elementType===$?q:Ws($,q),gi(x,S,$,q,R);case 7:return ft(x,S,S.pendingProps,R),S.child;case 8:return ft(x,S,S.pendingProps.children,R),S.child;case 12:return ft(x,S,S.pendingProps.children,R),S.child;case 10:e:{if($=S.type._context,q=S.pendingProps,Z=S.memoizedProps,oe=q.value,zn(rc,$._currentValue),$._currentValue=oe,Z!==null)if(vs(Z.value,oe)){if(Z.children===q.children&&!zi.current){S=dc(x,S,R);break e}}else for(Z=S.child,Z!==null&&(Z.return=S);Z!==null;){var ve=Z.dependencies;if(ve!==null){oe=Z.child;for(var we=ve.firstContext;we!==null;){if(we.context===$){if(Z.tag===1){we=Bn(-1,R&-R),we.tag=2;var Be=Z.updateQueue;if(Be!==null){Be=Be.shared;var Qe=Be.pending;Qe===null?we.next=we:(we.next=Qe.next,Qe.next=we),Be.pending=we}}Z.lanes|=R,we=Z.alternate,we!==null&&(we.lanes|=R),Hh(Z.return,R,S),ve.lanes|=R;break}we=we.next}}else if(Z.tag===10)oe=Z.type===S.type?null:Z.child;else if(Z.tag===18){if(oe=Z.return,oe===null)throw Error(t(341));oe.lanes|=R,ve=oe.alternate,ve!==null&&(ve.lanes|=R),Hh(oe,R,S),oe=Z.sibling}else oe=Z.child;if(oe!==null)oe.return=Z;else for(oe=Z;oe!==null;){if(oe===S){oe=null;break}if(Z=oe.sibling,Z!==null){Z.return=oe.return,oe=Z;break}oe=oe.return}Z=oe}ft(x,S,q.children,R),S=S.child}return S;case 9:return q=S.type,$=S.pendingProps.children,hl(S,R),q=_s(q),$=$(q),S.flags|=1,ft(x,S,$,R),S.child;case 14:return $=S.type,q=Ws($,S.pendingProps),q=Ws($.type,q),Cs(x,S,$,q,R);case 15:return Ie(x,S,S.type,S.pendingProps,R);case 17:return $=S.type,q=S.pendingProps,q=S.elementType===$?q:Ws($,q),p0(x,S),S.tag=1,Mi($)?(x=!0,Ql(S)):x=!1,hl(S,R),E(S,$,q),B(S,$,q,R),Zt(null,S,$,!0,x,R);case 19:return h2(x,S,R);case 22:return Me(x,S,R)}throw Error(t(156,S.tag))};function D2(x,S){return Ot(x,S)}function a8(x,S,R,$){this.tag=x,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zo(x,S,R,$){return new a8(x,S,R,$)}function Yw(x){return x=x.prototype,!(!x||!x.isReactComponent)}function l8(x){if(typeof x=="function")return Yw(x)?1:0;if(x!=null){if(x=x.$$typeof,x===D)return 11;if(x===O)return 14}return 2}function Ou(x,S){var R=x.alternate;return R===null?(R=zo(x.tag,S,x.key,x.mode),R.elementType=x.elementType,R.type=x.type,R.stateNode=x.stateNode,R.alternate=x,x.alternate=R):(R.pendingProps=S,R.type=x.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=x.flags&14680064,R.childLanes=x.childLanes,R.lanes=x.lanes,R.child=x.child,R.memoizedProps=x.memoizedProps,R.memoizedState=x.memoizedState,R.updateQueue=x.updateQueue,S=x.dependencies,R.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},R.sibling=x.sibling,R.index=x.index,R.ref=x.ref,R}function E0(x,S,R,$,q,Z){var oe=2;if($=x,typeof x=="function")Yw(x)&&(oe=1);else if(typeof x=="string")oe=5;else e:switch(x){case T:return rd(R.children,q,Z,S);case A:oe=8,q|=8;break;case k:return x=zo(12,R,S,q|2),x.elementType=k,x.lanes=Z,x;case L:return x=zo(13,R,S,q),x.elementType=L,x.lanes=Z,x;case I:return x=zo(19,R,S,q),x.elementType=I,x.lanes=Z,x;case H:return M0(R,q,Z,S);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case P:oe=10;break e;case N:oe=9;break e;case D:oe=11;break e;case O:oe=14;break e;case F:oe=16,$=null;break e}throw Error(t(130,x==null?x:typeof x,""))}return S=zo(oe,R,S,q),S.elementType=x,S.type=$,S.lanes=Z,S}function rd(x,S,R,$){return x=zo(7,x,$,S),x.lanes=R,x}function M0(x,S,R,$){return x=zo(22,x,$,S),x.elementType=H,x.lanes=R,x.stateNode={isHidden:!1},x}function Zw(x,S,R){return x=zo(6,x,null,S),x.lanes=R,x}function Jw(x,S,R){return S=zo(4,x.children!==null?x.children:[],x.key,S),S.lanes=R,S.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},S}function c8(x,S,R,$,q){this.tag=S,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=$,this.onRecoverableError=q,this.mutableSourceEagerHydrationData=null}function Qw(x,S,R,$,q,Z,oe,ve,we){return x=new c8(x,S,R,ve,we),S===1?(S=1,Z===!0&&(S|=8)):S=0,Z=zo(3,null,null,S),x.current=Z,Z.stateNode=x,Z.memoizedState={element:$,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qt(Z),x}function u8(x,S,R){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:$==null?null:""+$,children:x,containerInfo:S,implementation:R}}function N2(x){if(!x)return _a;x=x._reactInternals;e:{if(he(x)!==x||x.tag!==1)throw Error(t(170));var S=x;do{switch(S.tag){case 3:S=S.stateNode.context;break e;case 1:if(Mi(S.type)){S=S.stateNode.__reactInternalMemoizedMergedChildContext;break e}}S=S.return}while(S!==null);throw Error(t(171))}if(x.tag===1){var R=x.type;if(Mi(R))return Nh(x,R,S)}return S}function B2(x,S,R,$,q,Z,oe,ve,we){return x=Qw(R,$,!0,x,q,Z,oe,ve,we),x.context=N2(null),R=x.current,$=Es(),q=Lu(R),Z=Bn($,q),Z.callback=S??null,nr(R,Z,q),x.current.lanes=q,Bl(x,q,$),Gs(x,$),x}function T0(x,S,R,$){var q=S.current,Z=Es(),oe=Lu(q);return R=N2(R),S.context===null?S.context=R:S.pendingContext=R,S=Bn(Z,oe),S.payload={element:x},$=$===void 0?null:$,$!==null&&(S.callback=$),x=nr(q,S,oe),x!==null&&(Oa(x,q,oe,Z),Ti(x,q,oe)),oe}function A0(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function F2(x,S){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var R=x.retryLane;x.retryLane=R!==0&&R<S?R:S}}function e1(x,S){F2(x,S),(x=x.alternate)&&F2(x,S)}function h8(){return null}var $2=typeof reportError=="function"?reportError:function(x){console.error(x)};function t1(x){this._internalRoot=x}k0.prototype.render=t1.prototype.render=function(x){var S=this._internalRoot;if(S===null)throw Error(t(409));T0(x,S,null,null)},k0.prototype.unmount=t1.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var S=x.containerInfo;ed(function(){T0(null,x,null,null)}),S[xs]=null}};function k0(x){this._internalRoot=x}k0.prototype.unstable_scheduleHydration=function(x){if(x){var S=iu();x={blockedOn:null,target:x,priority:S};for(var R=0;R<ko.length&&S!==0&&S<ko[R].priority;R++);ko.splice(R,0,x),R===0&&$l(x)}};function n1(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function R0(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function z2(){}function d8(x,S,R,$,q){if(q){if(typeof $=="function"){var Z=$;$=function(){var Be=A0(oe);Z.call(Be)}}var oe=B2(S,$,x,0,null,!1,!1,"",z2);return x._reactRootContainer=oe,x[xs]=oe.current,vu(x.nodeType===8?x.parentNode:x),ed(),oe}for(;q=x.lastChild;)x.removeChild(q);if(typeof $=="function"){var ve=$;$=function(){var Be=A0(we);ve.call(Be)}}var we=Qw(x,0,!1,null,null,!1,!1,"",z2);return x._reactRootContainer=we,x[xs]=we.current,vu(x.nodeType===8?x.parentNode:x),ed(function(){T0(S,we,R,$)}),we}function L0(x,S,R,$,q){var Z=R._reactRootContainer;if(Z){var oe=Z;if(typeof q=="function"){var ve=q;q=function(){var we=A0(oe);ve.call(we)}}T0(S,oe,x,q)}else oe=d8(R,S,x,q,$);return A0(oe)}Fl=function(x){switch(x.tag){case 3:var S=x.stateNode;if(S.current.memoizedState.isDehydrated){var R=Fi(S.pendingLanes);R!==0&&(ua(S,R|1),Gs(S,mt()),(En&6)===0&&(Yf=mt()+500,Do()))}break;case 13:ed(function(){var $=co(x,1);if($!==null){var q=Es();Oa($,x,1,q)}}),e1(x,1)}},Sh=function(x){if(x.tag===13){var S=co(x,134217728);if(S!==null){var R=Es();Oa(S,x,134217728,R)}e1(x,134217728)}},no=function(x){if(x.tag===13){var S=Lu(x),R=co(x,S);if(R!==null){var $=Es();Oa(R,x,S,$)}e1(x,S)}},iu=function(){return gn},su=function(x,S){var R=gn;try{return gn=x,S()}finally{gn=R}},qe=function(x,S,R){switch(S){case"input":if(ze(x,R),S=R.name,R.type==="radio"&&S!=null){for(R=x;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+S)+'][type="radio"]'),S=0;S<R.length;S++){var $=R[S];if($!==x&&$.form===x.form){var q=Of($);if(!q)throw Error(t(90));ne($),ze($,q)}}}break;case"textarea":ce(x,R);break;case"select":S=R.value,S!=null&&It(x,!!R.multiple,S,!1)}},fn=Kw,_r=ed;var f8={usingClientEntryPoint:!1,Events:[xa,Er,Of,Kt,nn,Kw]},_m={findFiberByHostInstance:cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p8={bundleType:_m.bundleType,version:_m.version,rendererPackageName:_m.rendererPackageName,rendererConfig:_m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=We(x),x===null?null:x.stateNode},findFiberByHostInstance:_m.findFiberByHostInstance||h8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P0.isDisabled&&P0.supportsFiber)try{Ut=P0.inject(p8),rn=P0}catch{}}return Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f8,Ks.createPortal=function(x,S){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(S))throw Error(t(200));return u8(x,S,null,R)},Ks.createRoot=function(x,S){if(!n1(x))throw Error(t(299));var R=!1,$="",q=$2;return S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&($=S.identifierPrefix),S.onRecoverableError!==void 0&&(q=S.onRecoverableError)),S=Qw(x,1,!1,null,null,R,!1,$,q),x[xs]=S.current,vu(x.nodeType===8?x.parentNode:x),new t1(S)},Ks.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var S=x._reactInternals;if(S===void 0)throw typeof x.render=="function"?Error(t(188)):(x=Object.keys(x).join(","),Error(t(268,x)));return x=We(S),x=x===null?null:x.stateNode,x},Ks.flushSync=function(x){return ed(x)},Ks.hydrate=function(x,S,R){if(!R0(S))throw Error(t(200));return L0(null,x,S,!0,R)},Ks.hydrateRoot=function(x,S,R){if(!n1(x))throw Error(t(405));var $=R!=null&&R.hydratedSources||null,q=!1,Z="",oe=$2;if(R!=null&&(R.unstable_strictMode===!0&&(q=!0),R.identifierPrefix!==void 0&&(Z=R.identifierPrefix),R.onRecoverableError!==void 0&&(oe=R.onRecoverableError)),S=B2(S,null,x,1,R??null,q,!1,Z,oe),x[xs]=S.current,vu(x),$)for(x=0;x<$.length;x++)R=$[x],q=R._getVersion,q=q(R._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[R,q]:S.mutableSourceEagerHydrationData.push(R,q);return new k0(S)},Ks.render=function(x,S,R){if(!R0(S))throw Error(t(200));return L0(null,x,S,!1,R)},Ks.unmountComponentAtNode=function(x){if(!R0(x))throw Error(t(40));return x._reactRootContainer?(ed(function(){L0(null,null,x,!1,function(){x._reactRootContainer=null,x[xs]=null})}),!0):!1},Ks.unstable_batchedUpdates=Kw,Ks.unstable_renderSubtreeIntoContainer=function(x,S,R,$){if(!R0(R))throw Error(t(200));if(x==null||x._reactInternals===void 0)throw Error(t(38));return L0(x,S,R,!1,$)},Ks.version="18.3.1-next-f1338f8080-20240426",Ks}var q2;function WB(){if(q2)return s1.exports;q2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s1.exports=S8(),s1.exports}var X2;function C8(){if(X2)return O0;X2=1;var n=WB();return O0.createRoot=n.createRoot,O0.hydrateRoot=n.hydrateRoot,O0}var E8=C8();const M8=aa(E8);var Y2="popstate";function T8(n={}){function e(r,i){let{pathname:s,search:l,hash:a}=r.location;return dE("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pv(i)}return k8(e,t,null,n)}function Lr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ml(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A8(){return Math.random().toString(36).substring(2,10)}function Z2(n,e){return{usr:n.state,key:n.key,idx:e}}function dE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?og(e):e,state:t,key:e&&e.key||r||A8()}}function pv({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function og(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function k8(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,a="POP",o=null,h=c();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function c(){return(l.state||{idx:null}).idx}function u(){a="POP";let g=c(),v=g==null?null:g-h;h=g,o&&o({action:a,location:m.location,delta:v})}function d(g,v){a="PUSH";let y=dE(m.location,g,v);h=c()+1;let _=Z2(y,h),w=m.createHref(y);try{l.pushState(_,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}s&&o&&o({action:a,location:m.location,delta:1})}function f(g,v){a="REPLACE";let y=dE(m.location,g,v);h=c();let _=Z2(y,h),w=m.createHref(y);l.replaceState(_,"",w),s&&o&&o({action:a,location:m.location,delta:0})}function p(g){return R8(g)}let m={get action(){return a},get location(){return n(i,l)},listen(g){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Y2,u),o=g,()=>{i.removeEventListener(Y2,u),o=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(g){return l.go(g)}};return m}function R8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:pv(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function VB(n,e,t="/"){return L8(n,e,t,!1)}function L8(n,e,t,r){let i=typeof e=="string"?og(e):e,s=Dc(i.pathname||"/",t);if(s==null)return null;let l=GB(n);P8(l);let a=null;for(let o=0;a==null&&o<l.length;++o){let h=H8(s);a=U8(l[o],h,r)}return a}function GB(n,e=[],t=[],r="",i=!1){let s=(l,a,o=i,h)=>{let c={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:a,route:l};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&o)return;Lr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let u=Lc([r,c.relativePath]),d=t.concat(c);l.children&&l.children.length>0&&(Lr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),GB(l.children,e,d,u,o)),!(l.path==null&&!l.index)&&e.push({path:u,score:$8(u,l.index),routesMeta:d})};return n.forEach((l,a)=>{if(l.path===""||!l.path?.includes("?"))s(l,a);else for(let o of KB(l.path))s(l,a,!0,o)}),e}function KB(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=KB(r.join("/")),a=[];return a.push(...l.map(o=>o===""?s:[s,o].join("/"))),i&&a.push(...l),a.map(o=>n.startsWith("/")&&o===""?"/":o)}function P8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:z8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var O8=/^:[\w-]+$/,I8=3,D8=2,N8=1,B8=10,F8=-2,J2=n=>n==="*";function $8(n,e){let t=n.split("/"),r=t.length;return t.some(J2)&&(r+=F8),e&&(r+=D8),t.filter(i=>!J2(i)).reduce((i,s)=>i+(O8.test(s)?I8:s===""?N8:B8),r)}function z8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function U8(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let a=0;a<r.length;++a){let o=r[a],h=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=x_({path:o.relativePath,caseSensitive:o.caseSensitive,end:h},c),d=o.route;if(!u&&h&&t&&!r[r.length-1].route.index&&(u=x_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),l.push({params:i,pathname:Lc([s,u.pathname]),pathnameBase:K8(Lc([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Lc([s,u.pathnameBase]))}return l}function x_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=j8(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,{paramName:c,isOptional:u},d)=>{if(c==="*"){let p=a[d]||"";l=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[d];return u&&!f?h[c]=void 0:h[c]=(f||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function j8(n,e=!1,t=!0){Ml(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ml(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function W8(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?og(n):n;return{pathname:t?t.startsWith("/")?t:V8(t,e):e,search:q8(r),hash:X8(i)}}function V8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function l1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qB(n){let e=G8(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function XB(n,e,t,r=!1){let i;typeof n=="string"?i=og(n):(i={...n},Lr(!i.pathname||!i.pathname.includes("?"),l1("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),l1("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),l1("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,a;if(l==null)a=t;else{let u=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),u-=1;i.pathname=d.join("/")}a=u>=0?e[u]:"/"}let o=W8(i,a),h=l&&l!=="/"&&l.endsWith("/"),c=(s||l===".")&&t.endsWith("/");return!o.pathname.endsWith("/")&&(h||c)&&(o.pathname+="/"),o}var Lc=n=>n.join("/").replace(/\/\/+/g,"/"),K8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),q8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,X8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Y8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YB=["POST","PUT","PATCH","DELETE"];new Set(YB);var Z8=["GET",...YB];new Set(Z8);var ag=G.createContext(null);ag.displayName="DataRouter";var _b=G.createContext(null);_b.displayName="DataRouterState";G.createContext(!1);var ZB=G.createContext({isTransitioning:!1});ZB.displayName="ViewTransition";var J8=G.createContext(new Map);J8.displayName="Fetchers";var Q8=G.createContext(null);Q8.displayName="Await";var Pl=G.createContext(null);Pl.displayName="Navigation";var Jv=G.createContext(null);Jv.displayName="Location";var Ol=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ol.displayName="Route";var kT=G.createContext(null);kT.displayName="RouteError";function eV(n,{relative:e}={}){Lr(Qv(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Pl),{hash:i,pathname:s,search:l}=ey(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Lc([t,s])),r.createHref({pathname:a,search:l,hash:i})}function Qv(){return G.useContext(Jv)!=null}function Gc(){return Lr(Qv(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Jv).location}var JB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QB(n){G.useContext(Pl).static||G.useLayoutEffect(n)}function Il(){let{isDataRoute:n}=G.useContext(Ol);return n?pV():tV()}function tV(){Lr(Qv(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(ag),{basename:e,navigator:t}=G.useContext(Pl),{matches:r}=G.useContext(Ol),{pathname:i}=Gc(),s=JSON.stringify(qB(r)),l=G.useRef(!1);return QB(()=>{l.current=!0}),G.useCallback((o,h={})=>{if(Ml(l.current,JB),!l.current)return;if(typeof o=="number"){t.go(o);return}let c=XB(o,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Lc([e,c.pathname])),(h.replace?t.replace:t.push)(c,h.state,h)},[e,t,s,i,n])}G.createContext(null);function nV(){let{matches:n}=G.useContext(Ol),e=n[n.length-1];return e?e.params:{}}function ey(n,{relative:e}={}){let{matches:t}=G.useContext(Ol),{pathname:r}=Gc(),i=JSON.stringify(qB(t));return G.useMemo(()=>XB(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function rV(n,e){return eF(n,e)}function eF(n,e,t,r,i){Lr(Qv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=G.useContext(Pl),{matches:l}=G.useContext(Ol),a=l[l.length-1],o=a?a.params:{},h=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let y=u&&u.path||"";tF(h,!u||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let d=Gc(),f;if(e){let y=typeof e=="string"?og(e):e;Lr(c==="/"||y.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=d;let p=f.pathname||"/",m=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=VB(n,{pathname:m});Ml(u||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ml(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=lV(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Lc([c,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Lc([c,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),l,t,r,i);return e&&v?G.createElement(Jv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function iV(){let n=fV(),e=Y8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:i},t):null,l)}var sV=G.createElement(iV,null),oV=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(Ol.Provider,{value:this.props.routeContext},G.createElement(kT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aV({routeContext:n,match:e,children:t}){let r=G.useContext(ag);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ol.Provider,{value:n},t)}function lV(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t?.errors;if(l!=null){let h=s.findIndex(c=>c.route.id&&l?.[c.route.id]!==void 0);Lr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,o=-1;if(t)for(let h=0;h<s.length;h++){let c=s[h];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=h),c.route.id){let{loaderData:u,errors:d}=t,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((h,c,u)=>{let d,f=!1,p=null,m=null;t&&(d=l&&c.route.id?l[c.route.id]:void 0,p=c.route.errorElement||sV,a&&(o<0&&u===0?(tF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):o===u&&(f=!0,m=c.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,u+1)),v=()=>{let y;return d?y=p:f?y=m:c.route.Component?y=G.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=h,G.createElement(aV,{match:c,routeContext:{outlet:h,matches:g,isDataRoute:t!=null},children:y})};return t&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?G.createElement(oV,{location:t.location,revalidation:t.revalidation,component:p,error:d,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:r}):v()},null)}function RT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cV(n){let e=G.useContext(ag);return Lr(e,RT(n)),e}function uV(n){let e=G.useContext(_b);return Lr(e,RT(n)),e}function hV(n){let e=G.useContext(Ol);return Lr(e,RT(n)),e}function LT(n){let e=hV(n),t=e.matches[e.matches.length-1];return Lr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dV(){return LT("useRouteId")}function fV(){let n=G.useContext(kT),e=uV("useRouteError"),t=LT("useRouteError");return n!==void 0?n:e.errors?.[t]}function pV(){let{router:n}=cV("useNavigate"),e=LT("useNavigate"),t=G.useRef(!1);return QB(()=>{t.current=!0}),G.useCallback(async(i,s={})=>{Ml(t.current,JB),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var Q2={};function tF(n,e,t){!e&&!Q2[n]&&(Q2[n]=!0,Ml(!1,t))}G.memo(gV);function gV({routes:n,future:e,state:t,unstable_onError:r}){return eF(n,void 0,t,r,e)}function Go(n){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Lr(!Qv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),a=G.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=og(t));let{pathname:o="/",search:h="",hash:c="",state:u=null,key:d="default"}=t,f=G.useMemo(()=>{let p=Dc(o,l);return p==null?null:{location:{pathname:p,search:h,hash:c,state:u,key:d},navigationType:r}},[l,o,h,c,u,d,r]);return Ml(f!=null,`<Router basename="${l}"> is not able to match the URL "${o}${h}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:G.createElement(Pl.Provider,{value:a},G.createElement(Jv.Provider,{children:e,value:f}))}function vV({children:n,location:e}){return rV(fE(n),e)}function fE(n,e=[]){let t=[];return G.Children.forEach(n,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){t.push.apply(t,fE(r.props.children,s));return}Lr(r.type===Go,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fE(r.props.children,s)),t.push(l)}),t}var qx="get",Xx="application/x-www-form-urlencoded";function bb(n){return n!=null&&typeof n.tagName=="string"}function yV(n){return bb(n)&&n.tagName.toLowerCase()==="button"}function xV(n){return bb(n)&&n.tagName.toLowerCase()==="form"}function _V(n){return bb(n)&&n.tagName.toLowerCase()==="input"}function bV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wV(n,e){return n.button===0&&(!e||e==="_self")&&!bV(n)}var I0=null;function SV(){if(I0===null)try{new FormData(document.createElement("form"),0),I0=!1}catch{I0=!0}return I0}var CV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c1(n){return n!=null&&!CV.has(n)?(Ml(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xx}"`),null):n}function EV(n,e){let t,r,i,s,l;if(xV(n)){let a=n.getAttribute("action");r=a?Dc(a,e):null,t=n.getAttribute("method")||qx,i=c1(n.getAttribute("enctype"))||Xx,s=new FormData(n)}else if(yV(n)||_V(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=n.getAttribute("formaction")||a.getAttribute("action");if(r=o?Dc(o,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||qx,i=c1(n.getAttribute("formenctype"))||c1(a.getAttribute("enctype"))||Xx,s=new FormData(a,n),!SV()){let{name:h,type:c,value:u}=n;if(c==="image"){let d=h?`${h}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else h&&s.append(h,u)}}else{if(bb(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qx,r=null,i=Xx,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function PT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MV(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Dc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function TV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kV(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await TV(s,t);return l.links?l.links():[]}return[]}));return OV(r.flat(1).filter(AV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eL(n,e,t,r,i,s){let l=(o,h)=>t[h]?o.route.id!==t[h].route.id:!0,a=(o,h)=>t[h].pathname!==o.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==o.params["*"];return s==="assets"?e.filter((o,h)=>l(o,h)||a(o,h)):s==="data"?e.filter((o,h)=>{let c=r.routes[o.route.id];if(!c||!c.hasLoader)return!1;if(l(o,h)||a(o,h))return!0;if(o.route.shouldRevalidate){let u=o.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function RV(n,e,{includeHydrateFallback:t}={}){return LV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function LV(n){return[...new Set(n)]}function PV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(PV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function nF(){let n=G.useContext(ag);return PT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IV(){let n=G.useContext(_b);return PT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var OT=G.createContext(void 0);OT.displayName="FrameworkContext";function rF(){let n=G.useContext(OT);return PT(n,"You must render this element inside a <HydratedRouter> element"),n}function DV(n,e){let t=G.useContext(OT),[r,i]=G.useState(!1),[s,l]=G.useState(!1),{onFocus:a,onBlur:o,onMouseEnter:h,onMouseLeave:c,onTouchStart:u}=e,d=G.useRef(null);G.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let m=v=>{v.forEach(y=>{l(y.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return d.current&&g.observe(d.current),()=>{g.disconnect()}}},[n]),G.useEffect(()=>{if(r){let m=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(m)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,d,{}]:[s,d,{onFocus:wm(a,f),onBlur:wm(o,p),onMouseEnter:wm(h,f),onMouseLeave:wm(c,p),onTouchStart:wm(u,f)}]:[!1,d,{}]}function wm(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NV({page:n,...e}){let{router:t}=nF(),r=G.useMemo(()=>VB(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(FV,{page:n,matches:r,...e}):null}function BV(n){let{manifest:e,routeModules:t}=rF(),[r,i]=G.useState([]);return G.useEffect(()=>{let s=!1;return kV(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function FV({page:n,matches:e,...t}){let r=Gc(),{manifest:i,routeModules:s}=rF(),{basename:l}=nF(),{loaderData:a,matches:o}=IV(),h=G.useMemo(()=>eL(n,e,o,i,r,"data"),[n,e,o,i,r]),c=G.useMemo(()=>eL(n,e,o,i,r,"assets"),[n,e,o,i,r]),u=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(e.forEach(v=>{let y=i.routes[v.route.id];!y||!y.hasLoader||(!h.some(_=>_.route.id===v.route.id)&&v.route.id in a&&s[v.route.id]?.shouldRevalidate||y.hasClientLoader?m=!0:p.add(v.route.id))}),p.size===0)return[];let g=MV(n,l,"data");return m&&p.size>0&&g.searchParams.set("_routes",e.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[l,a,r,i,h,e,n,s]),d=G.useMemo(()=>RV(c,i),[c,i]),f=BV(c);return G.createElement(G.Fragment,null,u.map(p=>G.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),d.map(p=>G.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),f.map(({key:p,link:m})=>G.createElement("link",{key:p,nonce:t.nonce,...m})))}function $V(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iF&&(window.__reactRouterVersion="7.9.5")}catch{}function zV({basename:n,children:e,window:t}){let r=G.useRef();r.current==null&&(r.current=T8({window:t,v5Compat:!0}));let i=r.current,[s,l]=G.useState({action:i.action,location:i.location}),a=G.useCallback(o=>{G.startTransition(()=>l(o))},[l]);return G.useLayoutEffect(()=>i.listen(a),[i,a]),G.createElement(mV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var sF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vi=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:a,target:o,to:h,preventScrollReset:c,viewTransition:u,...d},f){let{basename:p}=G.useContext(Pl),m=typeof h=="string"&&sF.test(h),g,v=!1;if(typeof h=="string"&&m&&(g=h,iF))try{let k=new URL(window.location.href),P=h.startsWith("//")?new URL(k.protocol+h):new URL(h),N=Dc(P.pathname,p);P.origin===k.origin&&N!=null?h=N+P.search+P.hash:v=!0}catch{Ml(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=eV(h,{relative:i}),[_,w,C]=DV(r,d),b=WV(h,{replace:l,state:a,target:o,preventScrollReset:c,relative:i,viewTransition:u});function T(k){e&&e(k),k.defaultPrevented||b(k)}let A=G.createElement("a",{...d,...C,href:g||y,onClick:v||s?e:T,ref:$V(f,w),target:o,"data-discover":!m&&t==="render"?"true":void 0});return _&&!m?G.createElement(G.Fragment,null,A,G.createElement(NV,{page:y})):A});vi.displayName="Link";var UV=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:a,children:o,...h},c){let u=ey(l,{relative:h.relative}),d=Gc(),f=G.useContext(_b),{navigator:p,basename:m}=G.useContext(Pl),g=f!=null&&XV(u)&&a===!0,v=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,y=d.pathname,_=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(y=y.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&m&&(_=Dc(_,m)||_);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=y===v||!i&&y.startsWith(v)&&y.charAt(w)==="/",b=_!=null&&(_===v||!i&&_.startsWith(v)&&_.charAt(v.length)==="/"),T={isActive:C,isPending:b,isTransitioning:g},A=C?e:void 0,k;typeof r=="function"?k=r(T):k=[r,C?"active":null,b?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(T):s;return G.createElement(vi,{...h,"aria-current":A,className:k,ref:c,style:P,to:l,viewTransition:a},typeof o=="function"?o(T):o)});UV.displayName="NavLink";var jV=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=qx,action:a,onSubmit:o,relative:h,preventScrollReset:c,viewTransition:u,...d},f)=>{let p=KV(),m=qV(a,{relative:h}),g=l.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&sF.test(a),y=_=>{if(o&&o(_),_.defaultPrevented)return;_.preventDefault();let w=_.nativeEvent.submitter,C=w?.getAttribute("formmethod")||l;p(w||_.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:i,state:s,relative:h,preventScrollReset:c,viewTransition:u})};return G.createElement("form",{ref:f,method:g,action:m,onSubmit:r?o:y,...d,"data-discover":!v&&n==="render"?"true":void 0})});jV.displayName="Form";function HV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oF(n){let e=G.useContext(ag);return Lr(e,HV(n)),e}function WV(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let a=Il(),o=Gc(),h=ey(n,{relative:s});return G.useCallback(c=>{if(wV(c,e)){c.preventDefault();let u=t!==void 0?t:pv(o)===pv(h);a(n,{replace:u,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[o,a,h,t,r,e,n,i,s,l])}var VV=0,GV=()=>`__${String(++VV)}__`;function KV(){let{router:n}=oF("useSubmit"),{basename:e}=G.useContext(Pl),t=dV();return G.useCallback(async(r,i={})=>{let{action:s,method:l,encType:a,formData:o,body:h}=EV(r,e);if(i.navigate===!1){let c=i.fetcherKey||GV();await n.fetch(c,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:o,body:h,formMethod:i.method||l,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:o,body:h,formMethod:i.method||l,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function qV(n,{relative:e}={}){let{basename:t}=G.useContext(Pl),r=G.useContext(Ol);Lr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ey(n||".",{relative:e})},l=Gc();if(n==null){s.search=l.search;let a=new URLSearchParams(s.search),o=a.getAll("index");if(o.some(c=>c==="")){a.delete("index"),o.filter(u=>u).forEach(u=>a.append("index",u));let c=a.toString();s.search=c?`?${c}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Lc([t,s.pathname])),pv(s)}function XV(n,{relative:e}={}){let t=G.useContext(ZB);Lr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oF("useViewTransitionState"),i=ey(n,{relative:e});if(!t.isTransitioning)return!1;let s=Dc(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Dc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return x_(i.pathname,l)!=null||x_(i.pathname,s)!=null}var aF=WB();let YV={data:""},ZV=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||YV},JV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QV=/\/\*[^]*?\*\/|  +/g,tL=/\n+/g,qu=(n,e)=>{let t="",r="",i="";for(let s in n){let l=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+l+";":r+=s[1]=="f"?qu(l,s):s+"{"+qu(l,s[1]=="k"?"":e)+"}":typeof l=="object"?r+=qu(l,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,a):a?a+" "+o:o)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qu.p?qu.p(s,l):s+":"+l+";")}return t+(e&&i?e+"{"+i+"}":i)+r},pc={},lF=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+lF(n[t]);return e}return n},eG=(n,e,t,r,i)=>{let s=lF(n),l=pc[s]||(pc[s]=(o=>{let h=0,c=11;for(;h<o.length;)c=101*c+o.charCodeAt(h++)>>>0;return"go"+c})(s));if(!pc[l]){let o=s!==n?n:(h=>{let c,u,d=[{}];for(;c=JV.exec(h.replace(QV,""));)c[4]?d.shift():c[3]?(u=c[3].replace(tL," ").trim(),d.unshift(d[0][u]=d[0][u]||{})):d[0][c[1]]=c[2].replace(tL," ").trim();return d[0]})(n);pc[l]=qu(i?{["@keyframes "+l]:o}:o,t?"":"."+l)}let a=t&&pc.g?pc.g:null;return t&&(pc.g=pc[l]),((o,h,c,u)=>{u?h.data=h.data.replace(u,o):h.data.indexOf(o)===-1&&(h.data=c?o+h.data:h.data+o)})(pc[l],e,r,a),l},tG=(n,e,t)=>n.reduce((r,i,s)=>{let l=e[s];if(l&&l.call){let a=l(t),o=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=o?"."+o:a&&typeof a=="object"?a.props?"":qu(a,""):a===!1?"":a}return r+i+(l??"")},"");function wb(n){let e=this||{},t=n.call?n(e.p):n;return eG(t.unshift?t.raw?tG(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,ZV(e.target),e.g,e.o,e.k)}let cF,pE,gE;wb.bind({g:1});let Nc=wb.bind({k:1});function nG(n,e,t,r){qu.p=e,cF=n,pE=t,gE=r}function hh(n,e){let t=this||{};return function(){let r=arguments;function i(s,l){let a=Object.assign({},s),o=a.className||i.className;t.p=Object.assign({theme:pE&&pE()},a),t.o=/ *go\d+/.test(o),a.className=wb.apply(t,r)+(o?" "+o:"");let h=n;return n[0]&&(h=a.as||n,delete a.as),gE&&h[0]&&gE(a),cF(h,a)}return i}}var rG=n=>typeof n=="function",__=(n,e)=>rG(n)?n(e):n,iG=(()=>{let n=0;return()=>(++n).toString()})(),uF=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),sG=20,IT="default",hF=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return hF(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Yx=[],dF={toasts:[],pausedAt:void 0,settings:{toastLimit:sG}},vl={},fF=(n,e=IT)=>{vl[e]=hF(vl[e]||dF,n),Yx.forEach(([t,r])=>{t===e&&r(vl[e])})},pF=n=>Object.keys(vl).forEach(e=>fF(n,e)),oG=n=>Object.keys(vl).find(e=>vl[e].toasts.some(t=>t.id===n)),Sb=(n=IT)=>e=>{fF(e,n)},aG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lG=(n={},e=IT)=>{let[t,r]=G.useState(vl[e]||dF),i=G.useRef(vl[e]);G.useEffect(()=>(i.current!==vl[e]&&r(vl[e]),Yx.push([e,r]),()=>{let l=Yx.findIndex(([a])=>a===e);l>-1&&Yx.splice(l,1)}),[e]);let s=t.toasts.map(l=>{var a,o,h;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((a=n[l.type])==null?void 0:a.removeDelay)||n?.removeDelay,duration:l.duration||((o=n[l.type])==null?void 0:o.duration)||n?.duration||aG[l.type],style:{...n.style,...(h=n[l.type])==null?void 0:h.style,...l.style}}});return{...t,toasts:s}},cG=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||iG()}),ty=n=>(e,t)=>{let r=cG(e,n,t);return Sb(r.toasterId||oG(r.id))({type:2,toast:r}),r.id},en=(n,e)=>ty("blank")(n,e);en.error=ty("error");en.success=ty("success");en.loading=ty("loading");en.custom=ty("custom");en.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Sb(e)(t):pF(t)};en.dismissAll=n=>en.dismiss(void 0,n);en.remove=(n,e)=>{let t={type:4,toastId:n};e?Sb(e)(t):pF(t)};en.removeAll=n=>en.remove(void 0,n);en.promise=(n,e,t)=>{let r=en.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?__(e.success,i):void 0;return s?en.success(s,{id:r,...t,...t?.success}):en.dismiss(r),i}).catch(i=>{let s=e.error?__(e.error,i):void 0;s?en.error(s,{id:r,...t,...t?.error}):en.dismiss(r)}),n};var uG=1e3,hG=(n,e="default")=>{let{toasts:t,pausedAt:r}=lG(n,e),i=G.useRef(new Map).current,s=G.useCallback((u,d=uG)=>{if(i.has(u))return;let f=setTimeout(()=>{i.delete(u),l({type:4,toastId:u})},d);i.set(u,f)},[]);G.useEffect(()=>{if(r)return;let u=Date.now(),d=t.map(f=>{if(f.duration===1/0)return;let p=(f.duration||0)+f.pauseDuration-(u-f.createdAt);if(p<0){f.visible&&en.dismiss(f.id);return}return setTimeout(()=>en.dismiss(f.id,e),p)});return()=>{d.forEach(f=>f&&clearTimeout(f))}},[t,r,e]);let l=G.useCallback(Sb(e),[e]),a=G.useCallback(()=>{l({type:5,time:Date.now()})},[l]),o=G.useCallback((u,d)=>{l({type:1,toast:{id:u,height:d}})},[l]),h=G.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),c=G.useCallback((u,d)=>{let{reverseOrder:f=!1,gutter:p=8,defaultPosition:m}=d||{},g=t.filter(_=>(_.position||m)===(u.position||m)&&_.height),v=g.findIndex(_=>_.id===u.id),y=g.filter((_,w)=>w<v&&_.visible).length;return g.filter(_=>_.visible).slice(...f?[y+1]:[0,y]).reduce((_,w)=>_+(w.height||0)+p,0)},[t]);return G.useEffect(()=>{t.forEach(u=>{if(u.dismissed)s(u.id,u.removeDelay);else{let d=i.get(u.id);d&&(clearTimeout(d),i.delete(u.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:o,startPause:a,endPause:h,calculateOffset:c}}},dG=Nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fG=Nc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pG=Nc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gG=hh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mG=Nc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vG=hh("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${mG} 1s linear infinite;
`,yG=Nc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xG=Nc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_G=hh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bG=hh("div")`
  position: absolute;
`,wG=hh("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SG=Nc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CG=hh("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EG=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?G.createElement(CG,null,e):e:t==="blank"?null:G.createElement(wG,null,G.createElement(vG,{...r}),t!=="loading"&&G.createElement(bG,null,t==="error"?G.createElement(gG,{...r}):G.createElement(_G,{...r})))},MG=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,TG=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,AG="0%{opacity:0;} 100%{opacity:1;}",kG="0%{opacity:1;} 100%{opacity:0;}",RG=hh("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LG=hh("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PG=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=uF()?[AG,kG]:[MG(t),TG(t)];return{animation:e?`${Nc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OG=G.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?PG(n.position||e||"top-center",n.visible):{opacity:0},s=G.createElement(EG,{toast:n}),l=G.createElement(LG,{...n.ariaProps},__(n.message,n));return G.createElement(RG,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:l}):G.createElement(G.Fragment,null,s,l))});nG(G.createElement);var IG=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=G.useCallback(l=>{if(l){let a=()=>{let o=l.getBoundingClientRect().height;r(n,o)};a(),new MutationObserver(a).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return G.createElement("div",{ref:s,className:e,style:t},i)},DG=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:uF()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},NG=wb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D0=16,gF=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,toasterId:s,containerStyle:l,containerClassName:a})=>{let{toasts:o,handlers:h}=hG(t,s);return G.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:D0,left:D0,right:D0,bottom:D0,pointerEvents:"none",...l},className:a,onMouseEnter:h.startPause,onMouseLeave:h.endPause},o.map(c=>{let u=c.position||e,d=h.calculateOffset(c,{reverseOrder:n,gutter:r,defaultPosition:e}),f=DG(u,d);return G.createElement(IG,{id:c.id,key:c.id,onHeightUpdate:h.updateHeight,className:c.visible?NG:"",style:f},c.type==="custom"?__(c.message,c):i?i(c):G.createElement(OG,{toast:c,position:u}))}))},Sc=en;const BG="/assets/AI-oUsqpKFG.jpg",FG="/assets/smart-CtmJMmX-.jpg",$G="/assets/Website-C71g-NJ9.jpg";const Cb="153",pd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},mF=0,mE=1,vF=2,zG=3,yF=0,Eb=1,nv=2,$a=3,Bc=0,Ps=1,gl=2,UG=2,Pc=0,Pd=1,vE=2,yE=3,xE=4,xF=5,bd=100,_F=101,bF=102,_E=103,bE=104,wF=200,SF=201,CF=202,EF=203,DT=204,NT=205,MF=206,TF=207,AF=208,kF=209,RF=210,LF=0,PF=1,OF=2,b_=3,IF=4,DF=5,NF=6,BF=7,ny=0,FF=1,$F=2,Wa=0,zF=1,UF=2,jF=3,BT=4,HF=5,Mb=300,rh=301,ih=302,gv=303,mv=304,lg=306,vv=1e3,cs=1001,yv=1002,Gr=1003,w_=1004,jG=1004,rv=1005,HG=1005,Kr=1006,FT=1007,WG=1007,sh=1008,VG=1008,bl=1009,WF=1010,VF=1011,Tb=1012,$T=1013,Ac=1014,yl=1015,Wp=1016,zT=1017,UT=1018,Yu=1020,GF=1021,Zs=1023,KF=1024,qF=1025,Zu=1026,jd=1027,XF=1028,jT=1029,YF=1030,HT=1031,WT=1033,Zx=33776,Jx=33777,Qx=33778,e_=33779,wE=35840,SE=35841,CE=35842,EE=35843,ZF=36196,ME=37492,TE=37496,AE=37808,kE=37809,RE=37810,LE=37811,PE=37812,OE=37813,IE=37814,DE=37815,NE=37816,BE=37817,FE=37818,$E=37819,zE=37820,UE=37821,t_=36492,JF=36283,jE=36284,HE=36285,WE=36286,QF=2200,e$=2201,t$=2202,xv=2300,_v=2301,n_=2302,Sd=2400,Cd=2401,bv=2402,Ab=2500,VT=2501,GG=0,KG=1,qG=2,GT=3e3,Ju=3001,n$=3200,r$=3201,dh=0,i$=1,Qu="",on="srgb",Va="srgb-linear",KT="display-p3",XG=0,r_=7680,YG=7681,ZG=7682,JG=7683,QG=34055,e9=34056,t9=5386,n9=512,r9=513,i9=514,s9=515,o9=516,a9=517,l9=518,s$=519,o$=512,a$=513,l$=514,c$=515,u$=516,h$=517,d$=518,f$=519,wv=35044,c9=35048,u9=35040,h9=35045,d9=35049,f9=35041,p9=35046,g9=35050,m9=35042,v9="100",VE="300 es",S_=1035,xl=2e3,Sv=2001;let Kc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,l=i.length;s<l;s++)i[s].call(this,e);e.target=null}}};const ss=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nL=1234567;const Od=Math.PI/180,Vp=180/Math.PI;function wo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ss[n&255]+ss[n>>8&255]+ss[n>>16&255]+ss[n>>24&255]+"-"+ss[e&255]+ss[e>>8&255]+"-"+ss[e>>16&15|64]+ss[e>>24&255]+"-"+ss[t&63|128]+ss[t>>8&255]+"-"+ss[t>>16&255]+ss[t>>24&255]+ss[r&255]+ss[r>>8&255]+ss[r>>16&255]+ss[r>>24&255]).toLowerCase()}function Fr(n,e,t){return Math.max(e,Math.min(t,n))}function qT(n,e){return(n%e+e)%e}function y9(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function x9(n,e,t){return n!==e?(t-n)/(e-n):0}function iv(n,e,t){return(1-t)*n+t*e}function _9(n,e,t,r){return iv(n,e,1-Math.exp(-t*r))}function b9(n,e=1){return e-Math.abs(qT(n,e*2)-e)}function w9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function S9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function C9(n,e){return n+Math.floor(Math.random()*(e-n+1))}function E9(n,e){return n+Math.random()*(e-n)}function M9(n){return n*(.5-Math.random())}function T9(n){n!==void 0&&(nL=n);let e=nL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function A9(n){return n*Od}function k9(n){return n*Vp}function GE(n){return(n&n-1)===0&&n!==0}function p$(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function C_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function R9(n,e,t,r,i){const s=Math.cos,l=Math.sin,a=s(t/2),o=l(t/2),h=s((e+r)/2),c=l((e+r)/2),u=s((e-r)/2),d=l((e-r)/2),f=s((r-e)/2),p=l((r-e)/2);switch(i){case"XYX":n.set(a*c,o*u,o*d,a*h);break;case"YZY":n.set(o*d,a*c,o*u,a*h);break;case"ZXZ":n.set(o*u,o*d,a*c,a*h);break;case"XZX":n.set(a*c,o*p,o*f,a*h);break;case"YXY":n.set(o*f,a*c,o*p,a*h);break;case"ZYZ":n.set(o*p,o*f,a*c,a*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function bo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function hn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const L9={DEG2RAD:Od,RAD2DEG:Vp,generateUUID:wo,clamp:Fr,euclideanModulo:qT,mapLinear:y9,inverseLerp:x9,lerp:iv,damp:_9,pingpong:b9,smoothstep:w9,smootherstep:S9,randInt:C9,randFloat:E9,randFloatSpread:M9,seededRandom:T9,degToRad:A9,radToDeg:k9,isPowerOfTwo:GE,ceilPowerOfTwo:p$,floorPowerOfTwo:C_,setQuaternionFromProperEuler:R9,normalize:hn,denormalize:bo};class Ve{constructor(e=0,t=0){Ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Fr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,l=this.y-e.y;return this.x=s*r-l*i+e.x,this.y=s*i+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class un{constructor(e,t,r,i,s,l,a,o,h){un.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,l,a,o,h)}set(e,t,r,i,s,l,a,o,h){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=o,c[6]=r,c[7]=l,c[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,l=r[0],a=r[3],o=r[6],h=r[1],c=r[4],u=r[7],d=r[2],f=r[5],p=r[8],m=i[0],g=i[3],v=i[6],y=i[1],_=i[4],w=i[7],C=i[2],b=i[5],T=i[8];return s[0]=l*m+a*y+o*C,s[3]=l*g+a*_+o*b,s[6]=l*v+a*w+o*T,s[1]=h*m+c*y+u*C,s[4]=h*g+c*_+u*b,s[7]=h*v+c*w+u*T,s[2]=d*m+f*y+p*C,s[5]=d*g+f*_+p*b,s[8]=d*v+f*w+p*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],a=e[5],o=e[6],h=e[7],c=e[8];return t*l*c-t*a*h-r*s*c+r*a*o+i*s*h-i*l*o}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],a=e[5],o=e[6],h=e[7],c=e[8],u=c*l-a*h,d=a*o-c*s,f=h*s-l*o,p=t*u+r*d+i*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(i*h-c*r)*m,e[2]=(a*r-i*l)*m,e[3]=d*m,e[4]=(c*t-i*o)*m,e[5]=(i*s-a*t)*m,e[6]=f*m,e[7]=(r*o-h*t)*m,e[8]=(l*t-r*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,l,a){const o=Math.cos(s),h=Math.sin(s);return this.set(r*o,r*h,-r*(o*l+h*a)+l+e,-i*h,i*o,-i*(-h*l+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(u1.makeScale(e,t)),this}rotate(e){return this.premultiply(u1.makeRotation(-e)),this}translate(e,t){return this.premultiply(u1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const u1=new un;function g$(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const P9={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Tp(n,e){return new P9[n](e)}function Cv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const rL={};function sv(n){n in rL||(rL[n]=!0,console.warn(n))}function Fp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function h1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const O9=new un().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),I9=new un().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function D9(n){return n.convertSRGBToLinear().applyMatrix3(I9)}function N9(n){return n.applyMatrix3(O9).convertLinearToSRGB()}const B9={[Va]:n=>n,[on]:n=>n.convertSRGBToLinear(),[KT]:D9},F9={[Va]:n=>n,[on]:n=>n.convertLinearToSRGB(),[KT]:N9},Ko={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Va},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=B9[e],i=F9[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Jf;class XT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Jf===void 0&&(Jf=Cv("canvas")),Jf.width=e.width,Jf.height=e.height;const r=Jf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Jf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Cv("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let l=0;l<s.length;l++)s[l]=Fp(s[l]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Fp(t[r]/255)*255):t[r]=Fp(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $9=0;class Ed{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$9++}),this.uuid=wo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let l=0,a=i.length;l<a;l++)i[l].isDataTexture?s.push(d1(i[l].image)):s.push(d1(i[l]))}else s=d1(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function d1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?XT.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let z9=0;class $r extends Kc{constructor(e=$r.DEFAULT_IMAGE,t=$r.DEFAULT_MAPPING,r=cs,i=cs,s=Kr,l=sh,a=Zs,o=bl,h=$r.DEFAULT_ANISOTROPY,c=Qu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:z9++}),this.uuid=wo(),this.name="",this.source=new Ed(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=l,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new un,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(sv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Ju?on:Qu),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Mb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vv:e.x=e.x-Math.floor(e.x);break;case cs:e.x=e.x<0?0:1;break;case yv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vv:e.y=e.y-Math.floor(e.y);break;case cs:e.y=e.y<0?0:1;break;case yv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return sv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===on?Ju:GT}set encoding(e){sv("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Ju?on:Qu}}$r.DEFAULT_IMAGE=null;$r.DEFAULT_MAPPING=Mb;$r.DEFAULT_ANISOTROPY=1;class jn{constructor(e=0,t=0,r=0,i=1){jn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*i+l[12]*s,this.y=l[1]*t+l[5]*r+l[9]*i+l[13]*s,this.z=l[2]*t+l[6]*r+l[10]*i+l[14]*s,this.w=l[3]*t+l[7]*r+l[11]*i+l[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=e.elements,h=o[0],c=o[4],u=o[8],d=o[1],f=o[5],p=o[9],m=o[2],g=o[6],v=o[10];if(Math.abs(c-d)<.01&&Math.abs(u-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(c+d)<.1&&Math.abs(u+m)<.1&&Math.abs(p+g)<.1&&Math.abs(h+f+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(h+1)/2,w=(f+1)/2,C=(v+1)/2,b=(c+d)/4,T=(u+m)/4,A=(p+g)/4;return _>w&&_>C?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=b/r,s=T/r):w>C?w<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(w),r=b/i,s=A/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=T/s,i=A/s),this.set(r,i,s,t),this}let y=Math.sqrt((g-p)*(g-p)+(u-m)*(u-m)+(d-c)*(d-c));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(u-m)/y,this.z=(d-c)/y,this.w=Math.acos((h+f+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ga extends Kc{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new jn(0,0,e,t),this.scissorTest=!1,this.viewport=new jn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(sv("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Ju?on:Qu),this.texture=new $r(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Kr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ed(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class kb extends $r{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class U9 extends Ga{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new kb(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class YT extends $r{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Gr,this.minFilter=Gr,this.wrapR=cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j9 extends Ga{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new YT(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class H9 extends Ga{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let l=0;l<r;l++)this.texture[l]=s.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class hs{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,l,a){let o=r[i+0],h=r[i+1],c=r[i+2],u=r[i+3];const d=s[l+0],f=s[l+1],p=s[l+2],m=s[l+3];if(a===0){e[t+0]=o,e[t+1]=h,e[t+2]=c,e[t+3]=u;return}if(a===1){e[t+0]=d,e[t+1]=f,e[t+2]=p,e[t+3]=m;return}if(u!==m||o!==d||h!==f||c!==p){let g=1-a;const v=o*d+h*f+c*p+u*m,y=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const C=Math.sqrt(_),b=Math.atan2(C,v*y);g=Math.sin(g*b)/C,a=Math.sin(a*b)/C}const w=a*y;if(o=o*g+d*w,h=h*g+f*w,c=c*g+p*w,u=u*g+m*w,g===1-a){const C=1/Math.sqrt(o*o+h*h+c*c+u*u);o*=C,h*=C,c*=C,u*=C}}e[t]=o,e[t+1]=h,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,i,s,l){const a=r[i],o=r[i+1],h=r[i+2],c=r[i+3],u=s[l],d=s[l+1],f=s[l+2],p=s[l+3];return e[t]=a*p+c*u+o*f-h*d,e[t+1]=o*p+c*d+h*u-a*f,e[t+2]=h*p+c*f+a*d-o*u,e[t+3]=c*p-a*u-o*d-h*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,l=e._order,a=Math.cos,o=Math.sin,h=a(r/2),c=a(i/2),u=a(s/2),d=o(r/2),f=o(i/2),p=o(s/2);switch(l){case"XYZ":this._x=d*c*u+h*f*p,this._y=h*f*u-d*c*p,this._z=h*c*p+d*f*u,this._w=h*c*u-d*f*p;break;case"YXZ":this._x=d*c*u+h*f*p,this._y=h*f*u-d*c*p,this._z=h*c*p-d*f*u,this._w=h*c*u+d*f*p;break;case"ZXY":this._x=d*c*u-h*f*p,this._y=h*f*u+d*c*p,this._z=h*c*p+d*f*u,this._w=h*c*u-d*f*p;break;case"ZYX":this._x=d*c*u-h*f*p,this._y=h*f*u+d*c*p,this._z=h*c*p-d*f*u,this._w=h*c*u+d*f*p;break;case"YZX":this._x=d*c*u+h*f*p,this._y=h*f*u+d*c*p,this._z=h*c*p-d*f*u,this._w=h*c*u-d*f*p;break;case"XZY":this._x=d*c*u-h*f*p,this._y=h*f*u-d*c*p,this._z=h*c*p+d*f*u,this._w=h*c*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],l=t[1],a=t[5],o=t[9],h=t[2],c=t[6],u=t[10],d=r+a+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-o)*f,this._y=(s-h)*f,this._z=(l-i)*f}else if(r>a&&r>u){const f=2*Math.sqrt(1+r-a-u);this._w=(c-o)/f,this._x=.25*f,this._y=(i+l)/f,this._z=(s+h)/f}else if(a>u){const f=2*Math.sqrt(1+a-r-u);this._w=(s-h)/f,this._x=(i+l)/f,this._y=.25*f,this._z=(o+c)/f}else{const f=2*Math.sqrt(1+u-r-a);this._w=(l-i)/f,this._x=(s+h)/f,this._y=(o+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,l=e._w,a=t._x,o=t._y,h=t._z,c=t._w;return this._x=r*c+l*a+i*h-s*o,this._y=i*c+l*o+s*a-r*h,this._z=s*c+l*h+r*o-i*a,this._w=l*c-r*a-i*o-s*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,l=this._w;let a=l*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=l,this._x=r,this._y=i,this._z=s,this;const o=1-a*a;if(o<=Number.EPSILON){const f=1-t;return this._w=f*l+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(o),c=Math.atan2(h,a),u=Math.sin((1-t)*c)/h,d=Math.sin(t*c)/h;return this._w=l*u+this._w*d,this._x=r*u+this._x*d,this._y=i*u+this._y*d,this._z=s*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,t=0,r=0){fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(iL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(iL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,l=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*l,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*l,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,l=e.y,a=e.z,o=e.w,h=o*t+l*i-a*r,c=o*r+a*t-s*i,u=o*i+s*r-l*t,d=-s*t-l*r-a*i;return this.x=h*o+d*-s+c*-a-u*-l,this.y=c*o+d*-l+u*-s-h*-a,this.z=u*o+d*-a+h*-l-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,l=t.x,a=t.y,o=t.z;return this.x=i*o-s*a,this.y=s*l-r*o,this.z=r*a-i*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return f1.copy(this).projectOnVector(e),this.sub(f1)}reflect(e){return this.sub(f1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Fr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const f1=new fe,iL=new hs;class Dl{constructor(e=new fe(1/0,1/0,1/0),t=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(mc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(mc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=mc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Qf.copy(e.boundingBox),Qf.applyMatrix4(e.matrixWorld),this.union(Qf);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let l=0,a=s.count;l<a;l++)mc.fromBufferAttribute(s,l).applyMatrix4(e.matrixWorld),this.expandByPoint(mc)}else i.boundingBox===null&&i.computeBoundingBox(),Qf.copy(i.boundingBox),Qf.applyMatrix4(e.matrixWorld),this.union(Qf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,mc),mc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sm),N0.subVectors(this.max,Sm),ep.subVectors(e.a,Sm),tp.subVectors(e.b,Sm),np.subVectors(e.c,Sm),Du.subVectors(tp,ep),Nu.subVectors(np,tp),id.subVectors(ep,np);let t=[0,-Du.z,Du.y,0,-Nu.z,Nu.y,0,-id.z,id.y,Du.z,0,-Du.x,Nu.z,0,-Nu.x,id.z,0,-id.x,-Du.y,Du.x,0,-Nu.y,Nu.x,0,-id.y,id.x,0];return!p1(t,ep,tp,np,N0)||(t=[1,0,0,0,1,0,0,0,1],!p1(t,ep,tp,np,N0))?!1:(B0.crossVectors(Du,Nu),t=[B0.x,B0.y,B0.z],p1(t,ep,tp,np,N0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(mc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gc=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],mc=new fe,Qf=new Dl,ep=new fe,tp=new fe,np=new fe,Du=new fe,Nu=new fe,id=new fe,Sm=new fe,N0=new fe,B0=new fe,sd=new fe;function p1(n,e,t,r,i){for(let s=0,l=n.length-3;s<=l;s+=3){sd.fromArray(n,s);const a=i.x*Math.abs(sd.x)+i.y*Math.abs(sd.y)+i.z*Math.abs(sd.z),o=e.dot(sd),h=t.dot(sd),c=r.dot(sd);if(Math.max(-Math.max(o,h,c),Math.min(o,h,c))>a)return!1}return!0}const W9=new Dl,Cm=new fe,g1=new fe;class qa{constructor(e=new fe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):W9.setFromPoints(e).getCenter(r);let i=0;for(let s=0,l=e.length;s<l;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cm.subVectors(e,this.center);const t=Cm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Cm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(g1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cm.copy(e.center).add(g1)),this.expandByPoint(Cm.copy(e.center).sub(g1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vc=new fe,m1=new fe,F0=new fe,Bu=new fe,v1=new fe,$0=new fe,y1=new fe;class ef{constructor(e=new fe,t=new fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vc.copy(this.origin).addScaledVector(this.direction,t),vc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){m1.copy(e).add(t).multiplyScalar(.5),F0.copy(t).sub(e).normalize(),Bu.copy(this.origin).sub(m1);const s=e.distanceTo(t)*.5,l=-this.direction.dot(F0),a=Bu.dot(this.direction),o=-Bu.dot(F0),h=Bu.lengthSq(),c=Math.abs(1-l*l);let u,d,f,p;if(c>0)if(u=l*o-a,d=l*a-o,p=s*c,u>=0)if(d>=-p)if(d<=p){const m=1/c;u*=m,d*=m,f=u*(u+l*d+2*a)+d*(l*u+d+2*o)+h}else d=s,u=Math.max(0,-(l*d+a)),f=-u*u+d*(d+2*o)+h;else d=-s,u=Math.max(0,-(l*d+a)),f=-u*u+d*(d+2*o)+h;else d<=-p?(u=Math.max(0,-(-l*s+a)),d=u>0?-s:Math.min(Math.max(-s,-o),s),f=-u*u+d*(d+2*o)+h):d<=p?(u=0,d=Math.min(Math.max(-s,-o),s),f=d*(d+2*o)+h):(u=Math.max(0,-(l*s+a)),d=u>0?s:Math.min(Math.max(-s,-o),s),f=-u*u+d*(d+2*o)+h);else d=l>0?-s:s,u=Math.max(0,-(l*d+a)),f=-u*u+d*(d+2*o)+h;return r&&r.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(m1).addScaledVector(F0,d),f}intersectSphere(e,t){vc.subVectors(e.center,this.origin);const r=vc.dot(this.direction),i=vc.dot(vc)-r*r,s=e.radius*e.radius;if(i>s)return null;const l=Math.sqrt(s-i),a=r-l,o=r+l;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,l,a,o;const h=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return h>=0?(r=(e.min.x-d.x)*h,i=(e.max.x-d.x)*h):(r=(e.max.x-d.x)*h,i=(e.min.x-d.x)*h),c>=0?(s=(e.min.y-d.y)*c,l=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,l=(e.min.y-d.y)*c),r>l||s>i||((s>r||isNaN(r))&&(r=s),(l<i||isNaN(i))&&(i=l),u>=0?(a=(e.min.z-d.z)*u,o=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,o=(e.min.z-d.z)*u),r>o||a>i)||((a>r||r!==r)&&(r=a),(o<i||i!==i)&&(i=o),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,vc)!==null}intersectTriangle(e,t,r,i,s){v1.subVectors(t,e),$0.subVectors(r,e),y1.crossVectors(v1,$0);let l=this.direction.dot(y1),a;if(l>0){if(i)return null;a=1}else if(l<0)a=-1,l=-l;else return null;Bu.subVectors(this.origin,e);const o=a*this.direction.dot($0.crossVectors(Bu,$0));if(o<0)return null;const h=a*this.direction.dot(v1.cross(Bu));if(h<0||o+h>l)return null;const c=-a*Bu.dot(y1);return c<0?null:this.at(c/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tn{constructor(e,t,r,i,s,l,a,o,h,c,u,d,f,p,m,g){tn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,l,a,o,h,c,u,d,f,p,m,g)}set(e,t,r,i,s,l,a,o,h,c,u,d,f,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=s,v[5]=l,v[9]=a,v[13]=o,v[2]=h,v[6]=c,v[10]=u,v[14]=d,v[3]=f,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/rp.setFromMatrixColumn(e,0).length(),s=1/rp.setFromMatrixColumn(e,1).length(),l=1/rp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,l=Math.cos(r),a=Math.sin(r),o=Math.cos(i),h=Math.sin(i),c=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const d=l*c,f=l*u,p=a*c,m=a*u;t[0]=o*c,t[4]=-o*u,t[8]=h,t[1]=f+p*h,t[5]=d-m*h,t[9]=-a*o,t[2]=m-d*h,t[6]=p+f*h,t[10]=l*o}else if(e.order==="YXZ"){const d=o*c,f=o*u,p=h*c,m=h*u;t[0]=d+m*a,t[4]=p*a-f,t[8]=l*h,t[1]=l*u,t[5]=l*c,t[9]=-a,t[2]=f*a-p,t[6]=m+d*a,t[10]=l*o}else if(e.order==="ZXY"){const d=o*c,f=o*u,p=h*c,m=h*u;t[0]=d-m*a,t[4]=-l*u,t[8]=p+f*a,t[1]=f+p*a,t[5]=l*c,t[9]=m-d*a,t[2]=-l*h,t[6]=a,t[10]=l*o}else if(e.order==="ZYX"){const d=l*c,f=l*u,p=a*c,m=a*u;t[0]=o*c,t[4]=p*h-f,t[8]=d*h+m,t[1]=o*u,t[5]=m*h+d,t[9]=f*h-p,t[2]=-h,t[6]=a*o,t[10]=l*o}else if(e.order==="YZX"){const d=l*o,f=l*h,p=a*o,m=a*h;t[0]=o*c,t[4]=m-d*u,t[8]=p*u+f,t[1]=u,t[5]=l*c,t[9]=-a*c,t[2]=-h*c,t[6]=f*u+p,t[10]=d-m*u}else if(e.order==="XZY"){const d=l*o,f=l*h,p=a*o,m=a*h;t[0]=o*c,t[4]=-u,t[8]=h*c,t[1]=d*u+m,t[5]=l*c,t[9]=f*u-p,t[2]=p*u-f,t[6]=a*c,t[10]=m*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(V9,e,G9)}lookAt(e,t,r){const i=this.elements;return go.subVectors(e,t),go.lengthSq()===0&&(go.z=1),go.normalize(),Fu.crossVectors(r,go),Fu.lengthSq()===0&&(Math.abs(r.z)===1?go.x+=1e-4:go.z+=1e-4,go.normalize(),Fu.crossVectors(r,go)),Fu.normalize(),z0.crossVectors(go,Fu),i[0]=Fu.x,i[4]=z0.x,i[8]=go.x,i[1]=Fu.y,i[5]=z0.y,i[9]=go.y,i[2]=Fu.z,i[6]=z0.z,i[10]=go.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,l=r[0],a=r[4],o=r[8],h=r[12],c=r[1],u=r[5],d=r[9],f=r[13],p=r[2],m=r[6],g=r[10],v=r[14],y=r[3],_=r[7],w=r[11],C=r[15],b=i[0],T=i[4],A=i[8],k=i[12],P=i[1],N=i[5],D=i[9],L=i[13],I=i[2],O=i[6],F=i[10],H=i[14],j=i[3],z=i[7],W=i[11],K=i[15];return s[0]=l*b+a*P+o*I+h*j,s[4]=l*T+a*N+o*O+h*z,s[8]=l*A+a*D+o*F+h*W,s[12]=l*k+a*L+o*H+h*K,s[1]=c*b+u*P+d*I+f*j,s[5]=c*T+u*N+d*O+f*z,s[9]=c*A+u*D+d*F+f*W,s[13]=c*k+u*L+d*H+f*K,s[2]=p*b+m*P+g*I+v*j,s[6]=p*T+m*N+g*O+v*z,s[10]=p*A+m*D+g*F+v*W,s[14]=p*k+m*L+g*H+v*K,s[3]=y*b+_*P+w*I+C*j,s[7]=y*T+_*N+w*O+C*z,s[11]=y*A+_*D+w*F+C*W,s[15]=y*k+_*L+w*H+C*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],l=e[1],a=e[5],o=e[9],h=e[13],c=e[2],u=e[6],d=e[10],f=e[14],p=e[3],m=e[7],g=e[11],v=e[15];return p*(+s*o*u-i*h*u-s*a*d+r*h*d+i*a*f-r*o*f)+m*(+t*o*f-t*h*d+s*l*d-i*l*f+i*h*c-s*o*c)+g*(+t*h*u-t*a*f-s*l*u+r*l*f+s*a*c-r*h*c)+v*(-i*a*c-t*o*u+t*a*d+i*l*u-r*l*d+r*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],l=e[4],a=e[5],o=e[6],h=e[7],c=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=u*g*h-m*d*h+m*o*f-a*g*f-u*o*v+a*d*v,_=p*d*h-c*g*h-p*o*f+l*g*f+c*o*v-l*d*v,w=c*m*h-p*u*h+p*a*f-l*m*f-c*a*v+l*u*v,C=p*u*o-c*m*o-p*a*d+l*m*d+c*a*g-l*u*g,b=t*y+r*_+i*w+s*C;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/b;return e[0]=y*T,e[1]=(m*d*s-u*g*s-m*i*f+r*g*f+u*i*v-r*d*v)*T,e[2]=(a*g*s-m*o*s+m*i*h-r*g*h-a*i*v+r*o*v)*T,e[3]=(u*o*s-a*d*s-u*i*h+r*d*h+a*i*f-r*o*f)*T,e[4]=_*T,e[5]=(c*g*s-p*d*s+p*i*f-t*g*f-c*i*v+t*d*v)*T,e[6]=(p*o*s-l*g*s-p*i*h+t*g*h+l*i*v-t*o*v)*T,e[7]=(l*d*s-c*o*s+c*i*h-t*d*h-l*i*f+t*o*f)*T,e[8]=w*T,e[9]=(p*u*s-c*m*s-p*r*f+t*m*f+c*r*v-t*u*v)*T,e[10]=(l*m*s-p*a*s+p*r*h-t*m*h-l*r*v+t*a*v)*T,e[11]=(c*a*s-l*u*s-c*r*h+t*u*h+l*r*f-t*a*f)*T,e[12]=C*T,e[13]=(c*m*i-p*u*i+p*r*d-t*m*d-c*r*g+t*u*g)*T,e[14]=(p*a*i-l*m*i-p*r*o+t*m*o+l*r*g-t*a*g)*T,e[15]=(l*u*i-c*a*i+c*r*o-t*u*o-l*r*d+t*a*d)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,l=e.x,a=e.y,o=e.z,h=s*l,c=s*a;return this.set(h*l+r,h*a-i*o,h*o+i*a,0,h*a+i*o,c*a+r,c*o-i*l,0,h*o-i*a,c*o+i*l,s*o*o+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,l){return this.set(1,r,s,0,e,1,l,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,l=t._y,a=t._z,o=t._w,h=s+s,c=l+l,u=a+a,d=s*h,f=s*c,p=s*u,m=l*c,g=l*u,v=a*u,y=o*h,_=o*c,w=o*u,C=r.x,b=r.y,T=r.z;return i[0]=(1-(m+v))*C,i[1]=(f+w)*C,i[2]=(p-_)*C,i[3]=0,i[4]=(f-w)*b,i[5]=(1-(d+v))*b,i[6]=(g+y)*b,i[7]=0,i[8]=(p+_)*T,i[9]=(g-y)*T,i[10]=(1-(d+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=rp.set(i[0],i[1],i[2]).length();const l=rp.set(i[4],i[5],i[6]).length(),a=rp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ia.copy(this);const h=1/s,c=1/l,u=1/a;return Ia.elements[0]*=h,Ia.elements[1]*=h,Ia.elements[2]*=h,Ia.elements[4]*=c,Ia.elements[5]*=c,Ia.elements[6]*=c,Ia.elements[8]*=u,Ia.elements[9]*=u,Ia.elements[10]*=u,t.setFromRotationMatrix(Ia),r.x=s,r.y=l,r.z=a,this}makePerspective(e,t,r,i,s,l,a=xl){const o=this.elements,h=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i);let f,p;if(a===xl)f=-(l+s)/(l-s),p=-2*l*s/(l-s);else if(a===Sv)f=-l/(l-s),p=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return o[0]=h,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,s,l,a=xl){const o=this.elements,h=1/(t-e),c=1/(r-i),u=1/(l-s),d=(t+e)*h,f=(r+i)*c;let p,m;if(a===xl)p=(l+s)*u,m=-2*u;else if(a===Sv)p=s*u,m=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return o[0]=2*h,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=m,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const rp=new fe,Ia=new tn,V9=new fe(0,0,0),G9=new fe(1,1,1),Fu=new fe,z0=new fe,go=new fe,sL=new tn,oL=new hs;class ry{constructor(e=0,t=0,r=0,i=ry.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],l=i[4],a=i[8],o=i[1],h=i[5],c=i[9],u=i[2],d=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(Fr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(d,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Fr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(o,h)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-l,h)):(this._y=0,this._z=Math.atan2(o,s));break;case"ZYX":this._y=Math.asin(-Fr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(o,s)):(this._x=0,this._z=Math.atan2(-l,h));break;case"YZX":this._z=Math.asin(Fr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Fr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(d,h),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return sL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return oL.setFromEuler(this),this.setFromQuaternion(oL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ry.DEFAULT_ORDER="XYZ";class Id{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let K9=0;const aL=new fe,ip=new hs,yc=new tn,U0=new fe,Em=new fe,q9=new fe,X9=new hs,lL=new fe(1,0,0),cL=new fe(0,1,0),uL=new fe(0,0,1),Y9={type:"added"},hL={type:"removed"};class kn extends Kc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:K9++}),this.uuid=wo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=kn.DEFAULT_UP.clone();const e=new fe,t=new ry,r=new hs,i=new fe(1,1,1);function s(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tn},normalMatrix:{value:new un}}),this.matrix=new tn,this.matrixWorld=new tn,this.matrixAutoUpdate=kn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Id,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ip.setFromAxisAngle(e,t),this.quaternion.multiply(ip),this}rotateOnWorldAxis(e,t){return ip.setFromAxisAngle(e,t),this.quaternion.premultiply(ip),this}rotateX(e){return this.rotateOnAxis(lL,e)}rotateY(e){return this.rotateOnAxis(cL,e)}rotateZ(e){return this.rotateOnAxis(uL,e)}translateOnAxis(e,t){return aL.copy(e).applyQuaternion(this.quaternion),this.position.add(aL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lL,e)}translateY(e){return this.translateOnAxis(cL,e)}translateZ(e){return this.translateOnAxis(uL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?U0.copy(e):U0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Em.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yc.lookAt(Em,U0,this.up):yc.lookAt(U0,Em,this.up),this.quaternion.setFromRotationMatrix(yc),i&&(yc.extractRotation(i.matrixWorld),ip.setFromRotationMatrix(yc),this.quaternion.premultiply(ip.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Y9)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(hL)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(hL)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),yc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yc.multiply(e.parent.matrixWorld)),e.applyMatrix4(yc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const l=this.children[i].getObjectsByProperty(e,t);l.length>0&&(r=r.concat(l))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,e,q9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,X9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,l=i.length;s<l;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let h=0,c=o.length;h<c;h++){const u=o[h];s(e.shapes,u)}else s(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,h=this.material.length;o<h;o++)a.push(s(e.materials,this.material[o]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const o=this.animations[a];i.animations.push(s(e.animations,o))}}if(t){const a=l(e.geometries),o=l(e.materials),h=l(e.textures),c=l(e.images),u=l(e.shapes),d=l(e.skeletons),f=l(e.animations),p=l(e.nodes);a.length>0&&(r.geometries=a),o.length>0&&(r.materials=o),h.length>0&&(r.textures=h),c.length>0&&(r.images=c),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),f.length>0&&(r.animations=f),p.length>0&&(r.nodes=p)}return r.object=i,r;function l(a){const o=[];for(const h in a){const c=a[h];delete c.metadata,o.push(c)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}kn.DEFAULT_UP=new fe(0,1,0);kn.DEFAULT_MATRIX_AUTO_UPDATE=!0;kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Da=new fe,xc=new fe,x1=new fe,_c=new fe,sp=new fe,op=new fe,dL=new fe,_1=new fe,b1=new fe,w1=new fe;let j0=!1;class Ys{constructor(e=new fe,t=new fe,r=new fe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Da.subVectors(e,t),i.cross(Da);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Da.subVectors(i,t),xc.subVectors(r,t),x1.subVectors(e,t);const l=Da.dot(Da),a=Da.dot(xc),o=Da.dot(x1),h=xc.dot(xc),c=xc.dot(x1),u=l*h-a*a;if(u===0)return s.set(-2,-1,-1);const d=1/u,f=(h*o-a*c)*d,p=(l*c-a*o)*d;return s.set(1-f-p,p,f)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,_c),_c.x>=0&&_c.y>=0&&_c.x+_c.y<=1}static getUV(e,t,r,i,s,l,a,o){return j0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),j0=!0),this.getInterpolation(e,t,r,i,s,l,a,o)}static getInterpolation(e,t,r,i,s,l,a,o){return this.getBarycoord(e,t,r,i,_c),o.setScalar(0),o.addScaledVector(s,_c.x),o.addScaledVector(l,_c.y),o.addScaledVector(a,_c.z),o}static isFrontFacing(e,t,r,i){return Da.subVectors(r,t),xc.subVectors(e,t),Da.cross(xc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Da.subVectors(this.c,this.b),xc.subVectors(this.a,this.b),Da.cross(xc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ys.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ys.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return j0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),j0=!0),Ys.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Ys.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ys.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ys.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let l,a;sp.subVectors(i,r),op.subVectors(s,r),_1.subVectors(e,r);const o=sp.dot(_1),h=op.dot(_1);if(o<=0&&h<=0)return t.copy(r);b1.subVectors(e,i);const c=sp.dot(b1),u=op.dot(b1);if(c>=0&&u<=c)return t.copy(i);const d=o*u-c*h;if(d<=0&&o>=0&&c<=0)return l=o/(o-c),t.copy(r).addScaledVector(sp,l);w1.subVectors(e,s);const f=sp.dot(w1),p=op.dot(w1);if(p>=0&&f<=p)return t.copy(s);const m=f*h-o*p;if(m<=0&&h>=0&&p<=0)return a=h/(h-p),t.copy(r).addScaledVector(op,a);const g=c*p-f*u;if(g<=0&&u-c>=0&&f-p>=0)return dL.subVectors(s,i),a=(u-c)/(u-c+(f-p)),t.copy(i).addScaledVector(dL,a);const v=1/(g+m+d);return l=m*v,a=d*v,t.copy(r).addScaledVector(sp,l).addScaledVector(op,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Z9=0;class Ji extends Kc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Z9++}),this.uuid=wo(),this.name="",this.type="Material",this.blending=Pd,this.side=Bc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=DT,this.blendDst=NT,this.blendEquation=bd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=b_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=s$,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=r_,this.stencilZFail=r_,this.stencilZPass=r_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pd&&(r.blending=this.blending),this.side!==Bc&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const l=[];for(const a in s){const o=s[a];delete o.metadata,l.push(o)}return l}if(t){const s=i(e.textures),l=i(e.images);s.length>0&&(r.textures=s),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const m$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Na={h:0,s:0,l:0},H0={h:0,s:0,l:0};function S1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let yt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=on){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ko.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Ko.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ko.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Ko.workingColorSpace){if(e=qT(e,1),t=Fr(t,0,1),r=Fr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,l=2*r-s;this.r=S1(l,s,e+1/3),this.g=S1(l,s,e),this.b=S1(l,s,e-1/3)}return Ko.toWorkingColorSpace(this,i),this}setStyle(e,t=on){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=i[1],a=i[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=on){const r=m$[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Fp(e.r),this.g=Fp(e.g),this.b=Fp(e.b),this}copyLinearToSRGB(e){return this.r=h1(e.r),this.g=h1(e.g),this.b=h1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=on){return Ko.fromWorkingColorSpace(os.copy(this),e),Math.round(Fr(os.r*255,0,255))*65536+Math.round(Fr(os.g*255,0,255))*256+Math.round(Fr(os.b*255,0,255))}getHexString(e=on){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ko.workingColorSpace){Ko.fromWorkingColorSpace(os.copy(this),t);const r=os.r,i=os.g,s=os.b,l=Math.max(r,i,s),a=Math.min(r,i,s);let o,h;const c=(a+l)/2;if(a===l)o=0,h=0;else{const u=l-a;switch(h=c<=.5?u/(l+a):u/(2-l-a),l){case r:o=(i-s)/u+(i<s?6:0);break;case i:o=(s-r)/u+2;break;case s:o=(r-i)/u+4;break}o/=6}return e.h=o,e.s=h,e.l=c,e}getRGB(e,t=Ko.workingColorSpace){return Ko.fromWorkingColorSpace(os.copy(this),t),e.r=os.r,e.g=os.g,e.b=os.b,e}getStyle(e=on){Ko.fromWorkingColorSpace(os.copy(this),e);const t=os.r,r=os.g,i=os.b;return e!==on?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Na),Na.h+=e,Na.s+=t,Na.l+=r,this.setHSL(Na.h,Na.s,Na.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Na),e.getHSL(H0);const r=iv(Na.h,H0.h,t),i=iv(Na.s,H0.s,t),s=iv(Na.l,H0.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const os=new yt;yt.NAMES=m$;class fh extends Ji{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ec=J9();function J9(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let o=0;o<256;++o){const h=o-127;h<-27?(r[o]=0,r[o|256]=32768,i[o]=24,i[o|256]=24):h<-14?(r[o]=1024>>-h-14,r[o|256]=1024>>-h-14|32768,i[o]=-h-1,i[o|256]=-h-1):h<=15?(r[o]=h+15<<10,r[o|256]=h+15<<10|32768,i[o]=13,i[o|256]=13):h<128?(r[o]=31744,r[o|256]=64512,i[o]=24,i[o|256]=24):(r[o]=31744,r[o|256]=64512,i[o]=13,i[o|256]=13)}const s=new Uint32Array(2048),l=new Uint32Array(64),a=new Uint32Array(64);for(let o=1;o<1024;++o){let h=o<<13,c=0;for(;(h&8388608)===0;)h<<=1,c-=8388608;h&=-8388609,c+=947912704,s[o]=h|c}for(let o=1024;o<2048;++o)s[o]=939524096+(o-1024<<13);for(let o=1;o<31;++o)l[o]=o<<23;l[31]=1199570944,l[32]=2147483648;for(let o=33;o<63;++o)l[o]=2147483648+(o-32<<23);l[63]=3347054592;for(let o=1;o<64;++o)o!==32&&(a[o]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:a}}function qs(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Fr(n,-65504,65504),Ec.floatView[0]=n;const e=Ec.uint32View[0],t=e>>23&511;return Ec.baseTable[t]+((e&8388607)>>Ec.shiftTable[t])}function Gm(n){const e=n>>10;return Ec.uint32View[0]=Ec.mantissaTable[Ec.offsetTable[e]+(n&1023)]+Ec.exponentTable[e],Ec.floatView[0]}const Q9={toHalfFloat:qs,fromHalfFloat:Gm},ni=new fe,W0=new Ve;class Jn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=wv,this.updateRange={offset:0,count:-1},this.gpuType=yl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)W0.fromBufferAttribute(this,t),W0.applyMatrix3(e),this.setXY(t,W0.x,W0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix3(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ni.fromBufferAttribute(this,t),ni.applyMatrix4(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ni.fromBufferAttribute(this,t),ni.applyNormalMatrix(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ni.fromBufferAttribute(this,t),ni.transformDirection(e),this.setXYZ(t,ni.x,ni.y,ni.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=bo(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=bo(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=bo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=bo(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==wv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class e7 extends Jn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class t7 extends Jn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class n7 extends Jn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class r7 extends Jn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class ZT extends Jn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class i7 extends Jn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class JT extends Jn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class s7 extends Jn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Gm(this.array[e*this.itemSize]);return this.normalized&&(t=bo(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=qs(t),this}getY(e){let t=Gm(this.array[e*this.itemSize+1]);return this.normalized&&(t=bo(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=qs(t),this}getZ(e){let t=Gm(this.array[e*this.itemSize+2]);return this.normalized&&(t=bo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=qs(t),this}getW(e){let t=Gm(this.array[e*this.itemSize+3]);return this.normalized&&(t=bo(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=qs(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array)),this.array[e+0]=qs(t),this.array[e+1]=qs(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array)),this.array[e+0]=qs(t),this.array[e+1]=qs(r),this.array[e+2]=qs(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.array[e+0]=qs(t),this.array[e+1]=qs(r),this.array[e+2]=qs(i),this.array[e+3]=qs(s),this}}class At extends Jn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class o7 extends Jn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let a7=0;const Uo=new tn,C1=new kn,ap=new fe,mo=new Dl,Mm=new Dl,Li=new fe;class dn extends Kc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:a7++}),this.uuid=wo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(g$(e)?JT:ZT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new un().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Uo.makeRotationFromQuaternion(e),this.applyMatrix4(Uo),this}rotateX(e){return Uo.makeRotationX(e),this.applyMatrix4(Uo),this}rotateY(e){return Uo.makeRotationY(e),this.applyMatrix4(Uo),this}rotateZ(e){return Uo.makeRotationZ(e),this.applyMatrix4(Uo),this}translate(e,t,r){return Uo.makeTranslation(e,t,r),this.applyMatrix4(Uo),this}scale(e,t,r){return Uo.makeScale(e,t,r),this.applyMatrix4(Uo),this}lookAt(e){return C1.lookAt(e),C1.updateMatrix(),this.applyMatrix4(C1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ap).negate(),this.translate(ap.x,ap.y,ap.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new At(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Dl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];mo.setFromBufferAttribute(s),this.morphTargetsRelative?(Li.addVectors(this.boundingBox.min,mo.min),this.boundingBox.expandByPoint(Li),Li.addVectors(this.boundingBox.max,mo.max),this.boundingBox.expandByPoint(Li)):(this.boundingBox.expandByPoint(mo.min),this.boundingBox.expandByPoint(mo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new fe,1/0);return}if(e){const r=this.boundingSphere.center;if(mo.setFromBufferAttribute(e),t)for(let s=0,l=t.length;s<l;s++){const a=t[s];Mm.setFromBufferAttribute(a),this.morphTargetsRelative?(Li.addVectors(mo.min,Mm.min),mo.expandByPoint(Li),Li.addVectors(mo.max,Mm.max),mo.expandByPoint(Li)):(mo.expandByPoint(Mm.min),mo.expandByPoint(Mm.max))}mo.getCenter(r);let i=0;for(let s=0,l=e.count;s<l;s++)Li.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Li));if(t)for(let s=0,l=t.length;s<l;s++){const a=t[s],o=this.morphTargetsRelative;for(let h=0,c=a.count;h<c;h++)Li.fromBufferAttribute(a,h),o&&(ap.fromBufferAttribute(e,h),Li.add(ap)),i=Math.max(i,r.distanceToSquared(Li))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,l=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jn(new Float32Array(4*a),4));const o=this.getAttribute("tangent").array,h=[],c=[];for(let P=0;P<a;P++)h[P]=new fe,c[P]=new fe;const u=new fe,d=new fe,f=new fe,p=new Ve,m=new Ve,g=new Ve,v=new fe,y=new fe;function _(P,N,D){u.fromArray(i,P*3),d.fromArray(i,N*3),f.fromArray(i,D*3),p.fromArray(l,P*2),m.fromArray(l,N*2),g.fromArray(l,D*2),d.sub(u),f.sub(u),m.sub(p),g.sub(p);const L=1/(m.x*g.y-g.x*m.y);isFinite(L)&&(v.copy(d).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(L),y.copy(f).multiplyScalar(m.x).addScaledVector(d,-g.x).multiplyScalar(L),h[P].add(v),h[N].add(v),h[D].add(v),c[P].add(y),c[N].add(y),c[D].add(y))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let P=0,N=w.length;P<N;++P){const D=w[P],L=D.start,I=D.count;for(let O=L,F=L+I;O<F;O+=3)_(r[O+0],r[O+1],r[O+2])}const C=new fe,b=new fe,T=new fe,A=new fe;function k(P){T.fromArray(s,P*3),A.copy(T);const N=h[P];C.copy(N),C.sub(T.multiplyScalar(T.dot(N))).normalize(),b.crossVectors(A,N);const L=b.dot(c[P])<0?-1:1;o[P*4]=C.x,o[P*4+1]=C.y,o[P*4+2]=C.z,o[P*4+3]=L}for(let P=0,N=w.length;P<N;++P){const D=w[P],L=D.start,I=D.count;for(let O=L,F=L+I;O<F;O+=3)k(r[O+0]),k(r[O+1]),k(r[O+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Jn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,f=r.count;d<f;d++)r.setXYZ(d,0,0,0);const i=new fe,s=new fe,l=new fe,a=new fe,o=new fe,h=new fe,c=new fe,u=new fe;if(e)for(let d=0,f=e.count;d<f;d+=3){const p=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);i.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),l.fromBufferAttribute(t,g),c.subVectors(l,s),u.subVectors(i,s),c.cross(u),a.fromBufferAttribute(r,p),o.fromBufferAttribute(r,m),h.fromBufferAttribute(r,g),a.add(c),o.add(c),h.add(c),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(m,o.x,o.y,o.z),r.setXYZ(g,h.x,h.y,h.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),l.fromBufferAttribute(t,d+2),c.subVectors(l,s),u.subVectors(i,s),c.cross(u),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Li.fromBufferAttribute(e,t),Li.normalize(),e.setXYZ(t,Li.x,Li.y,Li.z)}toNonIndexed(){function e(a,o){const h=a.array,c=a.itemSize,u=a.normalized,d=new h.constructor(o.length*c);let f=0,p=0;for(let m=0,g=o.length;m<g;m++){a.isInterleavedBufferAttribute?f=o[m]*a.data.stride+a.offset:f=o[m]*c;for(let v=0;v<c;v++)d[p++]=h[f++]}return new Jn(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dn,r=this.index.array,i=this.attributes;for(const a in i){const o=i[a],h=e(o,r);t.setAttribute(a,h)}const s=this.morphAttributes;for(const a in s){const o=[],h=s[a];for(let c=0,u=h.length;c<u;c++){const d=h[c],f=e(d,r);o.push(f)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let a=0,o=l.length;a<o;a++){const h=l[a];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const h in o)o[h]!==void 0&&(e[h]=o[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const o in r){const h=r[o];e.data.attributes[o]=h.toJSON(e.data)}const i={};let s=!1;for(const o in this.morphAttributes){const h=this.morphAttributes[o],c=[];for(let u=0,d=h.length;u<d;u++){const f=h[u];c.push(f.toJSON(e.data))}c.length>0&&(i[o]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const h in i){const c=i[h];this.setAttribute(h,c.clone(t))}const s=e.morphAttributes;for(const h in s){const c=[],u=s[h];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(t));this.morphAttributes[h]=c}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let h=0,c=l.length;h<c;h++){const u=l[h];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fL=new tn,od=new ef,V0=new qa,pL=new fe,lp=new fe,cp=new fe,up=new fe,E1=new fe,G0=new fe,K0=new Ve,q0=new Ve,X0=new Ve,gL=new fe,mL=new fe,vL=new fe,Y0=new fe,Z0=new fe;class Zi extends kn{constructor(e=new dn,t=new fh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){G0.set(0,0,0);for(let o=0,h=s.length;o<h;o++){const c=a[o],u=s[o];c!==0&&(E1.fromBufferAttribute(u,e),l?G0.addScaledVector(E1,c):G0.addScaledVector(E1.sub(t),c))}t.add(G0)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),V0.copy(r.boundingSphere),V0.applyMatrix4(s),od.copy(e.ray).recast(e.near),!(V0.containsPoint(od.origin)===!1&&(od.intersectSphere(V0,pL)===null||od.origin.distanceToSquared(pL)>(e.far-e.near)**2))&&(fL.copy(s).invert(),od.copy(e.ray).applyMatrix4(fL),!(r.boundingBox!==null&&od.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,od)))}_computeIntersections(e,t,r){let i;const s=this.geometry,l=this.material,a=s.index,o=s.attributes.position,h=s.attributes.uv,c=s.attributes.uv1,u=s.attributes.normal,d=s.groups,f=s.drawRange;if(a!==null)if(Array.isArray(l))for(let p=0,m=d.length;p<m;p++){const g=d[p],v=l[g.materialIndex],y=Math.max(g.start,f.start),_=Math.min(a.count,Math.min(g.start+g.count,f.start+f.count));for(let w=y,C=_;w<C;w+=3){const b=a.getX(w),T=a.getX(w+1),A=a.getX(w+2);i=J0(this,v,e,r,h,c,u,b,T,A),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,f.start),m=Math.min(a.count,f.start+f.count);for(let g=p,v=m;g<v;g+=3){const y=a.getX(g),_=a.getX(g+1),w=a.getX(g+2);i=J0(this,l,e,r,h,c,u,y,_,w),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(o!==void 0)if(Array.isArray(l))for(let p=0,m=d.length;p<m;p++){const g=d[p],v=l[g.materialIndex],y=Math.max(g.start,f.start),_=Math.min(o.count,Math.min(g.start+g.count,f.start+f.count));for(let w=y,C=_;w<C;w+=3){const b=w,T=w+1,A=w+2;i=J0(this,v,e,r,h,c,u,b,T,A),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const p=Math.max(0,f.start),m=Math.min(o.count,f.start+f.count);for(let g=p,v=m;g<v;g+=3){const y=g,_=g+1,w=g+2;i=J0(this,l,e,r,h,c,u,y,_,w),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function l7(n,e,t,r,i,s,l,a){let o;if(e.side===Ps?o=r.intersectTriangle(l,s,i,!0,a):o=r.intersectTriangle(i,s,l,e.side===Bc,a),o===null)return null;Z0.copy(a),Z0.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(Z0);return h<t.near||h>t.far?null:{distance:h,point:Z0.clone(),object:n}}function J0(n,e,t,r,i,s,l,a,o,h){n.getVertexPosition(a,lp),n.getVertexPosition(o,cp),n.getVertexPosition(h,up);const c=l7(n,e,t,r,lp,cp,up,Y0);if(c){i&&(K0.fromBufferAttribute(i,a),q0.fromBufferAttribute(i,o),X0.fromBufferAttribute(i,h),c.uv=Ys.getInterpolation(Y0,lp,cp,up,K0,q0,X0,new Ve)),s&&(K0.fromBufferAttribute(s,a),q0.fromBufferAttribute(s,o),X0.fromBufferAttribute(s,h),c.uv1=Ys.getInterpolation(Y0,lp,cp,up,K0,q0,X0,new Ve),c.uv2=c.uv1),l&&(gL.fromBufferAttribute(l,a),mL.fromBufferAttribute(l,o),vL.fromBufferAttribute(l,h),c.normal=Ys.getInterpolation(Y0,lp,cp,up,gL,mL,vL,new fe),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const u={a,b:o,c:h,normal:new fe,materialIndex:0};Ys.getNormal(lp,cp,up,u.normal),c.face=u}return c}class ph extends dn{constructor(e=1,t=1,r=1,i=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:l};const a=this;i=Math.floor(i),s=Math.floor(s),l=Math.floor(l);const o=[],h=[],c=[],u=[];let d=0,f=0;p("z","y","x",-1,-1,r,t,e,l,s,0),p("z","y","x",1,-1,r,t,-e,l,s,1),p("x","z","y",1,1,e,r,t,i,l,2),p("x","z","y",1,-1,e,r,-t,i,l,3),p("x","y","z",1,-1,e,t,r,i,s,4),p("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(o),this.setAttribute("position",new At(h,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(u,2));function p(m,g,v,y,_,w,C,b,T,A,k){const P=w/T,N=C/A,D=w/2,L=C/2,I=b/2,O=T+1,F=A+1;let H=0,j=0;const z=new fe;for(let W=0;W<F;W++){const K=W*N-L;for(let X=0;X<O;X++){const J=X*P-D;z[m]=J*y,z[g]=K*_,z[v]=I,h.push(z.x,z.y,z.z),z[m]=0,z[g]=0,z[v]=b>0?1:-1,c.push(z.x,z.y,z.z),u.push(X/T),u.push(1-W/A),H+=1}}for(let W=0;W<A;W++)for(let K=0;K<T;K++){const X=d+K+O*W,J=d+K+O*(W+1),te=d+(K+1)+O*(W+1),re=d+(K+1)+O*W;o.push(X,J,re),o.push(J,te,re),j+=6}a.addGroup(f,j,k),f+=j,d+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ph(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gp(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ts(n){const e={};for(let t=0;t<n.length;t++){const r=Gp(n[t]);for(const i in r)e[i]=r[i]}return e}function c7(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function v$(n){return n.getRenderTarget()===null?n.outputColorSpace:Va}const y$={clone:Gp,merge:Ts};var u7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,h7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Tl extends Ji{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=u7,this.fragmentShader=h7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gp(e.uniforms),this.uniformsGroups=c7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?t.uniforms[i]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[i]={type:"m4",value:l.toArray()}:t.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class iy extends kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tn,this.projectionMatrix=new tn,this.projectionMatrixInverse=new tn,this.coordinateSystem=xl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class qr extends iy{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Vp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Od*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vp*2*Math.atan(Math.tan(Od*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Od*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const o=l.fullWidth,h=l.fullHeight;s+=l.offsetX*i/o,t-=l.offsetY*r/h,i*=l.width/o,r*=l.height/h}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const hp=-90,dp=1;class x$ extends kn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new qr(hp,dp,e,t);i.layers=this.layers,this.add(i);const s=new qr(hp,dp,e,t);s.layers=this.layers,this.add(s);const l=new qr(hp,dp,e,t);l.layers=this.layers,this.add(l);const a=new qr(hp,dp,e,t);a.layers=this.layers,this.add(a);const o=new qr(hp,dp,e,t);o.layers=this.layers,this.add(o);const h=new qr(hp,dp,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,l,a,o]=t;for(const h of t)this.remove(h);if(e===xl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else if(e===Sv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,l,a,o,h]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=Wa,e.xr.enabled=!1;const f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,l),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,o),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(t,h),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class sy extends $r{constructor(e,t,r,i,s,l,a,o,h,c){e=e!==void 0?e:[],t=t!==void 0?t:rh,super(e,t,r,i,s,l,a,o,h,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _$ extends Ga{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(sv("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Ju?on:Qu),this.texture=new sy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Kr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ph(5,5,5),s=new Tl({name:"CubemapFromEquirect",uniforms:Gp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ps,blending:Pc});s.uniforms.tEquirect.value=t;const l=new Zi(i,s),a=t.minFilter;return t.minFilter===sh&&(t.minFilter=Kr),new x$(1,10,this).update(e,l),t.minFilter=a,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,i);e.setRenderTarget(s)}}const M1=new fe,d7=new fe,f7=new un;class Cc{constructor(e=new fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=M1.subVectors(r,t).cross(d7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(M1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||f7.getNormalMatrix(e),i=this.coplanarPoint(M1).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ad=new qa,Q0=new fe;class Rb{constructor(e=new Cc,t=new Cc,r=new Cc,i=new Cc,s=new Cc,l=new Cc){this.planes=[e,t,r,i,s,l]}set(e,t,r,i,s,l){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=xl){const r=this.planes,i=e.elements,s=i[0],l=i[1],a=i[2],o=i[3],h=i[4],c=i[5],u=i[6],d=i[7],f=i[8],p=i[9],m=i[10],g=i[11],v=i[12],y=i[13],_=i[14],w=i[15];if(r[0].setComponents(o-s,d-h,g-f,w-v).normalize(),r[1].setComponents(o+s,d+h,g+f,w+v).normalize(),r[2].setComponents(o+l,d+c,g+p,w+y).normalize(),r[3].setComponents(o-l,d-c,g-p,w-y).normalize(),r[4].setComponents(o-a,d-u,g-m,w-_).normalize(),t===xl)r[5].setComponents(o+a,d+u,g+m,w+_).normalize();else if(t===Sv)r[5].setComponents(a,u,m,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ad.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ad.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ad)}intersectsSprite(e){return ad.center.set(0,0,0),ad.radius=.7071067811865476,ad.applyMatrix4(e.matrixWorld),this.intersectsSphere(ad)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Q0.x=i.normal.x>0?e.max.x:e.min.x,Q0.y=i.normal.y>0?e.max.y:e.min.y,Q0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Q0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function b$(){let n=null,e=!1,t=null,r=null;function i(s,l){t(s,l),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function p7(n,e){const t=e.isWebGL2,r=new WeakMap;function i(h,c){const u=h.array,d=h.usage,f=n.createBuffer();n.bindBuffer(c,f),n.bufferData(c,u,d),h.onUploadCallback();let p;if(u instanceof Float32Array)p=n.FLOAT;else if(u instanceof Uint16Array)if(h.isFloat16BufferAttribute)if(t)p=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=n.SHORT;else if(u instanceof Uint32Array)p=n.UNSIGNED_INT;else if(u instanceof Int32Array)p=n.INT;else if(u instanceof Int8Array)p=n.BYTE;else if(u instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:h.version}}function s(h,c,u){const d=c.array,f=c.updateRange;n.bindBuffer(u,h),f.count===-1?n.bufferSubData(u,0,d):(t?n.bufferSubData(u,f.offset*d.BYTES_PER_ELEMENT,d,f.offset,f.count):n.bufferSubData(u,f.offset*d.BYTES_PER_ELEMENT,d.subarray(f.offset,f.offset+f.count)),f.count=-1),c.onUploadCallback()}function l(h){return h.isInterleavedBufferAttribute&&(h=h.data),r.get(h)}function a(h){h.isInterleavedBufferAttribute&&(h=h.data);const c=r.get(h);c&&(n.deleteBuffer(c.buffer),r.delete(h))}function o(h,c){if(h.isGLBufferAttribute){const d=r.get(h);(!d||d.version<h.version)&&r.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const u=r.get(h);u===void 0?r.set(h,i(h,c)):u.version<h.version&&(s(u.buffer,h,c),u.version=h.version)}return{get:l,remove:a,update:o}}class cg extends dn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,l=t/2,a=Math.floor(r),o=Math.floor(i),h=a+1,c=o+1,u=e/a,d=t/o,f=[],p=[],m=[],g=[];for(let v=0;v<c;v++){const y=v*d-l;for(let _=0;_<h;_++){const w=_*u-s;p.push(w,-y,0),m.push(0,0,1),g.push(_/a),g.push(1-v/o)}}for(let v=0;v<o;v++)for(let y=0;y<a;y++){const _=y+h*v,w=y+h*(v+1),C=y+1+h*(v+1),b=y+1+h*v;f.push(_,w,b),f.push(w,C,b)}this.setIndex(f),this.setAttribute("position",new At(p,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cg(e.width,e.height,e.widthSegments,e.heightSegments)}}var g7=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,m7=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,v7=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,y7=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,x7=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_7=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b7="vec3 transformed = vec3( position );",w7=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,S7=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,C7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,E7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,M7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,T7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,A7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,k7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,R7=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,L7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,P7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,O7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,I7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,D7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,N7=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,B7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,F7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,z7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,U7="gl_FragColor = linearToOutputTexel( gl_FragColor );",j7=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,H7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,W7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,V7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,G7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,K7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,q7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,X7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Y7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Z7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,J7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Q7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,eK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tK=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nK=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iK=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,oK=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,aK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lK=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cK=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,uK=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hK=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dK=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fK=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,pK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,gK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,vK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,yK=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,xK=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,_K=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,bK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,SK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CK=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,EK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,MK=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,TK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,AK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,kK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,RK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,OK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,IK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,DK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,NK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,BK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$K=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,zK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,UK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,HK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,WK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,VK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,KK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,XK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,YK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ZK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,JK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,QK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,rq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,iq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,sq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,oq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lq=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,cq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,yq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_q=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,bq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Sq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cq=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Eq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,kq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Lq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Pq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Dq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$q=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Hq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cn={alphamap_fragment:g7,alphamap_pars_fragment:m7,alphatest_fragment:v7,alphatest_pars_fragment:y7,aomap_fragment:x7,aomap_pars_fragment:_7,begin_vertex:b7,beginnormal_vertex:w7,bsdfs:S7,iridescence_fragment:C7,bumpmap_pars_fragment:E7,clipping_planes_fragment:M7,clipping_planes_pars_fragment:T7,clipping_planes_pars_vertex:A7,clipping_planes_vertex:k7,color_fragment:R7,color_pars_fragment:L7,color_pars_vertex:P7,color_vertex:O7,common:I7,cube_uv_reflection_fragment:D7,defaultnormal_vertex:N7,displacementmap_pars_vertex:B7,displacementmap_vertex:F7,emissivemap_fragment:$7,emissivemap_pars_fragment:z7,encodings_fragment:U7,encodings_pars_fragment:j7,envmap_fragment:H7,envmap_common_pars_fragment:W7,envmap_pars_fragment:V7,envmap_pars_vertex:G7,envmap_physical_pars_fragment:iK,envmap_vertex:K7,fog_vertex:q7,fog_pars_vertex:X7,fog_fragment:Y7,fog_pars_fragment:Z7,gradientmap_pars_fragment:J7,lightmap_fragment:Q7,lightmap_pars_fragment:eK,lights_lambert_fragment:tK,lights_lambert_pars_fragment:nK,lights_pars_begin:rK,lights_toon_fragment:sK,lights_toon_pars_fragment:oK,lights_phong_fragment:aK,lights_phong_pars_fragment:lK,lights_physical_fragment:cK,lights_physical_pars_fragment:uK,lights_fragment_begin:hK,lights_fragment_maps:dK,lights_fragment_end:fK,logdepthbuf_fragment:pK,logdepthbuf_pars_fragment:gK,logdepthbuf_pars_vertex:mK,logdepthbuf_vertex:vK,map_fragment:yK,map_pars_fragment:xK,map_particle_fragment:_K,map_particle_pars_fragment:bK,metalnessmap_fragment:wK,metalnessmap_pars_fragment:SK,morphcolor_vertex:CK,morphnormal_vertex:EK,morphtarget_pars_vertex:MK,morphtarget_vertex:TK,normal_fragment_begin:AK,normal_fragment_maps:kK,normal_pars_fragment:RK,normal_pars_vertex:LK,normal_vertex:PK,normalmap_pars_fragment:OK,clearcoat_normal_fragment_begin:IK,clearcoat_normal_fragment_maps:DK,clearcoat_pars_fragment:NK,iridescence_pars_fragment:BK,output_fragment:FK,packing:$K,premultiplied_alpha_fragment:zK,project_vertex:UK,dithering_fragment:jK,dithering_pars_fragment:HK,roughnessmap_fragment:WK,roughnessmap_pars_fragment:VK,shadowmap_pars_fragment:GK,shadowmap_pars_vertex:KK,shadowmap_vertex:qK,shadowmask_pars_fragment:XK,skinbase_vertex:YK,skinning_pars_vertex:ZK,skinning_vertex:JK,skinnormal_vertex:QK,specularmap_fragment:eq,specularmap_pars_fragment:tq,tonemapping_fragment:nq,tonemapping_pars_fragment:rq,transmission_fragment:iq,transmission_pars_fragment:sq,uv_pars_fragment:oq,uv_pars_vertex:aq,uv_vertex:lq,worldpos_vertex:cq,background_vert:uq,background_frag:hq,backgroundCube_vert:dq,backgroundCube_frag:fq,cube_vert:pq,cube_frag:gq,depth_vert:mq,depth_frag:vq,distanceRGBA_vert:yq,distanceRGBA_frag:xq,equirect_vert:_q,equirect_frag:bq,linedashed_vert:wq,linedashed_frag:Sq,meshbasic_vert:Cq,meshbasic_frag:Eq,meshlambert_vert:Mq,meshlambert_frag:Tq,meshmatcap_vert:Aq,meshmatcap_frag:kq,meshnormal_vert:Rq,meshnormal_frag:Lq,meshphong_vert:Pq,meshphong_frag:Oq,meshphysical_vert:Iq,meshphysical_frag:Dq,meshtoon_vert:Nq,meshtoon_frag:Bq,points_vert:Fq,points_frag:$q,shadow_vert:zq,shadow_frag:Uq,sprite_vert:jq,sprite_frag:Hq},ct={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new un}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new un}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new un}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new un},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new un},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new un},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new un}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new un}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new un}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0},uvTransform:{value:new un}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}}},Ua={basic:{uniforms:Ts([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:Ts([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new yt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:Ts([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:Ts([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:Ts([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new yt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:Ts([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:Ts([ct.points,ct.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:Ts([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:Ts([ct.common,ct.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:Ts([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:Ts([ct.sprite,ct.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new un},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:Ts([ct.common,ct.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:Ts([ct.lights,ct.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};Ua.physical={uniforms:Ts([Ua.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new un},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new un},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new un},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new un},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new un},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new un},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new un},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new un},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new un},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new un},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new un},anisotropyVector:{value:new Ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new un}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const ex={r:0,b:0,g:0};function Wq(n,e,t,r,i,s,l){const a=new yt(0);let o=s===!0?0:1,h,c,u=null,d=0,f=null;function p(g,v){let y=!1,_=v.isScene===!0?v.background:null;switch(_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_===null?m(a,o):_&&_.isColor&&(m(_,1),y=!0),n.xr.getEnvironmentBlendMode()){case"opaque":y=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,l),y=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,l),y=!0;break}(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===lg)?(c===void 0&&(c=new Zi(new ph(1,1,1),new Tl({name:"BackgroundCubeMaterial",uniforms:Gp(Ua.backgroundCube.uniforms),vertexShader:Ua.backgroundCube.vertexShader,fragmentShader:Ua.backgroundCube.fragmentShader,side:Ps,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(b,T,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.colorSpace!==on,(u!==_||d!==_.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=_,d=_.version,f=n.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(h===void 0&&(h=new Zi(new cg(2,2),new Tl({name:"BackgroundMaterial",uniforms:Gp(Ua.background.uniforms),vertexShader:Ua.background.vertexShader,fragmentShader:Ua.background.fragmentShader,side:Bc,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(h)),h.material.uniforms.t2D.value=_,h.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,h.material.toneMapped=_.colorSpace!==on,_.matrixAutoUpdate===!0&&_.updateMatrix(),h.material.uniforms.uvTransform.value.copy(_.matrix),(u!==_||d!==_.version||f!==n.toneMapping)&&(h.material.needsUpdate=!0,u=_,d=_.version,f=n.toneMapping),h.layers.enableAll(),g.unshift(h,h.geometry,h.material,0,0,null))}function m(g,v){g.getRGB(ex,v$(n)),r.buffers.color.setClear(ex.r,ex.g,ex.b,v,l)}return{getClearColor:function(){return a},setClearColor:function(g,v=1){a.set(g),o=v,m(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(g){o=g,m(a,o)},render:p}}function Vq(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),l=r.isWebGL2||s!==null,a={},o=g(null);let h=o,c=!1;function u(I,O,F,H,j){let z=!1;if(l){const W=m(H,F,O);h!==W&&(h=W,f(h.object)),z=v(I,H,F,j),z&&y(I,H,F,j)}else{const W=O.wireframe===!0;(h.geometry!==H.id||h.program!==F.id||h.wireframe!==W)&&(h.geometry=H.id,h.program=F.id,h.wireframe=W,z=!0)}j!==null&&t.update(j,n.ELEMENT_ARRAY_BUFFER),(z||c)&&(c=!1,A(I,O,F,H),j!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(j).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function f(I){return r.isWebGL2?n.bindVertexArray(I):s.bindVertexArrayOES(I)}function p(I){return r.isWebGL2?n.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function m(I,O,F){const H=F.wireframe===!0;let j=a[I.id];j===void 0&&(j={},a[I.id]=j);let z=j[O.id];z===void 0&&(z={},j[O.id]=z);let W=z[H];return W===void 0&&(W=g(d()),z[H]=W),W}function g(I){const O=[],F=[],H=[];for(let j=0;j<i;j++)O[j]=0,F[j]=0,H[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:F,attributeDivisors:H,object:I,attributes:{},index:null}}function v(I,O,F,H){const j=h.attributes,z=O.attributes;let W=0;const K=F.getAttributes();for(const X in K)if(K[X].location>=0){const te=j[X];let re=z[X];if(re===void 0&&(X==="instanceMatrix"&&I.instanceMatrix&&(re=I.instanceMatrix),X==="instanceColor"&&I.instanceColor&&(re=I.instanceColor)),te===void 0||te.attribute!==re||re&&te.data!==re.data)return!0;W++}return h.attributesNum!==W||h.index!==H}function y(I,O,F,H){const j={},z=O.attributes;let W=0;const K=F.getAttributes();for(const X in K)if(K[X].location>=0){let te=z[X];te===void 0&&(X==="instanceMatrix"&&I.instanceMatrix&&(te=I.instanceMatrix),X==="instanceColor"&&I.instanceColor&&(te=I.instanceColor));const re={};re.attribute=te,te&&te.data&&(re.data=te.data),j[X]=re,W++}h.attributes=j,h.attributesNum=W,h.index=H}function _(){const I=h.newAttributes;for(let O=0,F=I.length;O<F;O++)I[O]=0}function w(I){C(I,0)}function C(I,O){const F=h.newAttributes,H=h.enabledAttributes,j=h.attributeDivisors;F[I]=1,H[I]===0&&(n.enableVertexAttribArray(I),H[I]=1),j[I]!==O&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,O),j[I]=O)}function b(){const I=h.newAttributes,O=h.enabledAttributes;for(let F=0,H=O.length;F<H;F++)O[F]!==I[F]&&(n.disableVertexAttribArray(F),O[F]=0)}function T(I,O,F,H,j,z,W){W===!0?n.vertexAttribIPointer(I,O,F,j,z):n.vertexAttribPointer(I,O,F,H,j,z)}function A(I,O,F,H){if(r.isWebGL2===!1&&(I.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const j=H.attributes,z=F.getAttributes(),W=O.defaultAttributeValues;for(const K in z){const X=z[K];if(X.location>=0){let J=j[K];if(J===void 0&&(K==="instanceMatrix"&&I.instanceMatrix&&(J=I.instanceMatrix),K==="instanceColor"&&I.instanceColor&&(J=I.instanceColor)),J!==void 0){const te=J.normalized,re=J.itemSize,ae=t.get(J);if(ae===void 0)continue;const ie=ae.buffer,Q=ae.type,se=ae.bytesPerElement,de=r.isWebGL2===!0&&(Q===n.INT||Q===n.UNSIGNED_INT||J.gpuType===$T);if(J.isInterleavedBufferAttribute){const xe=J.data,ne=xe.stride,ye=J.offset;if(xe.isInstancedInterleavedBuffer){for(let _e=0;_e<X.locationSize;_e++)C(X.location+_e,xe.meshPerAttribute);I.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let _e=0;_e<X.locationSize;_e++)w(X.location+_e);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let _e=0;_e<X.locationSize;_e++)T(X.location+_e,re/X.locationSize,Q,te,ne*se,(ye+re/X.locationSize*_e)*se,de)}else{if(J.isInstancedBufferAttribute){for(let xe=0;xe<X.locationSize;xe++)C(X.location+xe,J.meshPerAttribute);I.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let xe=0;xe<X.locationSize;xe++)w(X.location+xe);n.bindBuffer(n.ARRAY_BUFFER,ie);for(let xe=0;xe<X.locationSize;xe++)T(X.location+xe,re/X.locationSize,Q,te,re*se,re/X.locationSize*xe*se,de)}}else if(W!==void 0){const te=W[K];if(te!==void 0)switch(te.length){case 2:n.vertexAttrib2fv(X.location,te);break;case 3:n.vertexAttrib3fv(X.location,te);break;case 4:n.vertexAttrib4fv(X.location,te);break;default:n.vertexAttrib1fv(X.location,te)}}}}b()}function k(){D();for(const I in a){const O=a[I];for(const F in O){const H=O[F];for(const j in H)p(H[j].object),delete H[j];delete O[F]}delete a[I]}}function P(I){if(a[I.id]===void 0)return;const O=a[I.id];for(const F in O){const H=O[F];for(const j in H)p(H[j].object),delete H[j];delete O[F]}delete a[I.id]}function N(I){for(const O in a){const F=a[O];if(F[I.id]===void 0)continue;const H=F[I.id];for(const j in H)p(H[j].object),delete H[j];delete F[I.id]}}function D(){L(),c=!0,h!==o&&(h=o,f(h.object))}function L(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:u,reset:D,resetDefaultState:L,dispose:k,releaseStatesOfGeometry:P,releaseStatesOfProgram:N,initAttributes:_,enableAttribute:w,disableUnusedAttributes:b}}function Gq(n,e,t,r){const i=r.isWebGL2;let s;function l(h){s=h}function a(h,c){n.drawArrays(s,h,c),t.update(c,s,1)}function o(h,c,u){if(u===0)return;let d,f;if(i)d=n,f="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[f](s,h,c,u),t.update(c,s,u)}this.setMode=l,this.render=a,this.renderInstances=o}function Kq(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const o=s(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const h=l||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,u=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=d>0,w=l||e.has("OES_texture_float"),C=_&&w,b=l?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:h,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:_,floatFragmentTextures:w,floatVertexTextures:C,maxSamples:b}}function qq(n){const e=this;let t=null,r=0,i=!1,s=!1;const l=new Cc,a=new un,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const f=u.length!==0||d||r!==0||i;return i=d,r=u.length,f},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,d){t=c(u,d,0)},this.setState=function(u,d,f){const p=u.clippingPlanes,m=u.clipIntersection,g=u.clipShadows,v=n.get(u);if(!i||p===null||p.length===0||s&&!g)s?c(null):h();else{const y=s?0:r,_=y*4;let w=v.clippingState||null;o.value=w,w=c(p,d,_,f);for(let C=0;C!==_;++C)w[C]=t[C];v.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function h(){o.value!==t&&(o.value=t,o.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(u,d,f,p){const m=u!==null?u.length:0;let g=null;if(m!==0){if(g=o.value,p!==!0||g===null){const v=f+m*4,y=d.matrixWorldInverse;a.getNormalMatrix(y),(g===null||g.length<v)&&(g=new Float32Array(v));for(let _=0,w=f;_!==m;++_,w+=4)l.copy(u[_]).applyMatrix4(y,a),l.normal.toArray(g,w),g[w+3]=l.constant}o.value=g,o.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function Xq(n){let e=new WeakMap;function t(l,a){return a===gv?l.mapping=rh:a===mv&&(l.mapping=ih),l}function r(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const a=l.mapping;if(a===gv||a===mv)if(e.has(l)){const o=e.get(l).texture;return t(o,l.mapping)}else{const o=l.image;if(o&&o.height>0){const h=new _$(o.height/2);return h.fromEquirectangularTexture(n,l),e.set(l,h),l.addEventListener("dispose",i),t(h.texture,l.mapping)}else return null}}return l}function i(l){const a=l.target;a.removeEventListener("dispose",i);const o=e.get(a);o!==void 0&&(e.delete(a),o.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class eh extends iy{constructor(e=-1,t=1,r=1,i=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,l=r+e,a=i+t,o=i-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,l=s+h*this.view.width,a-=c*this.view.offsetY,o=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,l,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ap=4,yL=[.125,.215,.35,.446,.526,.582],wd=20,T1=new eh,xL=new yt;let A1=null;const md=(1+Math.sqrt(5))/2,fp=1/md,_L=[new fe(1,1,1),new fe(-1,1,1),new fe(1,1,-1),new fe(-1,1,-1),new fe(0,md,fp),new fe(0,md,-fp),new fe(fp,0,md),new fe(-fp,0,md),new fe(md,fp,0),new fe(-md,fp,0)];class KE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){A1=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(A1),e.scissorTest=!1,tx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===rh||e.mapping===ih?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),A1=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Kr,minFilter:Kr,generateMipmaps:!1,type:Wp,format:Zs,colorSpace:Va,depthBuffer:!1},i=bL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bL(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Yq(s)),this._blurMaterial=Zq(s,e,t)}return i}_compileMaterial(e){const t=new Zi(this._lodPlanes[0],e);this._renderer.compile(t,T1)}_sceneToCubeUV(e,t,r,i){const a=new qr(90,1,t,r),o=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(xL),c.toneMapping=Wa,c.autoClear=!1;const f=new fh({name:"PMREM.Background",side:Ps,depthWrite:!1,depthTest:!1}),p=new Zi(new ph,f);let m=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,m=!0):(f.color.copy(xL),m=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(a.up.set(0,o[v],0),a.lookAt(h[v],0,0)):y===1?(a.up.set(0,0,o[v]),a.lookAt(0,h[v],0)):(a.up.set(0,o[v],0),a.lookAt(0,0,h[v]));const _=this._cubeSize;tx(i,y*_,v>2?_:0,_,_),c.setRenderTarget(i),m&&c.render(p,a),c.render(e,a)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=d,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===rh||e.mapping===ih;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=SL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wL());const s=i?this._cubemapMaterial:this._equirectMaterial,l=new Zi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const o=this._cubeSize;tx(t,0,0,3*o,2*o),r.setRenderTarget(t),r.render(l,T1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=_L[(i-1)%_L.length];this._blur(e,i-1,i,s,l)}t.autoClear=r}_blur(e,t,r,i,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,i,"latitudinal",s),this._halfBlur(l,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,l,a){const o=this._renderer,h=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Zi(this._lodPlanes[i],h),d=h.uniforms,f=this._sizeLods[r]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*wd-1),m=s/p,g=isFinite(s)?1+Math.floor(c*m):wd;g>wd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${wd}`);const v=[];let y=0;for(let T=0;T<wd;++T){const A=T/m,k=Math.exp(-A*A/2);v.push(k),T===0?y+=k:T<g&&(y+=2*k)}for(let T=0;T<v.length;T++)v[T]=v[T]/y;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=v,d.latitudinal.value=l==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:_}=this;d.dTheta.value=p,d.mipInt.value=_-r;const w=this._sizeLods[i],C=3*w*(i>_-Ap?i-_+Ap:0),b=4*(this._cubeSize-w);tx(t,C,b,3*w,2*w),o.setRenderTarget(t),o.render(u,T1)}}function Yq(n){const e=[],t=[],r=[];let i=n;const s=n-Ap+1+yL.length;for(let l=0;l<s;l++){const a=Math.pow(2,i);t.push(a);let o=1/a;l>n-Ap?o=yL[l-n+Ap-1]:l===0&&(o=0),r.push(o);const h=1/(a-2),c=-h,u=1+h,d=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,p=6,m=3,g=2,v=1,y=new Float32Array(m*p*f),_=new Float32Array(g*p*f),w=new Float32Array(v*p*f);for(let b=0;b<f;b++){const T=b%3*2/3-1,A=b>2?0:-1,k=[T,A,0,T+2/3,A,0,T+2/3,A+1,0,T,A,0,T+2/3,A+1,0,T,A+1,0];y.set(k,m*p*b),_.set(d,g*p*b);const P=[b,b,b,b,b,b];w.set(P,v*p*b)}const C=new dn;C.setAttribute("position",new Jn(y,m)),C.setAttribute("uv",new Jn(_,g)),C.setAttribute("faceIndex",new Jn(w,v)),e.push(C),i>Ap&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function bL(n,e,t){const r=new Ga(n,e,t);return r.texture.mapping=lg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function tx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Zq(n,e,t){const r=new Float32Array(wd),i=new fe(0,1,0);return new Tl({name:"SphericalGaussianBlur",defines:{n:wd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:QT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function wL(){return new Tl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:QT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function SL(){return new Tl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:QT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function QT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Jq(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const o=a.mapping,h=o===gv||o===mv,c=o===rh||o===ih;if(h||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let u=e.get(a);return t===null&&(t=new KE(n)),u=h?t.fromEquirectangular(a,u):t.fromCubemap(a,u),e.set(a,u),u.texture}else{if(e.has(a))return e.get(a).texture;{const u=a.image;if(h&&u&&u.height>0||c&&u&&i(u)){t===null&&(t=new KE(n));const d=h?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let o=0;const h=6;for(let c=0;c<h;c++)a[c]!==void 0&&o++;return o===h}function s(a){const o=a.target;o.removeEventListener("dispose",s);const h=e.get(o);h!==void 0&&(e.delete(o),h.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function Qq(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function eX(n,e,t,r){const i={},s=new WeakMap;function l(u){const d=u.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);for(const p in d.morphAttributes){const m=d.morphAttributes[p];for(let g=0,v=m.length;g<v;g++)e.remove(m[g])}d.removeEventListener("dispose",l),delete i[d.id];const f=s.get(d);f&&(e.remove(f),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(u,d){return i[d.id]===!0||(d.addEventListener("dispose",l),i[d.id]=!0,t.memory.geometries++),d}function o(u){const d=u.attributes;for(const p in d)e.update(d[p],n.ARRAY_BUFFER);const f=u.morphAttributes;for(const p in f){const m=f[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],n.ARRAY_BUFFER)}}function h(u){const d=[],f=u.index,p=u.attributes.position;let m=0;if(f!==null){const y=f.array;m=f.version;for(let _=0,w=y.length;_<w;_+=3){const C=y[_+0],b=y[_+1],T=y[_+2];d.push(C,b,b,T,T,C)}}else{const y=p.array;m=p.version;for(let _=0,w=y.length/3-1;_<w;_+=3){const C=_+0,b=_+1,T=_+2;d.push(C,b,b,T,T,C)}}const g=new(g$(d)?JT:ZT)(d,1);g.version=m;const v=s.get(u);v&&e.remove(v),s.set(u,g)}function c(u){const d=s.get(u);if(d){const f=u.index;f!==null&&d.version<f.version&&h(u)}else h(u);return s.get(u)}return{get:a,update:o,getWireframeAttribute:c}}function tX(n,e,t,r){const i=r.isWebGL2;let s;function l(d){s=d}let a,o;function h(d){a=d.type,o=d.bytesPerElement}function c(d,f){n.drawElements(s,f,a,d*o),t.update(f,s,1)}function u(d,f,p){if(p===0)return;let m,g;if(i)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](s,f,a,d*o,p),t.update(f,s,p)}this.setMode=l,this.setIndex=h,this.render=c,this.renderInstances=u}function nX(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,l,a){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function rX(n,e){return n[0]-e[0]}function iX(n,e){return Math.abs(e[1])-Math.abs(n[1])}function sX(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,l=new jn,a=[];for(let h=0;h<8;h++)a[h]=[h,0];function o(h,c,u){const d=h.morphTargetInfluences;if(e.isWebGL2===!0){const p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=p!==void 0?p.length:0;let g=s.get(c);if(g===void 0||g.count!==m){let O=function(){L.dispose(),s.delete(c),c.removeEventListener("dispose",O)};var f=O;g!==void 0&&g.texture.dispose();const _=c.morphAttributes.position!==void 0,w=c.morphAttributes.normal!==void 0,C=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],T=c.morphAttributes.normal||[],A=c.morphAttributes.color||[];let k=0;_===!0&&(k=1),w===!0&&(k=2),C===!0&&(k=3);let P=c.attributes.position.count*k,N=1;P>e.maxTextureSize&&(N=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const D=new Float32Array(P*N*4*m),L=new kb(D,P,N,m);L.type=yl,L.needsUpdate=!0;const I=k*4;for(let F=0;F<m;F++){const H=b[F],j=T[F],z=A[F],W=P*N*4*F;for(let K=0;K<H.count;K++){const X=K*I;_===!0&&(l.fromBufferAttribute(H,K),D[W+X+0]=l.x,D[W+X+1]=l.y,D[W+X+2]=l.z,D[W+X+3]=0),w===!0&&(l.fromBufferAttribute(j,K),D[W+X+4]=l.x,D[W+X+5]=l.y,D[W+X+6]=l.z,D[W+X+7]=0),C===!0&&(l.fromBufferAttribute(z,K),D[W+X+8]=l.x,D[W+X+9]=l.y,D[W+X+10]=l.z,D[W+X+11]=z.itemSize===4?l.w:1)}}g={count:m,texture:L,size:new Ve(P,N)},s.set(c,g),c.addEventListener("dispose",O)}let v=0;for(let _=0;_<d.length;_++)v+=d[_];const y=c.morphTargetsRelative?1:1-v;u.getUniforms().setValue(n,"morphTargetBaseInfluence",y),u.getUniforms().setValue(n,"morphTargetInfluences",d),u.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const p=d===void 0?0:d.length;let m=r[c.id];if(m===void 0||m.length!==p){m=[];for(let w=0;w<p;w++)m[w]=[w,0];r[c.id]=m}for(let w=0;w<p;w++){const C=m[w];C[0]=w,C[1]=d[w]}m.sort(iX);for(let w=0;w<8;w++)w<p&&m[w][1]?(a[w][0]=m[w][0],a[w][1]=m[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(rX);const g=c.morphAttributes.position,v=c.morphAttributes.normal;let y=0;for(let w=0;w<8;w++){const C=a[w],b=C[0],T=C[1];b!==Number.MAX_SAFE_INTEGER&&T?(g&&c.getAttribute("morphTarget"+w)!==g[b]&&c.setAttribute("morphTarget"+w,g[b]),v&&c.getAttribute("morphNormal"+w)!==v[b]&&c.setAttribute("morphNormal"+w,v[b]),i[w]=T,y+=T):(g&&c.hasAttribute("morphTarget"+w)===!0&&c.deleteAttribute("morphTarget"+w),v&&c.hasAttribute("morphNormal"+w)===!0&&c.deleteAttribute("morphNormal"+w),i[w]=0)}const _=c.morphTargetsRelative?1:1-y;u.getUniforms().setValue(n,"morphTargetBaseInfluence",_),u.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:o}}function oX(n,e,t,r){let i=new WeakMap;function s(o){const h=r.render.frame,c=o.geometry,u=e.get(o,c);return i.get(u)!==h&&(e.update(u),i.set(u,h)),o.isInstancedMesh&&(o.hasEventListener("dispose",a)===!1&&o.addEventListener("dispose",a),t.update(o.instanceMatrix,n.ARRAY_BUFFER),o.instanceColor!==null&&t.update(o.instanceColor,n.ARRAY_BUFFER)),u}function l(){i=new WeakMap}function a(o){const h=o.target;h.removeEventListener("dispose",a),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:s,dispose:l}}const w$=new $r,S$=new kb,C$=new YT,E$=new sy,CL=[],EL=[],ML=new Float32Array(16),TL=new Float32Array(9),AL=new Float32Array(4);function ug(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=CL[i];if(s===void 0&&(s=new Float32Array(i),CL[i]=s),e!==0){r.toArray(s,0);for(let l=1,a=0;l!==e;++l)a+=t,n[l].toArray(s,a)}return s}function xi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function _i(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Lb(n,e){let t=EL[e];t===void 0&&(t=new Int32Array(e),EL[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function aX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;n.uniform2fv(this.addr,e),_i(t,e)}}function cX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(xi(t,e))return;n.uniform3fv(this.addr,e),_i(t,e)}}function uX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;n.uniform4fv(this.addr,e),_i(t,e)}}function hX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(xi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,r))return;AL.set(r),n.uniformMatrix2fv(this.addr,!1,AL),_i(t,r)}}function dX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(xi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,r))return;TL.set(r),n.uniformMatrix3fv(this.addr,!1,TL),_i(t,r)}}function fX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(xi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,r))return;ML.set(r),n.uniformMatrix4fv(this.addr,!1,ML),_i(t,r)}}function pX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function gX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;n.uniform2iv(this.addr,e),_i(t,e)}}function mX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xi(t,e))return;n.uniform3iv(this.addr,e),_i(t,e)}}function vX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;n.uniform4iv(this.addr,e),_i(t,e)}}function yX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;n.uniform2uiv(this.addr,e),_i(t,e)}}function _X(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xi(t,e))return;n.uniform3uiv(this.addr,e),_i(t,e)}}function bX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;n.uniform4uiv(this.addr,e),_i(t,e)}}function wX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||w$,i)}function SX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||C$,i)}function CX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||E$,i)}function EX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||S$,i)}function MX(n){switch(n){case 5126:return aX;case 35664:return lX;case 35665:return cX;case 35666:return uX;case 35674:return hX;case 35675:return dX;case 35676:return fX;case 5124:case 35670:return pX;case 35667:case 35671:return gX;case 35668:case 35672:return mX;case 35669:case 35673:return vX;case 5125:return yX;case 36294:return xX;case 36295:return _X;case 36296:return bX;case 35678:case 36198:case 36298:case 36306:case 35682:return wX;case 35679:case 36299:case 36307:return SX;case 35680:case 36300:case 36308:case 36293:return CX;case 36289:case 36303:case 36311:case 36292:return EX}}function TX(n,e){n.uniform1fv(this.addr,e)}function AX(n,e){const t=ug(e,this.size,2);n.uniform2fv(this.addr,t)}function kX(n,e){const t=ug(e,this.size,3);n.uniform3fv(this.addr,t)}function RX(n,e){const t=ug(e,this.size,4);n.uniform4fv(this.addr,t)}function LX(n,e){const t=ug(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function PX(n,e){const t=ug(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function OX(n,e){const t=ug(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function IX(n,e){n.uniform1iv(this.addr,e)}function DX(n,e){n.uniform2iv(this.addr,e)}function NX(n,e){n.uniform3iv(this.addr,e)}function BX(n,e){n.uniform4iv(this.addr,e)}function FX(n,e){n.uniform1uiv(this.addr,e)}function $X(n,e){n.uniform2uiv(this.addr,e)}function zX(n,e){n.uniform3uiv(this.addr,e)}function UX(n,e){n.uniform4uiv(this.addr,e)}function jX(n,e,t){const r=this.cache,i=e.length,s=Lb(t,i);xi(r,s)||(n.uniform1iv(this.addr,s),_i(r,s));for(let l=0;l!==i;++l)t.setTexture2D(e[l]||w$,s[l])}function HX(n,e,t){const r=this.cache,i=e.length,s=Lb(t,i);xi(r,s)||(n.uniform1iv(this.addr,s),_i(r,s));for(let l=0;l!==i;++l)t.setTexture3D(e[l]||C$,s[l])}function WX(n,e,t){const r=this.cache,i=e.length,s=Lb(t,i);xi(r,s)||(n.uniform1iv(this.addr,s),_i(r,s));for(let l=0;l!==i;++l)t.setTextureCube(e[l]||E$,s[l])}function VX(n,e,t){const r=this.cache,i=e.length,s=Lb(t,i);xi(r,s)||(n.uniform1iv(this.addr,s),_i(r,s));for(let l=0;l!==i;++l)t.setTexture2DArray(e[l]||S$,s[l])}function GX(n){switch(n){case 5126:return TX;case 35664:return AX;case 35665:return kX;case 35666:return RX;case 35674:return LX;case 35675:return PX;case 35676:return OX;case 5124:case 35670:return IX;case 35667:case 35671:return DX;case 35668:case 35672:return NX;case 35669:case 35673:return BX;case 5125:return FX;case 36294:return $X;case 36295:return zX;case 36296:return UX;case 35678:case 36198:case 36298:case 36306:case 35682:return jX;case 35679:case 36299:case 36307:return HX;case 35680:case 36300:case 36308:case 36293:return WX;case 36289:case 36303:case 36311:case 36292:return VX}}class KX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=MX(t.type)}}class qX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=GX(t.type)}}class XX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,l=i.length;s!==l;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const k1=/(\w+)(\])?(\[|\.)?/g;function kL(n,e){n.seq.push(e),n.map[e.id]=e}function YX(n,e,t){const r=n.name,i=r.length;for(k1.lastIndex=0;;){const s=k1.exec(r),l=k1.lastIndex;let a=s[1];const o=s[2]==="]",h=s[3];if(o&&(a=a|0),h===void 0||h==="["&&l+2===i){kL(t,h===void 0?new KX(a,n,e):new qX(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new XX(a),kL(t,u)),t=u}}}class i_{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),l=e.getUniformLocation(t,s.name);YX(s,l,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,l=t.length;s!==l;++s){const a=t[s],o=r[a.id];o.needsUpdate!==!1&&a.setValue(e,o.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const l=e[i];l.id in t&&r.push(l)}return r}}function RL(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let ZX=0;function JX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let l=i;l<s;l++){const a=l+1;r.push(`${a===e?">":" "} ${a}: ${t[l]}`)}return r.join(`
`)}function QX(n){switch(n){case Va:return["Linear","( value )"];case on:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function LL(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+JX(n.getShaderSource(e),l)}else return i}function eY(n,e){const t=QX(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function tY(n,e){let t;switch(e){case zF:t="Linear";break;case UF:t="Reinhard";break;case jF:t="OptimizedCineon";break;case BT:t="ACESFilmic";break;case HF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function nY(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Km).join(`
`)}function rY(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function iY(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),l=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:a}}return t}function Km(n){return n!==""}function PL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function OL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sY=/^[ \t]*#include +<([\w\d./]+)>/gm;function qE(n){return n.replace(sY,oY)}function oY(n,e){const t=cn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return qE(t)}const aY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function IL(n){return n.replace(aY,lY)}function lY(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function DL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function cY(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Eb?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===nv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===$a&&(e="SHADOWMAP_TYPE_VSM"),e}function uY(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case rh:case ih:e="ENVMAP_TYPE_CUBE";break;case lg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function hY(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ih:e="ENVMAP_MODE_REFRACTION";break}return e}function dY(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ny:e="ENVMAP_BLENDING_MULTIPLY";break;case FF:e="ENVMAP_BLENDING_MIX";break;case $F:e="ENVMAP_BLENDING_ADD";break}return e}function fY(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function pY(n,e,t,r){const i=n.getContext(),s=t.defines;let l=t.vertexShader,a=t.fragmentShader;const o=cY(t),h=uY(t),c=hY(t),u=dY(t),d=fY(t),f=t.isWebGL2?"":nY(t),p=rY(s),m=i.createProgram();let g,v,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(Km).join(`
`),g.length>0&&(g+=`
`),v=[f,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(Km).join(`
`),v.length>0&&(v+=`
`)):(g=[DL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Km).join(`
`),v=[f,DL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+o:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Wa?"#define TONE_MAPPING":"",t.toneMapping!==Wa?cn.tonemapping_pars_fragment:"",t.toneMapping!==Wa?tY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cn.encodings_pars_fragment,eY("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Km).join(`
`)),l=qE(l),l=PL(l,t),l=OL(l,t),a=qE(a),a=PL(a,t),a=OL(a,t),l=IL(l),a=IL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",t.glslVersion===VE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===VE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=y+g+l,w=y+v+a,C=RL(i,i.VERTEX_SHADER,_),b=RL(i,i.FRAGMENT_SHADER,w);if(i.attachShader(m,C),i.attachShader(m,b),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),n.debug.checkShaderErrors){const k=i.getProgramInfoLog(m).trim(),P=i.getShaderInfoLog(C).trim(),N=i.getShaderInfoLog(b).trim();let D=!0,L=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(D=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,m,C,b);else{const I=LL(i,C,"vertex"),O=LL(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Program Info Log: `+k+`
`+I+`
`+O)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(P===""||N==="")&&(L=!1);L&&(this.diagnostics={runnable:D,programLog:k,vertexShader:{log:P,prefix:g},fragmentShader:{log:N,prefix:v}})}i.deleteShader(C),i.deleteShader(b);let T;this.getUniforms=function(){return T===void 0&&(T=new i_(i,m)),T};let A;return this.getAttributes=function(){return A===void 0&&(A=iY(i,m)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=ZX++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=C,this.fragmentShader=b,this}let gY=0;class mY{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new vY(e),t.set(e,r)),r}}class vY{constructor(e){this.id=gY++,this.code=e,this.usedTimes=0}}function yY(n,e,t,r,i,s,l){const a=new Id,o=new mY,h=[],c=i.isWebGL2,u=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(k){return k===0?"uv":`uv${k}`}function g(k,P,N,D,L){const I=D.fog,O=L.geometry,F=k.isMeshStandardMaterial?D.environment:null,H=(k.isMeshStandardMaterial?t:e).get(k.envMap||F),j=H&&H.mapping===lg?H.image.height:null,z=p[k.type];k.precision!==null&&(f=i.getMaxPrecision(k.precision),f!==k.precision&&console.warn("THREE.WebGLProgram.getParameters:",k.precision,"not supported, using",f,"instead."));const W=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,K=W!==void 0?W.length:0;let X=0;O.morphAttributes.position!==void 0&&(X=1),O.morphAttributes.normal!==void 0&&(X=2),O.morphAttributes.color!==void 0&&(X=3);let J,te,re,ae;if(z){const fn=Ua[z];J=fn.vertexShader,te=fn.fragmentShader}else J=k.vertexShader,te=k.fragmentShader,o.update(k),re=o.getVertexShaderID(k),ae=o.getFragmentShaderID(k);const ie=n.getRenderTarget(),Q=L.isInstancedMesh===!0,se=!!k.map,de=!!k.matcap,xe=!!H,ne=!!k.aoMap,ye=!!k.lightMap,_e=!!k.bumpMap,Ae=!!k.normalMap,Te=!!k.displacementMap,ze=!!k.emissiveMap,tt=!!k.metalnessMap,at=!!k.roughnessMap,_t=k.anisotropy>0,It=k.clearcoat>0,ln=k.iridescence>0,pe=k.sheen>0,ce=k.transmission>0,Ne=_t&&!!k.anisotropyMap,Ye=It&&!!k.clearcoatMap,Ke=It&&!!k.clearcoatNormalMap,et=It&&!!k.clearcoatRoughnessMap,dt=ln&&!!k.iridescenceMap,Xe=ln&&!!k.iridescenceThicknessMap,Fe=pe&&!!k.sheenColorMap,st=pe&&!!k.sheenRoughnessMap,St=!!k.specularMap,Et=!!k.specularColorMap,ht=!!k.specularIntensityMap,le=ce&&!!k.transmissionMap,be=ce&&!!k.thicknessMap,Ue=!!k.gradientMap,me=!!k.alphaMap,qe=k.alphaTest>0,Le=!!k.extensions,Je=!!O.attributes.uv1,lt=!!O.attributes.uv2,Kt=!!O.attributes.uv3;return{isWebGL2:c,shaderID:z,shaderType:k.type,shaderName:k.name,vertexShader:J,fragmentShader:te,defines:k.defines,customVertexShaderID:re,customFragmentShaderID:ae,isRawShaderMaterial:k.isRawShaderMaterial===!0,glslVersion:k.glslVersion,precision:f,instancing:Q,instancingColor:Q&&L.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:ie===null?n.outputColorSpace:ie.isXRRenderTarget===!0?ie.texture.colorSpace:Va,map:se,matcap:de,envMap:xe,envMapMode:xe&&H.mapping,envMapCubeUVHeight:j,aoMap:ne,lightMap:ye,bumpMap:_e,normalMap:Ae,displacementMap:d&&Te,emissiveMap:ze,normalMapObjectSpace:Ae&&k.normalMapType===i$,normalMapTangentSpace:Ae&&k.normalMapType===dh,metalnessMap:tt,roughnessMap:at,anisotropy:_t,anisotropyMap:Ne,clearcoat:It,clearcoatMap:Ye,clearcoatNormalMap:Ke,clearcoatRoughnessMap:et,iridescence:ln,iridescenceMap:dt,iridescenceThicknessMap:Xe,sheen:pe,sheenColorMap:Fe,sheenRoughnessMap:st,specularMap:St,specularColorMap:Et,specularIntensityMap:ht,transmission:ce,transmissionMap:le,thicknessMap:be,gradientMap:Ue,opaque:k.transparent===!1&&k.blending===Pd,alphaMap:me,alphaTest:qe,combine:k.combine,mapUv:se&&m(k.map.channel),aoMapUv:ne&&m(k.aoMap.channel),lightMapUv:ye&&m(k.lightMap.channel),bumpMapUv:_e&&m(k.bumpMap.channel),normalMapUv:Ae&&m(k.normalMap.channel),displacementMapUv:Te&&m(k.displacementMap.channel),emissiveMapUv:ze&&m(k.emissiveMap.channel),metalnessMapUv:tt&&m(k.metalnessMap.channel),roughnessMapUv:at&&m(k.roughnessMap.channel),anisotropyMapUv:Ne&&m(k.anisotropyMap.channel),clearcoatMapUv:Ye&&m(k.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&m(k.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:et&&m(k.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&m(k.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&m(k.iridescenceThicknessMap.channel),sheenColorMapUv:Fe&&m(k.sheenColorMap.channel),sheenRoughnessMapUv:st&&m(k.sheenRoughnessMap.channel),specularMapUv:St&&m(k.specularMap.channel),specularColorMapUv:Et&&m(k.specularColorMap.channel),specularIntensityMapUv:ht&&m(k.specularIntensityMap.channel),transmissionMapUv:le&&m(k.transmissionMap.channel),thicknessMapUv:be&&m(k.thicknessMap.channel),alphaMapUv:me&&m(k.alphaMap.channel),vertexTangents:!!O.attributes.tangent&&(Ae||_t),vertexColors:k.vertexColors,vertexAlphas:k.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:lt,vertexUv3s:Kt,pointsUvs:L.isPoints===!0&&!!O.attributes.uv&&(se||me),fog:!!I,useFog:k.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:k.flatShading===!0,sizeAttenuation:k.sizeAttenuation===!0,logarithmicDepthBuffer:u,skinning:L.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:X,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:k.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:k.toneMapped?n.toneMapping:Wa,useLegacyLights:n.useLegacyLights,premultipliedAlpha:k.premultipliedAlpha,doubleSided:k.side===gl,flipSided:k.side===Ps,useDepthPacking:k.depthPacking>=0,depthPacking:k.depthPacking||0,index0AttributeName:k.index0AttributeName,extensionDerivatives:Le&&k.extensions.derivatives===!0,extensionFragDepth:Le&&k.extensions.fragDepth===!0,extensionDrawBuffers:Le&&k.extensions.drawBuffers===!0,extensionShaderTextureLOD:Le&&k.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:k.customProgramCacheKey()}}function v(k){const P=[];if(k.shaderID?P.push(k.shaderID):(P.push(k.customVertexShaderID),P.push(k.customFragmentShaderID)),k.defines!==void 0)for(const N in k.defines)P.push(N),P.push(k.defines[N]);return k.isRawShaderMaterial===!1&&(y(P,k),_(P,k),P.push(n.outputColorSpace)),P.push(k.customProgramCacheKey),P.join()}function y(k,P){k.push(P.precision),k.push(P.outputColorSpace),k.push(P.envMapMode),k.push(P.envMapCubeUVHeight),k.push(P.mapUv),k.push(P.alphaMapUv),k.push(P.lightMapUv),k.push(P.aoMapUv),k.push(P.bumpMapUv),k.push(P.normalMapUv),k.push(P.displacementMapUv),k.push(P.emissiveMapUv),k.push(P.metalnessMapUv),k.push(P.roughnessMapUv),k.push(P.anisotropyMapUv),k.push(P.clearcoatMapUv),k.push(P.clearcoatNormalMapUv),k.push(P.clearcoatRoughnessMapUv),k.push(P.iridescenceMapUv),k.push(P.iridescenceThicknessMapUv),k.push(P.sheenColorMapUv),k.push(P.sheenRoughnessMapUv),k.push(P.specularMapUv),k.push(P.specularColorMapUv),k.push(P.specularIntensityMapUv),k.push(P.transmissionMapUv),k.push(P.thicknessMapUv),k.push(P.combine),k.push(P.fogExp2),k.push(P.sizeAttenuation),k.push(P.morphTargetsCount),k.push(P.morphAttributeCount),k.push(P.numDirLights),k.push(P.numPointLights),k.push(P.numSpotLights),k.push(P.numSpotLightMaps),k.push(P.numHemiLights),k.push(P.numRectAreaLights),k.push(P.numDirLightShadows),k.push(P.numPointLightShadows),k.push(P.numSpotLightShadows),k.push(P.numSpotLightShadowsWithMaps),k.push(P.shadowMapType),k.push(P.toneMapping),k.push(P.numClippingPlanes),k.push(P.numClipIntersection),k.push(P.depthPacking)}function _(k,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),k.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),k.push(a.mask)}function w(k){const P=p[k.type];let N;if(P){const D=Ua[P];N=y$.clone(D.uniforms)}else N=k.uniforms;return N}function C(k,P){let N;for(let D=0,L=h.length;D<L;D++){const I=h[D];if(I.cacheKey===P){N=I,++N.usedTimes;break}}return N===void 0&&(N=new pY(n,P,k,s),h.push(N)),N}function b(k){if(--k.usedTimes===0){const P=h.indexOf(k);h[P]=h[h.length-1],h.pop(),k.destroy()}}function T(k){o.remove(k)}function A(){o.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:w,acquireProgram:C,releaseProgram:b,releaseShaderCache:T,programs:h,dispose:A}}function xY(){let n=new WeakMap;function e(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function t(s){n.delete(s)}function r(s,l,a){n.get(s)[l]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function _Y(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function NL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BL(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function l(u,d,f,p,m,g){let v=n[e];return v===void 0?(v={id:u.id,object:u,geometry:d,material:f,groupOrder:p,renderOrder:u.renderOrder,z:m,group:g},n[e]=v):(v.id=u.id,v.object=u,v.geometry=d,v.material=f,v.groupOrder=p,v.renderOrder=u.renderOrder,v.z=m,v.group=g),e++,v}function a(u,d,f,p,m,g){const v=l(u,d,f,p,m,g);f.transmission>0?r.push(v):f.transparent===!0?i.push(v):t.push(v)}function o(u,d,f,p,m,g){const v=l(u,d,f,p,m,g);f.transmission>0?r.unshift(v):f.transparent===!0?i.unshift(v):t.unshift(v)}function h(u,d){t.length>1&&t.sort(u||_Y),r.length>1&&r.sort(d||NL),i.length>1&&i.sort(d||NL)}function c(){for(let u=e,d=n.length;u<d;u++){const f=n[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:o,finish:c,sort:h}}function bY(){let n=new WeakMap;function e(r,i){const s=n.get(r);let l;return s===void 0?(l=new BL,n.set(r,[l])):i>=s.length?(l=new BL,s.push(l)):l=s[i],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function wY(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new fe,color:new yt};break;case"SpotLight":t={position:new fe,direction:new fe,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new fe,color:new yt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new fe,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":t={color:new yt,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return n[e.id]=t,t}}}function SY(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let CY=0;function EY(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function MY(n,e){const t=new wY,r=SY(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new fe);const s=new fe,l=new tn,a=new tn;function o(c,u){let d=0,f=0,p=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let m=0,g=0,v=0,y=0,_=0,w=0,C=0,b=0,T=0,A=0;c.sort(EY);const k=u===!0?Math.PI:1;for(let N=0,D=c.length;N<D;N++){const L=c[N],I=L.color,O=L.intensity,F=L.distance,H=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)d+=I.r*O*k,f+=I.g*O*k,p+=I.b*O*k;else if(L.isLightProbe)for(let j=0;j<9;j++)i.probe[j].addScaledVector(L.sh.coefficients[j],O);else if(L.isDirectionalLight){const j=t.get(L);if(j.color.copy(L.color).multiplyScalar(L.intensity*k),L.castShadow){const z=L.shadow,W=r.get(L);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,i.directionalShadow[m]=W,i.directionalShadowMap[m]=H,i.directionalShadowMatrix[m]=L.shadow.matrix,w++}i.directional[m]=j,m++}else if(L.isSpotLight){const j=t.get(L);j.position.setFromMatrixPosition(L.matrixWorld),j.color.copy(I).multiplyScalar(O*k),j.distance=F,j.coneCos=Math.cos(L.angle),j.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),j.decay=L.decay,i.spot[v]=j;const z=L.shadow;if(L.map&&(i.spotLightMap[T]=L.map,T++,z.updateMatrices(L),L.castShadow&&A++),i.spotLightMatrix[v]=z.matrix,L.castShadow){const W=r.get(L);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,i.spotShadow[v]=W,i.spotShadowMap[v]=H,b++}v++}else if(L.isRectAreaLight){const j=t.get(L);j.color.copy(I).multiplyScalar(O),j.halfWidth.set(L.width*.5,0,0),j.halfHeight.set(0,L.height*.5,0),i.rectArea[y]=j,y++}else if(L.isPointLight){const j=t.get(L);if(j.color.copy(L.color).multiplyScalar(L.intensity*k),j.distance=L.distance,j.decay=L.decay,L.castShadow){const z=L.shadow,W=r.get(L);W.shadowBias=z.bias,W.shadowNormalBias=z.normalBias,W.shadowRadius=z.radius,W.shadowMapSize=z.mapSize,W.shadowCameraNear=z.camera.near,W.shadowCameraFar=z.camera.far,i.pointShadow[g]=W,i.pointShadowMap[g]=H,i.pointShadowMatrix[g]=L.shadow.matrix,C++}i.point[g]=j,g++}else if(L.isHemisphereLight){const j=t.get(L);j.skyColor.copy(L.color).multiplyScalar(O*k),j.groundColor.copy(L.groundColor).multiplyScalar(O*k),i.hemi[_]=j,_++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=f,i.ambient[2]=p;const P=i.hash;(P.directionalLength!==m||P.pointLength!==g||P.spotLength!==v||P.rectAreaLength!==y||P.hemiLength!==_||P.numDirectionalShadows!==w||P.numPointShadows!==C||P.numSpotShadows!==b||P.numSpotMaps!==T)&&(i.directional.length=m,i.spot.length=v,i.rectArea.length=y,i.point.length=g,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=b+T-A,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=A,P.directionalLength=m,P.pointLength=g,P.spotLength=v,P.rectAreaLength=y,P.hemiLength=_,P.numDirectionalShadows=w,P.numPointShadows=C,P.numSpotShadows=b,P.numSpotMaps=T,i.version=CY++)}function h(c,u){let d=0,f=0,p=0,m=0,g=0;const v=u.matrixWorldInverse;for(let y=0,_=c.length;y<_;y++){const w=c[y];if(w.isDirectionalLight){const C=i.directional[d];C.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),d++}else if(w.isSpotLight){const C=i.spot[p];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),C.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),p++}else if(w.isRectAreaLight){const C=i.rectArea[m];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),a.identity(),l.copy(w.matrixWorld),l.premultiply(v),a.extractRotation(l),C.halfWidth.set(w.width*.5,0,0),C.halfHeight.set(0,w.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),m++}else if(w.isPointLight){const C=i.point[f];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(v),f++}else if(w.isHemisphereLight){const C=i.hemi[g];C.direction.setFromMatrixPosition(w.matrixWorld),C.direction.transformDirection(v),g++}}}return{setup:o,setupView:h,state:i}}function FL(n,e){const t=new MY(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function l(u){r.push(u)}function a(u){i.push(u)}function o(u){t.setup(r,u)}function h(u){t.setupView(r,u)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:o,setupLightsView:h,pushLight:l,pushShadow:a}}function TY(n,e){let t=new WeakMap;function r(s,l=0){const a=t.get(s);let o;return a===void 0?(o=new FL(n,e),t.set(s,[o])):l>=a.length?(o=new FL(n,e),a.push(o)):o=a[l],o}function i(){t=new WeakMap}return{get:r,dispose:i}}class eA extends Ji{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=n$,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class tA extends Ji{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const AY=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kY=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function RY(n,e,t){let r=new Rb;const i=new Ve,s=new Ve,l=new jn,a=new eA({depthPacking:r$}),o=new tA,h={},c=t.maxTextureSize,u={[Bc]:Ps,[Ps]:Bc,[gl]:gl},d=new Tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:AY,fragmentShader:kY}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new dn;p.setAttribute("position",new Jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Zi(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Eb;let v=this.type;this.render=function(C,b,T){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||C.length===0)return;const A=n.getRenderTarget(),k=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),N=n.state;N.setBlending(Pc),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const D=v!==$a&&this.type===$a,L=v===$a&&this.type!==$a;for(let I=0,O=C.length;I<O;I++){const F=C[I],H=F.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const j=H.getFrameExtents();if(i.multiply(j),s.copy(H.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/j.x),i.x=s.x*j.x,H.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/j.y),i.y=s.y*j.y,H.mapSize.y=s.y)),H.map===null||D===!0||L===!0){const W=this.type!==$a?{minFilter:Gr,magFilter:Gr}:{};H.map!==null&&H.map.dispose(),H.map=new Ga(i.x,i.y,W),H.map.texture.name=F.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const z=H.getViewportCount();for(let W=0;W<z;W++){const K=H.getViewport(W);l.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),N.viewport(l),H.updateMatrices(F,W),r=H.getFrustum(),w(b,T,H.camera,F,this.type)}H.isPointLightShadow!==!0&&this.type===$a&&y(H,T),H.needsUpdate=!1}v=this.type,g.needsUpdate=!1,n.setRenderTarget(A,k,P)};function y(C,b){const T=e.update(m);d.defines.VSM_SAMPLES!==C.blurSamples&&(d.defines.VSM_SAMPLES=C.blurSamples,f.defines.VSM_SAMPLES=C.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Ga(i.x,i.y)),d.uniforms.shadow_pass.value=C.map.texture,d.uniforms.resolution.value=C.mapSize,d.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(b,null,T,d,m,null),f.uniforms.shadow_pass.value=C.mapPass.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(b,null,T,f,m,null)}function _(C,b,T,A){let k=null;const P=T.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(P!==void 0)k=P;else if(k=T.isPointLight===!0?o:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const N=k.uuid,D=b.uuid;let L=h[N];L===void 0&&(L={},h[N]=L);let I=L[D];I===void 0&&(I=k.clone(),L[D]=I),k=I}if(k.visible=b.visible,k.wireframe=b.wireframe,A===$a?k.side=b.shadowSide!==null?b.shadowSide:b.side:k.side=b.shadowSide!==null?b.shadowSide:u[b.side],k.alphaMap=b.alphaMap,k.alphaTest=b.alphaTest,k.map=b.map,k.clipShadows=b.clipShadows,k.clippingPlanes=b.clippingPlanes,k.clipIntersection=b.clipIntersection,k.displacementMap=b.displacementMap,k.displacementScale=b.displacementScale,k.displacementBias=b.displacementBias,k.wireframeLinewidth=b.wireframeLinewidth,k.linewidth=b.linewidth,T.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const N=n.properties.get(k);N.light=T}return k}function w(C,b,T,A,k){if(C.visible===!1)return;if(C.layers.test(b.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&k===$a)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,C.matrixWorld);const D=e.update(C),L=C.material;if(Array.isArray(L)){const I=D.groups;for(let O=0,F=I.length;O<F;O++){const H=I[O],j=L[H.materialIndex];if(j&&j.visible){const z=_(C,j,A,k);n.renderBufferDirect(T,null,D,z,C,H)}}}else if(L.visible){const I=_(C,L,A,k);n.renderBufferDirect(T,null,D,I,C,null)}}const N=C.children;for(let D=0,L=N.length;D<L;D++)w(N[D],b,T,A,k)}}function LY(n,e,t){const r=t.isWebGL2;function i(){let me=!1;const qe=new jn;let Le=null;const Je=new jn(0,0,0,0);return{setMask:function(lt){Le!==lt&&!me&&(n.colorMask(lt,lt,lt,lt),Le=lt)},setLocked:function(lt){me=lt},setClear:function(lt,Kt,nn,fn,_r){_r===!0&&(lt*=fn,Kt*=fn,nn*=fn),qe.set(lt,Kt,nn,fn),Je.equals(qe)===!1&&(n.clearColor(lt,Kt,nn,fn),Je.copy(qe))},reset:function(){me=!1,Le=null,Je.set(-1,0,0,0)}}}function s(){let me=!1,qe=null,Le=null,Je=null;return{setTest:function(lt){lt?ie(n.DEPTH_TEST):Q(n.DEPTH_TEST)},setMask:function(lt){qe!==lt&&!me&&(n.depthMask(lt),qe=lt)},setFunc:function(lt){if(Le!==lt){switch(lt){case LF:n.depthFunc(n.NEVER);break;case PF:n.depthFunc(n.ALWAYS);break;case OF:n.depthFunc(n.LESS);break;case b_:n.depthFunc(n.LEQUAL);break;case IF:n.depthFunc(n.EQUAL);break;case DF:n.depthFunc(n.GEQUAL);break;case NF:n.depthFunc(n.GREATER);break;case BF:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Le=lt}},setLocked:function(lt){me=lt},setClear:function(lt){Je!==lt&&(n.clearDepth(lt),Je=lt)},reset:function(){me=!1,qe=null,Le=null,Je=null}}}function l(){let me=!1,qe=null,Le=null,Je=null,lt=null,Kt=null,nn=null,fn=null,_r=null;return{setTest:function(an){me||(an?ie(n.STENCIL_TEST):Q(n.STENCIL_TEST))},setMask:function(an){qe!==an&&!me&&(n.stencilMask(an),qe=an)},setFunc:function(an,ar,On){(Le!==an||Je!==ar||lt!==On)&&(n.stencilFunc(an,ar,On),Le=an,Je=ar,lt=On)},setOp:function(an,ar,On){(Kt!==an||nn!==ar||fn!==On)&&(n.stencilOp(an,ar,On),Kt=an,nn=ar,fn=On)},setLocked:function(an){me=an},setClear:function(an){_r!==an&&(n.clearStencil(an),_r=an)},reset:function(){me=!1,qe=null,Le=null,Je=null,lt=null,Kt=null,nn=null,fn=null,_r=null}}}const a=new i,o=new s,h=new l,c=new WeakMap,u=new WeakMap;let d={},f={},p=new WeakMap,m=[],g=null,v=!1,y=null,_=null,w=null,C=null,b=null,T=null,A=null,k=!1,P=null,N=null,D=null,L=null,I=null;const O=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,H=0;const j=n.getParameter(n.VERSION);j.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(j)[1]),F=H>=1):j.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),F=H>=2);let z=null,W={};const K=n.getParameter(n.SCISSOR_BOX),X=n.getParameter(n.VIEWPORT),J=new jn().fromArray(K),te=new jn().fromArray(X);function re(me,qe,Le,Je){const lt=new Uint8Array(4),Kt=n.createTexture();n.bindTexture(me,Kt),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let nn=0;nn<Le;nn++)r&&(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)?n.texImage3D(qe,0,n.RGBA,1,1,Je,0,n.RGBA,n.UNSIGNED_BYTE,lt):n.texImage2D(qe+nn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,lt);return Kt}const ae={};ae[n.TEXTURE_2D]=re(n.TEXTURE_2D,n.TEXTURE_2D,1),ae[n.TEXTURE_CUBE_MAP]=re(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ae[n.TEXTURE_2D_ARRAY]=re(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ae[n.TEXTURE_3D]=re(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),o.setClear(1),h.setClear(0),ie(n.DEPTH_TEST),o.setFunc(b_),Te(!1),ze(mE),ie(n.CULL_FACE),_e(Pc);function ie(me){d[me]!==!0&&(n.enable(me),d[me]=!0)}function Q(me){d[me]!==!1&&(n.disable(me),d[me]=!1)}function se(me,qe){return f[me]!==qe?(n.bindFramebuffer(me,qe),f[me]=qe,r&&(me===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=qe),me===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=qe)),!0):!1}function de(me,qe){let Le=m,Je=!1;if(me)if(Le=p.get(qe),Le===void 0&&(Le=[],p.set(qe,Le)),me.isWebGLMultipleRenderTargets){const lt=me.texture;if(Le.length!==lt.length||Le[0]!==n.COLOR_ATTACHMENT0){for(let Kt=0,nn=lt.length;Kt<nn;Kt++)Le[Kt]=n.COLOR_ATTACHMENT0+Kt;Le.length=lt.length,Je=!0}}else Le[0]!==n.COLOR_ATTACHMENT0&&(Le[0]=n.COLOR_ATTACHMENT0,Je=!0);else Le[0]!==n.BACK&&(Le[0]=n.BACK,Je=!0);Je&&(t.isWebGL2?n.drawBuffers(Le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Le))}function xe(me){return g!==me?(n.useProgram(me),g=me,!0):!1}const ne={[bd]:n.FUNC_ADD,[_F]:n.FUNC_SUBTRACT,[bF]:n.FUNC_REVERSE_SUBTRACT};if(r)ne[_E]=n.MIN,ne[bE]=n.MAX;else{const me=e.get("EXT_blend_minmax");me!==null&&(ne[_E]=me.MIN_EXT,ne[bE]=me.MAX_EXT)}const ye={[wF]:n.ZERO,[SF]:n.ONE,[CF]:n.SRC_COLOR,[DT]:n.SRC_ALPHA,[RF]:n.SRC_ALPHA_SATURATE,[AF]:n.DST_COLOR,[MF]:n.DST_ALPHA,[EF]:n.ONE_MINUS_SRC_COLOR,[NT]:n.ONE_MINUS_SRC_ALPHA,[kF]:n.ONE_MINUS_DST_COLOR,[TF]:n.ONE_MINUS_DST_ALPHA};function _e(me,qe,Le,Je,lt,Kt,nn,fn){if(me===Pc){v===!0&&(Q(n.BLEND),v=!1);return}if(v===!1&&(ie(n.BLEND),v=!0),me!==xF){if(me!==y||fn!==k){if((_!==bd||b!==bd)&&(n.blendEquation(n.FUNC_ADD),_=bd,b=bd),fn)switch(me){case Pd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case vE:n.blendFunc(n.ONE,n.ONE);break;case yE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case xE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case Pd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case vE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case yE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case xE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}w=null,C=null,T=null,A=null,y=me,k=fn}return}lt=lt||qe,Kt=Kt||Le,nn=nn||Je,(qe!==_||lt!==b)&&(n.blendEquationSeparate(ne[qe],ne[lt]),_=qe,b=lt),(Le!==w||Je!==C||Kt!==T||nn!==A)&&(n.blendFuncSeparate(ye[Le],ye[Je],ye[Kt],ye[nn]),w=Le,C=Je,T=Kt,A=nn),y=me,k=!1}function Ae(me,qe){me.side===gl?Q(n.CULL_FACE):ie(n.CULL_FACE);let Le=me.side===Ps;qe&&(Le=!Le),Te(Le),me.blending===Pd&&me.transparent===!1?_e(Pc):_e(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.premultipliedAlpha),o.setFunc(me.depthFunc),o.setTest(me.depthTest),o.setMask(me.depthWrite),a.setMask(me.colorWrite);const Je=me.stencilWrite;h.setTest(Je),Je&&(h.setMask(me.stencilWriteMask),h.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),h.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),at(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?ie(n.SAMPLE_ALPHA_TO_COVERAGE):Q(n.SAMPLE_ALPHA_TO_COVERAGE)}function Te(me){P!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),P=me)}function ze(me){me!==mF?(ie(n.CULL_FACE),me!==N&&(me===mE?n.cullFace(n.BACK):me===vF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Q(n.CULL_FACE),N=me}function tt(me){me!==D&&(F&&n.lineWidth(me),D=me)}function at(me,qe,Le){me?(ie(n.POLYGON_OFFSET_FILL),(L!==qe||I!==Le)&&(n.polygonOffset(qe,Le),L=qe,I=Le)):Q(n.POLYGON_OFFSET_FILL)}function _t(me){me?ie(n.SCISSOR_TEST):Q(n.SCISSOR_TEST)}function It(me){me===void 0&&(me=n.TEXTURE0+O-1),z!==me&&(n.activeTexture(me),z=me)}function ln(me,qe,Le){Le===void 0&&(z===null?Le=n.TEXTURE0+O-1:Le=z);let Je=W[Le];Je===void 0&&(Je={type:void 0,texture:void 0},W[Le]=Je),(Je.type!==me||Je.texture!==qe)&&(z!==Le&&(n.activeTexture(Le),z=Le),n.bindTexture(me,qe||ae[me]),Je.type=me,Je.texture=qe)}function pe(){const me=W[z];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function ce(){try{n.compressedTexImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ne(){try{n.compressedTexImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ye(){try{n.texSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ke(){try{n.texSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function et(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function dt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Xe(){try{n.texStorage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Fe(){try{n.texStorage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function st(){try{n.texImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function St(){try{n.texImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Et(me){J.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),J.copy(me))}function ht(me){te.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),te.copy(me))}function le(me,qe){let Le=u.get(qe);Le===void 0&&(Le=new WeakMap,u.set(qe,Le));let Je=Le.get(me);Je===void 0&&(Je=n.getUniformBlockIndex(qe,me.name),Le.set(me,Je))}function be(me,qe){const Je=u.get(qe).get(me);c.get(qe)!==Je&&(n.uniformBlockBinding(qe,Je,me.__bindingPointIndex),c.set(qe,Je))}function Ue(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},z=null,W={},f={},p=new WeakMap,m=[],g=null,v=!1,y=null,_=null,w=null,C=null,b=null,T=null,A=null,k=!1,P=null,N=null,D=null,L=null,I=null,J.set(0,0,n.canvas.width,n.canvas.height),te.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),h.reset()}return{buffers:{color:a,depth:o,stencil:h},enable:ie,disable:Q,bindFramebuffer:se,drawBuffers:de,useProgram:xe,setBlending:_e,setMaterial:Ae,setFlipSided:Te,setCullFace:ze,setLineWidth:tt,setPolygonOffset:at,setScissorTest:_t,activeTexture:It,bindTexture:ln,unbindTexture:pe,compressedTexImage2D:ce,compressedTexImage3D:Ne,texImage2D:st,texImage3D:St,updateUBOMapping:le,uniformBlockBinding:be,texStorage2D:Xe,texStorage3D:Fe,texSubImage2D:Ye,texSubImage3D:Ke,compressedTexSubImage2D:et,compressedTexSubImage3D:dt,scissor:Et,viewport:ht,reset:Ue}}function PY(n,e,t,r,i,s,l){const a=i.isWebGL2,o=i.maxTextures,h=i.maxCubemapSize,c=i.maxTextureSize,u=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(pe,ce){return v?new OffscreenCanvas(pe,ce):Cv("canvas")}function _(pe,ce,Ne,Ye){let Ke=1;if((pe.width>Ye||pe.height>Ye)&&(Ke=Ye/Math.max(pe.width,pe.height)),Ke<1||ce===!0)if(typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&pe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&pe instanceof ImageBitmap){const et=ce?C_:Math.floor,dt=et(Ke*pe.width),Xe=et(Ke*pe.height);m===void 0&&(m=y(dt,Xe));const Fe=Ne?y(dt,Xe):m;return Fe.width=dt,Fe.height=Xe,Fe.getContext("2d").drawImage(pe,0,0,dt,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pe.width+"x"+pe.height+") to ("+dt+"x"+Xe+")."),Fe}else return"data"in pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pe.width+"x"+pe.height+")."),pe;return pe}function w(pe){return GE(pe.width)&&GE(pe.height)}function C(pe){return a?!1:pe.wrapS!==cs||pe.wrapT!==cs||pe.minFilter!==Gr&&pe.minFilter!==Kr}function b(pe,ce){return pe.generateMipmaps&&ce&&pe.minFilter!==Gr&&pe.minFilter!==Kr}function T(pe){n.generateMipmap(pe)}function A(pe,ce,Ne,Ye,Ke=!1){if(a===!1)return ce;if(pe!==null){if(n[pe]!==void 0)return n[pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pe+"'")}let et=ce;return ce===n.RED&&(Ne===n.FLOAT&&(et=n.R32F),Ne===n.HALF_FLOAT&&(et=n.R16F),Ne===n.UNSIGNED_BYTE&&(et=n.R8)),ce===n.RG&&(Ne===n.FLOAT&&(et=n.RG32F),Ne===n.HALF_FLOAT&&(et=n.RG16F),Ne===n.UNSIGNED_BYTE&&(et=n.RG8)),ce===n.RGBA&&(Ne===n.FLOAT&&(et=n.RGBA32F),Ne===n.HALF_FLOAT&&(et=n.RGBA16F),Ne===n.UNSIGNED_BYTE&&(et=Ye===on&&Ke===!1?n.SRGB8_ALPHA8:n.RGBA8),Ne===n.UNSIGNED_SHORT_4_4_4_4&&(et=n.RGBA4),Ne===n.UNSIGNED_SHORT_5_5_5_1&&(et=n.RGB5_A1)),(et===n.R16F||et===n.R32F||et===n.RG16F||et===n.RG32F||et===n.RGBA16F||et===n.RGBA32F)&&e.get("EXT_color_buffer_float"),et}function k(pe,ce,Ne){return b(pe,Ne)===!0||pe.isFramebufferTexture&&pe.minFilter!==Gr&&pe.minFilter!==Kr?Math.log2(Math.max(ce.width,ce.height))+1:pe.mipmaps!==void 0&&pe.mipmaps.length>0?pe.mipmaps.length:pe.isCompressedTexture&&Array.isArray(pe.image)?ce.mipmaps.length:1}function P(pe){return pe===Gr||pe===w_||pe===rv?n.NEAREST:n.LINEAR}function N(pe){const ce=pe.target;ce.removeEventListener("dispose",N),L(ce),ce.isVideoTexture&&p.delete(ce)}function D(pe){const ce=pe.target;ce.removeEventListener("dispose",D),O(ce)}function L(pe){const ce=r.get(pe);if(ce.__webglInit===void 0)return;const Ne=pe.source,Ye=g.get(Ne);if(Ye){const Ke=Ye[ce.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&I(pe),Object.keys(Ye).length===0&&g.delete(Ne)}r.remove(pe)}function I(pe){const ce=r.get(pe);n.deleteTexture(ce.__webglTexture);const Ne=pe.source,Ye=g.get(Ne);delete Ye[ce.__cacheKey],l.memory.textures--}function O(pe){const ce=pe.texture,Ne=r.get(pe),Ye=r.get(ce);if(Ye.__webglTexture!==void 0&&(n.deleteTexture(Ye.__webglTexture),l.memory.textures--),pe.depthTexture&&pe.depthTexture.dispose(),pe.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++)n.deleteFramebuffer(Ne.__webglFramebuffer[Ke]),Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer[Ke]);else{if(n.deleteFramebuffer(Ne.__webglFramebuffer),Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let Ke=0;Ke<Ne.__webglColorRenderbuffer.length;Ke++)Ne.__webglColorRenderbuffer[Ke]&&n.deleteRenderbuffer(Ne.__webglColorRenderbuffer[Ke]);Ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}if(pe.isWebGLMultipleRenderTargets)for(let Ke=0,et=ce.length;Ke<et;Ke++){const dt=r.get(ce[Ke]);dt.__webglTexture&&(n.deleteTexture(dt.__webglTexture),l.memory.textures--),r.remove(ce[Ke])}r.remove(ce),r.remove(pe)}let F=0;function H(){F=0}function j(){const pe=F;return pe>=o&&console.warn("THREE.WebGLTextures: Trying to use "+pe+" texture units while this GPU supports only "+o),F+=1,pe}function z(pe){const ce=[];return ce.push(pe.wrapS),ce.push(pe.wrapT),ce.push(pe.wrapR||0),ce.push(pe.magFilter),ce.push(pe.minFilter),ce.push(pe.anisotropy),ce.push(pe.internalFormat),ce.push(pe.format),ce.push(pe.type),ce.push(pe.generateMipmaps),ce.push(pe.premultiplyAlpha),ce.push(pe.flipY),ce.push(pe.unpackAlignment),ce.push(pe.colorSpace),ce.join()}function W(pe,ce){const Ne=r.get(pe);if(pe.isVideoTexture&&It(pe),pe.isRenderTargetTexture===!1&&pe.version>0&&Ne.__version!==pe.version){const Ye=pe.image;if(Ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(Ne,pe,ce);return}}t.bindTexture(n.TEXTURE_2D,Ne.__webglTexture,n.TEXTURE0+ce)}function K(pe,ce){const Ne=r.get(pe);if(pe.version>0&&Ne.__version!==pe.version){se(Ne,pe,ce);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ne.__webglTexture,n.TEXTURE0+ce)}function X(pe,ce){const Ne=r.get(pe);if(pe.version>0&&Ne.__version!==pe.version){se(Ne,pe,ce);return}t.bindTexture(n.TEXTURE_3D,Ne.__webglTexture,n.TEXTURE0+ce)}function J(pe,ce){const Ne=r.get(pe);if(pe.version>0&&Ne.__version!==pe.version){de(Ne,pe,ce);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture,n.TEXTURE0+ce)}const te={[vv]:n.REPEAT,[cs]:n.CLAMP_TO_EDGE,[yv]:n.MIRRORED_REPEAT},re={[Gr]:n.NEAREST,[w_]:n.NEAREST_MIPMAP_NEAREST,[rv]:n.NEAREST_MIPMAP_LINEAR,[Kr]:n.LINEAR,[FT]:n.LINEAR_MIPMAP_NEAREST,[sh]:n.LINEAR_MIPMAP_LINEAR},ae={[o$]:n.NEVER,[f$]:n.ALWAYS,[a$]:n.LESS,[c$]:n.LEQUAL,[l$]:n.EQUAL,[d$]:n.GEQUAL,[u$]:n.GREATER,[h$]:n.NOTEQUAL};function ie(pe,ce,Ne){if(Ne?(n.texParameteri(pe,n.TEXTURE_WRAP_S,te[ce.wrapS]),n.texParameteri(pe,n.TEXTURE_WRAP_T,te[ce.wrapT]),(pe===n.TEXTURE_3D||pe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(pe,n.TEXTURE_WRAP_R,te[ce.wrapR]),n.texParameteri(pe,n.TEXTURE_MAG_FILTER,re[ce.magFilter]),n.texParameteri(pe,n.TEXTURE_MIN_FILTER,re[ce.minFilter])):(n.texParameteri(pe,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(pe,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(pe===n.TEXTURE_3D||pe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(pe,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(ce.wrapS!==cs||ce.wrapT!==cs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(pe,n.TEXTURE_MAG_FILTER,P(ce.magFilter)),n.texParameteri(pe,n.TEXTURE_MIN_FILTER,P(ce.minFilter)),ce.minFilter!==Gr&&ce.minFilter!==Kr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ce.compareFunction&&(n.texParameteri(pe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(pe,n.TEXTURE_COMPARE_FUNC,ae[ce.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ye=e.get("EXT_texture_filter_anisotropic");if(ce.magFilter===Gr||ce.minFilter!==rv&&ce.minFilter!==sh||ce.type===yl&&e.has("OES_texture_float_linear")===!1||a===!1&&ce.type===Wp&&e.has("OES_texture_half_float_linear")===!1)return;(ce.anisotropy>1||r.get(ce).__currentAnisotropy)&&(n.texParameterf(pe,Ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ce.anisotropy,i.getMaxAnisotropy())),r.get(ce).__currentAnisotropy=ce.anisotropy)}}function Q(pe,ce){let Ne=!1;pe.__webglInit===void 0&&(pe.__webglInit=!0,ce.addEventListener("dispose",N));const Ye=ce.source;let Ke=g.get(Ye);Ke===void 0&&(Ke={},g.set(Ye,Ke));const et=z(ce);if(et!==pe.__cacheKey){Ke[et]===void 0&&(Ke[et]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,Ne=!0),Ke[et].usedTimes++;const dt=Ke[pe.__cacheKey];dt!==void 0&&(Ke[pe.__cacheKey].usedTimes--,dt.usedTimes===0&&I(ce)),pe.__cacheKey=et,pe.__webglTexture=Ke[et].texture}return Ne}function se(pe,ce,Ne){let Ye=n.TEXTURE_2D;(ce.isDataArrayTexture||ce.isCompressedArrayTexture)&&(Ye=n.TEXTURE_2D_ARRAY),ce.isData3DTexture&&(Ye=n.TEXTURE_3D);const Ke=Q(pe,ce),et=ce.source;t.bindTexture(Ye,pe.__webglTexture,n.TEXTURE0+Ne);const dt=r.get(et);if(et.version!==dt.__version||Ke===!0){t.activeTexture(n.TEXTURE0+Ne),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ce.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ce.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Xe=C(ce)&&w(ce.image)===!1;let Fe=_(ce.image,Xe,!1,c);Fe=ln(ce,Fe);const st=w(Fe)||a,St=s.convert(ce.format,ce.colorSpace);let Et=s.convert(ce.type),ht=A(ce.internalFormat,St,Et,ce.colorSpace);ie(Ye,ce,st);let le;const be=ce.mipmaps,Ue=a&&ce.isVideoTexture!==!0,me=dt.__version===void 0||Ke===!0,qe=k(ce,Fe,st);if(ce.isDepthTexture)ht=n.DEPTH_COMPONENT,a?ce.type===yl?ht=n.DEPTH_COMPONENT32F:ce.type===Ac?ht=n.DEPTH_COMPONENT24:ce.type===Yu?ht=n.DEPTH24_STENCIL8:ht=n.DEPTH_COMPONENT16:ce.type===yl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ce.format===Zu&&ht===n.DEPTH_COMPONENT&&ce.type!==Tb&&ce.type!==Ac&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ce.type=Ac,Et=s.convert(ce.type)),ce.format===jd&&ht===n.DEPTH_COMPONENT&&(ht=n.DEPTH_STENCIL,ce.type!==Yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ce.type=Yu,Et=s.convert(ce.type))),me&&(Ue?t.texStorage2D(n.TEXTURE_2D,1,ht,Fe.width,Fe.height):t.texImage2D(n.TEXTURE_2D,0,ht,Fe.width,Fe.height,0,St,Et,null));else if(ce.isDataTexture)if(be.length>0&&st){Ue&&me&&t.texStorage2D(n.TEXTURE_2D,qe,ht,be[0].width,be[0].height);for(let Le=0,Je=be.length;Le<Je;Le++)le=be[Le],Ue?t.texSubImage2D(n.TEXTURE_2D,Le,0,0,le.width,le.height,St,Et,le.data):t.texImage2D(n.TEXTURE_2D,Le,ht,le.width,le.height,0,St,Et,le.data);ce.generateMipmaps=!1}else Ue?(me&&t.texStorage2D(n.TEXTURE_2D,qe,ht,Fe.width,Fe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Fe.width,Fe.height,St,Et,Fe.data)):t.texImage2D(n.TEXTURE_2D,0,ht,Fe.width,Fe.height,0,St,Et,Fe.data);else if(ce.isCompressedTexture)if(ce.isCompressedArrayTexture){Ue&&me&&t.texStorage3D(n.TEXTURE_2D_ARRAY,qe,ht,be[0].width,be[0].height,Fe.depth);for(let Le=0,Je=be.length;Le<Je;Le++)le=be[Le],ce.format!==Zs?St!==null?Ue?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,le.width,le.height,Fe.depth,St,le.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Le,ht,le.width,le.height,Fe.depth,0,le.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,le.width,le.height,Fe.depth,St,Et,le.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Le,ht,le.width,le.height,Fe.depth,0,St,Et,le.data)}else{Ue&&me&&t.texStorage2D(n.TEXTURE_2D,qe,ht,be[0].width,be[0].height);for(let Le=0,Je=be.length;Le<Je;Le++)le=be[Le],ce.format!==Zs?St!==null?Ue?t.compressedTexSubImage2D(n.TEXTURE_2D,Le,0,0,le.width,le.height,St,le.data):t.compressedTexImage2D(n.TEXTURE_2D,Le,ht,le.width,le.height,0,le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?t.texSubImage2D(n.TEXTURE_2D,Le,0,0,le.width,le.height,St,Et,le.data):t.texImage2D(n.TEXTURE_2D,Le,ht,le.width,le.height,0,St,Et,le.data)}else if(ce.isDataArrayTexture)Ue?(me&&t.texStorage3D(n.TEXTURE_2D_ARRAY,qe,ht,Fe.width,Fe.height,Fe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Fe.width,Fe.height,Fe.depth,St,Et,Fe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,ht,Fe.width,Fe.height,Fe.depth,0,St,Et,Fe.data);else if(ce.isData3DTexture)Ue?(me&&t.texStorage3D(n.TEXTURE_3D,qe,ht,Fe.width,Fe.height,Fe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Fe.width,Fe.height,Fe.depth,St,Et,Fe.data)):t.texImage3D(n.TEXTURE_3D,0,ht,Fe.width,Fe.height,Fe.depth,0,St,Et,Fe.data);else if(ce.isFramebufferTexture){if(me)if(Ue)t.texStorage2D(n.TEXTURE_2D,qe,ht,Fe.width,Fe.height);else{let Le=Fe.width,Je=Fe.height;for(let lt=0;lt<qe;lt++)t.texImage2D(n.TEXTURE_2D,lt,ht,Le,Je,0,St,Et,null),Le>>=1,Je>>=1}}else if(be.length>0&&st){Ue&&me&&t.texStorage2D(n.TEXTURE_2D,qe,ht,be[0].width,be[0].height);for(let Le=0,Je=be.length;Le<Je;Le++)le=be[Le],Ue?t.texSubImage2D(n.TEXTURE_2D,Le,0,0,St,Et,le):t.texImage2D(n.TEXTURE_2D,Le,ht,St,Et,le);ce.generateMipmaps=!1}else Ue?(me&&t.texStorage2D(n.TEXTURE_2D,qe,ht,Fe.width,Fe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,St,Et,Fe)):t.texImage2D(n.TEXTURE_2D,0,ht,St,Et,Fe);b(ce,st)&&T(Ye),dt.__version=et.version,ce.onUpdate&&ce.onUpdate(ce)}pe.__version=ce.version}function de(pe,ce,Ne){if(ce.image.length!==6)return;const Ye=Q(pe,ce),Ke=ce.source;t.bindTexture(n.TEXTURE_CUBE_MAP,pe.__webglTexture,n.TEXTURE0+Ne);const et=r.get(Ke);if(Ke.version!==et.__version||Ye===!0){t.activeTexture(n.TEXTURE0+Ne),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ce.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ce.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const dt=ce.isCompressedTexture||ce.image[0].isCompressedTexture,Xe=ce.image[0]&&ce.image[0].isDataTexture,Fe=[];for(let Le=0;Le<6;Le++)!dt&&!Xe?Fe[Le]=_(ce.image[Le],!1,!0,h):Fe[Le]=Xe?ce.image[Le].image:ce.image[Le],Fe[Le]=ln(ce,Fe[Le]);const st=Fe[0],St=w(st)||a,Et=s.convert(ce.format,ce.colorSpace),ht=s.convert(ce.type),le=A(ce.internalFormat,Et,ht,ce.colorSpace),be=a&&ce.isVideoTexture!==!0,Ue=et.__version===void 0||Ye===!0;let me=k(ce,st,St);ie(n.TEXTURE_CUBE_MAP,ce,St);let qe;if(dt){be&&Ue&&t.texStorage2D(n.TEXTURE_CUBE_MAP,me,le,st.width,st.height);for(let Le=0;Le<6;Le++){qe=Fe[Le].mipmaps;for(let Je=0;Je<qe.length;Je++){const lt=qe[Je];ce.format!==Zs?Et!==null?be?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,0,0,lt.width,lt.height,Et,lt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,le,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,0,0,lt.width,lt.height,Et,ht,lt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,le,lt.width,lt.height,0,Et,ht,lt.data)}}}else{qe=ce.mipmaps,be&&Ue&&(qe.length>0&&me++,t.texStorage2D(n.TEXTURE_CUBE_MAP,me,le,Fe[0].width,Fe[0].height));for(let Le=0;Le<6;Le++)if(Xe){be?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Fe[Le].width,Fe[Le].height,Et,ht,Fe[Le].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,le,Fe[Le].width,Fe[Le].height,0,Et,ht,Fe[Le].data);for(let Je=0;Je<qe.length;Je++){const Kt=qe[Je].image[Le].image;be?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,0,0,Kt.width,Kt.height,Et,ht,Kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,le,Kt.width,Kt.height,0,Et,ht,Kt.data)}}else{be?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Et,ht,Fe[Le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,le,Et,ht,Fe[Le]);for(let Je=0;Je<qe.length;Je++){const lt=qe[Je];be?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,0,0,Et,ht,lt.image[Le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,le,Et,ht,lt.image[Le])}}}b(ce,St)&&T(n.TEXTURE_CUBE_MAP),et.__version=Ke.version,ce.onUpdate&&ce.onUpdate(ce)}pe.__version=ce.version}function xe(pe,ce,Ne,Ye,Ke){const et=s.convert(Ne.format,Ne.colorSpace),dt=s.convert(Ne.type),Xe=A(Ne.internalFormat,et,dt,Ne.colorSpace);r.get(ce).__hasExternalTextures||(Ke===n.TEXTURE_3D||Ke===n.TEXTURE_2D_ARRAY?t.texImage3D(Ke,0,Xe,ce.width,ce.height,ce.depth,0,et,dt,null):t.texImage2D(Ke,0,Xe,ce.width,ce.height,0,et,dt,null)),t.bindFramebuffer(n.FRAMEBUFFER,pe),_t(ce)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ye,Ke,r.get(Ne).__webglTexture,0,at(ce)):(Ke===n.TEXTURE_2D||Ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ye,Ke,r.get(Ne).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ne(pe,ce,Ne){if(n.bindRenderbuffer(n.RENDERBUFFER,pe),ce.depthBuffer&&!ce.stencilBuffer){let Ye=n.DEPTH_COMPONENT16;if(Ne||_t(ce)){const Ke=ce.depthTexture;Ke&&Ke.isDepthTexture&&(Ke.type===yl?Ye=n.DEPTH_COMPONENT32F:Ke.type===Ac&&(Ye=n.DEPTH_COMPONENT24));const et=at(ce);_t(ce)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Ye,ce.width,ce.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Ye,ce.width,ce.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ye,ce.width,ce.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,pe)}else if(ce.depthBuffer&&ce.stencilBuffer){const Ye=at(ce);Ne&&_t(ce)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ye,n.DEPTH24_STENCIL8,ce.width,ce.height):_t(ce)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ye,n.DEPTH24_STENCIL8,ce.width,ce.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,pe)}else{const Ye=ce.isWebGLMultipleRenderTargets===!0?ce.texture:[ce.texture];for(let Ke=0;Ke<Ye.length;Ke++){const et=Ye[Ke],dt=s.convert(et.format,et.colorSpace),Xe=s.convert(et.type),Fe=A(et.internalFormat,dt,Xe,et.colorSpace),st=at(ce);Ne&&_t(ce)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,st,Fe,ce.width,ce.height):_t(ce)?d.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,st,Fe,ce.width,ce.height):n.renderbufferStorage(n.RENDERBUFFER,Fe,ce.width,ce.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ye(pe,ce){if(ce&&ce.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,pe),!(ce.depthTexture&&ce.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(ce.depthTexture).__webglTexture||ce.depthTexture.image.width!==ce.width||ce.depthTexture.image.height!==ce.height)&&(ce.depthTexture.image.width=ce.width,ce.depthTexture.image.height=ce.height,ce.depthTexture.needsUpdate=!0),W(ce.depthTexture,0);const Ye=r.get(ce.depthTexture).__webglTexture,Ke=at(ce);if(ce.depthTexture.format===Zu)_t(ce)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ye,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ye,0);else if(ce.depthTexture.format===jd)_t(ce)?d.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ye,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ye,0);else throw new Error("Unknown depthTexture format")}function _e(pe){const ce=r.get(pe),Ne=pe.isWebGLCubeRenderTarget===!0;if(pe.depthTexture&&!ce.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");ye(ce.__webglFramebuffer,pe)}else if(Ne){ce.__webglDepthbuffer=[];for(let Ye=0;Ye<6;Ye++)t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer[Ye]),ce.__webglDepthbuffer[Ye]=n.createRenderbuffer(),ne(ce.__webglDepthbuffer[Ye],pe,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer),ce.__webglDepthbuffer=n.createRenderbuffer(),ne(ce.__webglDepthbuffer,pe,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(pe,ce,Ne){const Ye=r.get(pe);ce!==void 0&&xe(Ye.__webglFramebuffer,pe,pe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),Ne!==void 0&&_e(pe)}function Te(pe){const ce=pe.texture,Ne=r.get(pe),Ye=r.get(ce);pe.addEventListener("dispose",D),pe.isWebGLMultipleRenderTargets!==!0&&(Ye.__webglTexture===void 0&&(Ye.__webglTexture=n.createTexture()),Ye.__version=ce.version,l.memory.textures++);const Ke=pe.isWebGLCubeRenderTarget===!0,et=pe.isWebGLMultipleRenderTargets===!0,dt=w(pe)||a;if(Ke){Ne.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)Ne.__webglFramebuffer[Xe]=n.createFramebuffer()}else{if(Ne.__webglFramebuffer=n.createFramebuffer(),et)if(i.drawBuffers){const Xe=pe.texture;for(let Fe=0,st=Xe.length;Fe<st;Fe++){const St=r.get(Xe[Fe]);St.__webglTexture===void 0&&(St.__webglTexture=n.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&pe.samples>0&&_t(pe)===!1){const Xe=et?ce:[ce];Ne.__webglMultisampledFramebuffer=n.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let Fe=0;Fe<Xe.length;Fe++){const st=Xe[Fe];Ne.__webglColorRenderbuffer[Fe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Fe]);const St=s.convert(st.format,st.colorSpace),Et=s.convert(st.type),ht=A(st.internalFormat,St,Et,st.colorSpace,pe.isXRRenderTarget===!0),le=at(pe);n.renderbufferStorageMultisample(n.RENDERBUFFER,le,ht,pe.width,pe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[Fe])}n.bindRenderbuffer(n.RENDERBUFFER,null),pe.depthBuffer&&(Ne.__webglDepthRenderbuffer=n.createRenderbuffer(),ne(Ne.__webglDepthRenderbuffer,pe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ke){t.bindTexture(n.TEXTURE_CUBE_MAP,Ye.__webglTexture),ie(n.TEXTURE_CUBE_MAP,ce,dt);for(let Xe=0;Xe<6;Xe++)xe(Ne.__webglFramebuffer[Xe],pe,ce,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Xe);b(ce,dt)&&T(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(et){const Xe=pe.texture;for(let Fe=0,st=Xe.length;Fe<st;Fe++){const St=Xe[Fe],Et=r.get(St);t.bindTexture(n.TEXTURE_2D,Et.__webglTexture),ie(n.TEXTURE_2D,St,dt),xe(Ne.__webglFramebuffer,pe,St,n.COLOR_ATTACHMENT0+Fe,n.TEXTURE_2D),b(St,dt)&&T(n.TEXTURE_2D)}t.unbindTexture()}else{let Xe=n.TEXTURE_2D;(pe.isWebGL3DRenderTarget||pe.isWebGLArrayRenderTarget)&&(a?Xe=pe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Xe,Ye.__webglTexture),ie(Xe,ce,dt),xe(Ne.__webglFramebuffer,pe,ce,n.COLOR_ATTACHMENT0,Xe),b(ce,dt)&&T(Xe),t.unbindTexture()}pe.depthBuffer&&_e(pe)}function ze(pe){const ce=w(pe)||a,Ne=pe.isWebGLMultipleRenderTargets===!0?pe.texture:[pe.texture];for(let Ye=0,Ke=Ne.length;Ye<Ke;Ye++){const et=Ne[Ye];if(b(et,ce)){const dt=pe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Xe=r.get(et).__webglTexture;t.bindTexture(dt,Xe),T(dt),t.unbindTexture()}}}function tt(pe){if(a&&pe.samples>0&&_t(pe)===!1){const ce=pe.isWebGLMultipleRenderTargets?pe.texture:[pe.texture],Ne=pe.width,Ye=pe.height;let Ke=n.COLOR_BUFFER_BIT;const et=[],dt=pe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=r.get(pe),Fe=pe.isWebGLMultipleRenderTargets===!0;if(Fe)for(let st=0;st<ce.length;st++)t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Xe.__webglFramebuffer);for(let st=0;st<ce.length;st++){et.push(n.COLOR_ATTACHMENT0+st),pe.depthBuffer&&et.push(dt);const St=Xe.__ignoreDepthValues!==void 0?Xe.__ignoreDepthValues:!1;if(St===!1&&(pe.depthBuffer&&(Ke|=n.DEPTH_BUFFER_BIT),pe.stencilBuffer&&(Ke|=n.STENCIL_BUFFER_BIT)),Fe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Xe.__webglColorRenderbuffer[st]),St===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[dt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[dt])),Fe){const Et=r.get(ce[st]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Et,0)}n.blitFramebuffer(0,0,Ne,Ye,0,0,Ne,Ye,Ke,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,et)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Fe)for(let st=0;st<ce.length;st++){t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,Xe.__webglColorRenderbuffer[st]);const St=r.get(ce[st]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Xe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,St,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer)}}function at(pe){return Math.min(u,pe.samples)}function _t(pe){const ce=r.get(pe);return a&&pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ce.__useRenderToTexture!==!1}function It(pe){const ce=l.render.frame;p.get(pe)!==ce&&(p.set(pe,ce),pe.update())}function ln(pe,ce){const Ne=pe.colorSpace,Ye=pe.format,Ke=pe.type;return pe.isCompressedTexture===!0||pe.format===S_||Ne!==Va&&Ne!==Qu&&(Ne===on?a===!1?e.has("EXT_sRGB")===!0&&Ye===Zs?(pe.format=S_,pe.minFilter=Kr,pe.generateMipmaps=!1):ce=XT.sRGBToLinear(ce):(Ye!==Zs||Ke!==bl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ne)),ce}this.allocateTextureUnit=j,this.resetTextureUnits=H,this.setTexture2D=W,this.setTexture2DArray=K,this.setTexture3D=X,this.setTextureCube=J,this.rebindTextures=Ae,this.setupRenderTarget=Te,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=_t}function M$(n,e,t){const r=t.isWebGL2;function i(s,l=Qu){let a;if(s===bl)return n.UNSIGNED_BYTE;if(s===zT)return n.UNSIGNED_SHORT_4_4_4_4;if(s===UT)return n.UNSIGNED_SHORT_5_5_5_1;if(s===WF)return n.BYTE;if(s===VF)return n.SHORT;if(s===Tb)return n.UNSIGNED_SHORT;if(s===$T)return n.INT;if(s===Ac)return n.UNSIGNED_INT;if(s===yl)return n.FLOAT;if(s===Wp)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===GF)return n.ALPHA;if(s===Zs)return n.RGBA;if(s===KF)return n.LUMINANCE;if(s===qF)return n.LUMINANCE_ALPHA;if(s===Zu)return n.DEPTH_COMPONENT;if(s===jd)return n.DEPTH_STENCIL;if(s===S_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===XF)return n.RED;if(s===jT)return n.RED_INTEGER;if(s===YF)return n.RG;if(s===HT)return n.RG_INTEGER;if(s===WT)return n.RGBA_INTEGER;if(s===Zx||s===Jx||s===Qx||s===e_)if(l===on)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Zx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Jx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Qx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===e_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Zx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Jx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Qx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===e_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===wE||s===SE||s===CE||s===EE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===wE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===SE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===CE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===EE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===ZF)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===ME||s===TE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===ME)return l===on?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===TE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===AE||s===kE||s===RE||s===LE||s===PE||s===OE||s===IE||s===DE||s===NE||s===BE||s===FE||s===$E||s===zE||s===UE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===AE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===RE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===LE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===PE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===OE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===IE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===DE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===NE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===FE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===$E)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===zE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===UE)return l===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===t_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===t_)return l===on?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===JF||s===jE||s===HE||s===WE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===t_)return a.COMPRESSED_RED_RGTC1_EXT;if(s===jE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===HE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===WE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Yu?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class T$ extends qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class kp extends kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const OY={type:"move"};class R1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,l=null;const a=this._targetRay,o=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){l=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,r),v=this._getHandJoint(h,m);g!==null&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=g.radius),v.visible=g!==null}const c=h.joints["index-finger-tip"],u=h.joints["thumb-tip"],d=c.position.distanceTo(u.position),f=.02,p=.005;h.inputState.pinching&&d>f+p?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&d<=f-p&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(OY)))}return a!==null&&(a.visible=i!==null),o!==null&&(o.visible=s!==null),h!==null&&(h.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new kp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class A$ extends $r{constructor(e,t,r,i,s,l,a,o,h,c){if(c=c!==void 0?c:Zu,c!==Zu&&c!==jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Zu&&(r=Ac),r===void 0&&c===jd&&(r=Yu),super(null,i,s,l,a,o,c,r,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Gr,this.minFilter=o!==void 0?o:Gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class IY extends Kc{constructor(e,t){super();const r=this;let i=null,s=1,l=null,a="local-floor",o=1,h=null,c=null,u=null,d=null,f=null,p=null;const m=t.getContextAttributes();let g=null,v=null;const y=[],_=[];let w=null;const C=new qr;C.layers.enable(1),C.viewport=new jn;const b=new qr;b.layers.enable(2),b.viewport=new jn;const T=[C,b],A=new T$;A.layers.enable(1),A.layers.enable(2);let k=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(X){w=X},this.getController=function(X){let J=y[X];return J===void 0&&(J=new R1,y[X]=J),J.getTargetRaySpace()},this.getControllerGrip=function(X){let J=y[X];return J===void 0&&(J=new R1,y[X]=J),J.getGripSpace()},this.getHand=function(X){let J=y[X];return J===void 0&&(J=new R1,y[X]=J),J.getHandSpace()};function N(X){const J=_.indexOf(X.inputSource);if(J===-1)return;const te=y[J];te!==void 0&&(te.update(X.inputSource,X.frame,h||l),te.dispatchEvent({type:X.type,data:X.inputSource}))}function D(){i.removeEventListener("select",N),i.removeEventListener("selectstart",N),i.removeEventListener("selectend",N),i.removeEventListener("squeeze",N),i.removeEventListener("squeezestart",N),i.removeEventListener("squeezeend",N),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",L);for(let X=0;X<y.length;X++){const J=_[X];J!==null&&(_[X]=null,y[X].disconnect(J))}k=null,P=null,e.setRenderTarget(g),f=null,d=null,u=null,i=null,v=null,K.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||l},this.setReferenceSpace=function(X){h=X},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",D),i.addEventListener("inputsourceschange",L),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(i,t,J),i.updateRenderState({baseLayer:f}),v=new Ga(f.framebufferWidth,f.framebufferHeight,{format:Zs,type:bl,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let J=null,te=null,re=null;m.depth&&(re=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,J=m.stencil?jd:Zu,te=m.stencil?Yu:Ac);const ae={colorFormat:t.RGBA8,depthFormat:re,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(ae),i.updateRenderState({layers:[d]}),v=new Ga(d.textureWidth,d.textureHeight,{format:Zs,type:bl,depthTexture:new A$(d.textureWidth,d.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0});const ie=e.properties.get(v);ie.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(o),h=null,l=await i.requestReferenceSpace(a),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function L(X){for(let J=0;J<X.removed.length;J++){const te=X.removed[J],re=_.indexOf(te);re>=0&&(_[re]=null,y[re].disconnect(te))}for(let J=0;J<X.added.length;J++){const te=X.added[J];let re=_.indexOf(te);if(re===-1){for(let ie=0;ie<y.length;ie++)if(ie>=_.length){_.push(te),re=ie;break}else if(_[ie]===null){_[ie]=te,re=ie;break}if(re===-1)break}const ae=y[re];ae&&ae.connect(te)}}const I=new fe,O=new fe;function F(X,J,te){I.setFromMatrixPosition(J.matrixWorld),O.setFromMatrixPosition(te.matrixWorld);const re=I.distanceTo(O),ae=J.projectionMatrix.elements,ie=te.projectionMatrix.elements,Q=ae[14]/(ae[10]-1),se=ae[14]/(ae[10]+1),de=(ae[9]+1)/ae[5],xe=(ae[9]-1)/ae[5],ne=(ae[8]-1)/ae[0],ye=(ie[8]+1)/ie[0],_e=Q*ne,Ae=Q*ye,Te=re/(-ne+ye),ze=Te*-ne;J.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(ze),X.translateZ(Te),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const tt=Q+Te,at=se+Te,_t=_e-ze,It=Ae+(re-ze),ln=de*se/at*tt,pe=xe*se/at*tt;X.projectionMatrix.makePerspective(_t,It,ln,pe,tt,at),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function H(X,J){J===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(J.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCameraXR=function(X){if(i===null)return X;w&&(X=w),A.near=b.near=C.near=X.near,A.far=b.far=C.far=X.far,(k!==A.near||P!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),k=A.near,P=A.far);const J=X.parent,te=A.cameras;H(A,J);for(let re=0;re<te.length;re++)H(te[re],J);return te.length===2?F(A,C,b):A.projectionMatrix.copy(C.projectionMatrix),w&&j(A,J),A};function j(X,J){const te=w;J===null?te.matrix.copy(X.matrixWorld):(te.matrix.copy(J.matrixWorld),te.matrix.invert(),te.matrix.multiply(X.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0);const re=te.children;for(let ae=0,ie=re.length;ae<ie;ae++)re[ae].updateMatrixWorld(!0);te.projectionMatrix.copy(X.projectionMatrix),te.projectionMatrixInverse.copy(X.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=Vp*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getFoveation=function(){if(!(d===null&&f===null))return o},this.setFoveation=function(X){o=X,d!==null&&(d.fixedFoveation=X),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=X)};let z=null;function W(X,J){if(c=J.getViewerPose(h||l),p=J,c!==null){const te=c.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let re=!1;te.length!==A.cameras.length&&(A.cameras.length=0,re=!0);for(let ae=0;ae<te.length;ae++){const ie=te[ae];let Q=null;if(f!==null)Q=f.getViewport(ie);else{const de=u.getViewSubImage(d,ie);Q=de.viewport,ae===0&&(e.setRenderTargetTextures(v,de.colorTexture,d.ignoreDepthValues?void 0:de.depthStencilTexture),e.setRenderTarget(v))}let se=T[ae];se===void 0&&(se=new qr,se.layers.enable(ae),se.viewport=new jn,T[ae]=se),se.matrix.fromArray(ie.transform.matrix),se.matrix.decompose(se.position,se.quaternion,se.scale),se.projectionMatrix.fromArray(ie.projectionMatrix),se.projectionMatrixInverse.copy(se.projectionMatrix).invert(),se.viewport.set(Q.x,Q.y,Q.width,Q.height),ae===0&&(A.matrix.copy(se.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),re===!0&&A.cameras.push(se)}}for(let te=0;te<y.length;te++){const re=_[te],ae=y[te];re!==null&&ae!==void 0&&ae.update(re,J,h||l)}z&&z(X,J),J.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:J}),p=null}const K=new b$;K.setAnimationLoop(W),this.setAnimationLoop=function(X){z=X},this.dispose=function(){}}}function DY(n,e){function t(g,v){g.matrixAutoUpdate===!0&&g.updateMatrix(),v.value.copy(g.matrix)}function r(g,v){v.color.getRGB(g.fogColor.value,v$(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function i(g,v,y,_,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(g,v):v.isMeshToonMaterial?(s(g,v),u(g,v)):v.isMeshPhongMaterial?(s(g,v),c(g,v)):v.isMeshStandardMaterial?(s(g,v),d(g,v),v.isMeshPhysicalMaterial&&f(g,v,w)):v.isMeshMatcapMaterial?(s(g,v),p(g,v)):v.isMeshDepthMaterial?s(g,v):v.isMeshDistanceMaterial?(s(g,v),m(g,v)):v.isMeshNormalMaterial?s(g,v):v.isLineBasicMaterial?(l(g,v),v.isLineDashedMaterial&&a(g,v)):v.isPointsMaterial?o(g,v,y,_):v.isSpriteMaterial?h(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.bumpMap&&(g.bumpMap.value=v.bumpMap,t(v.bumpMap,g.bumpMapTransform),g.bumpScale.value=v.bumpScale,v.side===Ps&&(g.bumpScale.value*=-1)),v.normalMap&&(g.normalMap.value=v.normalMap,t(v.normalMap,g.normalMapTransform),g.normalScale.value.copy(v.normalScale),v.side===Ps&&g.normalScale.value.negate()),v.displacementMap&&(g.displacementMap.value=v.displacementMap,t(v.displacementMap,g.displacementMapTransform),g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,g.emissiveMapTransform)),v.specularMap&&(g.specularMap.value=v.specularMap,t(v.specularMap,g.specularMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const y=e.get(v).envMap;if(y&&(g.envMap.value=y,g.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*_,t(v.lightMap,g.lightMapTransform)}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,g.aoMapTransform))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform))}function a(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function o(g,v,y,_){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*y,g.scale.value=_*.5,v.map&&(g.map.value=v.map,t(v.map,g.uvTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}function h(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}function c(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function u(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function d(g,v){g.metalness.value=v.metalness,v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,g.metalnessMapTransform)),g.roughness.value=v.roughness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,g.roughnessMapTransform)),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function f(g,v,y){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,g.sheenColorMapTransform)),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,g.sheenRoughnessMapTransform))),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,g.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(g.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ps&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,g.iridescenceMapTransform)),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,g.transmissionMapTransform)),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(g.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(g.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,g.specularColorMapTransform)),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,g.specularIntensityMapTransform))}function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}function m(g,v){const y=e.get(v).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function NY(n,e,t,r){let i={},s={},l=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function o(y,_){const w=_.program;r.uniformBlockBinding(y,w)}function h(y,_){let w=i[y.id];w===void 0&&(p(y),w=c(y),i[y.id]=w,y.addEventListener("dispose",g));const C=_.program;r.updateUBOMapping(y,C);const b=e.render.frame;s[y.id]!==b&&(d(y),s[y.id]=b)}function c(y){const _=u();y.__bindingPointIndex=_;const w=n.createBuffer(),C=y.__size,b=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,C,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,w),w}function u(){for(let y=0;y<a;y++)if(l.indexOf(y)===-1)return l.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const _=i[y.id],w=y.uniforms,C=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let b=0,T=w.length;b<T;b++){const A=w[b];if(f(A,b,C)===!0){const k=A.__offset,P=Array.isArray(A.value)?A.value:[A.value];let N=0;for(let D=0;D<P.length;D++){const L=P[D],I=m(L);typeof L=="number"?(A.__data[0]=L,n.bufferSubData(n.UNIFORM_BUFFER,k+N,A.__data)):L.isMatrix3?(A.__data[0]=L.elements[0],A.__data[1]=L.elements[1],A.__data[2]=L.elements[2],A.__data[3]=L.elements[0],A.__data[4]=L.elements[3],A.__data[5]=L.elements[4],A.__data[6]=L.elements[5],A.__data[7]=L.elements[0],A.__data[8]=L.elements[6],A.__data[9]=L.elements[7],A.__data[10]=L.elements[8],A.__data[11]=L.elements[0]):(L.toArray(A.__data,N),N+=I.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,k,A.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function f(y,_,w){const C=y.value;if(w[_]===void 0){if(typeof C=="number")w[_]=C;else{const b=Array.isArray(C)?C:[C],T=[];for(let A=0;A<b.length;A++)T.push(b[A].clone());w[_]=T}return!0}else if(typeof C=="number"){if(w[_]!==C)return w[_]=C,!0}else{const b=Array.isArray(w[_])?w[_]:[w[_]],T=Array.isArray(C)?C:[C];for(let A=0;A<b.length;A++){const k=b[A];if(k.equals(T[A])===!1)return k.copy(T[A]),!0}}return!1}function p(y){const _=y.uniforms;let w=0;const C=16;let b=0;for(let T=0,A=_.length;T<A;T++){const k=_[T],P={boundary:0,storage:0},N=Array.isArray(k.value)?k.value:[k.value];for(let D=0,L=N.length;D<L;D++){const I=N[D],O=m(I);P.boundary+=O.boundary,P.storage+=O.storage}if(k.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=w,T>0){b=w%C;const D=C-b;b!==0&&D-P.boundary<0&&(w+=C-b,k.__offset=w)}w+=P.storage}return b=w%C,b>0&&(w+=C-b),y.__size=w,y.__cache={},this}function m(y){const _={boundary:0,storage:0};return typeof y=="number"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function g(y){const _=y.target;_.removeEventListener("dispose",g);const w=l.indexOf(_.__bindingPointIndex);l.splice(w,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function v(){for(const y in i)n.deleteBuffer(i[y]);l=[],i={},s={}}return{bind:o,update:h,dispose:v}}function BY(){const n=Cv("canvas");return n.style.display="block",n}class nA{constructor(e={}){const{canvas:t=BY(),context:r=null,depth:i=!0,stencil:s=!0,alpha:l=!1,antialias:a=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:h=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=l;const f=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=on,this.useLegacyLights=!0,this.toneMapping=Wa,this.toneMappingExposure=1;const _=this;let w=!1,C=0,b=0,T=null,A=-1,k=null;const P=new jn,N=new jn;let D=null;const L=new yt(0);let I=0,O=t.width,F=t.height,H=1,j=null,z=null;const W=new jn(0,0,O,F),K=new jn(0,0,O,F);let X=!1;const J=new Rb;let te=!1,re=!1,ae=null;const ie=new tn,Q=new Ve,se=new fe,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return T===null?H:1}let ne=r;function ye(he,Pe){for(let He=0;He<he.length;He++){const ke=he[He],We=t.getContext(ke,Pe);if(We!==null)return We}return null}try{const he={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:h,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Cb}`),t.addEventListener("webglcontextlost",qe,!1),t.addEventListener("webglcontextrestored",Le,!1),t.addEventListener("webglcontextcreationerror",Je,!1),ne===null){const Pe=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&Pe.shift(),ne=ye(Pe,he),ne===null)throw ye(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ne instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(he){throw console.error("THREE.WebGLRenderer: "+he.message),he}let _e,Ae,Te,ze,tt,at,_t,It,ln,pe,ce,Ne,Ye,Ke,et,dt,Xe,Fe,st,St,Et,ht,le,be;function Ue(){_e=new Qq(ne),Ae=new Kq(ne,_e,e),_e.init(Ae),ht=new M$(ne,_e,Ae),Te=new LY(ne,_e,Ae),ze=new nX(ne),tt=new xY,at=new PY(ne,_e,Te,tt,Ae,ht,ze),_t=new Xq(_),It=new Jq(_),ln=new p7(ne,Ae),le=new Vq(ne,_e,ln,Ae),pe=new eX(ne,ln,ze,le),ce=new oX(ne,pe,ln,ze),st=new sX(ne,Ae,at),dt=new qq(tt),Ne=new yY(_,_t,It,_e,Ae,le,dt),Ye=new DY(_,tt),Ke=new bY,et=new TY(_e,Ae),Fe=new Wq(_,_t,It,Te,ce,d,o),Xe=new RY(_,ce,Ae),be=new NY(ne,ze,Ae,Te),St=new Gq(ne,_e,ze,Ae),Et=new tX(ne,_e,ze,Ae),ze.programs=Ne.programs,_.capabilities=Ae,_.extensions=_e,_.properties=tt,_.renderLists=Ke,_.shadowMap=Xe,_.state=Te,_.info=ze}Ue();const me=new IY(_,ne);this.xr=me,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const he=_e.get("WEBGL_lose_context");he&&he.loseContext()},this.forceContextRestore=function(){const he=_e.get("WEBGL_lose_context");he&&he.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(he){he!==void 0&&(H=he,this.setSize(O,F,!1))},this.getSize=function(he){return he.set(O,F)},this.setSize=function(he,Pe,He=!0){if(me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=he,F=Pe,t.width=Math.floor(he*H),t.height=Math.floor(Pe*H),He===!0&&(t.style.width=he+"px",t.style.height=Pe+"px"),this.setViewport(0,0,he,Pe)},this.getDrawingBufferSize=function(he){return he.set(O*H,F*H).floor()},this.setDrawingBufferSize=function(he,Pe,He){O=he,F=Pe,H=He,t.width=Math.floor(he*He),t.height=Math.floor(Pe*He),this.setViewport(0,0,he,Pe)},this.getCurrentViewport=function(he){return he.copy(P)},this.getViewport=function(he){return he.copy(W)},this.setViewport=function(he,Pe,He,ke){he.isVector4?W.set(he.x,he.y,he.z,he.w):W.set(he,Pe,He,ke),Te.viewport(P.copy(W).multiplyScalar(H).floor())},this.getScissor=function(he){return he.copy(K)},this.setScissor=function(he,Pe,He,ke){he.isVector4?K.set(he.x,he.y,he.z,he.w):K.set(he,Pe,He,ke),Te.scissor(N.copy(K).multiplyScalar(H).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(he){Te.setScissorTest(X=he)},this.setOpaqueSort=function(he){j=he},this.setTransparentSort=function(he){z=he},this.getClearColor=function(he){return he.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(he=!0,Pe=!0,He=!0){let ke=0;if(he){let We=!1;if(T!==null){const gt=T.texture.format;We=gt===WT||gt===HT||gt===jT}if(We){const gt=T.texture.type,Ot=gt===bl||gt===Ac||gt===Tb||gt===Yu||gt===zT||gt===UT,Lt=Fe.getClearColor(),$t=Fe.getClearAlpha(),Jt=Lt.r,mt=Lt.g,zt=Lt.b,xn=tt.get(T).__webglFramebuffer;Ot?(f[0]=Jt,f[1]=mt,f[2]=zt,f[3]=$t,ne.clearBufferuiv(ne.COLOR,xn,f)):(p[0]=Jt,p[1]=mt,p[2]=zt,p[3]=$t,ne.clearBufferiv(ne.COLOR,xn,p))}else ke|=ne.COLOR_BUFFER_BIT}Pe&&(ke|=ne.DEPTH_BUFFER_BIT),He&&(ke|=ne.STENCIL_BUFFER_BIT),ne.clear(ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",qe,!1),t.removeEventListener("webglcontextrestored",Le,!1),t.removeEventListener("webglcontextcreationerror",Je,!1),Ke.dispose(),et.dispose(),tt.dispose(),_t.dispose(),It.dispose(),ce.dispose(),le.dispose(),be.dispose(),Ne.dispose(),me.dispose(),me.removeEventListener("sessionstart",an),me.removeEventListener("sessionend",ar),ae&&(ae.dispose(),ae=null),On.stop()};function qe(he){he.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const he=ze.autoReset,Pe=Xe.enabled,He=Xe.autoUpdate,ke=Xe.needsUpdate,We=Xe.type;Ue(),ze.autoReset=he,Xe.enabled=Pe,Xe.autoUpdate=He,Xe.needsUpdate=ke,Xe.type=We}function Je(he){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",he.statusMessage)}function lt(he){const Pe=he.target;Pe.removeEventListener("dispose",lt),Kt(Pe)}function Kt(he){nn(he),tt.remove(he)}function nn(he){const Pe=tt.get(he).programs;Pe!==void 0&&(Pe.forEach(function(He){Ne.releaseProgram(He)}),he.isShaderMaterial&&Ne.releaseShaderCache(he))}this.renderBufferDirect=function(he,Pe,He,ke,We,gt){Pe===null&&(Pe=de);const Ot=We.isMesh&&We.matrixWorld.determinant()<0,Lt=_h(he,Pe,He,ke,We);Te.setMaterial(ke,Ot);let $t=He.index,Jt=1;ke.wireframe===!0&&($t=pe.getWireframeAttribute(He),Jt=2);const mt=He.drawRange,zt=He.attributes.position;let xn=mt.start*Jt,Sn=(mt.start+mt.count)*Jt;gt!==null&&(xn=Math.max(xn,gt.start*Jt),Sn=Math.min(Sn,(gt.start+gt.count)*Jt)),$t!==null?(xn=Math.max(xn,0),Sn=Math.min(Sn,$t.count)):zt!=null&&(xn=Math.max(xn,0),Sn=Math.min(Sn,zt.count));const Xr=Sn-xn;if(Xr<0||Xr===1/0)return;le.setup(We,ke,Lt,He,$t);let Bi,pn=St;if($t!==null&&(Bi=ln.get($t),pn=Et,pn.setIndex(Bi)),We.isMesh)ke.wireframe===!0?(Te.setLineWidth(ke.wireframeLinewidth*xe()),pn.setMode(ne.LINES)):pn.setMode(ne.TRIANGLES);else if(We.isLine){let Ut=ke.linewidth;Ut===void 0&&(Ut=1),Te.setLineWidth(Ut*xe()),We.isLineSegments?pn.setMode(ne.LINES):We.isLineLoop?pn.setMode(ne.LINE_LOOP):pn.setMode(ne.LINE_STRIP)}else We.isPoints?pn.setMode(ne.POINTS):We.isSprite&&pn.setMode(ne.TRIANGLES);if(We.isInstancedMesh)pn.renderInstances(xn,Xr,We.count);else if(He.isInstancedBufferGeometry){const Ut=He._maxInstanceCount!==void 0?He._maxInstanceCount:1/0,rn=Math.min(He.instanceCount,Ut);pn.renderInstances(xn,Xr,rn)}else pn.render(xn,Xr)},this.compile=function(he,Pe){function He(ke,We,gt){ke.transparent===!0&&ke.side===gl&&ke.forceSinglePass===!1?(ke.side=Ps,ke.needsUpdate=!0,br(ke,We,gt),ke.side=Bc,ke.needsUpdate=!0,br(ke,We,gt),ke.side=gl):br(ke,We,gt)}g=et.get(he),g.init(),y.push(g),he.traverseVisible(function(ke){ke.isLight&&ke.layers.test(Pe.layers)&&(g.pushLight(ke),ke.castShadow&&g.pushShadow(ke))}),g.setupLights(_.useLegacyLights),he.traverse(function(ke){const We=ke.material;if(We)if(Array.isArray(We))for(let gt=0;gt<We.length;gt++){const Ot=We[gt];He(Ot,he,ke)}else He(We,he,ke)}),y.pop(),g=null};let fn=null;function _r(he){fn&&fn(he)}function an(){On.stop()}function ar(){On.start()}const On=new b$;On.setAnimationLoop(_r),typeof self<"u"&&On.setContext(self),this.setAnimationLoop=function(he){fn=he,me.setAnimationLoop(he),he===null?On.stop():On.start()},me.addEventListener("sessionstart",an),me.addEventListener("sessionend",ar),this.render=function(he,Pe){if(Pe!==void 0&&Pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),Pe.parent===null&&Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),me.enabled===!0&&me.isPresenting===!0&&(Pe=me.updateCameraXR(Pe)),he.isScene===!0&&he.onBeforeRender(_,he,Pe,T),g=et.get(he,y.length),g.init(),y.push(g),ie.multiplyMatrices(Pe.projectionMatrix,Pe.matrixWorldInverse),J.setFromProjectionMatrix(ie),re=this.localClippingEnabled,te=dt.init(this.clippingPlanes,re),m=Ke.get(he,v.length),m.init(),v.push(m),Ja(he,Pe,0,_.sortObjects),m.finish(),_.sortObjects===!0&&m.sort(j,z),te===!0&&dt.beginShadows();const He=g.state.shadowsArray;if(Xe.render(He,he,Pe),te===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,Fe.render(m,he),g.setupLights(_.useLegacyLights),Pe.isArrayCamera){const ke=Pe.cameras;for(let We=0,gt=ke.length;We<gt;We++){const Ot=ke[We];Ao(m,he,Ot,Ot.viewport)}}else Ao(m,he,Pe);T!==null&&(at.updateMultisampleRenderTarget(T),at.updateRenderTargetMipmap(T)),he.isScene===!0&&he.onAfterRender(_,he,Pe),le.resetDefaultState(),A=-1,k=null,y.pop(),y.length>0?g=y[y.length-1]:g=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function Ja(he,Pe,He,ke){if(he.visible===!1)return;if(he.layers.test(Pe.layers)){if(he.isGroup)He=he.renderOrder;else if(he.isLOD)he.autoUpdate===!0&&he.update(Pe);else if(he.isLight)g.pushLight(he),he.castShadow&&g.pushShadow(he);else if(he.isSprite){if(!he.frustumCulled||J.intersectsSprite(he)){ke&&se.setFromMatrixPosition(he.matrixWorld).applyMatrix4(ie);const Ot=ce.update(he),Lt=he.material;Lt.visible&&m.push(he,Ot,Lt,He,se.z,null)}}else if((he.isMesh||he.isLine||he.isPoints)&&(!he.frustumCulled||J.intersectsObject(he))){he.isSkinnedMesh&&he.skeleton.frame!==ze.render.frame&&(he.skeleton.update(),he.skeleton.frame=ze.render.frame);const Ot=ce.update(he),Lt=he.material;if(ke&&(he.boundingSphere!==void 0?(he.boundingSphere===null&&he.computeBoundingSphere(),se.copy(he.boundingSphere.center)):(Ot.boundingSphere===null&&Ot.computeBoundingSphere(),se.copy(Ot.boundingSphere.center)),se.applyMatrix4(he.matrixWorld).applyMatrix4(ie)),Array.isArray(Lt)){const $t=Ot.groups;for(let Jt=0,mt=$t.length;Jt<mt;Jt++){const zt=$t[Jt],xn=Lt[zt.materialIndex];xn&&xn.visible&&m.push(he,Ot,xn,He,se.z,zt)}}else Lt.visible&&m.push(he,Ot,Lt,He,se.z,null)}}const gt=he.children;for(let Ot=0,Lt=gt.length;Ot<Lt;Ot++)Ja(gt[Ot],Pe,He,ke)}function Ao(he,Pe,He,ke){const We=he.opaque,gt=he.transmissive,Ot=he.transparent;g.setupLightsView(He),te===!0&&dt.setGlobalState(_.clippingPlanes,He),gt.length>0&&nu(We,gt,Pe,He),ke&&Te.viewport(P.copy(ke)),We.length>0&&Ni(We,Pe,He),gt.length>0&&Ni(gt,Pe,He),Ot.length>0&&Ni(Ot,Pe,He),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function nu(he,Pe,He,ke){const We=Ae.isWebGL2;ae===null&&(ae=new Ga(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?Wp:bl,minFilter:sh,samples:We&&a===!0?4:0})),_.getDrawingBufferSize(Q),We?ae.setSize(Q.x,Q.y):ae.setSize(C_(Q.x),C_(Q.y));const gt=_.getRenderTarget();_.setRenderTarget(ae),_.getClearColor(L),I=_.getClearAlpha(),I<1&&_.setClearColor(16777215,.5),_.clear();const Ot=_.toneMapping;_.toneMapping=Wa,Ni(he,He,ke),at.updateMultisampleRenderTarget(ae),at.updateRenderTargetMipmap(ae);let Lt=!1;for(let $t=0,Jt=Pe.length;$t<Jt;$t++){const mt=Pe[$t],zt=mt.object,xn=mt.geometry,Sn=mt.material,Xr=mt.group;if(Sn.side===gl&&zt.layers.test(ke.layers)){const Bi=Sn.side;Sn.side=Ps,Sn.needsUpdate=!0,to(zt,He,ke,xn,Sn,Xr),Sn.side=Bi,Sn.needsUpdate=!0,Lt=!0}}Lt===!0&&(at.updateMultisampleRenderTarget(ae),at.updateRenderTargetMipmap(ae)),_.setRenderTarget(gt),_.setClearColor(L,I),_.toneMapping=Ot}function Ni(he,Pe,He){const ke=Pe.isScene===!0?Pe.overrideMaterial:null;for(let We=0,gt=he.length;We<gt;We++){const Ot=he[We],Lt=Ot.object,$t=Ot.geometry,Jt=ke===null?Ot.material:ke,mt=Ot.group;Lt.layers.test(He.layers)&&to(Lt,Pe,He,$t,Jt,mt)}}function to(he,Pe,He,ke,We,gt){he.onBeforeRender(_,Pe,He,ke,We,gt),he.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,he.matrixWorld),he.normalMatrix.getNormalMatrix(he.modelViewMatrix),We.onBeforeRender(_,Pe,He,ke,he,gt),We.transparent===!0&&We.side===gl&&We.forceSinglePass===!1?(We.side=Ps,We.needsUpdate=!0,_.renderBufferDirect(He,Pe,ke,We,he,gt),We.side=Bc,We.needsUpdate=!0,_.renderBufferDirect(He,Pe,ke,We,he,gt),We.side=gl):_.renderBufferDirect(He,Pe,ke,We,he,gt),he.onAfterRender(_,Pe,He,ke,We,gt)}function br(he,Pe,He){Pe.isScene!==!0&&(Pe=de);const ke=tt.get(he),We=g.state.lights,gt=g.state.shadowsArray,Ot=We.state.version,Lt=Ne.getParameters(he,We.state,gt,Pe,He),$t=Ne.getProgramCacheKey(Lt);let Jt=ke.programs;ke.environment=he.isMeshStandardMaterial?Pe.environment:null,ke.fog=Pe.fog,ke.envMap=(he.isMeshStandardMaterial?It:_t).get(he.envMap||ke.environment),Jt===void 0&&(he.addEventListener("dispose",lt),Jt=new Map,ke.programs=Jt);let mt=Jt.get($t);if(mt!==void 0){if(ke.currentProgram===mt&&ke.lightsStateVersion===Ot)return Qa(he,Lt),mt}else Lt.uniforms=Ne.getUniforms(he),he.onBuild(He,Lt,_),he.onBeforeCompile(Lt,_),mt=Ne.acquireProgram(Lt,$t),Jt.set($t,mt),ke.uniforms=Lt.uniforms;const zt=ke.uniforms;(!he.isShaderMaterial&&!he.isRawShaderMaterial||he.clipping===!0)&&(zt.clippingPlanes=dt.uniform),Qa(he,Lt),ke.needsLights=wh(he),ke.lightsStateVersion=Ot,ke.needsLights&&(zt.ambientLightColor.value=We.state.ambient,zt.lightProbe.value=We.state.probe,zt.directionalLights.value=We.state.directional,zt.directionalLightShadows.value=We.state.directionalShadow,zt.spotLights.value=We.state.spot,zt.spotLightShadows.value=We.state.spotShadow,zt.rectAreaLights.value=We.state.rectArea,zt.ltc_1.value=We.state.rectAreaLTC1,zt.ltc_2.value=We.state.rectAreaLTC2,zt.pointLights.value=We.state.point,zt.pointLightShadows.value=We.state.pointShadow,zt.hemisphereLights.value=We.state.hemi,zt.directionalShadowMap.value=We.state.directionalShadowMap,zt.directionalShadowMatrix.value=We.state.directionalShadowMatrix,zt.spotShadowMap.value=We.state.spotShadowMap,zt.spotLightMatrix.value=We.state.spotLightMatrix,zt.spotLightMap.value=We.state.spotLightMap,zt.pointShadowMap.value=We.state.pointShadowMap,zt.pointShadowMatrix.value=We.state.pointShadowMatrix);const xn=mt.getUniforms(),Sn=i_.seqWithValue(xn.seq,zt);return ke.currentProgram=mt,ke.uniformsList=Sn,mt}function Qa(he,Pe){const He=tt.get(he);He.outputColorSpace=Pe.outputColorSpace,He.instancing=Pe.instancing,He.skinning=Pe.skinning,He.morphTargets=Pe.morphTargets,He.morphNormals=Pe.morphNormals,He.morphColors=Pe.morphColors,He.morphTargetsCount=Pe.morphTargetsCount,He.numClippingPlanes=Pe.numClippingPlanes,He.numIntersection=Pe.numClipIntersection,He.vertexAlphas=Pe.vertexAlphas,He.vertexTangents=Pe.vertexTangents,He.toneMapping=Pe.toneMapping}function _h(he,Pe,He,ke,We){Pe.isScene!==!0&&(Pe=de),at.resetTextureUnits();const gt=Pe.fog,Ot=ke.isMeshStandardMaterial?Pe.environment:null,Lt=T===null?_.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Va,$t=(ke.isMeshStandardMaterial?It:_t).get(ke.envMap||Ot),Jt=ke.vertexColors===!0&&!!He.attributes.color&&He.attributes.color.itemSize===4,mt=!!He.attributes.tangent&&(!!ke.normalMap||ke.anisotropy>0),zt=!!He.morphAttributes.position,xn=!!He.morphAttributes.normal,Sn=!!He.morphAttributes.color,Xr=ke.toneMapped?_.toneMapping:Wa,Bi=He.morphAttributes.position||He.morphAttributes.normal||He.morphAttributes.color,pn=Bi!==void 0?Bi.length:0,Ut=tt.get(ke),rn=g.state.lights;if(te===!0&&(re===!0||he!==k)){const cr=he===k&&ke.id===A;dt.setState(ke,he,cr)}let jt=!1;ke.version===Ut.__version?(Ut.needsLights&&Ut.lightsStateVersion!==rn.state.version||Ut.outputColorSpace!==Lt||We.isInstancedMesh&&Ut.instancing===!1||!We.isInstancedMesh&&Ut.instancing===!0||We.isSkinnedMesh&&Ut.skinning===!1||!We.isSkinnedMesh&&Ut.skinning===!0||Ut.envMap!==$t||ke.fog===!0&&Ut.fog!==gt||Ut.numClippingPlanes!==void 0&&(Ut.numClippingPlanes!==dt.numPlanes||Ut.numIntersection!==dt.numIntersection)||Ut.vertexAlphas!==Jt||Ut.vertexTangents!==mt||Ut.morphTargets!==zt||Ut.morphNormals!==xn||Ut.morphColors!==Sn||Ut.toneMapping!==Xr||Ae.isWebGL2===!0&&Ut.morphTargetsCount!==pn)&&(jt=!0):(jt=!0,Ut.__version=ke.version);let In=Ut.currentProgram;jt===!0&&(In=br(ke,Pe,We));let wr=!1,lr=!1,Ei=!1;const Fn=In.getUniforms(),Cn=Ut.uniforms;if(Te.useProgram(In.program)&&(wr=!0,lr=!0,Ei=!0),ke.id!==A&&(A=ke.id,lr=!0),wr||k!==he){if(Fn.setValue(ne,"projectionMatrix",he.projectionMatrix),Ae.logarithmicDepthBuffer&&Fn.setValue(ne,"logDepthBufFC",2/(Math.log(he.far+1)/Math.LN2)),k!==he&&(k=he,lr=!0,Ei=!0),ke.isShaderMaterial||ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshStandardMaterial||ke.envMap){const cr=Fn.map.cameraPosition;cr!==void 0&&cr.setValue(ne,se.setFromMatrixPosition(he.matrixWorld))}(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial)&&Fn.setValue(ne,"isOrthographic",he.isOrthographicCamera===!0),(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial||ke.isShadowMaterial||We.isSkinnedMesh)&&Fn.setValue(ne,"viewMatrix",he.matrixWorldInverse)}if(We.isSkinnedMesh){Fn.setOptional(ne,We,"bindMatrix"),Fn.setOptional(ne,We,"bindMatrixInverse");const cr=We.skeleton;cr&&(Ae.floatVertexTextures?(cr.boneTexture===null&&cr.computeBoneTexture(),Fn.setValue(ne,"boneTexture",cr.boneTexture,at),Fn.setValue(ne,"boneTextureSize",cr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Fi=He.morphAttributes;if((Fi.position!==void 0||Fi.normal!==void 0||Fi.color!==void 0&&Ae.isWebGL2===!0)&&st.update(We,He,In),(lr||Ut.receiveShadow!==We.receiveShadow)&&(Ut.receiveShadow=We.receiveShadow,Fn.setValue(ne,"receiveShadow",We.receiveShadow)),ke.isMeshGouraudMaterial&&ke.envMap!==null&&(Cn.envMap.value=$t,Cn.flipEnvMap.value=$t.isCubeTexture&&$t.isRenderTargetTexture===!1?-1:1),lr&&(Fn.setValue(ne,"toneMappingExposure",_.toneMappingExposure),Ut.needsLights&&bh(Cn,Ei),gt&&ke.fog===!0&&Ye.refreshFogUniforms(Cn,gt),Ye.refreshMaterialUniforms(Cn,ke,H,F,ae),i_.upload(ne,Ut.uniformsList,Cn,at)),ke.isShaderMaterial&&ke.uniformsNeedUpdate===!0&&(i_.upload(ne,Ut.uniformsList,Cn,at),ke.uniformsNeedUpdate=!1),ke.isSpriteMaterial&&Fn.setValue(ne,"center",We.center),Fn.setValue(ne,"modelViewMatrix",We.modelViewMatrix),Fn.setValue(ne,"normalMatrix",We.normalMatrix),Fn.setValue(ne,"modelMatrix",We.matrixWorld),ke.isShaderMaterial||ke.isRawShaderMaterial){const cr=ke.uniformsGroups;for(let el=0,tl=cr.length;el<tl;el++)if(Ae.isWebGL2){const ca=cr[el];be.update(ca,In),be.bind(ca,In)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return In}function bh(he,Pe){he.ambientLightColor.needsUpdate=Pe,he.lightProbe.needsUpdate=Pe,he.directionalLights.needsUpdate=Pe,he.directionalLightShadows.needsUpdate=Pe,he.pointLights.needsUpdate=Pe,he.pointLightShadows.needsUpdate=Pe,he.spotLights.needsUpdate=Pe,he.spotLightShadows.needsUpdate=Pe,he.rectAreaLights.needsUpdate=Pe,he.hemisphereLights.needsUpdate=Pe}function wh(he){return he.isMeshLambertMaterial||he.isMeshToonMaterial||he.isMeshPhongMaterial||he.isMeshStandardMaterial||he.isShadowMaterial||he.isShaderMaterial&&he.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(he,Pe,He){tt.get(he.texture).__webglTexture=Pe,tt.get(he.depthTexture).__webglTexture=He;const ke=tt.get(he);ke.__hasExternalTextures=!0,ke.__hasExternalTextures&&(ke.__autoAllocateDepthBuffer=He===void 0,ke.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ke.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(he,Pe){const He=tt.get(he);He.__webglFramebuffer=Pe,He.__useDefaultFramebuffer=Pe===void 0},this.setRenderTarget=function(he,Pe=0,He=0){T=he,C=Pe,b=He;let ke=!0,We=null,gt=!1,Ot=!1;if(he){const $t=tt.get(he);$t.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(ne.FRAMEBUFFER,null),ke=!1):$t.__webglFramebuffer===void 0?at.setupRenderTarget(he):$t.__hasExternalTextures&&at.rebindTextures(he,tt.get(he.texture).__webglTexture,tt.get(he.depthTexture).__webglTexture);const Jt=he.texture;(Jt.isData3DTexture||Jt.isDataArrayTexture||Jt.isCompressedArrayTexture)&&(Ot=!0);const mt=tt.get(he).__webglFramebuffer;he.isWebGLCubeRenderTarget?(We=mt[Pe],gt=!0):Ae.isWebGL2&&he.samples>0&&at.useMultisampledRTT(he)===!1?We=tt.get(he).__webglMultisampledFramebuffer:We=mt,P.copy(he.viewport),N.copy(he.scissor),D=he.scissorTest}else P.copy(W).multiplyScalar(H).floor(),N.copy(K).multiplyScalar(H).floor(),D=X;if(Te.bindFramebuffer(ne.FRAMEBUFFER,We)&&Ae.drawBuffers&&ke&&Te.drawBuffers(he,We),Te.viewport(P),Te.scissor(N),Te.setScissorTest(D),gt){const $t=tt.get(he.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,$t.__webglTexture,He)}else if(Ot){const $t=tt.get(he.texture),Jt=Pe||0;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,$t.__webglTexture,He||0,Jt)}A=-1},this.readRenderTargetPixels=function(he,Pe,He,ke,We,gt,Ot){if(!(he&&he.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Lt=tt.get(he).__webglFramebuffer;if(he.isWebGLCubeRenderTarget&&Ot!==void 0&&(Lt=Lt[Ot]),Lt){Te.bindFramebuffer(ne.FRAMEBUFFER,Lt);try{const $t=he.texture,Jt=$t.format,mt=$t.type;if(Jt!==Zs&&ht.convert(Jt)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const zt=mt===Wp&&(_e.has("EXT_color_buffer_half_float")||Ae.isWebGL2&&_e.has("EXT_color_buffer_float"));if(mt!==bl&&ht.convert(mt)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mt===yl&&(Ae.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!zt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Pe>=0&&Pe<=he.width-ke&&He>=0&&He<=he.height-We&&ne.readPixels(Pe,He,ke,We,ht.convert(Jt),ht.convert(mt),gt)}finally{const $t=T!==null?tt.get(T).__webglFramebuffer:null;Te.bindFramebuffer(ne.FRAMEBUFFER,$t)}}},this.copyFramebufferToTexture=function(he,Pe,He=0){const ke=Math.pow(2,-He),We=Math.floor(Pe.image.width*ke),gt=Math.floor(Pe.image.height*ke);at.setTexture2D(Pe,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,He,0,0,he.x,he.y,We,gt),Te.unbindTexture()},this.copyTextureToTexture=function(he,Pe,He,ke=0){const We=Pe.image.width,gt=Pe.image.height,Ot=ht.convert(He.format),Lt=ht.convert(He.type);at.setTexture2D(He,0),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,He.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,He.unpackAlignment),Pe.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,ke,he.x,he.y,We,gt,Ot,Lt,Pe.image.data):Pe.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,ke,he.x,he.y,Pe.mipmaps[0].width,Pe.mipmaps[0].height,Ot,Pe.mipmaps[0].data):ne.texSubImage2D(ne.TEXTURE_2D,ke,he.x,he.y,Ot,Lt,Pe.image),ke===0&&He.generateMipmaps&&ne.generateMipmap(ne.TEXTURE_2D),Te.unbindTexture()},this.copyTextureToTexture3D=function(he,Pe,He,ke,We=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const gt=he.max.x-he.min.x+1,Ot=he.max.y-he.min.y+1,Lt=he.max.z-he.min.z+1,$t=ht.convert(ke.format),Jt=ht.convert(ke.type);let mt;if(ke.isData3DTexture)at.setTexture3D(ke,0),mt=ne.TEXTURE_3D;else if(ke.isDataArrayTexture)at.setTexture2DArray(ke,0),mt=ne.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,ke.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ke.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,ke.unpackAlignment);const zt=ne.getParameter(ne.UNPACK_ROW_LENGTH),xn=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),Sn=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Xr=ne.getParameter(ne.UNPACK_SKIP_ROWS),Bi=ne.getParameter(ne.UNPACK_SKIP_IMAGES),pn=He.isCompressedTexture?He.mipmaps[0]:He.image;ne.pixelStorei(ne.UNPACK_ROW_LENGTH,pn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,pn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,he.min.x),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,he.min.y),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,he.min.z),He.isDataTexture||He.isData3DTexture?ne.texSubImage3D(mt,We,Pe.x,Pe.y,Pe.z,gt,Ot,Lt,$t,Jt,pn.data):He.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(mt,We,Pe.x,Pe.y,Pe.z,gt,Ot,Lt,$t,pn.data)):ne.texSubImage3D(mt,We,Pe.x,Pe.y,Pe.z,gt,Ot,Lt,$t,Jt,pn),ne.pixelStorei(ne.UNPACK_ROW_LENGTH,zt),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,xn),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Sn),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Xr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Bi),We===0&&ke.generateMipmaps&&ne.generateMipmap(mt),Te.unbindTexture()},this.initTexture=function(he){he.isCubeTexture?at.setTextureCube(he,0):he.isData3DTexture?at.setTexture3D(he,0):he.isDataArrayTexture||he.isCompressedArrayTexture?at.setTexture2DArray(he,0):at.setTexture2D(he,0),Te.unbindTexture()},this.resetState=function(){C=0,b=0,T=null,Te.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xl}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===on?Ju:GT}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Ju?on:Va}}class k$ extends nA{}k$.prototype.isWebGL1Renderer=!0;class Pb{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=t}clone(){return new Pb(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ob{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=t,this.far=r}clone(){return new Ob(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class E_ extends kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ib{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=wv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=wo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=wo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=wo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ms=new fe;class Hd{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ms.fromBufferAttribute(this,t),Ms.applyMatrix4(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ms.fromBufferAttribute(this,t),Ms.applyNormalMatrix(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ms.fromBufferAttribute(this,t),Ms.transformDirection(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=bo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=bo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=bo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=bo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),r=hn(r,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Hd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rA extends Ji{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pp;const Tm=new fe,gp=new fe,mp=new fe,vp=new Ve,Am=new Ve,R$=new tn,nx=new fe,km=new fe,rx=new fe,$L=new Ve,L1=new Ve,zL=new Ve;class L$ extends kn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",pp===void 0){pp=new dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ib(t,5);pp.setIndex([0,1,2,0,2,3]),pp.setAttribute("position",new Hd(r,3,0,!1)),pp.setAttribute("uv",new Hd(r,2,3,!1))}this.geometry=pp,this.material=e!==void 0?e:new rA,this.center=new Ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gp.setFromMatrixScale(this.matrixWorld),R$.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),mp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gp.multiplyScalar(-mp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const l=this.center;ix(nx.set(-.5,-.5,0),mp,l,gp,i,s),ix(km.set(.5,-.5,0),mp,l,gp,i,s),ix(rx.set(.5,.5,0),mp,l,gp,i,s),$L.set(0,0),L1.set(1,0),zL.set(1,1);let a=e.ray.intersectTriangle(nx,km,rx,!1,Tm);if(a===null&&(ix(km.set(-.5,.5,0),mp,l,gp,i,s),L1.set(0,1),a=e.ray.intersectTriangle(nx,rx,km,!1,Tm),a===null))return;const o=e.ray.origin.distanceTo(Tm);o<e.near||o>e.far||t.push({distance:o,point:Tm.clone(),uv:Ys.getInterpolation(Tm,nx,km,rx,$L,L1,zL,new Ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ix(n,e,t,r,i,s){vp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Am.x=s*vp.x-i*vp.y,Am.y=i*vp.x+s*vp.y):Am.copy(vp),n.copy(e),n.x+=Am.x,n.y+=Am.y,n.applyMatrix4(R$)}const sx=new fe,UL=new fe;class P$ extends kn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){sx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(sx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){sx.setFromMatrixPosition(e.matrixWorld),UL.setFromMatrixPosition(this.matrixWorld);const r=sx.distanceTo(UL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let l=t[i].distance;if(t[i].object.visible&&(l-=l*t[i].hysteresis),r>=l)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const l=r[i];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const jL=new fe,HL=new jn,WL=new jn,FY=new fe,VL=new tn,yp=new fe,P1=new qa,GL=new tn,O1=new ef;class O$ extends Zi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tn,this.bindMatrixInverse=new tn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Dl),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)yp.fromBufferAttribute(t,r),this.applyBoneTransform(r,yp),this.boundingBox.expandByPoint(yp)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qa),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)yp.fromBufferAttribute(t,r),this.applyBoneTransform(r,yp),this.boundingSphere.expandByPoint(yp)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),P1.copy(this.boundingSphere),P1.applyMatrix4(i),e.ray.intersectsSphere(P1)!==!1&&(GL.copy(i).invert(),O1.copy(e.ray).applyMatrix4(GL),!(this.boundingBox!==null&&O1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,O1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new jn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;HL.fromBufferAttribute(i.attributes.skinIndex,e),WL.fromBufferAttribute(i.attributes.skinWeight,e),jL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const l=WL.getComponent(s);if(l!==0){const a=HL.getComponent(s);VL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(FY.copy(jL).applyMatrix4(VL),l)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class iA extends kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class $p extends $r{constructor(e=null,t=1,r=1,i,s,l,a,o,h=Gr,c=Gr,u,d){super(null,l,a,o,h,c,i,s,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KL=new tn,$Y=new tn;let I$=class D${constructor(e=[],t=[]){this.uuid=wo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new tn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,l=e.length;s<l;s++){const a=e[s]?e[s].matrixWorld:$Y;KL.multiplyMatrices(a,t[s]),KL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new D$(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=p$(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new $p(t,e,e,Zs,yl);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let l=t[s];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),l=new iA),this.bones.push(l),this.boneInverses.push(new tn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const l=t[i];e.bones.push(l.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}};class Kp extends Jn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const xp=new tn,qL=new tn,ox=[],XL=new Dl,zY=new tn,Rm=new Zi,Lm=new qa;class N$ extends Zi{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,zY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Dl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,xp),XL.copy(e.boundingBox).applyMatrix4(xp),this.boundingBox.union(XL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,xp),Lm.copy(e.boundingSphere).applyMatrix4(xp),this.boundingSphere.union(Lm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Rm.geometry=this.geometry,Rm.material=this.material,Rm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Lm.copy(this.boundingSphere),Lm.applyMatrix4(r),e.ray.intersectsSphere(Lm)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,xp),qL.multiplyMatrices(r,xp),Rm.matrixWorld=qL,Rm.raycast(e,ox);for(let l=0,a=ox.length;l<a;l++){const o=ox[l];o.instanceId=s,o.object=this,t.push(o)}ox.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kp(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Os extends Ji{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const YL=new fe,ZL=new fe,JL=new tn,I1=new ef,ax=new qa;class oh extends kn{constructor(e=new dn,t=new Os){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)YL.fromBufferAttribute(t,i-1),ZL.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=YL.distanceTo(ZL);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ax.copy(r.boundingSphere),ax.applyMatrix4(i),ax.radius+=s,e.ray.intersectsSphere(ax)===!1)return;JL.copy(i).invert(),I1.copy(e.ray).applyMatrix4(JL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=new fe,c=new fe,u=new fe,d=new fe,f=this.isLineSegments?2:1,p=r.index,g=r.attributes.position;if(p!==null){const v=Math.max(0,l.start),y=Math.min(p.count,l.start+l.count);for(let _=v,w=y-1;_<w;_+=f){const C=p.getX(_),b=p.getX(_+1);if(h.fromBufferAttribute(g,C),c.fromBufferAttribute(g,b),I1.distanceSqToSegment(h,c,d,u)>o)continue;d.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(d);A<e.near||A>e.far||t.push({distance:A,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,l.start),y=Math.min(g.count,l.start+l.count);for(let _=v,w=y-1;_<w;_+=f){if(h.fromBufferAttribute(g,_),c.fromBufferAttribute(g,_+1),I1.distanceSqToSegment(h,c,d,u)>o)continue;d.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(d);b<e.near||b>e.far||t.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const QL=new fe,eP=new fe;class Nl extends oh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)QL.fromBufferAttribute(t,i),eP.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+QL.distanceTo(eP);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class B$ extends oh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class sA extends Ji{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const tP=new tn,XE=new ef,lx=new qa,cx=new fe;class F$ extends kn{constructor(e=new dn,t=new sA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lx.copy(r.boundingSphere),lx.applyMatrix4(i),lx.radius+=s,e.ray.intersectsSphere(lx)===!1)return;tP.copy(i).invert(),XE.copy(e.ray).applyMatrix4(tP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=r.index,u=r.attributes.position;if(h!==null){const d=Math.max(0,l.start),f=Math.min(h.count,l.start+l.count);for(let p=d,m=f;p<m;p++){const g=h.getX(p);cx.fromBufferAttribute(u,g),nP(cx,g,o,i,e,t,this)}}else{const d=Math.max(0,l.start),f=Math.min(u.count,l.start+l.count);for(let p=d,m=f;p<m;p++)cx.fromBufferAttribute(u,p),nP(cx,p,o,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=i.length;s<l;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function nP(n,e,t,r,i,s,l){const a=XE.distanceSqToPoint(n);if(a<t){const o=new fe;XE.closestPointToPoint(n,o),o.applyMatrix4(r);const h=i.ray.origin.distanceTo(o);if(h<i.near||h>i.far)return;s.push({distance:h,distanceToRay:Math.sqrt(a),point:o,index:e,face:null,object:l})}}class UY extends $r{constructor(e,t,r,i,s,l,a,o,h){super(e,t,r,i,s,l,a,o,h),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:Kr,this.magFilter=s!==void 0?s:Kr,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jY extends $r{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Gr,this.minFilter=Gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class oA extends $r{constructor(e,t,r,i,s,l,a,o,h,c,u,d){super(null,l,a,o,h,c,i,s,u,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class HY extends oA{constructor(e,t,r,i,s,l){super(e,t,r,s,l),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=cs}}class WY extends $r{constructor(e,t,r,i,s,l,a,o,h){super(e,t,r,i,s,l,a,o,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Xa=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let l;t?l=t:l=e*r[s-1];let a=0,o=s-1,h;for(;a<=o;)if(i=Math.floor(a+(o-a)/2),h=r[i]-l,h<0)a=i+1;else if(h>0)o=i-1;else{o=i;break}if(i=o,r[i]===l)return i/(s-1);const c=r[i],d=r[i+1]-c,f=(l-c)/d;return(i+f)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const l=this.getPoint(i),a=this.getPoint(s),o=t||(l.isVector2?new Ve:new fe);return o.copy(a).sub(l).normalize(),o}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new fe,i=[],s=[],l=[],a=new fe,o=new tn;for(let f=0;f<=e;f++){const p=f/e;i[f]=this.getTangentAt(p,new fe)}s[0]=new fe,l[0]=new fe;let h=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=h&&(h=c,r.set(1,0,0)),u<=h&&(h=u,r.set(0,1,0)),d<=h&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),l[0].crossVectors(i[0],s[0]);for(let f=1;f<=e;f++){if(s[f]=s[f-1].clone(),l[f]=l[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Fr(i[f-1].dot(i[f]),-1,1));s[f].applyMatrix4(o.makeRotationAxis(a,p))}l[f].crossVectors(i[f],s[f])}if(t===!0){let f=Math.acos(Fr(s[0].dot(s[e]),-1,1));f/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(f=-f);for(let p=1;p<=e;p++)s[p].applyMatrix4(o.makeRotationAxis(i[p],f*p)),l[p].crossVectors(i[p],s[p])}return{tangents:i,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class Db extends Xa{constructor(e=0,t=0,r=1,i=1,s=0,l=Math.PI*2,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=a,this.aRotation=o}getPoint(e,t){const r=t||new Ve,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(l?s=0:s=i),this.aClockwise===!0&&!l&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let o=this.aX+this.xRadius*Math.cos(a),h=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=o-this.aX,f=h-this.aY;o=d*c-f*u+this.aX,h=d*u+f*c+this.aY}return r.set(o,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class $$ extends Db{constructor(e,t,r,i,s,l){super(e,t,r,r,i,s,l),this.isArcCurve=!0,this.type="ArcCurve"}}function aA(){let n=0,e=0,t=0,r=0;function i(s,l,a,o){n=s,e=a,t=-3*s+3*l-2*a-o,r=2*s-2*l+a+o}return{initCatmullRom:function(s,l,a,o,h){i(l,a,h*(a-s),h*(o-l))},initNonuniformCatmullRom:function(s,l,a,o,h,c,u){let d=(l-s)/h-(a-s)/(h+c)+(a-l)/c,f=(a-l)/c-(o-l)/(c+u)+(o-a)/u;d*=c,f*=c,i(l,a,d,f)},calc:function(s){const l=s*s,a=l*s;return n+e*s+t*l+r*a}}}const ux=new fe,D1=new aA,N1=new aA,B1=new aA;class z$ extends Xa{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new fe){const r=t,i=this.points,s=i.length,l=(s-(this.closed?0:1))*e;let a=Math.floor(l),o=l-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:o===0&&a===s-1&&(a=s-2,o=1);let h,c;this.closed||a>0?h=i[(a-1)%s]:(ux.subVectors(i[0],i[1]).add(i[0]),h=ux);const u=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(ux.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=ux),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(h.distanceToSquared(u),f),m=Math.pow(u.distanceToSquared(d),f),g=Math.pow(d.distanceToSquared(c),f);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),D1.initNonuniformCatmullRom(h.x,u.x,d.x,c.x,p,m,g),N1.initNonuniformCatmullRom(h.y,u.y,d.y,c.y,p,m,g),B1.initNonuniformCatmullRom(h.z,u.z,d.z,c.z,p,m,g)}else this.curveType==="catmullrom"&&(D1.initCatmullRom(h.x,u.x,d.x,c.x,this.tension),N1.initCatmullRom(h.y,u.y,d.y,c.y,this.tension),B1.initCatmullRom(h.z,u.z,d.z,c.z,this.tension));return r.set(D1.calc(o),N1.calc(o),B1.calc(o)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new fe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function rP(n,e,t,r,i){const s=(r-e)*.5,l=(i-t)*.5,a=n*n,o=n*a;return(2*t-2*r+s+l)*o+(-3*t+3*r-2*s-l)*a+s*n+t}function VY(n,e){const t=1-n;return t*t*e}function GY(n,e){return 2*(1-n)*n*e}function KY(n,e){return n*n*e}function ov(n,e,t,r){return VY(n,e)+GY(n,t)+KY(n,r)}function qY(n,e){const t=1-n;return t*t*t*e}function XY(n,e){const t=1-n;return 3*t*t*n*e}function YY(n,e){return 3*(1-n)*n*n*e}function ZY(n,e){return n*n*n*e}function av(n,e,t,r,i){return qY(n,e)+XY(n,t)+YY(n,r)+ZY(n,i)}class lA extends Xa{constructor(e=new Ve,t=new Ve,r=new Ve,i=new Ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ve){const r=t,i=this.v0,s=this.v1,l=this.v2,a=this.v3;return r.set(av(e,i.x,s.x,l.x,a.x),av(e,i.y,s.y,l.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class U$ extends Xa{constructor(e=new fe,t=new fe,r=new fe,i=new fe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new fe){const r=t,i=this.v0,s=this.v1,l=this.v2,a=this.v3;return r.set(av(e,i.x,s.x,l.x,a.x),av(e,i.y,s.y,l.y,a.y),av(e,i.z,s.z,l.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Nb extends Xa{constructor(e=new Ve,t=new Ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ve){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ve){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class j$ extends Xa{constructor(e=new fe,t=new fe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cA extends Xa{constructor(e=new Ve,t=new Ve,r=new Ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ve){const r=t,i=this.v0,s=this.v1,l=this.v2;return r.set(ov(e,i.x,s.x,l.x),ov(e,i.y,s.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uA extends Xa{constructor(e=new fe,t=new fe,r=new fe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new fe){const r=t,i=this.v0,s=this.v1,l=this.v2;return r.set(ov(e,i.x,s.x,l.x),ov(e,i.y,s.y,l.y),ov(e,i.z,s.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hA extends Xa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ve){const r=t,i=this.points,s=(i.length-1)*e,l=Math.floor(s),a=s-l,o=i[l===0?l:l-1],h=i[l],c=i[l>i.length-2?i.length-1:l+1],u=i[l>i.length-3?i.length-1:l+2];return r.set(rP(a,o.x,h.x,c.x,u.x),rP(a,o.y,h.y,c.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ve().fromArray(i))}return this}}var dA=Object.freeze({__proto__:null,ArcCurve:$$,CatmullRomCurve3:z$,CubicBezierCurve:lA,CubicBezierCurve3:U$,EllipseCurve:Db,LineCurve:Nb,LineCurve3:j$,QuadraticBezierCurve:cA,QuadraticBezierCurve3:uA,SplineCurve:hA});class H$ extends Xa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Nb(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const l=i[s]-r,a=this.curves[s],o=a.getLength(),h=o===0?0:1-l/o;return a.getPointAt(h,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const l=s[i],a=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,o=l.getPoints(a);for(let h=0;h<o.length;h++){const c=o[h];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new dA[i.type]().fromJSON(i))}return this}}let Ev=class extends H${constructor(e){super(),this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Nb(this.currentPoint.clone(),new Ve(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new cA(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,l){const a=new lA(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i),new Ve(s,l));return this.curves.push(a),this.currentPoint.set(s,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new hA(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,l){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,r,i,s,l),this}absarc(e,t,r,i,s,l){return this.absellipse(e,t,r,r,i,s,l),this}ellipse(e,t,r,i,s,l,a,o){const h=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+h,t+c,r,i,s,l,a,o),this}absellipse(e,t,r,i,s,l,a,o){const h=new Db(e,t,r,i,s,l,a,o);if(this.curves.length>0){const u=h.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(h);const c=h.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class hg extends dn{constructor(e=[new Ve(0,-.5),new Ve(.5,0),new Ve(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Fr(i,0,Math.PI*2);const s=[],l=[],a=[],o=[],h=[],c=1/t,u=new fe,d=new Ve,f=new fe,p=new fe,m=new fe;let g=0,v=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:g=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,f.x=v*1,f.y=-g,f.z=v*0,m.copy(f),f.normalize(),o.push(f.x,f.y,f.z);break;case e.length-1:o.push(m.x,m.y,m.z);break;default:g=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,f.x=v*1,f.y=-g,f.z=v*0,p.copy(f),f.x+=m.x,f.y+=m.y,f.z+=m.z,f.normalize(),o.push(f.x,f.y,f.z),m.copy(p)}for(let y=0;y<=t;y++){const _=r+y*c*i,w=Math.sin(_),C=Math.cos(_);for(let b=0;b<=e.length-1;b++){u.x=e[b].x*w,u.y=e[b].y,u.z=e[b].x*C,l.push(u.x,u.y,u.z),d.x=y/t,d.y=b/(e.length-1),a.push(d.x,d.y);const T=o[3*b+0]*w,A=o[3*b+1],k=o[3*b+0]*C;h.push(T,A,k)}}for(let y=0;y<t;y++)for(let _=0;_<e.length-1;_++){const w=_+y*e.length,C=w,b=w+e.length,T=w+e.length+1,A=w+1;s.push(C,b,A),s.push(T,A,b)}this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("uv",new At(a,2)),this.setAttribute("normal",new At(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hg(e.points,e.segments,e.phiStart,e.phiLength)}}class oy extends hg{constructor(e=1,t=1,r=4,i=8){const s=new Ev;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new oy(e.radius,e.length,e.capSegments,e.radialSegments)}}class ay extends dn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],l=[],a=[],o=[],h=new fe,c=new Ve;l.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const f=r+u/t*i;h.x=e*Math.cos(f),h.y=e*Math.sin(f),l.push(h.x,h.y,h.z),a.push(0,0,1),c.x=(l[d]/e+1)/2,c.y=(l[d+1]/e+1)/2,o.push(c.x,c.y)}for(let u=1;u<=t;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ay(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tf extends dn{constructor(e=1,t=1,r=1,i=32,s=1,l=!1,a=0,o=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:l,thetaStart:a,thetaLength:o};const h=this;i=Math.floor(i),s=Math.floor(s);const c=[],u=[],d=[],f=[];let p=0;const m=[],g=r/2;let v=0;y(),l===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(f,2));function y(){const w=new fe,C=new fe;let b=0;const T=(t-e)/r;for(let A=0;A<=s;A++){const k=[],P=A/s,N=P*(t-e)+e;for(let D=0;D<=i;D++){const L=D/i,I=L*o+a,O=Math.sin(I),F=Math.cos(I);C.x=N*O,C.y=-P*r+g,C.z=N*F,u.push(C.x,C.y,C.z),w.set(O,T,F).normalize(),d.push(w.x,w.y,w.z),f.push(L,1-P),k.push(p++)}m.push(k)}for(let A=0;A<i;A++)for(let k=0;k<s;k++){const P=m[k][A],N=m[k+1][A],D=m[k+1][A+1],L=m[k][A+1];c.push(P,N,L),c.push(N,D,L),b+=6}h.addGroup(v,b,0),v+=b}function _(w){const C=p,b=new Ve,T=new fe;let A=0;const k=w===!0?e:t,P=w===!0?1:-1;for(let D=1;D<=i;D++)u.push(0,g*P,0),d.push(0,P,0),f.push(.5,.5),p++;const N=p;for(let D=0;D<=i;D++){const I=D/i*o+a,O=Math.cos(I),F=Math.sin(I);T.x=k*F,T.y=g*P,T.z=k*O,u.push(T.x,T.y,T.z),d.push(0,P,0),b.x=O*.5+.5,b.y=F*.5*P+.5,f.push(b.x,b.y),p++}for(let D=0;D<i;D++){const L=C+D,I=N+D;w===!0?c.push(I,I+1,L):c.push(I+1,I,L),A+=3}h.addGroup(v,A,w===!0?1:2),v+=A}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ly extends tf{constructor(e=1,t=1,r=32,i=1,s=!1,l=0,a=Math.PI*2){super(0,e,t,r,i,s,l,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:l,thetaLength:a}}static fromJSON(e){return new ly(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qc extends dn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],l=[];a(i),h(r),c(),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(s.slice(),3)),this.setAttribute("uv",new At(l,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const _=new fe,w=new fe,C=new fe;for(let b=0;b<t.length;b+=3)f(t[b+0],_),f(t[b+1],w),f(t[b+2],C),o(_,w,C,y)}function o(y,_,w,C){const b=C+1,T=[];for(let A=0;A<=b;A++){T[A]=[];const k=y.clone().lerp(w,A/b),P=_.clone().lerp(w,A/b),N=b-A;for(let D=0;D<=N;D++)D===0&&A===b?T[A][D]=k:T[A][D]=k.clone().lerp(P,D/N)}for(let A=0;A<b;A++)for(let k=0;k<2*(b-A)-1;k++){const P=Math.floor(k/2);k%2===0?(d(T[A][P+1]),d(T[A+1][P]),d(T[A][P])):(d(T[A][P+1]),d(T[A+1][P+1]),d(T[A+1][P]))}}function h(y){const _=new fe;for(let w=0;w<s.length;w+=3)_.x=s[w+0],_.y=s[w+1],_.z=s[w+2],_.normalize().multiplyScalar(y),s[w+0]=_.x,s[w+1]=_.y,s[w+2]=_.z}function c(){const y=new fe;for(let _=0;_<s.length;_+=3){y.x=s[_+0],y.y=s[_+1],y.z=s[_+2];const w=g(y)/2/Math.PI+.5,C=v(y)/Math.PI+.5;l.push(w,1-C)}p(),u()}function u(){for(let y=0;y<l.length;y+=6){const _=l[y+0],w=l[y+2],C=l[y+4],b=Math.max(_,w,C),T=Math.min(_,w,C);b>.9&&T<.1&&(_<.2&&(l[y+0]+=1),w<.2&&(l[y+2]+=1),C<.2&&(l[y+4]+=1))}}function d(y){s.push(y.x,y.y,y.z)}function f(y,_){const w=y*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function p(){const y=new fe,_=new fe,w=new fe,C=new fe,b=new Ve,T=new Ve,A=new Ve;for(let k=0,P=0;k<s.length;k+=9,P+=6){y.set(s[k+0],s[k+1],s[k+2]),_.set(s[k+3],s[k+4],s[k+5]),w.set(s[k+6],s[k+7],s[k+8]),b.set(l[P+0],l[P+1]),T.set(l[P+2],l[P+3]),A.set(l[P+4],l[P+5]),C.copy(y).add(_).add(w).divideScalar(3);const N=g(C);m(b,P+0,y,N),m(T,P+2,_,N),m(A,P+4,w,N)}}function m(y,_,w,C){C<0&&y.x===1&&(l[_]=y.x-1),w.x===0&&w.z===0&&(l[_]=C/2/Math.PI+.5)}function g(y){return Math.atan2(y.z,-y.x)}function v(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qc(e.vertices,e.indices,e.radius,e.details)}}class cy extends qc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cy(e.radius,e.detail)}}const hx=new fe,dx=new fe,F1=new fe,fx=new Ys;class W$ extends dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Od*t),l=e.getIndex(),a=e.getAttribute("position"),o=l?l.count:a.count,h=[0,0,0],c=["a","b","c"],u=new Array(3),d={},f=[];for(let p=0;p<o;p+=3){l?(h[0]=l.getX(p),h[1]=l.getX(p+1),h[2]=l.getX(p+2)):(h[0]=p,h[1]=p+1,h[2]=p+2);const{a:m,b:g,c:v}=fx;if(m.fromBufferAttribute(a,h[0]),g.fromBufferAttribute(a,h[1]),v.fromBufferAttribute(a,h[2]),fx.getNormal(F1),u[0]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,u[1]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,u[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let y=0;y<3;y++){const _=(y+1)%3,w=u[y],C=u[_],b=fx[c[y]],T=fx[c[_]],A=`${w}_${C}`,k=`${C}_${w}`;k in d&&d[k]?(F1.dot(d[k].normal)<=s&&(f.push(b.x,b.y,b.z),f.push(T.x,T.y,T.z)),d[k]=null):A in d||(d[A]={index0:h[y],index1:h[_],normal:F1.clone()})}}for(const p in d)if(d[p]){const{index0:m,index1:g}=d[p];hx.fromBufferAttribute(a,m),dx.fromBufferAttribute(a,g),f.push(hx.x,hx.y,hx.z),f.push(dx.x,dx.y,dx.z)}this.setAttribute("position",new At(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Dd=class extends Ev{constructor(e){super(e),this.uuid=wo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ev().fromJSON(i))}return this}};const JY={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=V$(n,0,i,t,!0);const l=[];if(!s||s.next===s.prev)return l;let a,o,h,c,u,d,f;if(r&&(s=rZ(n,e,s,t)),n.length>80*t){a=h=n[0],o=c=n[1];for(let p=t;p<i;p+=t)u=n[p],d=n[p+1],u<a&&(a=u),d<o&&(o=d),u>h&&(h=u),d>c&&(c=d);f=Math.max(h-a,c-o),f=f!==0?32767/f:0}return Mv(s,l,t,a,o,f,0),l}};function V$(n,e,t,r,i){let s,l;if(i===pZ(n,e,t,r)>0)for(s=e;s<t;s+=r)l=iP(s,n[s],n[s+1],l);else for(s=t-r;s>=e;s-=r)l=iP(s,n[s],n[s+1],l);return l&&Bb(l,l.next)&&(Av(l),l=l.next),l}function Wd(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Bb(t,t.next)||Ar(t.prev,t,t.next)===0)){if(Av(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Mv(n,e,t,r,i,s,l){if(!n)return;!l&&s&&lZ(n,r,i,s);let a=n,o,h;for(;n.prev!==n.next;){if(o=n.prev,h=n.next,s?eZ(n,r,i,s):QY(n)){e.push(o.i/t|0),e.push(n.i/t|0),e.push(h.i/t|0),Av(n),n=h.next,a=h.next;continue}if(n=h,n===a){l?l===1?(n=tZ(Wd(n),e,t),Mv(n,e,t,r,i,s,2)):l===2&&nZ(n,e,t,r,i,s):Mv(Wd(n),e,t,r,i,s,1);break}}}function QY(n){const e=n.prev,t=n,r=n.next;if(Ar(e,t,r)>=0)return!1;const i=e.x,s=t.x,l=r.x,a=e.y,o=t.y,h=r.y,c=i<s?i<l?i:l:s<l?s:l,u=a<o?a<h?a:h:o<h?o:h,d=i>s?i>l?i:l:s>l?s:l,f=a>o?a>h?a:h:o>h?o:h;let p=r.next;for(;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=u&&p.y<=f&&Rp(i,a,s,o,l,h,p.x,p.y)&&Ar(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function eZ(n,e,t,r){const i=n.prev,s=n,l=n.next;if(Ar(i,s,l)>=0)return!1;const a=i.x,o=s.x,h=l.x,c=i.y,u=s.y,d=l.y,f=a<o?a<h?a:h:o<h?o:h,p=c<u?c<d?c:d:u<d?u:d,m=a>o?a>h?a:h:o>h?o:h,g=c>u?c>d?c:d:u>d?u:d,v=YE(f,p,e,t,r),y=YE(m,g,e,t,r);let _=n.prevZ,w=n.nextZ;for(;_&&_.z>=v&&w&&w.z<=y;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==l&&Rp(a,c,o,u,h,d,_.x,_.y)&&Ar(_.prev,_,_.next)>=0||(_=_.prevZ,w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==l&&Rp(a,c,o,u,h,d,w.x,w.y)&&Ar(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;_&&_.z>=v;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==l&&Rp(a,c,o,u,h,d,_.x,_.y)&&Ar(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;w&&w.z<=y;){if(w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==l&&Rp(a,c,o,u,h,d,w.x,w.y)&&Ar(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function tZ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Bb(i,s)&&G$(i,r,r.next,s)&&Tv(i,s)&&Tv(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Av(r),Av(r.next),r=n=s),r=r.next}while(r!==n);return Wd(r)}function nZ(n,e,t,r,i,s){let l=n;do{let a=l.next.next;for(;a!==l.prev;){if(l.i!==a.i&&hZ(l,a)){let o=K$(l,a);l=Wd(l,l.next),o=Wd(o,o.next),Mv(l,e,t,r,i,s,0),Mv(o,e,t,r,i,s,0);return}a=a.next}l=l.next}while(l!==n)}function rZ(n,e,t,r){const i=[];let s,l,a,o,h;for(s=0,l=e.length;s<l;s++)a=e[s]*r,o=s<l-1?e[s+1]*r:n.length,h=V$(n,a,o,r,!1),h===h.next&&(h.steiner=!0),i.push(uZ(h));for(i.sort(iZ),s=0;s<i.length;s++)t=sZ(i[s],t);return t}function iZ(n,e){return n.x-e.x}function sZ(n,e){const t=oZ(n,e);if(!t)return e;const r=K$(t,n);return Wd(r,r.next),Wd(t,t.next)}function oZ(n,e){let t=e,r=-1/0,i;const s=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const d=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,o=i.x,h=i.y;let c=1/0,u;t=i;do s>=t.x&&t.x>=o&&s!==t.x&&Rp(l<h?s:r,l,o,h,l<h?r:s,l,t.x,t.y)&&(u=Math.abs(l-t.y)/(s-t.x),Tv(t,n)&&(u<c||u===c&&(t.x>i.x||t.x===i.x&&aZ(i,t)))&&(i=t,c=u)),t=t.next;while(t!==a);return i}function aZ(n,e){return Ar(n.prev,n,e.prev)<0&&Ar(e.next,n,n.next)<0}function lZ(n,e,t,r){let i=n;do i.z===0&&(i.z=YE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,cZ(i)}function cZ(n){let e,t,r,i,s,l,a,o,h=1;do{for(t=n,n=null,s=null,l=0;t;){for(l++,r=t,a=0,e=0;e<h&&(a++,r=r.nextZ,!!r);e++);for(o=h;a>0||o>0&&r;)a!==0&&(o===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,o--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,h*=2}while(l>1);return n}function YE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function uZ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Rp(n,e,t,r,i,s,l,a){return(i-l)*(e-a)>=(n-l)*(s-a)&&(n-l)*(r-a)>=(t-l)*(e-a)&&(t-l)*(s-a)>=(i-l)*(r-a)}function hZ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!dZ(n,e)&&(Tv(n,e)&&Tv(e,n)&&fZ(n,e)&&(Ar(n.prev,n,e.prev)||Ar(n,e.prev,e))||Bb(n,e)&&Ar(n.prev,n,n.next)>0&&Ar(e.prev,e,e.next)>0)}function Ar(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Bb(n,e){return n.x===e.x&&n.y===e.y}function G$(n,e,t,r){const i=gx(Ar(n,e,t)),s=gx(Ar(n,e,r)),l=gx(Ar(t,r,n)),a=gx(Ar(t,r,e));return!!(i!==s&&l!==a||i===0&&px(n,t,e)||s===0&&px(n,r,e)||l===0&&px(t,n,r)||a===0&&px(t,e,r))}function px(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function gx(n){return n>0?1:n<0?-1:0}function dZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&G$(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tv(n,e){return Ar(n.prev,n,n.next)<0?Ar(n,e,n.next)>=0&&Ar(n,n.prev,e)>=0:Ar(n,e,n.prev)<0||Ar(n,n.next,e)<0}function fZ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function K$(n,e){const t=new ZE(n.i,n.x,n.y),r=new ZE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function iP(n,e,t,r){const i=new ZE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Av(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ZE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pZ(n,e,t,r){let i=0;for(let s=e,l=t-r;s<t;s+=r)i+=(n[l]-n[s])*(n[s+1]+n[l+1]),l=s;return i}class wl{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return wl.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];sP(e),oP(r,e);let l=e.length;t.forEach(sP);for(let o=0;o<t.length;o++)i.push(l),l+=t[o].length,oP(r,t[o]);const a=JY.triangulate(r,i);for(let o=0;o<a.length;o+=3)s.push(a.slice(o,o+3));return s}}function sP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function oP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class uy extends dn{constructor(e=new Dd([new Ve(.5,.5),new Ve(-.5,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,o=e.length;a<o;a++){const h=e[a];l(h)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(s,2)),this.computeVertexNormals();function l(a){const o=[],h=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,u=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:f-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:gZ;let _,w=!1,C,b,T,A;v&&(_=v.getSpacedPoints(c),w=!0,d=!1,C=v.computeFrenetFrames(c,!1),b=new fe,T=new fe,A=new fe),d||(g=0,f=0,p=0,m=0);const k=a.extractPoints(h);let P=k.shape;const N=k.holes;if(!wl.isClockWise(P)){P=P.reverse();for(let ne=0,ye=N.length;ne<ye;ne++){const _e=N[ne];wl.isClockWise(_e)&&(N[ne]=_e.reverse())}}const L=wl.triangulateShape(P,N),I=P;for(let ne=0,ye=N.length;ne<ye;ne++){const _e=N[ne];P=P.concat(_e)}function O(ne,ye,_e){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(ye,_e)}const F=P.length,H=L.length;function j(ne,ye,_e){let Ae,Te,ze;const tt=ne.x-ye.x,at=ne.y-ye.y,_t=_e.x-ne.x,It=_e.y-ne.y,ln=tt*tt+at*at,pe=tt*It-at*_t;if(Math.abs(pe)>Number.EPSILON){const ce=Math.sqrt(ln),Ne=Math.sqrt(_t*_t+It*It),Ye=ye.x-at/ce,Ke=ye.y+tt/ce,et=_e.x-It/Ne,dt=_e.y+_t/Ne,Xe=((et-Ye)*It-(dt-Ke)*_t)/(tt*It-at*_t);Ae=Ye+tt*Xe-ne.x,Te=Ke+at*Xe-ne.y;const Fe=Ae*Ae+Te*Te;if(Fe<=2)return new Ve(Ae,Te);ze=Math.sqrt(Fe/2)}else{let ce=!1;tt>Number.EPSILON?_t>Number.EPSILON&&(ce=!0):tt<-Number.EPSILON?_t<-Number.EPSILON&&(ce=!0):Math.sign(at)===Math.sign(It)&&(ce=!0),ce?(Ae=-at,Te=tt,ze=Math.sqrt(ln)):(Ae=tt,Te=at,ze=Math.sqrt(ln/2))}return new Ve(Ae/ze,Te/ze)}const z=[];for(let ne=0,ye=I.length,_e=ye-1,Ae=ne+1;ne<ye;ne++,_e++,Ae++)_e===ye&&(_e=0),Ae===ye&&(Ae=0),z[ne]=j(I[ne],I[_e],I[Ae]);const W=[];let K,X=z.concat();for(let ne=0,ye=N.length;ne<ye;ne++){const _e=N[ne];K=[];for(let Ae=0,Te=_e.length,ze=Te-1,tt=Ae+1;Ae<Te;Ae++,ze++,tt++)ze===Te&&(ze=0),tt===Te&&(tt=0),K[Ae]=j(_e[Ae],_e[ze],_e[tt]);W.push(K),X=X.concat(K)}for(let ne=0;ne<g;ne++){const ye=ne/g,_e=f*Math.cos(ye*Math.PI/2),Ae=p*Math.sin(ye*Math.PI/2)+m;for(let Te=0,ze=I.length;Te<ze;Te++){const tt=O(I[Te],z[Te],Ae);ie(tt.x,tt.y,-_e)}for(let Te=0,ze=N.length;Te<ze;Te++){const tt=N[Te];K=W[Te];for(let at=0,_t=tt.length;at<_t;at++){const It=O(tt[at],K[at],Ae);ie(It.x,It.y,-_e)}}}const J=p+m;for(let ne=0;ne<F;ne++){const ye=d?O(P[ne],X[ne],J):P[ne];w?(T.copy(C.normals[0]).multiplyScalar(ye.x),b.copy(C.binormals[0]).multiplyScalar(ye.y),A.copy(_[0]).add(T).add(b),ie(A.x,A.y,A.z)):ie(ye.x,ye.y,0)}for(let ne=1;ne<=c;ne++)for(let ye=0;ye<F;ye++){const _e=d?O(P[ye],X[ye],J):P[ye];w?(T.copy(C.normals[ne]).multiplyScalar(_e.x),b.copy(C.binormals[ne]).multiplyScalar(_e.y),A.copy(_[ne]).add(T).add(b),ie(A.x,A.y,A.z)):ie(_e.x,_e.y,u/c*ne)}for(let ne=g-1;ne>=0;ne--){const ye=ne/g,_e=f*Math.cos(ye*Math.PI/2),Ae=p*Math.sin(ye*Math.PI/2)+m;for(let Te=0,ze=I.length;Te<ze;Te++){const tt=O(I[Te],z[Te],Ae);ie(tt.x,tt.y,u+_e)}for(let Te=0,ze=N.length;Te<ze;Te++){const tt=N[Te];K=W[Te];for(let at=0,_t=tt.length;at<_t;at++){const It=O(tt[at],K[at],Ae);w?ie(It.x,It.y+_[c-1].y,_[c-1].x+_e):ie(It.x,It.y,u+_e)}}}te(),re();function te(){const ne=i.length/3;if(d){let ye=0,_e=F*ye;for(let Ae=0;Ae<H;Ae++){const Te=L[Ae];Q(Te[2]+_e,Te[1]+_e,Te[0]+_e)}ye=c+g*2,_e=F*ye;for(let Ae=0;Ae<H;Ae++){const Te=L[Ae];Q(Te[0]+_e,Te[1]+_e,Te[2]+_e)}}else{for(let ye=0;ye<H;ye++){const _e=L[ye];Q(_e[2],_e[1],_e[0])}for(let ye=0;ye<H;ye++){const _e=L[ye];Q(_e[0]+F*c,_e[1]+F*c,_e[2]+F*c)}}r.addGroup(ne,i.length/3-ne,0)}function re(){const ne=i.length/3;let ye=0;ae(I,ye),ye+=I.length;for(let _e=0,Ae=N.length;_e<Ae;_e++){const Te=N[_e];ae(Te,ye),ye+=Te.length}r.addGroup(ne,i.length/3-ne,1)}function ae(ne,ye){let _e=ne.length;for(;--_e>=0;){const Ae=_e;let Te=_e-1;Te<0&&(Te=ne.length-1);for(let ze=0,tt=c+g*2;ze<tt;ze++){const at=F*ze,_t=F*(ze+1),It=ye+Ae+at,ln=ye+Te+at,pe=ye+Te+_t,ce=ye+Ae+_t;se(It,ln,pe,ce)}}}function ie(ne,ye,_e){o.push(ne),o.push(ye),o.push(_e)}function Q(ne,ye,_e){de(ne),de(ye),de(_e);const Ae=i.length/3,Te=y.generateTopUV(r,i,Ae-3,Ae-2,Ae-1);xe(Te[0]),xe(Te[1]),xe(Te[2])}function se(ne,ye,_e,Ae){de(ne),de(ye),de(Ae),de(ye),de(_e),de(Ae);const Te=i.length/3,ze=y.generateSideWallUV(r,i,Te-6,Te-3,Te-2,Te-1);xe(ze[0]),xe(ze[1]),xe(ze[3]),xe(ze[1]),xe(ze[2]),xe(ze[3])}function de(ne){i.push(o[ne*3+0]),i.push(o[ne*3+1]),i.push(o[ne*3+2])}function xe(ne){s.push(ne.x),s.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return mZ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,l=e.shapes.length;s<l;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new dA[i.type]().fromJSON(i)),new uy(r,e.options)}}const gZ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],l=e[t*3+1],a=e[r*3],o=e[r*3+1],h=e[i*3],c=e[i*3+1];return[new Ve(s,l),new Ve(a,o),new Ve(h,c)]},generateSideWallUV:function(n,e,t,r,i,s){const l=e[t*3],a=e[t*3+1],o=e[t*3+2],h=e[r*3],c=e[r*3+1],u=e[r*3+2],d=e[i*3],f=e[i*3+1],p=e[i*3+2],m=e[s*3],g=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(l-h)?[new Ve(l,1-o),new Ve(h,1-u),new Ve(d,1-p),new Ve(m,1-v)]:[new Ve(a,1-o),new Ve(c,1-u),new Ve(f,1-p),new Ve(g,1-v)]}};function mZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class hy extends qc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hy(e.radius,e.detail)}}class dg extends qc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dg(e.radius,e.detail)}}class dy extends dn{constructor(e=.5,t=1,r=32,i=1,s=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:l},r=Math.max(3,r),i=Math.max(1,i);const a=[],o=[],h=[],c=[];let u=e;const d=(t-e)/i,f=new fe,p=new Ve;for(let m=0;m<=i;m++){for(let g=0;g<=r;g++){const v=s+g/r*l;f.x=u*Math.cos(v),f.y=u*Math.sin(v),o.push(f.x,f.y,f.z),h.push(0,0,1),p.x=(f.x/t+1)/2,p.y=(f.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let m=0;m<i;m++){const g=m*(r+1);for(let v=0;v<r;v++){const y=v+g,_=y,w=y+r+1,C=y+r+2,b=y+1;a.push(_,w,b),a.push(w,C,b)}}this.setIndex(a),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dy(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fy extends dn{constructor(e=new Dd([new Ve(0,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],l=[];let a=0,o=0;if(Array.isArray(e)===!1)h(e);else for(let c=0;c<e.length;c++)h(e[c]),this.addGroup(a,o,c),a+=o,o=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(l,2));function h(c){const u=i.length/3,d=c.extractPoints(t);let f=d.shape;const p=d.holes;wl.isClockWise(f)===!1&&(f=f.reverse());for(let g=0,v=p.length;g<v;g++){const y=p[g];wl.isClockWise(y)===!0&&(p[g]=y.reverse())}const m=wl.triangulateShape(f,p);for(let g=0,v=p.length;g<v;g++){const y=p[g];f=f.concat(y)}for(let g=0,v=f.length;g<v;g++){const y=f[g];i.push(y.x,y.y,0),s.push(0,0,1),l.push(y.x,y.y)}for(let g=0,v=m.length;g<v;g++){const y=m[g],_=y[0]+u,w=y[1]+u,C=y[2]+u;r.push(_,w,C),o+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return vZ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const l=t[e.shapes[i]];r.push(l)}return new fy(r,e.curveSegments)}}function vZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class fg extends dn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,l=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:l,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const o=Math.min(l+a,Math.PI);let h=0;const c=[],u=new fe,d=new fe,f=[],p=[],m=[],g=[];for(let v=0;v<=r;v++){const y=[],_=v/r;let w=0;v===0&&l===0?w=.5/t:v===r&&o===Math.PI&&(w=-.5/t);for(let C=0;C<=t;C++){const b=C/t;u.x=-e*Math.cos(i+b*s)*Math.sin(l+_*a),u.y=e*Math.cos(l+_*a),u.z=e*Math.sin(i+b*s)*Math.sin(l+_*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),g.push(b+w,1-_),y.push(h++)}c.push(y)}for(let v=0;v<r;v++)for(let y=0;y<t;y++){const _=c[v][y+1],w=c[v][y],C=c[v+1][y],b=c[v+1][y+1];(v!==0||l>0)&&f.push(_,w,b),(v!==r-1||o<Math.PI)&&f.push(w,C,b)}this.setIndex(f),this.setAttribute("position",new At(p,3)),this.setAttribute("normal",new At(m,3)),this.setAttribute("uv",new At(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class py extends qc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new py(e.radius,e.detail)}}class gy extends dn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const l=[],a=[],o=[],h=[],c=new fe,u=new fe,d=new fe;for(let f=0;f<=r;f++)for(let p=0;p<=i;p++){const m=p/i*s,g=f/r*Math.PI*2;u.x=(e+t*Math.cos(g))*Math.cos(m),u.y=(e+t*Math.cos(g))*Math.sin(m),u.z=t*Math.sin(g),a.push(u.x,u.y,u.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),d.subVectors(u,c).normalize(),o.push(d.x,d.y,d.z),h.push(p/i),h.push(f/r)}for(let f=1;f<=r;f++)for(let p=1;p<=i;p++){const m=(i+1)*f+p-1,g=(i+1)*(f-1)+p-1,v=(i+1)*(f-1)+p,y=(i+1)*f+p;l.push(m,g,y),l.push(g,v,y)}this.setIndex(l),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(o,3)),this.setAttribute("uv",new At(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class my extends dn{constructor(e=1,t=.4,r=64,i=8,s=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:l},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],h=[],c=[],u=new fe,d=new fe,f=new fe,p=new fe,m=new fe,g=new fe,v=new fe;for(let _=0;_<=r;++_){const w=_/r*s*Math.PI*2;y(w,s,l,e,f),y(w+.01,s,l,e,p),g.subVectors(p,f),v.addVectors(p,f),m.crossVectors(g,v),v.crossVectors(m,g),m.normalize(),v.normalize();for(let C=0;C<=i;++C){const b=C/i*Math.PI*2,T=-t*Math.cos(b),A=t*Math.sin(b);u.x=f.x+(T*v.x+A*m.x),u.y=f.y+(T*v.y+A*m.y),u.z=f.z+(T*v.z+A*m.z),o.push(u.x,u.y,u.z),d.subVectors(u,f).normalize(),h.push(d.x,d.y,d.z),c.push(_/r),c.push(C/i)}}for(let _=1;_<=r;_++)for(let w=1;w<=i;w++){const C=(i+1)*(_-1)+(w-1),b=(i+1)*_+(w-1),T=(i+1)*_+w,A=(i+1)*(_-1)+w;a.push(C,b,A),a.push(b,T,A)}this.setIndex(a),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(c,2));function y(_,w,C,b,T){const A=Math.cos(_),k=Math.sin(_),P=C/w*_,N=Math.cos(P);T.x=b*(2+N)*.5*A,T.y=b*(2+N)*k*.5,T.z=b*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new my(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class vy extends dn{constructor(e=new uA(new fe(-1,-1,0),new fe(-1,1,0),new fe(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const l=e.computeFrenetFrames(t,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const a=new fe,o=new fe,h=new Ve;let c=new fe;const u=[],d=[],f=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new At(u,3)),this.setAttribute("normal",new At(d,3)),this.setAttribute("uv",new At(f,2));function m(){for(let _=0;_<t;_++)g(_);g(s===!1?t:0),y(),v()}function g(_){c=e.getPointAt(_/t,c);const w=l.normals[_],C=l.binormals[_];for(let b=0;b<=i;b++){const T=b/i*Math.PI*2,A=Math.sin(T),k=-Math.cos(T);o.x=k*w.x+A*C.x,o.y=k*w.y+A*C.y,o.z=k*w.z+A*C.z,o.normalize(),d.push(o.x,o.y,o.z),a.x=c.x+r*o.x,a.y=c.y+r*o.y,a.z=c.z+r*o.z,u.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=t;_++)for(let w=1;w<=i;w++){const C=(i+1)*(_-1)+(w-1),b=(i+1)*_+(w-1),T=(i+1)*_+w,A=(i+1)*(_-1)+w;p.push(C,b,A),p.push(b,T,A)}}function y(){for(let _=0;_<=t;_++)for(let w=0;w<=i;w++)h.x=_/t,h.y=w/i,f.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new vy(new dA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class q$ extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new fe,s=new fe;if(e.index!==null){const l=e.attributes.position,a=e.index;let o=e.groups;o.length===0&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let h=0,c=o.length;h<c;++h){const u=o[h],d=u.start,f=u.count;for(let p=d,m=d+f;p<m;p+=3)for(let g=0;g<3;g++){const v=a.getX(p+g),y=a.getX(p+(g+1)%3);i.fromBufferAttribute(l,v),s.fromBufferAttribute(l,y),aP(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const l=e.attributes.position;for(let a=0,o=l.count/3;a<o;a++)for(let h=0;h<3;h++){const c=3*a+h,u=3*a+(h+1)%3;i.fromBufferAttribute(l,c),s.fromBufferAttribute(l,u),aP(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new At(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function aP(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var lP=Object.freeze({__proto__:null,BoxGeometry:ph,CapsuleGeometry:oy,CircleGeometry:ay,ConeGeometry:ly,CylinderGeometry:tf,DodecahedronGeometry:cy,EdgesGeometry:W$,ExtrudeGeometry:uy,IcosahedronGeometry:hy,LatheGeometry:hg,OctahedronGeometry:dg,PlaneGeometry:cg,PolyhedronGeometry:qc,RingGeometry:dy,ShapeGeometry:fy,SphereGeometry:fg,TetrahedronGeometry:py,TorusGeometry:gy,TorusKnotGeometry:my,TubeGeometry:vy,WireframeGeometry:q$});class X$ extends Ji{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Y$ extends Tl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fA extends Ji{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Z$ extends fA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class J$ extends Ji{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Q$ extends Ji{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class e4 extends Ji{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class t4 extends Ji{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ny,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class n4 extends Ji{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=dh,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class r4 extends Os{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zo(n,e,t){return pA(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Md(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function pA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function i4(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function JE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,l=0;l!==r;++s){const a=t[s]*e;for(let o=0;o!==e;++o)i[l++]=n[a+o]}return i}function gA(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let l=s[r];if(l!==void 0)if(Array.isArray(l))do l=s[r],l!==void 0&&(e.push(s.time),t.push.apply(t,l)),s=n[i++];while(s!==void 0);else if(l.toArray!==void 0)do l=s[r],l!==void 0&&(e.push(s.time),l.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do l=s[r],l!==void 0&&(e.push(s.time),t.push(l)),s=n[i++];while(s!==void 0)}function yZ(n,e,t,r,i=30){const s=n.clone();s.name=e;const l=[];for(let o=0;o<s.tracks.length;++o){const h=s.tracks[o],c=h.getValueSize(),u=[],d=[];for(let f=0;f<h.times.length;++f){const p=h.times[f]*i;if(!(p<t||p>=r)){u.push(h.times[f]);for(let m=0;m<c;++m)d.push(h.values[f*c+m])}}u.length!==0&&(h.times=Md(u,h.times.constructor),h.values=Md(d,h.values.constructor),l.push(h))}s.tracks=l;let a=1/0;for(let o=0;o<s.tracks.length;++o)a>s.tracks[o].times[0]&&(a=s.tracks[o].times[0]);for(let o=0;o<s.tracks.length;++o)s.tracks[o].shift(-1*a);return s.resetDuration(),s}function xZ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let l=0;l<i;++l){const a=t.tracks[l],o=a.ValueTypeName;if(o==="bool"||o==="string")continue;const h=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===o});if(h===void 0)continue;let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);let d=0;const f=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);const p=a.times.length-1;let m;if(s<=a.times[0]){const v=c,y=u-c;m=Zo(a.values,v,y)}else if(s>=a.times[p]){const v=p*u+c,y=v+u-c;m=Zo(a.values,v,y)}else{const v=a.createInterpolant(),y=c,_=u-c;v.evaluate(s),m=Zo(v.resultBuffer,y,_)}o==="quaternion"&&new hs().fromArray(m).normalize().conjugate().toArray(m);const g=h.times.length;for(let v=0;v<g;++v){const y=v*f+d;if(o==="quaternion")hs.multiplyQuaternionsFlat(h.values,y,m,0,h.values,y);else{const _=f-d*2;for(let w=0;w<_;++w)h.values[y+w]-=m[w]}}}return n.blendMode=VT,n}const _Z={arraySlice:Zo,convertArray:Md,isTypedArray:pA,getKeyframeOrder:i4,sortedArray:JE,flattenJSON:gA,subclip:yZ,makeClipAdditive:xZ};class yy{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let l;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}l=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let o=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===o)break;if(i=s,s=t[--r-1],e>=s)break t}l=r,r=0;break n}break e}for(;r<l;){const a=r+l>>>1;e<t[a]?l=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let l=0;l!==i;++l)t[l]=r[s+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class s4 extends yy{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sd,endingEnd:Sd}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,l=e+1,a=i[s],o=i[l];if(a===void 0)switch(this.getSettings_().endingStart){case Cd:s=e,a=2*t-r;break;case bv:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(o===void 0)switch(this.getSettings_().endingEnd){case Cd:l=e,o=2*r-t;break;case bv:l=1,o=r+i[1]-i[0];break;default:l=e-1,o=t}const h=(r-t)*.5,c=this.valueSize;this._weightPrev=h/(t-a),this._weightNext=h/(o-r),this._offsetPrev=s*c,this._offsetNext=l*c}interpolate_(e,t,r,i){const s=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=e*a,h=o-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(r-t)/(i-t),m=p*p,g=m*p,v=-d*g+2*d*m-d*p,y=(1+d)*g+(-1.5-2*d)*m+(-.5+d)*p+1,_=(-1-f)*g+(1.5+f)*m+.5*p,w=f*g-f*m;for(let C=0;C!==a;++C)s[C]=v*l[c+C]+y*l[h+C]+_*l[o+C]+w*l[u+C];return s}}class mA extends yy{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=e*a,h=o-a,c=(r-t)/(i-t),u=1-c;for(let d=0;d!==a;++d)s[d]=l[h+d]*u+l[o+d]*c;return s}}class o4 extends yy{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ya{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Md(t,this.TimeBufferType),this.values=Md(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Md(e.times,Array),values:Md(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new o4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new s4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xv:t=this.InterpolantFactoryMethodDiscrete;break;case _v:t=this.InterpolantFactoryMethodLinear;break;case n_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xv;case this.InterpolantFactoryMethodLinear:return _v;case this.InterpolantFactoryMethodSmooth:return n_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,l=i-1;for(;s!==i&&r[s]<e;)++s;for(;l!==-1&&r[l]>t;)--l;if(++l,s!==0||l!==i){s>=l&&(l=Math.max(l,1),s=l-1);const a=this.getValueSize();this.times=Zo(r,s,l),this.values=Zo(this.values,s*a,l*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let a=0;a!==s;a++){const o=r[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(l!==null&&l>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,l),e=!1;break}l=o}if(i!==void 0&&pA(i))for(let a=0,o=i.length;a!==o;++a){const h=i[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),e=!1;break}}return e}optimize(){const e=Zo(this.times),t=Zo(this.values),r=this.getValueSize(),i=this.getInterpolation()===n_,s=e.length-1;let l=1;for(let a=1;a<s;++a){let o=!1;const h=e[a],c=e[a+1];if(h!==c&&(a!==1||h!==e[0]))if(i)o=!0;else{const u=a*r,d=u-r,f=u+r;for(let p=0;p!==r;++p){const m=t[u+p];if(m!==t[d+p]||m!==t[f+p]){o=!0;break}}}if(o){if(a!==l){e[l]=e[a];const u=a*r,d=l*r;for(let f=0;f!==r;++f)t[d+f]=t[u+f]}++l}}if(s>0){e[l]=e[s];for(let a=s*r,o=l*r,h=0;h!==r;++h)t[o+h]=t[a+h];++l}return l!==e.length?(this.times=Zo(e,0,l),this.values=Zo(t,0,l*r)):(this.times=e,this.values=t),this}clone(){const e=Zo(this.times,0),t=Zo(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ya.prototype.TimeBufferType=Float32Array;Ya.prototype.ValueBufferType=Float32Array;Ya.prototype.DefaultInterpolation=_v;class nf extends Ya{}nf.prototype.ValueTypeName="bool";nf.prototype.ValueBufferType=Array;nf.prototype.DefaultInterpolation=xv;nf.prototype.InterpolantFactoryMethodLinear=void 0;nf.prototype.InterpolantFactoryMethodSmooth=void 0;class vA extends Ya{}vA.prototype.ValueTypeName="color";class kv extends Ya{}kv.prototype.ValueTypeName="number";class a4 extends yy{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,l=this.sampleValues,a=this.valueSize,o=(r-t)/(i-t);let h=e*a;for(let c=h+a;h!==c;h+=4)hs.slerpFlat(s,0,l,h-a,l,h,o);return s}}class pg extends Ya{InterpolantFactoryMethodLinear(e){return new a4(this.times,this.values,this.getValueSize(),e)}}pg.prototype.ValueTypeName="quaternion";pg.prototype.DefaultInterpolation=_v;pg.prototype.InterpolantFactoryMethodSmooth=void 0;class rf extends Ya{}rf.prototype.ValueTypeName="string";rf.prototype.ValueBufferType=Array;rf.prototype.DefaultInterpolation=xv;rf.prototype.InterpolantFactoryMethodLinear=void 0;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class Rv extends Ya{}Rv.prototype.ValueTypeName="vector";class Lv{constructor(e,t=-1,r,i=Ab){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=wo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let l=0,a=r.length;l!==a;++l)t.push(wZ(r[l]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,l=r.length;s!==l;++s)t.push(Ya.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,l=[];for(let a=0;a<s;a++){let o=[],h=[];o.push((a+s-1)%s,a,(a+1)%s),h.push(0,1,0);const c=i4(o);o=JE(o,1,c),h=JE(h,1,c),!i&&o[0]===0&&(o.push(s),h.push(h[0])),l.push(new kv(".morphTargetInfluences["+t[a].name+"]",o,h).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const h=e[a],c=h.name.match(s);if(c&&c.length>1){const u=c[1];let d=i[u];d||(i[u]=d=[]),d.push(h)}}const l=[];for(const a in i)l.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,d,f,p,m){if(f.length!==0){const g=[],v=[];gA(f,g,v,p),g.length!==0&&m.push(new u(d,g,v))}},i=[],s=e.name||"default",l=e.fps||30,a=e.blendMode;let o=e.length||-1;const h=e.hierarchy||[];for(let u=0;u<h.length;u++){const d=h[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let m=0;m<d[p].morphTargets.length;m++)f[d[p].morphTargets[m]]=-1;for(const m in f){const g=[],v=[];for(let y=0;y!==d[p].morphTargets.length;++y){const _=d[p];g.push(_.time),v.push(_.morphTarget===m?1:0)}i.push(new kv(".morphTargetInfluence["+m+"]",g,v))}o=f.length*l}else{const f=".bones["+t[u].name+"]";r(Rv,f+".position",d,"pos",i),r(pg,f+".quaternion",d,"rot",i),r(Rv,f+".scale",d,"scl",i)}}return i.length===0?null:new this(s,o,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bZ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kv;case"vector":case"vector2":case"vector3":case"vector4":return Rv;case"color":return vA;case"quaternion":return pg;case"bool":case"boolean":return nf;case"string":return rf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function wZ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bZ(n.type);if(n.times===void 0){const t=[],r=[];gA(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Vd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class yA{constructor(e,t,r){const i=this;let s=!1,l=0,a=0,o;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,l,a),s=!0},this.itemEnd=function(c){l++,i.onProgress!==void 0&&i.onProgress(c,l,a),l===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return o?o(c):c},this.setURLModifier=function(c){return o=c,this},this.addHandler=function(c,u){return h.push(c,u),this},this.removeHandler=function(c){const u=h.indexOf(c);return u!==-1&&h.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=h.length;u<d;u+=2){const f=h[u],p=h[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return p}return null}}}const l4=new yA;class Eo{constructor(e){this.manager=e!==void 0?e:l4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const bc={};class SZ extends Error{constructor(e,t){super(e),this.response=t}}class Fc extends Eo{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Vd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(bc[e]!==void 0){bc[e].push({onLoad:t,onProgress:r,onError:i});return}bc[e]=[],bc[e].push({onLoad:t,onProgress:r,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(l).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const c=bc[e],u=h.body.getReader(),d=h.headers.get("Content-Length")||h.headers.get("X-File-Size"),f=d?parseInt(d):0,p=f!==0;let m=0;const g=new ReadableStream({start(v){y();function y(){u.read().then(({done:_,value:w})=>{if(_)v.close();else{m+=w.byteLength;const C=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:f});for(let b=0,T=c.length;b<T;b++){const A=c[b];A.onProgress&&A.onProgress(C)}v.enqueue(w),y()}})}}});return new Response(g)}else throw new SZ(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(o){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return h.json();default:if(a===void 0)return h.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),d=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(d);return h.arrayBuffer().then(p=>f.decode(p))}}}).then(h=>{Vd.add(e,h);const c=bc[e];delete bc[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onLoad&&f.onLoad(h)}}).catch(h=>{const c=bc[e];if(c===void 0)throw this.manager.itemError(e),h;delete bc[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onError&&f.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class CZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=new Fc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Lv.parse(e[r]);t.push(i)}return t}}class EZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=[],a=new oA,o=new Fc(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(s.withCredentials);let h=0;function c(u){o.load(e[u],function(d){const f=s.parse(d,!0);l[u]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},h+=1,h===6&&(f.mipmapCount===1&&(a.minFilter=Kr),a.image=l,a.format=f.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else o.load(e,function(u){const d=s.parse(u,!0);if(d.isCubemap){const f=d.mipmaps.length/d.mipmapCount;for(let p=0;p<f;p++){l[p]={mipmaps:[]};for(let m=0;m<d.mipmapCount;m++)l[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+m]),l[p].format=d.format,l[p].width=d.width,l[p].height=d.height}a.image=l}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Kr),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Pv extends Eo{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=Vd.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(l),s.manager.itemEnd(e)},0),l;const a=Cv("img");function o(){c(),Vd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function h(u){c(),i&&i(u),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",o,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class MZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=new sy;s.colorSpace=on;const l=new Pv(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let a=0;function o(h){l.load(e[h],function(c){s.images[h]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let h=0;h<e.length;++h)o(h);return s}}class TZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=new $p,a=new Fc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(o){const h=s.parse(o);h&&(h.image!==void 0?l.image=h.image:h.data!==void 0&&(l.image.width=h.width,l.image.height=h.height,l.image.data=h.data),l.wrapS=h.wrapS!==void 0?h.wrapS:cs,l.wrapT=h.wrapT!==void 0?h.wrapT:cs,l.magFilter=h.magFilter!==void 0?h.magFilter:Kr,l.minFilter=h.minFilter!==void 0?h.minFilter:Kr,l.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0?l.colorSpace=h.colorSpace:h.encoding!==void 0&&(l.encoding=h.encoding),h.flipY!==void 0&&(l.flipY=h.flipY),h.format!==void 0&&(l.format=h.format),h.type!==void 0&&(l.type=h.type),h.mipmaps!==void 0&&(l.mipmaps=h.mipmaps,l.minFilter=sh),h.mipmapCount===1&&(l.minFilter=Kr),h.generateMipmaps!==void 0&&(l.generateMipmaps=h.generateMipmaps),l.needsUpdate=!0,t&&t(l,h))},r,i),l}}class AZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=new $r,l=new Pv(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class gh extends kn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class c4 extends gh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const $1=new tn,cP=new fe,uP=new fe;class xA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.map=null,this.mapPass=null,this.matrix=new tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rb,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;cP.setFromMatrixPosition(e.matrixWorld),t.position.copy(cP),uP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(uP),t.updateMatrixWorld(),$1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix($1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply($1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class kZ extends xA{constructor(){super(new qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Vp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class u4 extends gh{constructor(e,t,r=0,i=Math.PI/3,s=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=l,this.map=null,this.shadow=new kZ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hP=new tn,Pm=new fe,z1=new fe;class RZ extends xA{constructor(){super(new qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ve(4,2),this._viewportCount=6,this._viewports=[new jn(2,1,1,1),new jn(0,1,1,1),new jn(3,1,1,1),new jn(1,1,1,1),new jn(3,0,1,1),new jn(1,0,1,1)],this._cubeDirections=[new fe(1,0,0),new fe(-1,0,0),new fe(0,0,1),new fe(0,0,-1),new fe(0,1,0),new fe(0,-1,0)],this._cubeUps=[new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,0,1),new fe(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Pm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Pm),z1.copy(r.position),z1.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(z1),r.updateMatrixWorld(),i.makeTranslation(-Pm.x,-Pm.y,-Pm.z),hP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hP)}}class h4 extends gh{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new RZ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class LZ extends xA{constructor(){super(new eh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class d4 extends gh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(kn.DEFAULT_UP),this.updateMatrix(),this.target=new kn,this.shadow=new LZ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class f4 extends gh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class p4 extends gh{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class g4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*i),t.addScaledVector(l[2],.488603*s),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*i)),t.addScaledVector(l[5],1.092548*(i*s)),t.addScaledVector(l[6],.315392*(3*s*s-1)),t.addScaledVector(l[7],1.092548*(r*s)),t.addScaledVector(l[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*i),t.addScaledVector(l[2],2*.511664*s),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*i),t.addScaledVector(l[5],2*.429043*i*s),t.addScaledVector(l[6],.743125*s*s-.247708),t.addScaledVector(l[7],2*.429043*r*s),t.addScaledVector(l[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Fb extends gh{constructor(e=new g4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class $b extends Eo{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,l=new Fc(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=$b.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const l=e.uniforms[s];switch(i.uniforms[s]={},l.type){case"t":i.uniforms[s].value=r(l.value);break;case"c":i.uniforms[s].value=new yt().setHex(l.value);break;case"v2":i.uniforms[s].value=new Ve().fromArray(l.value);break;case"v3":i.uniforms[s].value=new fe().fromArray(l.value);break;case"v4":i.uniforms[s].value=new jn().fromArray(l.value);break;case"m3":i.uniforms[s].value=new un().fromArray(l.value);break;case"m4":i.uniforms[s].value=new tn().fromArray(l.value);break;default:i.uniforms[s].value=l.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ve().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:X$,SpriteMaterial:rA,RawShaderMaterial:Y$,ShaderMaterial:Tl,PointsMaterial:sA,MeshPhysicalMaterial:Z$,MeshStandardMaterial:fA,MeshPhongMaterial:J$,MeshToonMaterial:Q$,MeshNormalMaterial:e4,MeshLambertMaterial:t4,MeshDepthMaterial:eA,MeshDistanceMaterial:tA,MeshBasicMaterial:fh,MeshMatcapMaterial:n4,LineDashedMaterial:r4,LineBasicMaterial:Os,Material:Ji};return new t[e]}}class QE{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class m4 extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class v4 extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=new Fc(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(f,p){if(t[p]!==void 0)return t[p];const g=f.interleavedBuffers[p],v=s(f,g.buffer),y=Tp(g.type,v),_=new Ib(y,g.stride);return _.uuid=g.uuid,t[p]=_,_}function s(f,p){if(r[p]!==void 0)return r[p];const g=f.arrayBuffers[p],v=new Uint32Array(g).buffer;return r[p]=v,v}const l=e.isInstancedBufferGeometry?new m4:new dn,a=e.data.index;if(a!==void 0){const f=Tp(a.type,a.array);l.setIndex(new Jn(f,1))}const o=e.data.attributes;for(const f in o){const p=o[f];let m;if(p.isInterleavedBufferAttribute){const g=i(e.data,p.data);m=new Hd(g,p.itemSize,p.offset,p.normalized)}else{const g=Tp(p.type,p.array),v=p.isInstancedBufferAttribute?Kp:Jn;m=new v(g,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),l.setAttribute(f,m)}const h=e.data.morphAttributes;if(h)for(const f in h){const p=h[f],m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g];let _;if(y.isInterleavedBufferAttribute){const w=i(e.data,y.data);_=new Hd(w,y.itemSize,y.offset,y.normalized)}else{const w=Tp(y.type,y.array);_=new Jn(w,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),m.push(_)}l.morphAttributes[f]=m}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let f=0,p=u.length;f!==p;++f){const m=u[f];l.addGroup(m.start,m.count,m.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const f=new fe;d.center!==void 0&&f.fromArray(d.center),l.boundingSphere=new qa(f,d.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class PZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=this.path===""?QE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const a=new Fc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){let h=null;try{h=JSON.parse(o)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=h.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?QE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Fc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const l=await s.loadAsync(e,t),a=JSON.parse(l),o=a.metadata;if(o===void 0||o.type===void 0||o.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),l=this.parseImages(e.images,function(){t!==void 0&&t(h)}),a=this.parseTextures(e.textures,l),o=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,s,o,a,r),c=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,c),t!==void 0){let u=!1;for(const d in l)if(l[d].data instanceof HTMLImageElement){u=!0;break}u===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,l),o=this.parseObject(e.object,i,a,l,t),h=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,h),o}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Dd().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,l=e.length;s<l;s++){const a=new I$().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new v4;for(let s=0,l=e.length;s<l;s++){let a;const o=e[s];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(o);break;default:o.type in lP?a=lP[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,o.name!==void 0&&(a.name=o.name),o.userData!==void 0&&(a.userData=o.userData),r[o.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new $b;s.setTextures(t);for(let l=0,a=e.length;l<a;l++){const o=e[l];r[o.uuid]===void 0&&(r[o.uuid]=s.parse(o)),i[o.uuid]=r[o.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Lv.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function l(o){return r.manager.itemStart(o),s.load(o,function(){r.manager.itemEnd(o)},void 0,function(){r.manager.itemError(o),r.manager.itemEnd(o)})}function a(o){if(typeof o=="string"){const h=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h;return l(c)}else return o.data?{data:Tp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){const o=new yA(t);s=new Pv(o),s.setCrossOrigin(this.crossOrigin);for(let h=0,c=e.length;h<c;h++){const u=e[h],d=u.url;if(Array.isArray(d)){const f=[];for(let p=0,m=d.length;p<m;p++){const g=d[p],v=a(g);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new $p(v.data,v.width,v.height)))}i[u.uuid]=new Ed(f)}else{const f=a(u.url);i[u.uuid]=new Ed(f)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(l){if(typeof l=="string"){const a=l,o=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(o)}else return l.data?{data:Tp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){i=new Pv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let l=0,a=e.length;l<a;l++){const o=e[l],h=o.url;if(Array.isArray(h)){const c=[];for(let u=0,d=h.length;u<d;u++){const f=h[u],p=await s(f);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new $p(p.data,p.width,p.height)))}r[o.uuid]=new Ed(c)}else{const c=await s(o.url);r[o.uuid]=new Ed(c)}}}return r}parseTextures(e,t){function r(s,l){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),l[s])}const i={};if(e!==void 0)for(let s=0,l=e.length;s<l;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],h=o.data;let c;Array.isArray(h)?(c=new sy,h.length===6&&(c.needsUpdate=!0)):(h&&h.data?c=new $p:c=new $r,h&&(c.needsUpdate=!0)),c.source=o,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,OZ)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],dP),c.wrapT=r(a.wrap[1],dP)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,fP)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,fP)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let l;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function o(d){if(d!==void 0){if(Array.isArray(d)){const f=[];for(let p=0,m=d.length;p<m;p++){const g=d[p];r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),f.push(r[g])}return f}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function h(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,u;switch(e.type){case"Scene":l=new E_,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new yt(e.background):l.background=h(e.background)),e.environment!==void 0&&(l.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Ob(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Pb(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":l=new qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new eh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new f4(e.color,e.intensity);break;case"DirectionalLight":l=new d4(e.color,e.intensity);break;case"PointLight":l=new h4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new p4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new u4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new c4(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new Fb().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),u=o(e.material),l=new O$(c,u),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),u=o(e.material),l=new Zi(c,u);break;case"InstancedMesh":c=a(e.geometry),u=o(e.material);const d=e.count,f=e.instanceMatrix,p=e.instanceColor;l=new N$(c,u,d),l.instanceMatrix=new Kp(new Float32Array(f.array),16),p!==void 0&&(l.instanceColor=new Kp(new Float32Array(p.array),p.itemSize));break;case"LOD":l=new P$;break;case"Line":l=new oh(a(e.geometry),o(e.material));break;case"LineLoop":l=new B$(a(e.geometry),o(e.material));break;case"LineSegments":l=new Nl(a(e.geometry),o(e.material));break;case"PointCloud":case"Points":l=new F$(a(e.geometry),o(e.material));break;case"Sprite":l=new L$(o(e.material));break;case"Group":l=new kp;break;case"Bone":l=new iA;break;default:l=new kn}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let f=0;f<d.length;f++)l.add(this.parseObject(d[f],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let f=0;f<d.length;f++){const p=d[f];l.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const d=e.levels;for(let f=0;f<d.length;f++){const p=d[f],m=l.getObjectByProperty("uuid",p.object);m!==void 0&&l.addLevel(m,p.distance,p.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const OZ={UVMapping:Mb,CubeReflectionMapping:rh,CubeRefractionMapping:ih,EquirectangularReflectionMapping:gv,EquirectangularRefractionMapping:mv,CubeUVReflectionMapping:lg},dP={RepeatWrapping:vv,ClampToEdgeWrapping:cs,MirroredRepeatWrapping:yv},fP={NearestFilter:Gr,NearestMipmapNearestFilter:w_,NearestMipmapLinearFilter:rv,LinearFilter:Kr,LinearMipmapNearestFilter:FT,LinearMipmapLinearFilter:sh};class IZ extends Eo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=Vd.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(l),s.manager.itemEnd(e)},0),l;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(o){Vd.add(e,o),t&&t(o),s.manager.itemEnd(e)}).catch(function(o){i&&i(o),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let mx;class _A{static getContext(){return mx===void 0&&(mx=new(window.AudioContext||window.webkitAudioContext)),mx}static setContext(e){mx=e}}class DZ extends Eo{constructor(e){super(e)}load(e,t,r,i){const s=this,l=new Fc(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(o){try{const h=o.slice(0);_A.getContext().decodeAudioData(h,function(u){t(u)},a)}catch(h){a(h)}},r,i);function a(o){i?i(o):console.error(o),s.manager.itemError(e)}}}class NZ extends Fb{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new yt().set(e),s=new yt().set(t),l=new fe(i.r,i.g,i.b),a=new fe(s.r,s.g,s.b),o=Math.sqrt(Math.PI),h=o*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(l).sub(a).multiplyScalar(h)}}class BZ extends Fb{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new yt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const pP=new tn,gP=new tn,ld=new tn;class FZ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ld.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,l=t.near*Math.tan(Od*t.fov*.5)/t.zoom;let a,o;gP.elements[12]=-i,pP.elements[12]=i,a=-l*t.aspect+s,o=l*t.aspect+s,ld.elements[0]=2*t.near/(o-a),ld.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(ld),a=-l*t.aspect-s,o=l*t.aspect-s,ld.elements[0]=2*t.near/(o-a),ld.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(ld)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pP)}}class bA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=mP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function mP(){return(typeof performance>"u"?Date:performance).now()}const cd=new fe,vP=new hs,$Z=new fe,ud=new fe;class zZ extends kn{constructor(){super(),this.type="AudioListener",this.context=_A.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new bA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(cd,vP,$Z),ud.set(0,0,-1).applyQuaternion(vP),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(cd.x,i),t.positionY.linearRampToValueAtTime(cd.y,i),t.positionZ.linearRampToValueAtTime(cd.z,i),t.forwardX.linearRampToValueAtTime(ud.x,i),t.forwardY.linearRampToValueAtTime(ud.y,i),t.forwardZ.linearRampToValueAtTime(ud.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(cd.x,cd.y,cd.z),t.setOrientation(ud.x,ud.y,ud.z,r.x,r.y,r.z)}}class y4 extends kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const hd=new fe,yP=new hs,UZ=new fe,dd=new fe;class jZ extends y4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hd,yP,UZ),dd.set(0,0,1).applyQuaternion(yP);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hd.x,r),t.positionY.linearRampToValueAtTime(hd.y,r),t.positionZ.linearRampToValueAtTime(hd.z,r),t.orientationX.linearRampToValueAtTime(dd.x,r),t.orientationY.linearRampToValueAtTime(dd.y,r),t.orientationZ.linearRampToValueAtTime(dd.z,r)}else t.setPosition(hd.x,hd.y,hd.z),t.setOrientation(dd.x,dd.y,dd.z)}}class HZ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class x4{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,l;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let l=this.cumulativeWeight;if(l===0){for(let a=0;a!==i;++a)r[s+a]=r[a];l=t}else{l+=t;const a=t/l;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,l=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const o=t*this._origIndex;this._mixBufferRegion(r,i,o,1-s,t)}l>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let o=t,h=t+t;o!==h;++o)if(r[o]!==r[o+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,l=i;s!==l;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let l=0;l!==s;++l)e[t+l]=e[r+l]}_slerp(e,t,r,i){hs.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const l=this._workIndex*s;hs.multiplyQuaternionsFlat(e,l,e,t,e,r),hs.slerpFlat(e,t,e,t,e,l,i)}_lerp(e,t,r,i,s){const l=1-i;for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]*l+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let l=0;l!==s;++l){const a=t+l;e[a]=e[a]+e[r+l]*i}}}const wA="\\[\\]\\.:\\/",WZ=new RegExp("["+wA+"]","g"),SA="[^"+wA+"]",VZ="[^"+wA.replace("\\.","")+"]",GZ=/((?:WC+[\/:])*)/.source.replace("WC",SA),KZ=/(WCOD+)?/.source.replace("WCOD",VZ),qZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",SA),XZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",SA),YZ=new RegExp("^"+GZ+KZ+qZ+XZ+"$"),ZZ=["material","materials","bones","map"];class JZ{constructor(e,t,r){const i=r||Mn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Mn{constructor(e,t,r){this.path=t,this.parsedPath=r||Mn.parseTrackName(t),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,t,r):new Mn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WZ,"")}static parseTrackName(e){const t=YZ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);ZZ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let l=0;l<s.length;l++){const a=s[l];if(a.name===t||a.uuid===t)return a;const o=r(a.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let h=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===h){h=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const l=e[i];if(l===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}o=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=s}else l.fromArray!==void 0&&l.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(o=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=JZ;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class QZ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=wo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,l=s.length;let a,o=e.length,h=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],f=d.uuid;let p=t[f];if(p===void 0){p=o++,t[f]=p,e.push(d);for(let m=0,g=l;m!==g;++m)s[m].push(new Mn(d,r[m],i[m]))}else if(p<h){a=e[p];const m=--h,g=e[m];t[g.uuid]=p,e[p]=g,t[f]=m,e[m]=d;for(let v=0,y=l;v!==y;++v){const _=s[v],w=_[m];let C=_[p];_[p]=w,C===void 0&&(C=new Mn(d,r[v],i[v])),_[m]=C}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let l=0,a=arguments.length;l!==a;++l){const o=arguments[l],h=o.uuid,c=t[h];if(c!==void 0&&c>=s){const u=s++,d=e[u];t[d.uuid]=c,e[c]=d,t[h]=u,e[u]=o;for(let f=0,p=i;f!==p;++f){const m=r[f],g=m[u],v=m[c];m[c]=g,m[u]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,l=e.length;for(let a=0,o=arguments.length;a!==o;++a){const h=arguments[a],c=h.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<s){const d=--s,f=e[d],p=--l,m=e[p];t[f.uuid]=u,e[u]=f,t[m.uuid]=d,e[d]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g],_=y[d],w=y[p];y[u]=_,y[d]=w,y.pop()}}else{const d=--l,f=e[d];d>0&&(t[f.uuid]=u),e[u]=f,e.pop();for(let p=0,m=i;p!==m;++p){const g=r[p];g[u]=g[d],g.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const l=this._paths,a=this._parsedPaths,o=this._objects,h=o.length,c=this.nCachedObjects_,u=new Array(h);i=s.length,r[e]=i,l.push(e),a.push(t),s.push(u);for(let d=c,f=o.length;d!==f;++d){const p=o[d];u[d]=new Mn(p,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,l=this._bindings,a=l.length-1,o=l[a],h=e[a];t[h]=r,l[r]=o,l.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class _4{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,l=s.length,a=new Array(l),o={endingStart:Sd,endingEnd:Sd};for(let h=0;h!==l;++h){const c=s[h].createInterpolant(null);a[h]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=e$,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,l=s/i,a=i/s;e.warp(1,l,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,l=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,h=a.sampleValues;return o[0]=s,o[1]=s+r,h[0]=e/l,h[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const o=(e-s)*r;o<0||r===0?t=0:(this._startTime=null,t=r*o)}t*=this._updateTimeScale(e);const l=this._updateTime(t),a=this._updateWeight(e);if(a>0){const o=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case VT:for(let c=0,u=o.length;c!==u;++c)o[c].evaluate(l),h[c].accumulateAdditive(a);break;case Ab:default:for(let c=0,u=o.length;c!==u;++c)o[c].evaluate(l),h[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const l=r===t$;if(e===0)return s===-1?i:l&&(s&1)===1?t-i:i;if(r===QF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const o=this.repetitions-s;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const h=e<0;this._setEndings(h,!h,l)}else this._setEndings(!1,!1,l);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(l&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Cd,i.endingEnd=Cd):(e?i.endingStart=this.zeroSlopeAtStart?Cd:Sd:i.endingStart=bv,t?i.endingEnd=this.zeroSlopeAtEnd?Cd:Sd:i.endingEnd=bv)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let l=this._weightInterpolant;l===null&&(l=i._lendControlInterpolant(),this._weightInterpolant=l);const a=l.parameterPositions,o=l.sampleValues;return a[0]=s,o[0]=t,a[1]=s+e,o[1]=r,this}}const eJ=new Float32Array(1);class tJ extends Kc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,l=e._propertyBindings,a=e._interpolants,o=r.uuid,h=this._bindingsByRootAndName;let c=h[o];c===void 0&&(c={},h[o]=c);for(let u=0;u!==s;++u){const d=i[u],f=d.name;let p=c[f];if(p!==void 0)++p.referenceCount,l[u]=p;else{if(p=l[u],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,o,f));continue}const m=t&&t._propertyBindings[u].binding.parsedPath;p=new x4(Mn.create(r,f,m),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,o,f),l[u]=p}a[u].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let l=s[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=l;else{const a=l.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,l=this._actionsByClip,a=l[s],o=a.knownActions,h=o[o.length-1],c=e._byClipCacheIndex;h._byClipCacheIndex=c,o[c]=h,o.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],o.length===0&&delete l[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let l=i[t];l===void 0&&(l={},i[t]=l),l[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,l=this._bindingsByRootAndName,a=l[i],o=t[t.length-1],h=e._cacheIndex;o._cacheIndex=h,t[h]=o,t.pop(),delete a[s],Object.keys(a).length===0&&delete l[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new mA(new Float32Array(2),new Float32Array(2),1,eJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let l=typeof e=="string"?Lv.findByName(i,e):e;const a=l!==null?l.uuid:e,o=this._actionsByClip[a];let h=null;if(r===void 0&&(l!==null?r=l.blendMode:r=Ab),o!==void 0){const u=o.actionByRoot[s];if(u!==void 0&&u.blendMode===r)return u;h=o.knownActions[0],l===null&&(l=h._clip)}if(l===null)return null;const c=new _4(this,l,t,r);return this._bindAction(c,h),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Lv.findByName(r,e):e,l=s?s.uuid:e,a=this._actionsByClip[l];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),l=this._accuIndex^=1;for(let h=0;h!==r;++h)t[h]._update(i,e,s,l);const a=this._bindings,o=this._nActiveBindings;for(let h=0;h!==o;++h)a[h].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const l=s.knownActions;for(let a=0,o=l.length;a!==o;++a){const h=l[a];this._deactivateAction(h);const c=h._cacheIndex,u=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(h)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const a=r[l].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const l in s){const a=s[l];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class CA{constructor(e){this.value=e}clone(){return new CA(this.value.clone===void 0?this.value:this.value.clone())}}let nJ=0;class rJ extends Kc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nJ++}),this.name="",this.usage=wv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class iJ extends Ib{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sJ{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class b4{constructor(e,t,r=0,i=1/0){this.ray=new ef(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Id,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return eM(e,this,r,t),r.sort(xP),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)eM(e[i],this,r,t);return r.sort(xP),r}}function xP(n,e){return n.distance-e.distance}function eM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,l=i.length;s<l;s++)eM(i[s],e,t,!0)}}class tM{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class oJ{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const _P=new Ve;class aJ{constructor(e=new Ve(1/0,1/0),t=new Ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=_P.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_P).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bP=new fe,vx=new fe;class lJ{constructor(e=new fe,t=new fe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){bP.subVectors(e,this.start),vx.subVectors(this.end,this.start);const r=vx.dot(vx);let s=vx.dot(bP)/r;return t&&(s=Fr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const wP=new fe;class cJ extends kn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new dn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,a=1,o=32;l<o;l++,a++){const h=l/o*Math.PI*2,c=a/o*Math.PI*2;i.push(Math.cos(h),Math.sin(h),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new At(i,3));const s=new Os({fog:!1,toneMapped:!1});this.cone=new Nl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),wP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $u=new fe,yx=new tn,U1=new tn;class uJ extends Nl{constructor(e){const t=w4(e),r=new dn,i=[],s=[],l=new yt(0,0,1),a=new yt(0,1,0);for(let h=0;h<t.length;h++){const c=t[h];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(l.r,l.g,l.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(s,3));const o=new Os({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");U1.copy(this.root.matrixWorld).invert();for(let s=0,l=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(yx.multiplyMatrices(U1,a.matrixWorld),$u.setFromMatrixPosition(yx),i.setXYZ(l,$u.x,$u.y,$u.z),yx.multiplyMatrices(U1,a.parent.matrixWorld),$u.setFromMatrixPosition(yx),i.setXYZ(l+1,$u.x,$u.y,$u.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function w4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,w4(n.children[t]));return e}class hJ extends Zi{constructor(e,t,r){const i=new fg(t,4,2),s=new fh({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dJ=new fe,SP=new yt,CP=new yt;class fJ extends kn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new dg(t);i.rotateY(Math.PI*.5),this.material=new fh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),l=new Float32Array(s.count*3);i.setAttribute("color",new Jn(l,3)),this.add(new Zi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");SP.copy(this.light.color),CP.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?SP:CP;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pJ extends Nl{constructor(e=10,t=10,r=4473924,i=8947848){r=new yt(r),i=new yt(i);const s=t/2,l=e/t,a=e/2,o=[],h=[];for(let d=0,f=0,p=-a;d<=t;d++,p+=l){o.push(-a,0,p,a,0,p),o.push(p,0,-a,p,0,a);const m=d===s?r:i;m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3,m.toArray(h,f),f+=3}const c=new dn;c.setAttribute("position",new At(o,3)),c.setAttribute("color",new At(h,3));const u=new Os({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gJ extends Nl{constructor(e=10,t=16,r=8,i=64,s=4473924,l=8947848){s=new yt(s),l=new yt(l);const a=[],o=[];if(t>1)for(let u=0;u<t;u++){const d=u/t*(Math.PI*2),f=Math.sin(d)*e,p=Math.cos(d)*e;a.push(0,0,0),a.push(f,0,p);const m=u&1?s:l;o.push(m.r,m.g,m.b),o.push(m.r,m.g,m.b)}for(let u=0;u<r;u++){const d=u&1?s:l,f=e-e/r*u;for(let p=0;p<i;p++){let m=p/i*(Math.PI*2),g=Math.sin(m)*f,v=Math.cos(m)*f;a.push(g,0,v),o.push(d.r,d.g,d.b),m=(p+1)/i*(Math.PI*2),g=Math.sin(m)*f,v=Math.cos(m)*f,a.push(g,0,v),o.push(d.r,d.g,d.b)}}const h=new dn;h.setAttribute("position",new At(a,3)),h.setAttribute("color",new At(o,3));const c=new Os({vertexColors:!0,toneMapped:!1});super(h,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const EP=new fe,xx=new fe,MP=new fe;class mJ extends kn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new dn;i.setAttribute("position",new At([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Os({fog:!1,toneMapped:!1});this.lightPlane=new oh(i,s),this.add(this.lightPlane),i=new dn,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new oh(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),EP.setFromMatrixPosition(this.light.matrixWorld),xx.setFromMatrixPosition(this.light.target.matrixWorld),MP.subVectors(xx,EP),this.lightPlane.lookAt(xx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xx),this.targetLine.scale.z=MP.length()}}const _x=new fe,Nr=new iy;class vJ extends Nl{constructor(e){const t=new dn,r=new Os({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],l={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,m){o(p),o(m)}function o(p){i.push(0,0,0),s.push(0,0,0),l[p]===void 0&&(l[p]=[]),l[p].push(i.length/3-1)}t.setAttribute("position",new At(i,3)),t.setAttribute("color",new At(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const h=new yt(16755200),c=new yt(16711680),u=new yt(43775),d=new yt(16777215),f=new yt(3355443);this.setColors(h,c,u,d,f)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Nr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Hr("c",t,e,Nr,0,0,-1),Hr("t",t,e,Nr,0,0,1),Hr("n1",t,e,Nr,-r,-i,-1),Hr("n2",t,e,Nr,r,-i,-1),Hr("n3",t,e,Nr,-r,i,-1),Hr("n4",t,e,Nr,r,i,-1),Hr("f1",t,e,Nr,-r,-i,1),Hr("f2",t,e,Nr,r,-i,1),Hr("f3",t,e,Nr,-r,i,1),Hr("f4",t,e,Nr,r,i,1),Hr("u1",t,e,Nr,r*.7,i*1.1,-1),Hr("u2",t,e,Nr,-r*.7,i*1.1,-1),Hr("u3",t,e,Nr,0,i*2,-1),Hr("cf1",t,e,Nr,-r,0,1),Hr("cf2",t,e,Nr,r,0,1),Hr("cf3",t,e,Nr,0,-i,1),Hr("cf4",t,e,Nr,0,i,1),Hr("cn1",t,e,Nr,-r,0,-1),Hr("cn2",t,e,Nr,r,0,-1),Hr("cn3",t,e,Nr,0,-i,-1),Hr("cn4",t,e,Nr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hr(n,e,t,r,i,s,l){_x.set(i,s,l).unproject(r);const a=e[n];if(a!==void 0){const o=t.getAttribute("position");for(let h=0,c=a.length;h<c;h++)o.setXYZ(a[h],_x.x,_x.y,_x.z)}}const bx=new Dl;class yJ extends Nl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new dn;s.setIndex(new Jn(r,1)),s.setAttribute("position",new Jn(i,3)),super(s,new Os({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&bx.setFromObject(this.object),bx.isEmpty())return;const t=bx.min,r=bx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xJ extends Nl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new dn;s.setIndex(new Jn(r,1)),s.setAttribute("position",new At(i,3)),super(s,new Os({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _J extends oh{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new dn;l.setAttribute("position",new At(s,3)),l.computeBoundingSphere(),super(l,new Os({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],o=new dn;o.setAttribute("position",new At(a,3)),o.computeBoundingSphere(),this.add(new Zi(o,new fh({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const TP=new fe;let wx,j1;class bJ extends kn{constructor(e=new fe(0,0,1),t=new fe(0,0,0),r=1,i=16776960,s=r*.2,l=s*.2){super(),this.type="ArrowHelper",wx===void 0&&(wx=new dn,wx.setAttribute("position",new At([0,0,0,0,1,0],3)),j1=new tf(0,.5,1,5,1),j1.translate(0,-.5,0)),this.position.copy(t),this.line=new oh(wx,new Os({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Zi(j1,new fh({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{TP.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(TP,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wJ extends Nl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new dn;i.setAttribute("position",new At(t,3)),i.setAttribute("color",new At(r,3));const s=new Os({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new yt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SJ{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ev,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,l){return this.currentPath.bezierCurveTo(e,t,r,i,s,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const y=[];for(let _=0,w=v.length;_<w;_++){const C=v[_],b=new Dd;b.curves=C.curves,y.push(b)}return y}function r(v,y){const _=y.length;let w=!1;for(let C=_-1,b=0;b<_;C=b++){let T=y[C],A=y[b],k=A.x-T.x,P=A.y-T.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(T=y[b],k=-k,A=y[C],P=-P),v.y<T.y||v.y>A.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const N=P*(v.x-T.x)-k*(v.y-T.y);if(N===0)return!0;if(N<0)continue;w=!w}}else{if(v.y!==T.y)continue;if(A.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=A.x)return!0}}return w}const i=wl.isClockWise,s=this.subPaths;if(s.length===0)return[];let l,a,o;const h=[];if(s.length===1)return a=s[0],o=new Dd,o.curves=a.curves,h.push(o),h;let c=!i(s[0].getPoints());c=e?!c:c;const u=[],d=[];let f=[],p=0,m;d[p]=void 0,f[p]=[];for(let v=0,y=s.length;v<y;v++)a=s[v],m=a.getPoints(),l=i(m),l=e?!l:l,l?(!c&&d[p]&&p++,d[p]={s:new Dd,p:m},d[p].s.curves=a.curves,c&&p++,f[p]=[]):f[p].push({h:a,p:m[0]});if(!d[0])return t(s);if(d.length>1){let v=!1,y=0;for(let _=0,w=d.length;_<w;_++)u[_]=[];for(let _=0,w=d.length;_<w;_++){const C=f[_];for(let b=0;b<C.length;b++){const T=C[b];let A=!0;for(let k=0;k<d.length;k++)r(T.p,d[k].p)&&(_!==k&&y++,A?(A=!1,u[k].push(T)):v=!0);A&&u[_].push(T)}}y>0&&v===!1&&(f=u)}let g;for(let v=0,y=d.length;v<y;v++){o=d[v].s,h.push(o),g=f[v];for(let _=0,w=g.length;_<w;_++)o.holes.push(g[_].h)}return h}}class CJ extends ph{constructor(e,t,r,i,s,l){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,l)}}class EJ extends oy{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class MJ extends ay{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class TJ extends ly{constructor(e,t,r,i,s,l,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,l,a)}}class AJ extends tf{constructor(e,t,r,i,s,l,a,o){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,l,a,o)}}class kJ extends cy{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class RJ extends uy{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class LJ extends hy{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class PJ extends hg{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class OJ extends dg{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class IJ extends cg{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class DJ extends qc{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class NJ extends dy{constructor(e,t,r,i,s,l){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,l)}}class BJ extends fy{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class FJ extends fg{constructor(e,t,r,i,s,l,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,l,a)}}class $J extends py{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class zJ extends gy{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class UJ extends my{constructor(e,t,r,i,s,l){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,l)}}class jJ extends vy{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cb);const HJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:BT,AddEquation:bd,AddOperation:$F,AdditiveAnimationBlendMode:VT,AdditiveBlending:vE,AlphaFormat:GF,AlwaysCompare:f$,AlwaysDepth:PF,AlwaysStencilFunc:s$,AmbientLight:f4,AmbientLightProbe:BZ,AnimationAction:_4,AnimationClip:Lv,AnimationLoader:CZ,AnimationMixer:tJ,AnimationObjectGroup:QZ,AnimationUtils:_Z,ArcCurve:$$,ArrayCamera:T$,ArrowHelper:bJ,Audio:y4,AudioAnalyser:HZ,AudioContext:_A,AudioListener:zZ,AudioLoader:DZ,AxesHelper:wJ,BackSide:Ps,BasicDepthPacking:n$,BasicShadowMap:yF,Bone:iA,BooleanKeyframeTrack:nf,Box2:aJ,Box3:Dl,Box3Helper:xJ,BoxBufferGeometry:CJ,BoxGeometry:ph,BoxHelper:yJ,BufferAttribute:Jn,BufferGeometry:dn,BufferGeometryLoader:v4,ByteType:WF,Cache:Vd,Camera:iy,CameraHelper:vJ,CanvasTexture:WY,CapsuleBufferGeometry:EJ,CapsuleGeometry:oy,CatmullRomCurve3:z$,CineonToneMapping:jF,CircleBufferGeometry:MJ,CircleGeometry:ay,ClampToEdgeWrapping:cs,Clock:bA,Color:yt,ColorKeyframeTrack:vA,ColorManagement:Ko,CompressedArrayTexture:HY,CompressedTexture:oA,CompressedTextureLoader:EZ,ConeBufferGeometry:TJ,ConeGeometry:ly,CubeCamera:x$,CubeReflectionMapping:rh,CubeRefractionMapping:ih,CubeTexture:sy,CubeTextureLoader:MZ,CubeUVReflectionMapping:lg,CubicBezierCurve:lA,CubicBezierCurve3:U$,CubicInterpolant:s4,CullFaceBack:mE,CullFaceFront:vF,CullFaceFrontBack:zG,CullFaceNone:mF,Curve:Xa,CurvePath:H$,CustomBlending:xF,CustomToneMapping:HF,CylinderBufferGeometry:AJ,CylinderGeometry:tf,Cylindrical:oJ,Data3DTexture:YT,DataArrayTexture:kb,DataTexture:$p,DataTextureLoader:TZ,DataUtils:Q9,DecrementStencilOp:JG,DecrementWrapStencilOp:e9,DefaultLoadingManager:l4,DepthFormat:Zu,DepthStencilFormat:jd,DepthTexture:A$,DirectionalLight:d4,DirectionalLightHelper:mJ,DiscreteInterpolant:o4,DisplayP3ColorSpace:KT,DodecahedronBufferGeometry:kJ,DodecahedronGeometry:cy,DoubleSide:gl,DstAlphaFactor:MF,DstColorFactor:AF,DynamicCopyUsage:g9,DynamicDrawUsage:c9,DynamicReadUsage:d9,EdgesGeometry:W$,EllipseCurve:Db,EqualCompare:l$,EqualDepth:IF,EqualStencilFunc:i9,EquirectangularReflectionMapping:gv,EquirectangularRefractionMapping:mv,Euler:ry,EventDispatcher:Kc,ExtrudeBufferGeometry:RJ,ExtrudeGeometry:uy,FileLoader:Fc,Float16BufferAttribute:s7,Float32BufferAttribute:At,Float64BufferAttribute:o7,FloatType:yl,Fog:Ob,FogExp2:Pb,FramebufferTexture:jY,FrontSide:Bc,Frustum:Rb,GLBufferAttribute:sJ,GLSL1:v9,GLSL3:VE,GreaterCompare:u$,GreaterDepth:NF,GreaterEqualCompare:d$,GreaterEqualDepth:DF,GreaterEqualStencilFunc:l9,GreaterStencilFunc:o9,GridHelper:pJ,Group:kp,HalfFloatType:Wp,HemisphereLight:c4,HemisphereLightHelper:fJ,HemisphereLightProbe:NZ,IcosahedronBufferGeometry:LJ,IcosahedronGeometry:hy,ImageBitmapLoader:IZ,ImageLoader:Pv,ImageUtils:XT,IncrementStencilOp:ZG,IncrementWrapStencilOp:QG,InstancedBufferAttribute:Kp,InstancedBufferGeometry:m4,InstancedInterleavedBuffer:iJ,InstancedMesh:N$,Int16BufferAttribute:r7,Int32BufferAttribute:i7,Int8BufferAttribute:e7,IntType:$T,InterleavedBuffer:Ib,InterleavedBufferAttribute:Hd,Interpolant:yy,InterpolateDiscrete:xv,InterpolateLinear:_v,InterpolateSmooth:n_,InvertStencilOp:t9,KeepStencilOp:r_,KeyframeTrack:Ya,LOD:P$,LatheBufferGeometry:PJ,LatheGeometry:hg,Layers:Id,LessCompare:a$,LessDepth:OF,LessEqualCompare:c$,LessEqualDepth:b_,LessEqualStencilFunc:s9,LessStencilFunc:r9,Light:gh,LightProbe:Fb,Line:oh,Line3:lJ,LineBasicMaterial:Os,LineCurve:Nb,LineCurve3:j$,LineDashedMaterial:r4,LineLoop:B$,LineSegments:Nl,LinearEncoding:GT,LinearFilter:Kr,LinearInterpolant:mA,LinearMipMapLinearFilter:VG,LinearMipMapNearestFilter:WG,LinearMipmapLinearFilter:sh,LinearMipmapNearestFilter:FT,LinearSRGBColorSpace:Va,LinearToneMapping:zF,Loader:Eo,LoaderUtils:QE,LoadingManager:yA,LoopOnce:QF,LoopPingPong:t$,LoopRepeat:e$,LuminanceAlphaFormat:qF,LuminanceFormat:KF,MOUSE:pd,Material:Ji,MaterialLoader:$b,MathUtils:L9,Matrix3:un,Matrix4:tn,MaxEquation:bE,Mesh:Zi,MeshBasicMaterial:fh,MeshDepthMaterial:eA,MeshDistanceMaterial:tA,MeshLambertMaterial:t4,MeshMatcapMaterial:n4,MeshNormalMaterial:e4,MeshPhongMaterial:J$,MeshPhysicalMaterial:Z$,MeshStandardMaterial:fA,MeshToonMaterial:Q$,MinEquation:_E,MirroredRepeatWrapping:yv,MixOperation:FF,MultiplyBlending:xE,MultiplyOperation:ny,NearestFilter:Gr,NearestMipMapLinearFilter:HG,NearestMipMapNearestFilter:jG,NearestMipmapLinearFilter:rv,NearestMipmapNearestFilter:w_,NeverCompare:o$,NeverDepth:LF,NeverStencilFunc:n9,NoBlending:Pc,NoColorSpace:Qu,NoToneMapping:Wa,NormalAnimationBlendMode:Ab,NormalBlending:Pd,NotEqualCompare:h$,NotEqualDepth:BF,NotEqualStencilFunc:a9,NumberKeyframeTrack:kv,Object3D:kn,ObjectLoader:PZ,ObjectSpaceNormalMap:i$,OctahedronBufferGeometry:OJ,OctahedronGeometry:dg,OneFactor:SF,OneMinusDstAlphaFactor:TF,OneMinusDstColorFactor:kF,OneMinusSrcAlphaFactor:NT,OneMinusSrcColorFactor:EF,OrthographicCamera:eh,PCFShadowMap:Eb,PCFSoftShadowMap:nv,PMREMGenerator:KE,Path:Ev,PerspectiveCamera:qr,Plane:Cc,PlaneBufferGeometry:IJ,PlaneGeometry:cg,PlaneHelper:_J,PointLight:h4,PointLightHelper:hJ,Points:F$,PointsMaterial:sA,PolarGridHelper:gJ,PolyhedronBufferGeometry:DJ,PolyhedronGeometry:qc,PositionalAudio:jZ,PropertyBinding:Mn,PropertyMixer:x4,QuadraticBezierCurve:cA,QuadraticBezierCurve3:uA,Quaternion:hs,QuaternionKeyframeTrack:pg,QuaternionLinearInterpolant:a4,RED_GREEN_RGTC2_Format:HE,RED_RGTC1_Format:JF,REVISION:Cb,RGBADepthPacking:r$,RGBAFormat:Zs,RGBAIntegerFormat:WT,RGBA_ASTC_10x10_Format:$E,RGBA_ASTC_10x5_Format:NE,RGBA_ASTC_10x6_Format:BE,RGBA_ASTC_10x8_Format:FE,RGBA_ASTC_12x10_Format:zE,RGBA_ASTC_12x12_Format:UE,RGBA_ASTC_4x4_Format:AE,RGBA_ASTC_5x4_Format:kE,RGBA_ASTC_5x5_Format:RE,RGBA_ASTC_6x5_Format:LE,RGBA_ASTC_6x6_Format:PE,RGBA_ASTC_8x5_Format:OE,RGBA_ASTC_8x6_Format:IE,RGBA_ASTC_8x8_Format:DE,RGBA_BPTC_Format:t_,RGBA_ETC2_EAC_Format:TE,RGBA_PVRTC_2BPPV1_Format:EE,RGBA_PVRTC_4BPPV1_Format:CE,RGBA_S3TC_DXT1_Format:Jx,RGBA_S3TC_DXT3_Format:Qx,RGBA_S3TC_DXT5_Format:e_,RGB_ETC1_Format:ZF,RGB_ETC2_Format:ME,RGB_PVRTC_2BPPV1_Format:SE,RGB_PVRTC_4BPPV1_Format:wE,RGB_S3TC_DXT1_Format:Zx,RGFormat:YF,RGIntegerFormat:HT,RawShaderMaterial:Y$,Ray:ef,Raycaster:b4,RectAreaLight:p4,RedFormat:XF,RedIntegerFormat:jT,ReinhardToneMapping:UF,RepeatWrapping:vv,ReplaceStencilOp:YG,ReverseSubtractEquation:bF,RingBufferGeometry:NJ,RingGeometry:dy,SIGNED_RED_GREEN_RGTC2_Format:WE,SIGNED_RED_RGTC1_Format:jE,SRGBColorSpace:on,Scene:E_,ShaderChunk:cn,ShaderLib:Ua,ShaderMaterial:Tl,ShadowMaterial:X$,Shape:Dd,ShapeBufferGeometry:BJ,ShapeGeometry:fy,ShapePath:SJ,ShapeUtils:wl,ShortType:VF,Skeleton:I$,SkeletonHelper:uJ,SkinnedMesh:O$,Source:Ed,Sphere:qa,SphereBufferGeometry:FJ,SphereGeometry:fg,Spherical:tM,SphericalHarmonics3:g4,SplineCurve:hA,SpotLight:u4,SpotLightHelper:cJ,Sprite:L$,SpriteMaterial:rA,SrcAlphaFactor:DT,SrcAlphaSaturateFactor:RF,SrcColorFactor:CF,StaticCopyUsage:p9,StaticDrawUsage:wv,StaticReadUsage:h9,StereoCamera:FZ,StreamCopyUsage:m9,StreamDrawUsage:u9,StreamReadUsage:f9,StringKeyframeTrack:rf,SubtractEquation:_F,SubtractiveBlending:yE,TOUCH:gd,TangentSpaceNormalMap:dh,TetrahedronBufferGeometry:$J,TetrahedronGeometry:py,Texture:$r,TextureLoader:AZ,TorusBufferGeometry:zJ,TorusGeometry:gy,TorusKnotBufferGeometry:UJ,TorusKnotGeometry:my,Triangle:Ys,TriangleFanDrawMode:qG,TriangleStripDrawMode:KG,TrianglesDrawMode:GG,TubeBufferGeometry:jJ,TubeGeometry:vy,TwoPassDoubleSide:UG,UVMapping:Mb,Uint16BufferAttribute:ZT,Uint32BufferAttribute:JT,Uint8BufferAttribute:t7,Uint8ClampedBufferAttribute:n7,Uniform:CA,UniformsGroup:rJ,UniformsLib:ct,UniformsUtils:y$,UnsignedByteType:bl,UnsignedInt248Type:Yu,UnsignedIntType:Ac,UnsignedShort4444Type:zT,UnsignedShort5551Type:UT,UnsignedShortType:Tb,VSMShadowMap:$a,Vector2:Ve,Vector3:fe,Vector4:jn,VectorKeyframeTrack:Rv,VideoTexture:UY,WebGL1Renderer:k$,WebGL3DRenderTarget:j9,WebGLArrayRenderTarget:U9,WebGLCoordinateSystem:xl,WebGLCubeRenderTarget:_$,WebGLMultipleRenderTargets:H9,WebGLRenderTarget:Ga,WebGLRenderer:nA,WebGLUtils:M$,WebGPUCoordinateSystem:Sv,WireframeGeometry:q$,WrapAroundEnding:bv,ZeroCurvatureEnding:Sd,ZeroFactor:wF,ZeroSlopeEnding:Cd,ZeroStencilOp:XG,_SRGBAFormat:S_,sRGBEncoding:Ju},Symbol.toStringTag,{value:"Module"}));var H1={exports:{}},zu={};var AP;function WJ(){return AP||(AP=1,zu.ConcurrentRoot=1,zu.ContinuousEventPriority=4,zu.DefaultEventPriority=16,zu.DiscreteEventPriority=1,zu.IdleEventPriority=536870912,zu.LegacyRoot=0),zu}var kP;function VJ(){return kP||(kP=1,H1.exports=WJ()),H1.exports}var Lp=VJ();function GJ(n){let e;const t=new Set,r=(h,c)=>{const u=typeof h=="function"?h(e):h;if(u!==e){const d=e;e=c?u:Object.assign({},e,u),t.forEach(f=>f(e,d))}},i=()=>e,s=(h,c=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function f(){const p=c(e);if(!u(d,p)){const m=d;h(d=p,m)}}return t.add(f),()=>t.delete(f)},o={setState:r,getState:i,subscribe:(h,c,u)=>c||u?s(h,c,u):(t.add(h),()=>t.delete(h)),destroy:()=>t.clear()};return e=n(r,i,o),o}const KJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),RP=KJ?G.useEffect:G.useLayoutEffect;function qJ(n){const e=typeof n=="function"?GJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=G.useReducer(g=>g+1,0),l=e.getState(),a=G.useRef(l),o=G.useRef(r),h=G.useRef(i),c=G.useRef(!1),u=G.useRef();u.current===void 0&&(u.current=r(l));let d,f=!1;(a.current!==l||o.current!==r||h.current!==i||c.current)&&(d=r(l),f=!i(u.current,d)),RP(()=>{f&&(u.current=d),a.current=l,o.current=r,h.current=i,c.current=!1});const p=G.useRef(l);RP(()=>{const g=()=>{try{const y=e.getState(),_=o.current(y);h.current(u.current,_)||(a.current=y,u.current=_,s())}catch{c.current=!0,s()}},v=e.subscribe(g);return e.getState()!==p.current&&g(),v},[]);const m=f?d:u.current;return G.useDebugValue(m),m};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var W1={exports:{}},V1={exports:{}},G1={};var LP;function XJ(){return LP||(LP=1,(function(n){function e(j,z){var W=j.length;j.push(z);e:for(;0<W;){var K=W-1>>>1,X=j[K];if(0<i(X,z))j[K]=z,j[W]=X,W=K;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],W=j.pop();if(W!==z){j[0]=W;e:for(var K=0,X=j.length,J=X>>>1;K<J;){var te=2*(K+1)-1,re=j[te],ae=te+1,ie=j[ae];if(0>i(re,W))ae<X&&0>i(ie,re)?(j[K]=ie,j[ae]=W,K=ae):(j[K]=re,j[te]=W,K=te);else if(ae<X&&0>i(ie,W))j[K]=ie,j[ae]=W,K=ae;else break e}}return z}function i(j,z){var W=j.sortIndex-z.sortIndex;return W!==0?W:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();n.unstable_now=function(){return l.now()-a}}var o=[],h=[],c=1,u=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var z=t(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=j)r(h),z.sortIndex=z.expirationTime,e(o,z);else break;z=t(h)}}function w(j){if(m=!1,_(j),!p)if(t(o)!==null)p=!0,F(C);else{var z=t(h);z!==null&&H(w,z.startTime-j)}}function C(j,z){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var W=d;try{for(_(z),u=t(o);u!==null&&(!(u.expirationTime>z)||j&&!N());){var K=u.callback;if(typeof K=="function"){u.callback=null,d=u.priorityLevel;var X=K(u.expirationTime<=z);z=n.unstable_now(),typeof X=="function"?u.callback=X:u===t(o)&&r(o),_(z)}else r(o);u=t(o)}if(u!==null)var J=!0;else{var te=t(h);te!==null&&H(w,te.startTime-z),J=!1}return J}finally{u=null,d=W,f=!1}}var b=!1,T=null,A=-1,k=5,P=-1;function N(){return!(n.unstable_now()-P<k)}function D(){if(T!==null){var j=n.unstable_now();P=j;var z=!0;try{z=T(!0,j)}finally{z?L():(b=!1,T=null)}}else b=!1}var L;if(typeof y=="function")L=function(){y(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=D,L=function(){O.postMessage(null)}}else L=function(){g(D,0)};function F(j){T=j,b||(b=!0,L())}function H(j,z){A=g(function(){j(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,F(C))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(o)},n.unstable_next=function(j){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var W=d;d=z;try{return j()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=d;d=j;try{return z()}finally{d=W}},n.unstable_scheduleCallback=function(j,z,W){var K=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,j={id:c++,callback:z,priorityLevel:j,startTime:W,expirationTime:X,sortIndex:-1},W>K?(j.sortIndex=W,e(h,j),t(o)===null&&j===t(h)&&(m?(v(A),A=-1):m=!0,H(w,W-K))):(j.sortIndex=X,e(o,j),p||f||(p=!0,F(C))),j},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(j){var z=d;return function(){var W=d;d=z;try{return j.apply(this,arguments)}finally{d=W}}}})(G1)),G1}var PP;function S4(){return PP||(PP=1,V1.exports=XJ()),V1.exports}var K1,OP;function YJ(){return OP||(OP=1,K1=function(e){var t={},r=Ll(),i=S4(),s=Object.assign;function l(E){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+E,B=1;B<arguments.length;B++)M+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+E+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=C&&E[C]||E["@@iterator"],typeof E=="function"?E:null)}function T(E){if(E==null)return null;if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case c:return"Fragment";case h:return"Portal";case d:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case p:return(E.displayName||"Context")+".Consumer";case f:return(E._context.displayName||"Context")+".Provider";case m:var M=E.render;return E=E.displayName,E||(E=M.displayName||M.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case y:return M=E.displayName||null,M!==null?M:T(E.type)||"Memo";case _:M=E._payload,E=E._init;try{return T(E(M))}catch{}}return null}function A(E){var M=E.type;switch(E.tag){case 24:return"Cache";case 9:return(M.displayName||"Context")+".Consumer";case 10:return(M._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return E=M.render,E=E.displayName||E.name||"",M.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case 7:return"Fragment";case 5:return M;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(M);case 8:return M===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M}return null}function k(E){var M=E,B=E;if(E.alternate)for(;M.return;)M=M.return;else{E=M;do M=E,(M.flags&4098)!==0&&(B=M.return),E=M.return;while(E)}return M.tag===3?B:null}function P(E){if(k(E)!==E)throw Error(l(188))}function N(E){var M=E.alternate;if(!M){if(M=k(E),M===null)throw Error(l(188));return M!==E?null:E}for(var B=E,V=M;;){var Y=B.return;if(Y===null)break;var ee=Y.alternate;if(ee===null){if(V=Y.return,V!==null){B=V;continue}break}if(Y.child===ee.child){for(ee=Y.child;ee;){if(ee===B)return P(Y),E;if(ee===V)return P(Y),M;ee=ee.sibling}throw Error(l(188))}if(B.return!==V.return)B=Y,V=ee;else{for(var ge=!1,Ee=Y.child;Ee;){if(Ee===B){ge=!0,B=Y,V=ee;break}if(Ee===V){ge=!0,V=Y,B=ee;break}Ee=Ee.sibling}if(!ge){for(Ee=ee.child;Ee;){if(Ee===B){ge=!0,B=ee,V=Y;break}if(Ee===V){ge=!0,V=ee,B=Y;break}Ee=Ee.sibling}if(!ge)throw Error(l(189))}}if(B.alternate!==V)throw Error(l(190))}if(B.tag!==3)throw Error(l(188));return B.stateNode.current===B?E:M}function D(E){return E=N(E),E!==null?L(E):null}function L(E){if(E.tag===5||E.tag===6)return E;for(E=E.child;E!==null;){var M=L(E);if(M!==null)return M;E=E.sibling}return null}function I(E){if(E.tag===5||E.tag===6)return E;for(E=E.child;E!==null;){if(E.tag!==4){var M=I(E);if(M!==null)return M}E=E.sibling}return null}var O=Array.isArray,F=e.getPublicInstance,H=e.getRootHostContext,j=e.getChildHostContext,z=e.prepareForCommit,W=e.resetAfterCommit,K=e.createInstance,X=e.appendInitialChild,J=e.finalizeInitialChildren,te=e.prepareUpdate,re=e.shouldSetTextContent,ae=e.createTextInstance,ie=e.scheduleTimeout,Q=e.cancelTimeout,se=e.noTimeout,de=e.isPrimaryRenderer,xe=e.supportsMutation,ne=e.supportsPersistence,ye=e.supportsHydration,_e=e.getInstanceFromNode,Ae=e.preparePortalMount,Te=e.getCurrentEventPriority,ze=e.detachDeletedInstance,tt=e.supportsMicrotasks,at=e.scheduleMicrotask,_t=e.supportsTestSelectors,It=e.findFiberRoot,ln=e.getBoundingRect,pe=e.getTextContent,ce=e.isHiddenSubtree,Ne=e.matchAccessibilityRole,Ye=e.setFocusIfFocusable,Ke=e.setupIntersectionObserver,et=e.appendChild,dt=e.appendChildToContainer,Xe=e.commitTextUpdate,Fe=e.commitMount,st=e.commitUpdate,St=e.insertBefore,Et=e.insertInContainerBefore,ht=e.removeChild,le=e.removeChildFromContainer,be=e.resetTextContent,Ue=e.hideInstance,me=e.hideTextInstance,qe=e.unhideInstance,Le=e.unhideTextInstance,Je=e.clearContainer,lt=e.cloneInstance,Kt=e.createContainerChildSet,nn=e.appendChildToContainerChildSet,fn=e.finalizeContainerChildren,_r=e.replaceContainerChildren,an=e.cloneHiddenInstance,ar=e.cloneHiddenTextInstance,On=e.canHydrateInstance,Ja=e.canHydrateTextInstance,Ao=e.canHydrateSuspenseInstance,nu=e.isSuspenseInstancePending,Ni=e.isSuspenseInstanceFallback,to=e.registerSuspenseInstanceRetry,br=e.getNextHydratableSibling,Qa=e.getFirstHydratableChild,_h=e.getFirstHydratableChildWithinContainer,bh=e.getFirstHydratableChildWithinSuspenseInstance,wh=e.hydrateInstance,he=e.hydrateTextInstance,Pe=e.hydrateSuspenseInstance,He=e.getNextHydratableInstanceAfterSuspenseInstance,ke=e.commitHydratedContainer,We=e.commitHydratedSuspenseInstance,gt=e.clearSuspenseBoundary,Ot=e.clearSuspenseBoundaryFromContainer,Lt=e.shouldDeleteUnhydratedTailInstances,$t=e.didNotMatchHydratedContainerTextInstance,Jt=e.didNotMatchHydratedTextInstance,mt;function zt(E){if(mt===void 0)try{throw Error()}catch(B){var M=B.stack.trim().match(/\n( *(at )?)/);mt=M&&M[1]||""}return`
`+mt+E}var xn=!1;function Sn(E,M){if(!E||xn)return"";xn=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(rt){var V=rt}Reflect.construct(E,[],M)}else{try{M.call()}catch(rt){V=rt}E.call(M.prototype)}else{try{throw Error()}catch(rt){V=rt}E()}}catch(rt){if(rt&&V&&typeof rt.stack=="string"){for(var Y=rt.stack.split(`
`),ee=V.stack.split(`
`),ge=Y.length-1,Ee=ee.length-1;1<=ge&&0<=Ee&&Y[ge]!==ee[Ee];)Ee--;for(;1<=ge&&0<=Ee;ge--,Ee--)if(Y[ge]!==ee[Ee]){if(ge!==1||Ee!==1)do if(ge--,Ee--,0>Ee||Y[ge]!==ee[Ee]){var je=`
`+Y[ge].replace(" at new "," at ");return E.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",E.displayName)),je}while(1<=ge&&0<=Ee);break}}}finally{xn=!1,Error.prepareStackTrace=B}return(E=E?E.displayName||E.name:"")?zt(E):""}var Xr=Object.prototype.hasOwnProperty,Bi=[],pn=-1;function Ut(E){return{current:E}}function rn(E){0>pn||(E.current=Bi[pn],Bi[pn]=null,pn--)}function jt(E,M){pn++,Bi[pn]=E.current,E.current=M}var In={},wr=Ut(In),lr=Ut(!1),Ei=In;function Fn(E,M){var B=E.type.contextTypes;if(!B)return In;var V=E.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===M)return V.__reactInternalMemoizedMaskedChildContext;var Y={},ee;for(ee in B)Y[ee]=M[ee];return V&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=M,E.__reactInternalMemoizedMaskedChildContext=Y),Y}function Cn(E){return E=E.childContextTypes,E!=null}function Fi(){rn(lr),rn(wr)}function cr(E,M,B){if(wr.current!==In)throw Error(l(168));jt(wr,M),jt(lr,B)}function el(E,M,B){var V=E.stateNode;if(M=M.childContextTypes,typeof V.getChildContext!="function")return B;V=V.getChildContext();for(var Y in V)if(!(Y in M))throw Error(l(108,A(E)||"Unknown",Y));return s({},B,V)}function tl(E){return E=(E=E.stateNode)&&E.__reactInternalMemoizedMergedChildContext||In,Ei=wr.current,jt(wr,E),jt(lr,lr.current),!0}function ca(E,M,B){var V=E.stateNode;if(!V)throw Error(l(169));B?(E=el(E,M,Ei),V.__reactInternalMemoizedMergedChildContext=E,rn(lr),rn(wr),jt(wr,E)):rn(lr),jt(lr,B)}var Qi=Math.clz32?Math.clz32:kg,ru=Math.log,Bl=Math.LN2;function kg(E){return E>>>=0,E===0?32:31-(ru(E)/Bl|0)|0}var ua=64,gn=4194304;function ps(E){switch(E&-E){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return E&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return E}}function Fl(E,M){var B=E.pendingLanes;if(B===0)return 0;var V=0,Y=E.suspendedLanes,ee=E.pingedLanes,ge=B&268435455;if(ge!==0){var Ee=ge&~Y;Ee!==0?V=ps(Ee):(ee&=ge,ee!==0&&(V=ps(ee)))}else ge=B&~Y,ge!==0?V=ps(ge):ee!==0&&(V=ps(ee));if(V===0)return 0;if(M!==0&&M!==V&&(M&Y)===0&&(Y=V&-V,ee=M&-M,Y>=ee||Y===16&&(ee&4194240)!==0))return M;if((V&4)!==0&&(V|=B&16),M=E.entangledLanes,M!==0)for(E=E.entanglements,M&=V;0<M;)B=31-Qi(M),Y=1<<B,V|=E[B],M&=~Y;return V}function Sh(E,M){switch(E){case 1:case 2:case 4:return M+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(E,M){for(var B=E.suspendedLanes,V=E.pingedLanes,Y=E.expirationTimes,ee=E.pendingLanes;0<ee;){var ge=31-Qi(ee),Ee=1<<ge,je=Y[ge];je===-1?((Ee&B)===0||(Ee&V)!==0)&&(Y[ge]=Sh(Ee,M)):je<=M&&(E.expiredLanes|=Ee),ee&=~Ee}}function iu(E){return E=E.pendingLanes&-1073741825,E!==0?E:E&1073741824?1073741824:0}function su(E){for(var M=[],B=0;31>B;B++)M.push(E);return M}function ha(E,M,B){E.pendingLanes|=M,M!==536870912&&(E.suspendedLanes=0,E.pingedLanes=0),E=E.eventTimes,M=31-Qi(M),E[M]=B}function ou(E,M){var B=E.pendingLanes&~M;E.pendingLanes=M,E.suspendedLanes=0,E.pingedLanes=0,E.expiredLanes&=M,E.mutableReadLanes&=M,E.entangledLanes&=M,M=E.entanglements;var V=E.eventTimes;for(E=E.expirationTimes;0<B;){var Y=31-Qi(B),ee=1<<Y;M[Y]=0,V[Y]=-1,E[Y]=-1,B&=~ee}}function Ds(E,M){var B=E.entangledLanes|=M;for(E=E.entanglements;B;){var V=31-Qi(B),Y=1<<V;Y&M|E[V]&M&&(E[V]|=M),B&=~Y}}var Ht=0;function Ns(E){return E&=-E,1<E?4<E?(E&268435455)!==0?16:536870912:4:1}var da=i.unstable_scheduleCallback,ro=i.unstable_cancelCallback,ko=i.unstable_shouldYield,Ch=i.unstable_requestPaint,Sr=i.unstable_now,Ro=i.unstable_ImmediatePriority,cf=i.unstable_UserBlockingPriority,$l=i.unstable_NormalPriority,Lo=i.unstable_IdlePriority,nl=null,Bs=null;function zl(E){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(nl,E,void 0,(E.current.flags&128)===128)}catch{}}function Ul(E,M){return E===M&&(E!==0||1/E===1/M)||E!==E&&M!==M}var ue=typeof Object.is=="function"?Object.is:Ul,Se=null,Ge=!1,pt=!1;function Tn(E){Se===null?Se=[E]:Se.push(E)}function Wt(E){Ge=!0,Tn(E)}function vn(){if(!pt&&Se!==null){pt=!0;var E=0,M=Ht;try{var B=Se;for(Ht=1;E<B.length;E++){var V=B[E];do V=V(!0);while(V!==null)}Se=null,Ge=!1}catch(Y){throw Se!==null&&(Se=Se.slice(E+1)),da(Ro,vn),Y}finally{Ht=M,pt=!1}}return null}var Cr=a.ReactCurrentBatchConfig;function Pn(E,M){if(ue(E,M))return!0;if(typeof E!="object"||E===null||typeof M!="object"||M===null)return!1;var B=Object.keys(E),V=Object.keys(M);if(B.length!==V.length)return!1;for(V=0;V<B.length;V++){var Y=B[V];if(!Xr.call(M,Y)||!ue(E[Y],M[Y]))return!1}return!0}function $n(E){switch(E.tag){case 5:return zt(E.type);case 16:return zt("Lazy");case 13:return zt("Suspense");case 19:return zt("SuspenseList");case 0:case 2:case 15:return E=Sn(E.type,!1),E;case 11:return E=Sn(E.type.render,!1),E;case 1:return E=Sn(E.type,!0),E;default:return""}}function Dn(E,M){if(E&&E.defaultProps){M=s({},M),E=E.defaultProps;for(var B in E)M[B]===void 0&&(M[B]=E[B]);return M}return M}var ai=Ut(null),Qn=null,ur=null,li=null;function er(){li=ur=Qn=null}function ci(E,M,B){de?(jt(ai,M._currentValue),M._currentValue=B):(jt(ai,M._currentValue2),M._currentValue2=B)}function gs(E){var M=ai.current;rn(ai),de?E._currentValue=M:E._currentValue2=M}function Po(E,M,B){for(;E!==null;){var V=E.alternate;if((E.childLanes&M)!==M?(E.childLanes|=M,V!==null&&(V.childLanes|=M)):V!==null&&(V.childLanes&M)!==M&&(V.childLanes|=M),E===B)break;E=E.return}}function io(E,M){Qn=E,li=ur=null,E=E.dependencies,E!==null&&E.firstContext!==null&&((E.lanes&M)!==0&&(Qr=!0),E.firstContext=null)}function zr(E){var M=de?E._currentValue:E._currentValue2;if(li!==E)if(E={context:E,memoizedValue:M,next:null},ur===null){if(Qn===null)throw Error(l(308));ur=E,Qn.dependencies={lanes:0,firstContext:E}}else ur=ur.next=E;return M}var Fs=null,$s=!1;function au(E){E.updateQueue={baseState:E.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rg(E,M){E=E.updateQueue,M.updateQueue===E&&(M.updateQueue={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,effects:E.effects})}function fa(E,M){return{eventTime:E,lane:M,tag:0,payload:null,callback:null,next:null}}function rl(E,M){var B=E.updateQueue;B!==null&&(B=B.shared,Mr!==null&&(E.mode&1)!==0&&(Qt&2)===0?(E=B.interleaved,E===null?(M.next=M,Fs===null?Fs=[B]:Fs.push(B)):(M.next=E.next,E.next=M),B.interleaved=M):(E=B.pending,E===null?M.next=M:(M.next=E.next,E.next=M),B.pending=M))}function uf(E,M,B){if(M=M.updateQueue,M!==null&&(M=M.shared,(B&4194240)!==0)){var V=M.lanes;V&=E.pendingLanes,B|=V,M.lanes=B,Ds(E,B)}}function hf(E,M){var B=E.updateQueue,V=E.alternate;if(V!==null&&(V=V.updateQueue,B===V)){var Y=null,ee=null;if(B=B.firstBaseUpdate,B!==null){do{var ge={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};ee===null?Y=ee=ge:ee=ee.next=ge,B=B.next}while(B!==null);ee===null?Y=ee=M:ee=ee.next=M}else Y=ee=M;B={baseState:V.baseState,firstBaseUpdate:Y,lastBaseUpdate:ee,shared:V.shared,effects:V.effects},E.updateQueue=B;return}E=B.lastBaseUpdate,E===null?B.firstBaseUpdate=M:E.next=M,B.lastBaseUpdate=M}function df(E,M,B,V){var Y=E.updateQueue;$s=!1;var ee=Y.firstBaseUpdate,ge=Y.lastBaseUpdate,Ee=Y.shared.pending;if(Ee!==null){Y.shared.pending=null;var je=Ee,rt=je.next;je.next=null,ge===null?ee=rt:ge.next=rt,ge=je;var xt=E.alternate;xt!==null&&(xt=xt.updateQueue,Ee=xt.lastBaseUpdate,Ee!==ge&&(Ee===null?xt.firstBaseUpdate=rt:Ee.next=rt,xt.lastBaseUpdate=je))}if(ee!==null){var Xt=Y.baseState;ge=0,xt=rt=je=null,Ee=ee;do{var Dt=Ee.lane,sn=Ee.eventTime;if((V&Dt)===Dt){xt!==null&&(xt=xt.next={eventTime:sn,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var ft=E,gi=Ee;switch(Dt=M,sn=B,gi.tag){case 1:if(ft=gi.payload,typeof ft=="function"){Xt=ft.call(sn,Xt,Dt);break e}Xt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gi.payload,Dt=typeof ft=="function"?ft.call(sn,Xt,Dt):ft,Dt==null)break e;Xt=s({},Xt,Dt);break e;case 2:$s=!0}}Ee.callback!==null&&Ee.lane!==0&&(E.flags|=64,Dt=Y.effects,Dt===null?Y.effects=[Ee]:Dt.push(Ee))}else sn={eventTime:sn,lane:Dt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},xt===null?(rt=xt=sn,je=Xt):xt=xt.next=sn,ge|=Dt;if(Ee=Ee.next,Ee===null){if(Ee=Y.shared.pending,Ee===null)break;Dt=Ee,Ee=Dt.next,Dt.next=null,Y.lastBaseUpdate=Dt,Y.shared.pending=null}}while(!0);if(xt===null&&(je=Xt),Y.baseState=je,Y.firstBaseUpdate=rt,Y.lastBaseUpdate=xt,M=Y.shared.interleaved,M!==null){Y=M;do ge|=Y.lane,Y=Y.next;while(Y!==M)}else ee===null&&(Y.shared.lanes=0);No|=ge,E.lanes=ge,E.memoizedState=Xt}}function Hy(E,M,B){if(E=M.effects,M.effects=null,E!==null)for(M=0;M<E.length;M++){var V=E[M],Y=V.callback;if(Y!==null){if(V.callback=null,V=B,typeof Y!="function")throw Error(l(191,Y));Y.call(V)}}}var Wy=new r.Component().refs;function Lg(E,M,B,V){M=E.memoizedState,B=B(V,M),B=B==null?M:s({},M,B),E.memoizedState=B,E.lanes===0&&(E.updateQueue.baseState=B)}var ff={isMounted:function(E){return(E=E._reactInternals)?k(E)===E:!1},enqueueSetState:function(E,M,B){E=E._reactInternals;var V=wn(),Y=ho(E),ee=fa(V,Y);ee.payload=M,B!=null&&(ee.callback=B),rl(E,ee),M=Ai(E,Y,V),M!==null&&uf(M,E,Y)},enqueueReplaceState:function(E,M,B){E=E._reactInternals;var V=wn(),Y=ho(E),ee=fa(V,Y);ee.tag=1,ee.payload=M,B!=null&&(ee.callback=B),rl(E,ee),M=Ai(E,Y,V),M!==null&&uf(M,E,Y)},enqueueForceUpdate:function(E,M){E=E._reactInternals;var B=wn(),V=ho(E),Y=fa(B,V);Y.tag=2,M!=null&&(Y.callback=M),rl(E,Y),M=Ai(E,V,B),M!==null&&uf(M,E,V)}};function Pg(E,M,B,V,Y,ee,ge){return E=E.stateNode,typeof E.shouldComponentUpdate=="function"?E.shouldComponentUpdate(V,ee,ge):M.prototype&&M.prototype.isPureReactComponent?!Pn(B,V)||!Pn(Y,ee):!0}function Vy(E,M,B){var V=!1,Y=In,ee=M.contextType;return typeof ee=="object"&&ee!==null?ee=zr(ee):(Y=Cn(M)?Ei:wr.current,V=M.contextTypes,ee=(V=V!=null)?Fn(E,Y):In),M=new M(B,ee),E.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=ff,E.stateNode=M,M._reactInternals=E,V&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=Y,E.__reactInternalMemoizedMaskedChildContext=ee),M}function Gy(E,M,B,V){E=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(B,V),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(B,V),M.state!==E&&ff.enqueueReplaceState(M,M.state,null)}function Og(E,M,B,V){var Y=E.stateNode;Y.props=B,Y.state=E.memoizedState,Y.refs=Wy,au(E);var ee=M.contextType;typeof ee=="object"&&ee!==null?Y.context=zr(ee):(ee=Cn(M)?Ei:wr.current,Y.context=Fn(E,ee)),Y.state=E.memoizedState,ee=M.getDerivedStateFromProps,typeof ee=="function"&&(Lg(E,M,ee,B),Y.state=E.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(M=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),M!==Y.state&&ff.enqueueReplaceState(Y,Y.state,null),df(E,B,Y,V),Y.state=E.memoizedState),typeof Y.componentDidMount=="function"&&(E.flags|=4194308)}var lu=[],il=0,pf=null,gf=0,zs=[],ms=0,jl=null,pa=1,ga="";function Hl(E,M){lu[il++]=gf,lu[il++]=pf,pf=E,gf=M}function Ky(E,M,B){zs[ms++]=pa,zs[ms++]=ga,zs[ms++]=jl,jl=E;var V=pa;E=ga;var Y=32-Qi(V)-1;V&=~(1<<Y),B+=1;var ee=32-Qi(M)+Y;if(30<ee){var ge=Y-Y%5;ee=(V&(1<<ge)-1).toString(32),V>>=ge,Y-=ge,pa=1<<32-Qi(M)+Y|B<<Y|V,ga=ee+E}else pa=1<<ee|B<<Y|V,ga=E}function Ig(E){E.return!==null&&(Hl(E,1),Ky(E,1,0))}function Dg(E){for(;E===pf;)pf=lu[--il],lu[il]=null,gf=lu[--il],lu[il]=null;for(;E===jl;)jl=zs[--ms],zs[ms]=null,ga=zs[--ms],zs[ms]=null,pa=zs[--ms],zs[ms]=null}var $i=null,ui=null,tr=!1,cu=!1,Us=null;function Ng(E,M){var B=Ss(5,null,null,0);B.elementType="DELETED",B.stateNode=M,B.return=E,M=E.deletions,M===null?(E.deletions=[B],E.flags|=16):M.push(B)}function Bg(E,M){switch(E.tag){case 5:return M=On(M,E.type,E.pendingProps),M!==null?(E.stateNode=M,$i=E,ui=Qa(M),!0):!1;case 6:return M=Ja(M,E.pendingProps),M!==null?(E.stateNode=M,$i=E,ui=null,!0):!1;case 13:if(M=Ao(M),M!==null){var B=jl!==null?{id:pa,overflow:ga}:null;return E.memoizedState={dehydrated:M,treeContext:B,retryLane:1073741824},B=Ss(18,null,null,0),B.stateNode=M,B.return=E,E.child=B,$i=E,ui=null,!0}return!1;default:return!1}}function mf(E){return(E.mode&1)!==0&&(E.flags&128)===0}function sl(E){if(tr){var M=ui;if(M){var B=M;if(!Bg(E,M)){if(mf(E))throw Error(l(418));M=br(B);var V=$i;M&&Bg(E,M)?Ng(V,B):(E.flags=E.flags&-4097|2,tr=!1,$i=E)}}else{if(mf(E))throw Error(l(418));E.flags=E.flags&-4097|2,tr=!1,$i=E}}}function qy(E){for(E=E.return;E!==null&&E.tag!==5&&E.tag!==3&&E.tag!==13;)E=E.return;$i=E}function Eh(E){if(!ye||E!==$i)return!1;if(!tr)return qy(E),tr=!0,!1;if(E.tag!==3&&(E.tag!==5||Lt(E.type)&&!re(E.type,E.memoizedProps))){var M=ui;if(M){if(mf(E)){for(E=ui;E;)E=br(E);throw Error(l(418))}for(;M;)Ng(E,M),M=br(M)}}if(qy(E),E.tag===13){if(!ye)throw Error(l(316));if(E=E.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(l(317));ui=He(E)}else ui=$i?br(E.stateNode):null;return!0}function uu(){ye&&(ui=$i=null,cu=tr=!1)}function vf(E){Us===null?Us=[E]:Us.push(E)}function hu(E,M,B){if(E=B.ref,E!==null&&typeof E!="function"&&typeof E!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(l(309));var V=B.stateNode}if(!V)throw Error(l(147,E));var Y=V,ee=""+E;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===ee?M.ref:(M=function(ge){var Ee=Y.refs;Ee===Wy&&(Ee=Y.refs={}),ge===null?delete Ee[ee]:Ee[ee]=ge},M._stringRef=ee,M)}if(typeof E!="string")throw Error(l(284));if(!B._owner)throw Error(l(290,E))}return E}function ol(E,M){throw E=Object.prototype.toString.call(M),Error(l(31,E==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":E))}function du(E){var M=E._init;return M(E._payload)}function Xy(E){function M(Ie,Me){if(E){var $e=Ie.deletions;$e===null?(Ie.deletions=[Me],Ie.flags|=16):$e.push(Me)}}function B(Ie,Me){if(!E)return null;for(;Me!==null;)M(Ie,Me),Me=Me.sibling;return null}function V(Ie,Me){for(Ie=new Map;Me!==null;)Me.key!==null?Ie.set(Me.key,Me):Ie.set(Me.index,Me),Me=Me.sibling;return Ie}function Y(Ie,Me){return Ie=ka(Ie,Me),Ie.index=0,Ie.sibling=null,Ie}function ee(Ie,Me,$e){return Ie.index=$e,E?($e=Ie.alternate,$e!==null?($e=$e.index,$e<Me?(Ie.flags|=2,Me):$e):(Ie.flags|=2,Me)):(Ie.flags|=1048576,Me)}function ge(Ie){return E&&Ie.alternate===null&&(Ie.flags|=2),Ie}function Ee(Ie,Me,$e,ut){return Me===null||Me.tag!==6?(Me=Wf($e,Ie.mode,ut),Me.return=Ie,Me):(Me=Y(Me,$e),Me.return=Ie,Me)}function je(Ie,Me,$e,ut){var Tt=$e.type;return Tt===c?xt(Ie,Me,$e.props.children,ut,$e.key):Me!==null&&(Me.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&du(Tt)===Me.type)?(ut=Y(Me,$e.props),ut.ref=hu(Ie,Me,$e),ut.return=Ie,ut):(ut=Hf($e.type,$e.key,$e.props,null,Ie.mode,ut),ut.ref=hu(Ie,Me,$e),ut.return=Ie,ut)}function rt(Ie,Me,$e,ut){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==$e.containerInfo||Me.stateNode.implementation!==$e.implementation?(Me=Vf($e,Ie.mode,ut),Me.return=Ie,Me):(Me=Y(Me,$e.children||[]),Me.return=Ie,Me)}function xt(Ie,Me,$e,ut,Tt){return Me===null||Me.tag!==7?(Me=hc($e,Ie.mode,ut,Tt),Me.return=Ie,Me):(Me=Y(Me,$e),Me.return=Ie,Me)}function Xt(Ie,Me,$e){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Me=Wf(""+Me,Ie.mode,$e),Me.return=Ie,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case o:return $e=Hf(Me.type,Me.key,Me.props,null,Ie.mode,$e),$e.ref=hu(Ie,null,Me),$e.return=Ie,$e;case h:return Me=Vf(Me,Ie.mode,$e),Me.return=Ie,Me;case _:var ut=Me._init;return Xt(Ie,ut(Me._payload),$e)}if(O(Me)||b(Me))return Me=hc(Me,Ie.mode,$e,null),Me.return=Ie,Me;ol(Ie,Me)}return null}function Dt(Ie,Me,$e,ut){var Tt=Me!==null?Me.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Tt!==null?null:Ee(Ie,Me,""+$e,ut);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case o:return $e.key===Tt?je(Ie,Me,$e,ut):null;case h:return $e.key===Tt?rt(Ie,Me,$e,ut):null;case _:return Tt=$e._init,Dt(Ie,Me,Tt($e._payload),ut)}if(O($e)||b($e))return Tt!==null?null:xt(Ie,Me,$e,ut,null);ol(Ie,$e)}return null}function sn(Ie,Me,$e,ut,Tt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Ie=Ie.get($e)||null,Ee(Me,Ie,""+ut,Tt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case o:return Ie=Ie.get(ut.key===null?$e:ut.key)||null,je(Me,Ie,ut,Tt);case h:return Ie=Ie.get(ut.key===null?$e:ut.key)||null,rt(Me,Ie,ut,Tt);case _:var Zt=ut._init;return sn(Ie,Me,$e,Zt(ut._payload),Tt)}if(O(ut)||b(ut))return Ie=Ie.get($e)||null,xt(Me,Ie,ut,Tt,null);ol(Me,ut)}return null}function ft(Ie,Me,$e,ut){for(var Tt=null,Zt=null,Yt=Me,_n=Me=0,Ir=null;Yt!==null&&_n<$e.length;_n++){Yt.index>_n?(Ir=Yt,Yt=null):Ir=Yt.sibling;var yn=Dt(Ie,Yt,$e[_n],ut);if(yn===null){Yt===null&&(Yt=Ir);break}E&&Yt&&yn.alternate===null&&M(Ie,Yt),Me=ee(yn,Me,_n),Zt===null?Tt=yn:Zt.sibling=yn,Zt=yn,Yt=Ir}if(_n===$e.length)return B(Ie,Yt),tr&&Hl(Ie,_n),Tt;if(Yt===null){for(;_n<$e.length;_n++)Yt=Xt(Ie,$e[_n],ut),Yt!==null&&(Me=ee(Yt,Me,_n),Zt===null?Tt=Yt:Zt.sibling=Yt,Zt=Yt);return tr&&Hl(Ie,_n),Tt}for(Yt=V(Ie,Yt);_n<$e.length;_n++)Ir=sn(Yt,Ie,_n,$e[_n],ut),Ir!==null&&(E&&Ir.alternate!==null&&Yt.delete(Ir.key===null?_n:Ir.key),Me=ee(Ir,Me,_n),Zt===null?Tt=Ir:Zt.sibling=Ir,Zt=Ir);return E&&Yt.forEach(function(Ra){return M(Ie,Ra)}),tr&&Hl(Ie,_n),Tt}function gi(Ie,Me,$e,ut){var Tt=b($e);if(typeof Tt!="function")throw Error(l(150));if($e=Tt.call($e),$e==null)throw Error(l(151));for(var Zt=Tt=null,Yt=Me,_n=Me=0,Ir=null,yn=$e.next();Yt!==null&&!yn.done;_n++,yn=$e.next()){Yt.index>_n?(Ir=Yt,Yt=null):Ir=Yt.sibling;var Ra=Dt(Ie,Yt,yn.value,ut);if(Ra===null){Yt===null&&(Yt=Ir);break}E&&Yt&&Ra.alternate===null&&M(Ie,Yt),Me=ee(Ra,Me,_n),Zt===null?Tt=Ra:Zt.sibling=Ra,Zt=Ra,Yt=Ir}if(yn.done)return B(Ie,Yt),tr&&Hl(Ie,_n),Tt;if(Yt===null){for(;!yn.done;_n++,yn=$e.next())yn=Xt(Ie,yn.value,ut),yn!==null&&(Me=ee(yn,Me,_n),Zt===null?Tt=yn:Zt.sibling=yn,Zt=yn);return tr&&Hl(Ie,_n),Tt}for(Yt=V(Ie,Yt);!yn.done;_n++,yn=$e.next())yn=sn(Yt,Ie,_n,yn.value,ut),yn!==null&&(E&&yn.alternate!==null&&Yt.delete(yn.key===null?_n:yn.key),Me=ee(yn,Me,_n),Zt===null?Tt=yn:Zt.sibling=yn,Zt=yn);return E&&Yt.forEach(function(pm){return M(Ie,pm)}),tr&&Hl(Ie,_n),Tt}function Cs(Ie,Me,$e,ut){if(typeof $e=="object"&&$e!==null&&$e.type===c&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case o:e:{for(var Tt=$e.key,Zt=Me;Zt!==null;){if(Zt.key===Tt){if(Tt=$e.type,Tt===c){if(Zt.tag===7){B(Ie,Zt.sibling),Me=Y(Zt,$e.props.children),Me.return=Ie,Ie=Me;break e}}else if(Zt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&du(Tt)===Zt.type){B(Ie,Zt.sibling),Me=Y(Zt,$e.props),Me.ref=hu(Ie,Zt,$e),Me.return=Ie,Ie=Me;break e}B(Ie,Zt);break}else M(Ie,Zt);Zt=Zt.sibling}$e.type===c?(Me=hc($e.props.children,Ie.mode,ut,$e.key),Me.return=Ie,Ie=Me):(ut=Hf($e.type,$e.key,$e.props,null,Ie.mode,ut),ut.ref=hu(Ie,Me,$e),ut.return=Ie,Ie=ut)}return ge(Ie);case h:e:{for(Zt=$e.key;Me!==null;){if(Me.key===Zt)if(Me.tag===4&&Me.stateNode.containerInfo===$e.containerInfo&&Me.stateNode.implementation===$e.implementation){B(Ie,Me.sibling),Me=Y(Me,$e.children||[]),Me.return=Ie,Ie=Me;break e}else{B(Ie,Me);break}else M(Ie,Me);Me=Me.sibling}Me=Vf($e,Ie.mode,ut),Me.return=Ie,Ie=Me}return ge(Ie);case _:return Zt=$e._init,Cs(Ie,Me,Zt($e._payload),ut)}if(O($e))return ft(Ie,Me,$e,ut);if(b($e))return gi(Ie,Me,$e,ut);ol(Ie,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Me!==null&&Me.tag===6?(B(Ie,Me.sibling),Me=Y(Me,$e),Me.return=Ie,Ie=Me):(B(Ie,Me),Me=Wf($e,Ie.mode,ut),Me.return=Ie,Ie=Me),ge(Ie)):B(Ie,Me)}return Cs}var ma=Xy(!0),Yy=Xy(!1),fu={},es=Ut(fu),Wl=Ut(fu),Vl=Ut(fu);function so(E){if(E===fu)throw Error(l(174));return E}function yf(E,M){jt(Vl,M),jt(Wl,E),jt(es,fu),E=H(M),rn(es),jt(es,E)}function pu(){rn(es),rn(Wl),rn(Vl)}function Zy(E){var M=so(Vl.current),B=so(es.current);M=j(B,E.type,M),B!==M&&(jt(Wl,E),jt(es,M))}function Fg(E){Wl.current===E&&(rn(es),rn(Wl))}var ir=Ut(0);function xf(E){for(var M=E;M!==null;){if(M.tag===13){var B=M.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||nu(B)||Ni(B)))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===E)break;for(;M.sibling===null;){if(M.return===null||M.return===E)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var vs=[];function Gl(){for(var E=0;E<vs.length;E++){var M=vs[E];de?M._workInProgressVersionPrimary=null:M._workInProgressVersionSecondary=null}vs.length=0}var Mh=a.ReactCurrentDispatcher,ys=a.ReactCurrentBatchConfig,Kl=0,sr=null,Yr=null,Zr=null,_f=!1,Oo=!1,ql=0,Th=0;function Jr(){throw Error(l(321))}function bf(E,M){if(M===null)return!1;for(var B=0;B<M.length&&B<E.length;B++)if(!ue(E[B],M[B]))return!1;return!0}function gu(E,M,B,V,Y,ee){if(Kl=ee,sr=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,Mh.current=E===null||E.memoizedState===null?Wg:Vg,E=B(V,Y),Oo){ee=0;do{if(Oo=!1,ql=0,25<=ee)throw Error(l(301));ee+=1,Zr=Yr=null,M.updateQueue=null,Mh.current=Gg,E=B(V,Y)}while(Oo)}if(Mh.current=xu,M=Yr!==null&&Yr.next!==null,Kl=0,Zr=Yr=sr=null,_f=!1,M)throw Error(l(300));return E}function al(){var E=ql!==0;return ql=0,E}function oo(){var E={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?sr.memoizedState=Zr=E:Zr=Zr.next=E,Zr}function ao(){if(Yr===null){var E=sr.alternate;E=E!==null?E.memoizedState:null}else E=Yr.next;var M=Zr===null?sr.memoizedState:Zr.next;if(M!==null)Zr=M,Yr=E;else{if(E===null)throw Error(l(310));Yr=E,E={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Zr===null?sr.memoizedState=Zr=E:Zr=Zr.next=E}return Zr}function Io(E,M){return typeof M=="function"?M(E):M}function Ah(E){var M=ao(),B=M.queue;if(B===null)throw Error(l(311));B.lastRenderedReducer=E;var V=Yr,Y=V.baseQueue,ee=B.pending;if(ee!==null){if(Y!==null){var ge=Y.next;Y.next=ee.next,ee.next=ge}V.baseQueue=Y=ee,B.pending=null}if(Y!==null){ee=Y.next,V=V.baseState;var Ee=ge=null,je=null,rt=ee;do{var xt=rt.lane;if((Kl&xt)===xt)je!==null&&(je=je.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),V=rt.hasEagerState?rt.eagerState:E(V,rt.action);else{var Xt={lane:xt,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};je===null?(Ee=je=Xt,ge=V):je=je.next=Xt,sr.lanes|=xt,No|=xt}rt=rt.next}while(rt!==null&&rt!==ee);je===null?ge=V:je.next=Ee,ue(V,M.memoizedState)||(Qr=!0),M.memoizedState=V,M.baseState=ge,M.baseQueue=je,B.lastRenderedState=V}if(E=B.interleaved,E!==null){Y=E;do ee=Y.lane,sr.lanes|=ee,No|=ee,Y=Y.next;while(Y!==E)}else Y===null&&(B.lanes=0);return[M.memoizedState,B.dispatch]}function kh(E){var M=ao(),B=M.queue;if(B===null)throw Error(l(311));B.lastRenderedReducer=E;var V=B.dispatch,Y=B.pending,ee=M.memoizedState;if(Y!==null){B.pending=null;var ge=Y=Y.next;do ee=E(ee,ge.action),ge=ge.next;while(ge!==Y);ue(ee,M.memoizedState)||(Qr=!0),M.memoizedState=ee,M.baseQueue===null&&(M.baseState=ee),B.lastRenderedState=ee}return[ee,V]}function $g(){}function zg(E,M){var B=sr,V=ao(),Y=M(),ee=!ue(V.memoizedState,Y);if(ee&&(V.memoizedState=Y,Qr=!0),V=V.queue,mu(va.bind(null,B,V,E),[E]),V.getSnapshot!==M||ee||Zr!==null&&Zr.memoizedState.tag&1){if(B.flags|=2048,Lh(9,jg.bind(null,B,V,Y,M),void 0,null),Mr===null)throw Error(l(349));(Kl&30)!==0||Ug(B,M,Y)}return Y}function Ug(E,M,B){E.flags|=16384,E={getSnapshot:M,value:B},M=sr.updateQueue,M===null?(M={lastEffect:null,stores:null},sr.updateQueue=M,M.stores=[E]):(B=M.stores,B===null?M.stores=[E]:B.push(E))}function jg(E,M,B,V){M.value=B,M.getSnapshot=V,wf(M)&&Ai(E,1,-1)}function va(E,M,B){return B(function(){wf(M)&&Ai(E,1,-1)})}function wf(E){var M=E.getSnapshot;E=E.value;try{var B=M();return!ue(E,B)}catch{return!0}}function Rh(E){var M=oo();return typeof E=="function"&&(E=E()),M.memoizedState=M.baseState=E,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:E},M.queue=E,E=E.dispatch=Rw.bind(null,sr,E),[M.memoizedState,E]}function Lh(E,M,B,V){return E={tag:E,create:M,destroy:B,deps:V,next:null},M=sr.updateQueue,M===null?(M={lastEffect:null,stores:null},sr.updateQueue=M,M.lastEffect=E.next=E):(B=M.lastEffect,B===null?M.lastEffect=E.next=E:(V=B.next,B.next=E,E.next=V,M.lastEffect=E)),E}function Jy(){return ao().memoizedState}function ll(E,M,B,V){var Y=oo();sr.flags|=E,Y.memoizedState=Lh(1|M,B,void 0,V===void 0?null:V)}function Sf(E,M,B,V){var Y=ao();V=V===void 0?null:V;var ee=void 0;if(Yr!==null){var ge=Yr.memoizedState;if(ee=ge.destroy,V!==null&&bf(V,ge.deps)){Y.memoizedState=Lh(M,B,ee,V);return}}sr.flags|=E,Y.memoizedState=Lh(1|M,B,ee,V)}function Cf(E,M){return ll(8390656,8,E,M)}function mu(E,M){return Sf(2048,8,E,M)}function Wn(E,M){return Sf(4,2,E,M)}function Ef(E,M){return Sf(4,4,E,M)}function Ph(E,M){if(typeof M=="function")return E=E(),M(E),function(){M(null)};if(M!=null)return E=E(),M.current=E,function(){M.current=null}}function vu(E,M,B){return B=B!=null?B.concat([E]):null,Sf(4,4,Ph.bind(null,M,E),B)}function Mf(){}function Tf(E,M){var B=ao();M=M===void 0?null:M;var V=B.memoizedState;return V!==null&&M!==null&&bf(M,V[1])?V[0]:(B.memoizedState=[E,M],E)}function yu(E,M){var B=ao();M=M===void 0?null:M;var V=B.memoizedState;return V!==null&&M!==null&&bf(M,V[1])?V[0]:(E=E(),B.memoizedState=[E,M],E)}function Af(E,M){var B=Ht;Ht=B!==0&&4>B?B:4,E(!0);var V=ys.transition;ys.transition={};try{E(!1),M()}finally{Ht=B,ys.transition=V}}function Xl(){return ao().memoizedState}function Qy(E,M,B){var V=ho(E);B={lane:V,action:B,hasEagerState:!1,eagerState:null,next:null},e0(E)?Hg(M,B):(Oh(E,M,B),B=wn(),E=Ai(E,V,B),E!==null&&Ih(E,M,V))}function Rw(E,M,B){var V=ho(E),Y={lane:V,action:B,hasEagerState:!1,eagerState:null,next:null};if(e0(E))Hg(M,Y);else{Oh(E,M,Y);var ee=E.alternate;if(E.lanes===0&&(ee===null||ee.lanes===0)&&(ee=M.lastRenderedReducer,ee!==null))try{var ge=M.lastRenderedState,Ee=ee(ge,B);if(Y.hasEagerState=!0,Y.eagerState=Ee,ue(Ee,ge))return}catch{}finally{}B=wn(),E=Ai(E,V,B),E!==null&&Ih(E,M,V)}}function e0(E){var M=E.alternate;return E===sr||M!==null&&M===sr}function Hg(E,M){Oo=_f=!0;var B=E.pending;B===null?M.next=M:(M.next=B.next,B.next=M),E.pending=M}function Oh(E,M,B){Mr!==null&&(E.mode&1)!==0&&(Qt&2)===0?(E=M.interleaved,E===null?(B.next=B,Fs===null?Fs=[M]:Fs.push(M)):(B.next=E.next,E.next=B),M.interleaved=B):(E=M.pending,E===null?B.next=B:(B.next=E.next,E.next=B),M.pending=B)}function Ih(E,M,B){if((B&4194240)!==0){var V=M.lanes;V&=E.pendingLanes,B|=V,M.lanes=B,Ds(E,B)}}var xu={readContext:zr,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},Wg={readContext:zr,useCallback:function(E,M){return oo().memoizedState=[E,M===void 0?null:M],E},useContext:zr,useEffect:Cf,useImperativeHandle:function(E,M,B){return B=B!=null?B.concat([E]):null,ll(4194308,4,Ph.bind(null,M,E),B)},useLayoutEffect:function(E,M){return ll(4194308,4,E,M)},useInsertionEffect:function(E,M){return ll(4,2,E,M)},useMemo:function(E,M){var B=oo();return M=M===void 0?null:M,E=E(),B.memoizedState=[E,M],E},useReducer:function(E,M,B){var V=oo();return M=B!==void 0?B(M):M,V.memoizedState=V.baseState=M,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E,lastRenderedState:M},V.queue=E,E=E.dispatch=Qy.bind(null,sr,E),[V.memoizedState,E]},useRef:function(E){var M=oo();return E={current:E},M.memoizedState=E},useState:Rh,useDebugValue:Mf,useDeferredValue:function(E){var M=Rh(E),B=M[0],V=M[1];return Cf(function(){var Y=ys.transition;ys.transition={};try{V(E)}finally{ys.transition=Y}},[E]),B},useTransition:function(){var E=Rh(!1),M=E[0];return E=Af.bind(null,E[1]),oo().memoizedState=E,[M,E]},useMutableSource:function(){},useSyncExternalStore:function(E,M,B){var V=sr,Y=oo();if(tr){if(B===void 0)throw Error(l(407));B=B()}else{if(B=M(),Mr===null)throw Error(l(349));(Kl&30)!==0||Ug(V,M,B)}Y.memoizedState=B;var ee={value:B,getSnapshot:M};return Y.queue=ee,Cf(va.bind(null,V,ee,E),[E]),V.flags|=2048,Lh(9,jg.bind(null,V,ee,B,M),void 0,null),B},useId:function(){var E=oo(),M=Mr.identifierPrefix;if(tr){var B=ga,V=pa;B=(V&~(1<<32-Qi(V)-1)).toString(32)+B,M=":"+M+"R"+B,B=ql++,0<B&&(M+="H"+B.toString(32)),M+=":"}else B=Th++,M=":"+M+"r"+B.toString(32)+":";return E.memoizedState=M},unstable_isNewReconciler:!1},Vg={readContext:zr,useCallback:Tf,useContext:zr,useEffect:mu,useImperativeHandle:vu,useInsertionEffect:Wn,useLayoutEffect:Ef,useMemo:yu,useReducer:Ah,useRef:Jy,useState:function(){return Ah(Io)},useDebugValue:Mf,useDeferredValue:function(E){var M=Ah(Io),B=M[0],V=M[1];return mu(function(){var Y=ys.transition;ys.transition={};try{V(E)}finally{ys.transition=Y}},[E]),B},useTransition:function(){var E=Ah(Io)[0],M=ao().memoizedState;return[E,M]},useMutableSource:$g,useSyncExternalStore:zg,useId:Xl,unstable_isNewReconciler:!1},Gg={readContext:zr,useCallback:Tf,useContext:zr,useEffect:mu,useImperativeHandle:vu,useInsertionEffect:Wn,useLayoutEffect:Ef,useMemo:yu,useReducer:kh,useRef:Jy,useState:function(){return kh(Io)},useDebugValue:Mf,useDeferredValue:function(E){var M=kh(Io),B=M[0],V=M[1];return mu(function(){var Y=ys.transition;ys.transition={};try{V(E)}finally{ys.transition=Y}},[E]),B},useTransition:function(){var E=kh(Io)[0],M=ao().memoizedState;return[E,M]},useMutableSource:$g,useSyncExternalStore:zg,useId:Xl,unstable_isNewReconciler:!1};function Kg(E,M){try{var B="",V=M;do B+=$n(V),V=V.return;while(V);var Y=B}catch(ee){Y=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:E,source:M,stack:Y}}function kf(E,M){try{console.error(M.value)}catch(B){setTimeout(function(){throw B})}}var Lw=typeof WeakMap=="function"?WeakMap:Map;function t0(E,M,B){B=fa(-1,B),B.tag=3,B.payload={element:null};var V=M.value;return B.callback=function(){Eu||(Eu=!0,Xn=V),kf(E,M)},B}function Rf(E,M,B){B=fa(-1,B),B.tag=3;var V=E.type.getDerivedStateFromError;if(typeof V=="function"){var Y=M.value;B.payload=function(){return V(Y)},B.callback=function(){kf(E,M)}}var ee=E.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(B.callback=function(){kf(E,M),typeof V!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var ge=M.stack;this.componentDidCatch(M.value,{componentStack:ge!==null?ge:""})}),B}function ya(E,M,B){var V=E.pingCache;if(V===null){V=E.pingCache=new Lw;var Y=new Set;V.set(M,Y)}else Y=V.get(M),Y===void 0&&(Y=new Set,V.set(M,Y));Y.has(B)||(Y.add(B),E=hm.bind(null,E,M,B),M.then(E,E))}function qg(E){do{var M;if((M=E.tag===13)&&(M=E.memoizedState,M=M!==null?M.dehydrated!==null:!0),M)return E;E=E.return}while(E!==null);return null}function Yl(E,M,B,V,Y){return(E.mode&1)===0?(E===M?E.flags|=65536:(E.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(M=fa(-1,1),M.tag=2,rl(B,M))),B.lanes|=1),E):(E.flags|=65536,E.lanes=Y,E)}function Ur(E){E.flags|=4}function _u(E,M){if(E!==null&&E.child===M.child)return!0;if((M.flags&16)!==0)return!1;for(E=M.child;E!==null;){if((E.flags&12854)!==0||(E.subtreeFlags&12854)!==0)return!1;E=E.sibling}return!0}var xs,Zl,Lf,Pf;if(xe)xs=function(E,M){for(var B=M.child;B!==null;){if(B.tag===5||B.tag===6)X(E,B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===M)break;for(;B.sibling===null;){if(B.return===null||B.return===M)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},Zl=function(){},Lf=function(E,M,B,V,Y){if(E=E.memoizedProps,E!==V){var ee=M.stateNode,ge=so(es.current);B=te(ee,B,E,V,Y,ge),(M.updateQueue=B)&&Ur(M)}},Pf=function(E,M,B,V){B!==V&&Ur(M)};else if(ne){xs=function(E,M,B,V){for(var Y=M.child;Y!==null;){if(Y.tag===5){var ee=Y.stateNode;B&&V&&(ee=an(ee,Y.type,Y.memoizedProps,Y)),X(E,ee)}else if(Y.tag===6)ee=Y.stateNode,B&&V&&(ee=ar(ee,Y.memoizedProps,Y)),X(E,ee);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)ee=Y.child,ee!==null&&(ee.return=Y),xs(E,Y,!0,!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===M)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===M)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}};var cl=function(E,M,B,V){for(var Y=M.child;Y!==null;){if(Y.tag===5){var ee=Y.stateNode;B&&V&&(ee=an(ee,Y.type,Y.memoizedProps,Y)),nn(E,ee)}else if(Y.tag===6)ee=Y.stateNode,B&&V&&(ee=ar(ee,Y.memoizedProps,Y)),nn(E,ee);else if(Y.tag!==4){if(Y.tag===22&&Y.memoizedState!==null)ee=Y.child,ee!==null&&(ee.return=Y),cl(E,Y,!0,!0);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}}if(Y===M)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===M)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}};Zl=function(E,M){var B=M.stateNode;if(!_u(E,M)){E=B.containerInfo;var V=Kt(E);cl(V,M,!1,!1),B.pendingChildren=V,Ur(M),fn(E,V)}},Lf=function(E,M,B,V,Y){var ee=E.stateNode,ge=E.memoizedProps;if((E=_u(E,M))&&ge===V)M.stateNode=ee;else{var Ee=M.stateNode,je=so(es.current),rt=null;ge!==V&&(rt=te(Ee,B,ge,V,Y,je)),E&&rt===null?M.stateNode=ee:(ee=lt(ee,rt,B,ge,V,M,E,Ee),J(ee,B,V,Y,je)&&Ur(M),M.stateNode=ee,E?Ur(M):xs(ee,M,!1,!1))}},Pf=function(E,M,B,V){B!==V?(E=so(Vl.current),B=so(es.current),M.stateNode=ae(V,E,B,M),Ur(M)):M.stateNode=E.stateNode}}else Zl=function(){},Lf=function(){},Pf=function(){};function xa(E,M){if(!tr)switch(E.tailMode){case"hidden":M=E.tail;for(var B=null;M!==null;)M.alternate!==null&&(B=M),M=M.sibling;B===null?E.tail=null:B.sibling=null;break;case"collapsed":B=E.tail;for(var V=null;B!==null;)B.alternate!==null&&(V=B),B=B.sibling;V===null?M||E.tail===null?E.tail=null:E.tail.sibling=null:V.sibling=null}}function Er(E){var M=E.alternate!==null&&E.alternate.child===E.child,B=0,V=0;if(M)for(var Y=E.child;Y!==null;)B|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags&14680064,V|=Y.flags&14680064,Y.return=E,Y=Y.sibling;else for(Y=E.child;Y!==null;)B|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags,V|=Y.flags,Y.return=E,Y=Y.sibling;return E.subtreeFlags|=V,E.childLanes=B,M}function Of(E,M,B){var V=M.pendingProps;switch(Dg(M),M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(M),null;case 1:return Cn(M.type)&&Fi(),Er(M),null;case 3:return V=M.stateNode,pu(),rn(lr),rn(wr),Gl(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(E===null||E.child===null)&&(Eh(M)?Ur(M):E===null||E.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,Us!==null&&(Kh(Us),Us=null))),Zl(E,M),Er(M),null;case 5:Fg(M),B=so(Vl.current);var Y=M.type;if(E!==null&&M.stateNode!=null)Lf(E,M,Y,V,B),E.ref!==M.ref&&(M.flags|=512,M.flags|=2097152);else{if(!V){if(M.stateNode===null)throw Error(l(166));return Er(M),null}if(E=so(es.current),Eh(M)){if(!ye)throw Error(l(175));E=wh(M.stateNode,M.type,M.memoizedProps,B,E,M,!cu),M.updateQueue=E,E!==null&&Ur(M)}else{var ee=K(Y,V,B,E,M);xs(ee,M,!1,!1),M.stateNode=ee,J(ee,Y,V,B,E)&&Ur(M)}M.ref!==null&&(M.flags|=512,M.flags|=2097152)}return Er(M),null;case 6:if(E&&M.stateNode!=null)Pf(E,M,E.memoizedProps,V);else{if(typeof V!="string"&&M.stateNode===null)throw Error(l(166));if(E=so(Vl.current),B=so(es.current),Eh(M)){if(!ye)throw Error(l(176));if(E=M.stateNode,V=M.memoizedProps,(B=he(E,V,M,!cu))&&(Y=$i,Y!==null))switch(ee=(Y.mode&1)!==0,Y.tag){case 3:$t(Y.stateNode.containerInfo,E,V,ee);break;case 5:Jt(Y.type,Y.memoizedProps,Y.stateNode,E,V,ee)}B&&Ur(M)}else M.stateNode=ae(V,E,B,M)}return Er(M),null;case 13:if(rn(ir),V=M.memoizedState,tr&&ui!==null&&(M.mode&1)!==0&&(M.flags&128)===0){for(E=ui;E;)E=br(E);return uu(),M.flags|=98560,M}if(V!==null&&V.dehydrated!==null){if(V=Eh(M),E===null){if(!V)throw Error(l(318));if(!ye)throw Error(l(344));if(E=M.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(l(317));Pe(E,M)}else uu(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;return Er(M),null}return Us!==null&&(Kh(Us),Us=null),(M.flags&128)!==0?(M.lanes=B,M):(V=V!==null,B=!1,E===null?Eh(M):B=E.memoizedState!==null,V&&!B&&(M.child.flags|=8192,(M.mode&1)!==0&&(E===null||(ir.current&1)!==0?dr===0&&(dr=3):zf())),M.updateQueue!==null&&(M.flags|=4),Er(M),null);case 4:return pu(),Zl(E,M),E===null&&Ae(M.stateNode.containerInfo),Er(M),null;case 10:return gs(M.type._context),Er(M),null;case 17:return Cn(M.type)&&Fi(),Er(M),null;case 19:if(rn(ir),Y=M.memoizedState,Y===null)return Er(M),null;if(V=(M.flags&128)!==0,ee=Y.rendering,ee===null)if(V)xa(Y,!1);else{if(dr!==0||E!==null&&(E.flags&128)!==0)for(E=M.child;E!==null;){if(ee=xf(E),ee!==null){for(M.flags|=128,xa(Y,!1),E=ee.updateQueue,E!==null&&(M.updateQueue=E,M.flags|=4),M.subtreeFlags=0,E=B,V=M.child;V!==null;)B=V,Y=E,B.flags&=14680066,ee=B.alternate,ee===null?(B.childLanes=0,B.lanes=Y,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=ee.childLanes,B.lanes=ee.lanes,B.child=ee.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=ee.memoizedProps,B.memoizedState=ee.memoizedState,B.updateQueue=ee.updateQueue,B.type=ee.type,Y=ee.dependencies,B.dependencies=Y===null?null:{lanes:Y.lanes,firstContext:Y.firstContext}),V=V.sibling;return jt(ir,ir.current&1|2),M.child}E=E.sibling}Y.tail!==null&&Sr()>dl&&(M.flags|=128,V=!0,xa(Y,!1),M.lanes=4194304)}else{if(!V)if(E=xf(ee),E!==null){if(M.flags|=128,V=!0,E=E.updateQueue,E!==null&&(M.updateQueue=E,M.flags|=4),xa(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!ee.alternate&&!tr)return Er(M),null}else 2*Sr()-Y.renderingStartTime>dl&&B!==1073741824&&(M.flags|=128,V=!0,xa(Y,!1),M.lanes=4194304);Y.isBackwards?(ee.sibling=M.child,M.child=ee):(E=Y.last,E!==null?E.sibling=ee:M.child=ee,Y.last=ee)}return Y.tail!==null?(M=Y.tail,Y.rendering=M,Y.tail=M.sibling,Y.renderingStartTime=Sr(),M.sibling=null,E=ir.current,jt(ir,V?E&1|2:E&1),M):(Er(M),null);case 22:case 23:return qh(),V=M.memoizedState!==null,E!==null&&E.memoizedState!==null!==V&&(M.flags|=8192),V&&(M.mode&1)!==0?(Ti&1073741824)!==0&&(Er(M),xe&&M.subtreeFlags&6&&(M.flags|=8192)):Er(M),null;case 24:return null;case 25:return null}throw Error(l(156,M.tag))}var Xg=a.ReactCurrentOwner,Qr=!1;function hr(E,M,B,V){M.child=E===null?Yy(M,null,B,V):ma(M,E.child,B,V)}function Vn(E,M,B,V,Y){B=B.render;var ee=M.ref;return io(M,Y),V=gu(E,M,B,V,ee,Y),B=al(),E!==null&&!Qr?(M.updateQueue=E.updateQueue,M.flags&=-2053,E.lanes&=~Y,ts(E,M,Y)):(tr&&B&&Ig(M),M.flags|=1,hr(E,M,V,Y),M.child)}function zn(E,M,B,V,Y){if(E===null){var ee=B.type;return typeof ee=="function"&&!jf(ee)&&ee.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(M.tag=15,M.type=ee,_a(E,M,ee,V,Y)):(E=Hf(B.type,null,V,M,M.mode,Y),E.ref=M.ref,E.return=M,M.child=E)}if(ee=E.child,(E.lanes&Y)===0){var ge=ee.memoizedProps;if(B=B.compare,B=B!==null?B:Pn,B(ge,V)&&E.ref===M.ref)return ts(E,M,Y)}return M.flags|=1,E=ka(ee,V),E.ref=M.ref,E.return=M,M.child=E}function _a(E,M,B,V,Y){if(E!==null&&Pn(E.memoizedProps,V)&&E.ref===M.ref)if(Qr=!1,(E.lanes&Y)!==0)(E.flags&131072)!==0&&(Qr=!0);else return M.lanes=E.lanes,ts(E,M,Y);return ba(E,M,B,V,Y)}function hi(E,M,B){var V=M.pendingProps,Y=V.children,ee=E!==null?E.memoizedState:null;if(V.mode==="hidden")if((M.mode&1)===0)M.memoizedState={baseLanes:0,cachePool:null},jt(oc,Ti),Ti|=B;else if((B&1073741824)!==0)M.memoizedState={baseLanes:0,cachePool:null},V=ee!==null?ee.baseLanes:B,jt(oc,Ti),Ti|=V;else return E=ee!==null?ee.baseLanes|B:B,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:E,cachePool:null},M.updateQueue=null,jt(oc,Ti),Ti|=E,null;else ee!==null?(V=ee.baseLanes|B,M.memoizedState=null):V=B,jt(oc,Ti),Ti|=V;return hr(E,M,Y,B),M.child}function zi(E,M){var B=M.ref;(E===null&&B!==null||E!==null&&E.ref!==B)&&(M.flags|=512,M.flags|=2097152)}function ba(E,M,B,V,Y){var ee=Cn(B)?Ei:wr.current;return ee=Fn(M,ee),io(M,Y),B=gu(E,M,B,V,ee,Y),V=al(),E!==null&&!Qr?(M.updateQueue=E.updateQueue,M.flags&=-2053,E.lanes&=~Y,ts(E,M,Y)):(tr&&V&&Ig(M),M.flags|=1,hr(E,M,B,Y),M.child)}function Jl(E,M,B,V,Y){if(Cn(B)){var ee=!0;tl(M)}else ee=!1;if(io(M,Y),M.stateNode===null)E!==null&&(E.alternate=null,M.alternate=null,M.flags|=2),Vy(M,B,V),Og(M,B,V,Y),V=!0;else if(E===null){var ge=M.stateNode,Ee=M.memoizedProps;ge.props=Ee;var je=ge.context,rt=B.contextType;typeof rt=="object"&&rt!==null?rt=zr(rt):(rt=Cn(B)?Ei:wr.current,rt=Fn(M,rt));var xt=B.getDerivedStateFromProps,Xt=typeof xt=="function"||typeof ge.getSnapshotBeforeUpdate=="function";Xt||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ee!==V||je!==rt)&&Gy(M,ge,V,rt),$s=!1;var Dt=M.memoizedState;ge.state=Dt,df(M,V,ge,Y),je=M.memoizedState,Ee!==V||Dt!==je||lr.current||$s?(typeof xt=="function"&&(Lg(M,B,xt,V),je=M.memoizedState),(Ee=$s||Pg(M,B,Ee,V,Dt,je,rt))?(Xt||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(M.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=V,M.memoizedState=je),ge.props=V,ge.state=je,ge.context=rt,V=Ee):(typeof ge.componentDidMount=="function"&&(M.flags|=4194308),V=!1)}else{ge=M.stateNode,Rg(E,M),Ee=M.memoizedProps,rt=M.type===M.elementType?Ee:Dn(M.type,Ee),ge.props=rt,Xt=M.pendingProps,Dt=ge.context,je=B.contextType,typeof je=="object"&&je!==null?je=zr(je):(je=Cn(B)?Ei:wr.current,je=Fn(M,je));var sn=B.getDerivedStateFromProps;(xt=typeof sn=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Ee!==Xt||Dt!==je)&&Gy(M,ge,V,je),$s=!1,Dt=M.memoizedState,ge.state=Dt,df(M,V,ge,Y);var ft=M.memoizedState;Ee!==Xt||Dt!==ft||lr.current||$s?(typeof sn=="function"&&(Lg(M,B,sn,V),ft=M.memoizedState),(rt=$s||Pg(M,B,rt,V,Dt,ft,je)||!1)?(xt||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(V,ft,je),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(V,ft,je)),typeof ge.componentDidUpdate=="function"&&(M.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Ee===E.memoizedProps&&Dt===E.memoizedState||(M.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ee===E.memoizedProps&&Dt===E.memoizedState||(M.flags|=1024),M.memoizedProps=V,M.memoizedState=ft),ge.props=V,ge.state=ft,ge.context=je,V=rt):(typeof ge.componentDidUpdate!="function"||Ee===E.memoizedProps&&Dt===E.memoizedState||(M.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Ee===E.memoizedProps&&Dt===E.memoizedState||(M.flags|=1024),V=!1)}return Mi(E,M,B,V,ee,Y)}function Mi(E,M,B,V,Y,ee){zi(E,M);var ge=(M.flags&128)!==0;if(!V&&!ge)return Y&&ca(M,B,!1),ts(E,M,ee);V=M.stateNode,Xg.current=M;var Ee=ge&&typeof B.getDerivedStateFromError!="function"?null:V.render();return M.flags|=1,E!==null&&ge?(M.child=ma(M,E.child,null,ee),M.child=ma(M,null,Ee,ee)):hr(E,M,Ee,ee),M.memoizedState=V.state,Y&&ca(M,B,!0),M.child}function Dh(E){var M=E.stateNode;M.pendingContext?cr(E,M.pendingContext,M.pendingContext!==M.context):M.context&&cr(E,M.context,!1),yf(E,M.containerInfo)}function Yg(E,M,B,V,Y){return uu(),vf(Y),M.flags|=256,hr(E,M,B,V),M.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Ql(E){return{baseLanes:E,cachePool:null}}function Zg(E,M,B){var V=M.pendingProps,Y=ir.current,ee=!1,ge=(M.flags&128)!==0,Ee;if((Ee=ge)||(Ee=E!==null&&E.memoizedState===null?!1:(Y&2)!==0),Ee?(ee=!0,M.flags&=-129):(E===null||E.memoizedState!==null)&&(Y|=1),jt(ir,Y&1),E===null)return sl(M),E=M.memoizedState,E!==null&&(E=E.dehydrated,E!==null)?((M.mode&1)===0?M.lanes=1:Ni(E)?M.lanes=8:M.lanes=1073741824,null):(Y=V.children,E=V.fallback,ee?(V=M.mode,ee=M.child,Y={mode:"hidden",children:Y},(V&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=Y):ee=Zh(Y,V,0,null),E=hc(E,V,B,null),ee.return=M,E.return=M,ee.sibling=E,M.child=ee,M.child.memoizedState=Ql(B),M.memoizedState=Nh,E):lo(M,Y));if(Y=E.memoizedState,Y!==null){if(Ee=Y.dehydrated,Ee!==null){if(ge)return M.flags&256?(M.flags&=-257,Fh(E,M,B,Error(l(422)))):M.memoizedState!==null?(M.child=E.child,M.flags|=128,null):(ee=V.fallback,Y=M.mode,V=Zh({mode:"visible",children:V.children},Y,0,null),ee=hc(ee,Y,B,null),ee.flags|=2,V.return=M,ee.return=M,V.sibling=ee,M.child=V,(M.mode&1)!==0&&ma(M,E.child,null,B),M.child.memoizedState=Ql(B),M.memoizedState=Nh,ee);if((M.mode&1)===0)M=Fh(E,M,B,null);else if(Ni(Ee))M=Fh(E,M,B,Error(l(419)));else if(V=(B&E.childLanes)!==0,Qr||V){if(V=Mr,V!==null){switch(B&-B){case 4:ee=2;break;case 16:ee=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ee=32;break;case 536870912:ee=268435456;break;default:ee=0}V=(ee&(V.suspendedLanes|B))!==0?0:ee,V!==0&&V!==Y.retryLane&&(Y.retryLane=V,Ai(E,V,-1))}zf(),M=Fh(E,M,B,Error(l(421)))}else nu(Ee)?(M.flags|=128,M.child=E.child,M=o0.bind(null,E),to(Ee,M),M=null):(B=Y.treeContext,ye&&(ui=bh(Ee),$i=M,tr=!0,Us=null,cu=!1,B!==null&&(zs[ms++]=pa,zs[ms++]=ga,zs[ms++]=jl,pa=B.id,ga=B.overflow,jl=M)),M=lo(M,M.pendingProps.children),M.flags|=4096);return M}return ee?(V=If(E,M,V.children,V.fallback,B),ee=M.child,Y=E.child.memoizedState,ee.memoizedState=Y===null?Ql(B):{baseLanes:Y.baseLanes|B,cachePool:null},ee.childLanes=E.childLanes&~B,M.memoizedState=Nh,V):(B=Bh(E,M,V.children,B),M.memoizedState=null,B)}return ee?(V=If(E,M,V.children,V.fallback,B),ee=M.child,Y=E.child.memoizedState,ee.memoizedState=Y===null?Ql(B):{baseLanes:Y.baseLanes|B,cachePool:null},ee.childLanes=E.childLanes&~B,M.memoizedState=Nh,V):(B=Bh(E,M,V.children,B),M.memoizedState=null,B)}function lo(E,M){return M=Zh({mode:"visible",children:M},E.mode,0,null),M.return=E,E.child=M}function Bh(E,M,B,V){var Y=E.child;return E=Y.sibling,B=ka(Y,{mode:"visible",children:B}),(M.mode&1)===0&&(B.lanes=V),B.return=M,B.sibling=null,E!==null&&(V=M.deletions,V===null?(M.deletions=[E],M.flags|=16):V.push(E)),M.child=B}function If(E,M,B,V,Y){var ee=M.mode;E=E.child;var ge=E.sibling,Ee={mode:"hidden",children:B};return(ee&1)===0&&M.child!==E?(B=M.child,B.childLanes=0,B.pendingProps=Ee,M.deletions=null):(B=ka(E,Ee),B.subtreeFlags=E.subtreeFlags&14680064),ge!==null?V=ka(ge,V):(V=hc(V,ee,Y,null),V.flags|=2),V.return=M,B.return=M,B.sibling=V,M.child=B,V}function Fh(E,M,B,V){return V!==null&&vf(V),ma(M,E.child,null,B),E=lo(M,M.pendingProps.children),E.flags|=2,M.memoizedState=null,E}function n0(E,M,B){E.lanes|=M;var V=E.alternate;V!==null&&(V.lanes|=M),Po(E.return,M,B)}function Do(E,M,B,V,Y){var ee=E.memoizedState;ee===null?E.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:V,tail:B,tailMode:Y}:(ee.isBackwards=M,ee.rendering=null,ee.renderingStartTime=0,ee.last=V,ee.tail=B,ee.tailMode=Y)}function ec(E,M,B){var V=M.pendingProps,Y=V.revealOrder,ee=V.tail;if(hr(E,M,V.children,B),V=ir.current,(V&2)!==0)V=V&1|2,M.flags|=128;else{if(E!==null&&(E.flags&128)!==0)e:for(E=M.child;E!==null;){if(E.tag===13)E.memoizedState!==null&&n0(E,B,M);else if(E.tag===19)n0(E,B,M);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===M)break e;for(;E.sibling===null;){if(E.return===null||E.return===M)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}V&=1}if(jt(ir,V),(M.mode&1)===0)M.memoizedState=null;else switch(Y){case"forwards":for(B=M.child,Y=null;B!==null;)E=B.alternate,E!==null&&xf(E)===null&&(Y=B),B=B.sibling;B=Y,B===null?(Y=M.child,M.child=null):(Y=B.sibling,B.sibling=null),Do(M,!1,Y,B,ee);break;case"backwards":for(B=null,Y=M.child,M.child=null;Y!==null;){if(E=Y.alternate,E!==null&&xf(E)===null){M.child=Y;break}E=Y.sibling,Y.sibling=B,B=Y,Y=E}Do(M,!0,B,null,ee);break;case"together":Do(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function ts(E,M,B){if(E!==null&&(M.dependencies=E.dependencies),No|=M.lanes,(B&M.childLanes)===0)return null;if(E!==null&&M.child!==E.child)throw Error(l(153));if(M.child!==null){for(E=M.child,B=ka(E,E.pendingProps),M.child=B,B.return=M;E.sibling!==null;)E=E.sibling,B=B.sibling=ka(E,E.pendingProps),B.return=M;B.sibling=null}return M.child}function Df(E,M,B){switch(M.tag){case 3:Dh(M),uu();break;case 5:Zy(M);break;case 1:Cn(M.type)&&tl(M);break;case 4:yf(M,M.stateNode.containerInfo);break;case 10:ci(M,M.type._context,M.memoizedProps.value);break;case 13:var V=M.memoizedState;if(V!==null)return V.dehydrated!==null?(jt(ir,ir.current&1),M.flags|=128,null):(B&M.child.childLanes)!==0?Zg(E,M,B):(jt(ir,ir.current&1),E=ts(E,M,B),E!==null?E.sibling:null);jt(ir,ir.current&1);break;case 19:if(V=(B&M.childLanes)!==0,(E.flags&128)!==0){if(V)return ec(E,M,B);M.flags|=128}var Y=M.memoizedState;if(Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),jt(ir,ir.current),V)break;return null;case 22:case 23:return M.lanes=0,hi(E,M,B)}return ts(E,M,B)}function Nf(E,M){switch(Dg(M),M.tag){case 1:return Cn(M.type)&&Fi(),E=M.flags,E&65536?(M.flags=E&-65537|128,M):null;case 3:return pu(),rn(lr),rn(wr),Gl(),E=M.flags,(E&65536)!==0&&(E&128)===0?(M.flags=E&-65537|128,M):null;case 5:return Fg(M),null;case 13:if(rn(ir),E=M.memoizedState,E!==null&&E.dehydrated!==null){if(M.alternate===null)throw Error(l(340));uu()}return E=M.flags,E&65536?(M.flags=E&-65537|128,M):null;case 19:return rn(ir),null;case 4:return pu(),null;case 10:return gs(M.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var Ui=!1,ei=!1,tc=typeof WeakSet=="function"?WeakSet:Set,ot=null;function js(E,M){var B=E.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(V){Hi(E,M,V)}else B.current=null}function wa(E,M,B){try{B()}catch(V){Hi(E,M,V)}}var Jg=!1;function Qg(E,M){for(z(E.containerInfo),ot=M;ot!==null;)if(E=ot,M=E.child,(E.subtreeFlags&1028)!==0&&M!==null)M.return=E,ot=M;else for(;ot!==null;){E=ot;try{var B=E.alternate;if((E.flags&1024)!==0)switch(E.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var V=B.memoizedProps,Y=B.memoizedState,ee=E.stateNode,ge=ee.getSnapshotBeforeUpdate(E.elementType===E.type?V:Dn(E.type,V),Y);ee.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:xe&&Je(E.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(Ee){Hi(E,E.return,Ee)}if(M=E.sibling,M!==null){M.return=E.return,ot=M;break}ot=E.return}return B=Jg,Jg=!1,B}function Sa(E,M,B){var V=M.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var Y=V=V.next;do{if((Y.tag&E)===E){var ee=Y.destroy;Y.destroy=void 0,ee!==void 0&&wa(M,B,ee)}Y=Y.next}while(Y!==V)}}function di(E,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var B=M=M.next;do{if((B.tag&E)===E){var V=B.create;B.destroy=V()}B=B.next}while(B!==M)}}function ji(E){var M=E.ref;if(M!==null){var B=E.stateNode;switch(E.tag){case 5:E=F(B);break;default:E=B}typeof M=="function"?M(E):M.current=E}}function qn(E,M,B){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(nl,M)}catch{}switch(M.tag){case 0:case 11:case 14:case 15:if(E=M.updateQueue,E!==null&&(E=E.lastEffect,E!==null)){var V=E=E.next;do{var Y=V,ee=Y.destroy;Y=Y.tag,ee!==void 0&&((Y&2)!==0||(Y&4)!==0)&&wa(M,B,ee),V=V.next}while(V!==E)}break;case 1:if(js(M,B),E=M.stateNode,typeof E.componentWillUnmount=="function")try{E.props=M.memoizedProps,E.state=M.memoizedState,E.componentWillUnmount()}catch(ge){Hi(M,B,ge)}break;case 5:js(M,B);break;case 4:xe?nm(E,M,B):ne&&ne&&(M=M.stateNode.containerInfo,B=Kt(M),_r(M,B))}}function Hs(E,M,B){for(var V=M;;)if(qn(E,V,B),V.child===null||xe&&V.tag===4){if(V===M)break;for(;V.sibling===null;){if(V.return===null||V.return===M)return;V=V.return}V.sibling.return=V.return,V=V.sibling}else V.child.return=V,V=V.child}function em(E){var M=E.alternate;M!==null&&(E.alternate=null,em(M)),E.child=null,E.deletions=null,E.sibling=null,E.tag===5&&(M=E.stateNode,M!==null&&ze(M)),E.stateNode=null,E.return=null,E.dependencies=null,E.memoizedProps=null,E.memoizedState=null,E.pendingProps=null,E.stateNode=null,E.updateQueue=null}function tm(E){return E.tag===5||E.tag===3||E.tag===4}function Bf(E){e:for(;;){for(;E.sibling===null;){if(E.return===null||tm(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==5&&E.tag!==6&&E.tag!==18;){if(E.flags&2||E.child===null||E.tag===4)continue e;E.child.return=E,E=E.child}if(!(E.flags&2))return E.stateNode}}function Ff(E){if(xe){e:{for(var M=E.return;M!==null;){if(tm(M))break e;M=M.return}throw Error(l(160))}var B=M;switch(B.tag){case 5:M=B.stateNode,B.flags&32&&(be(M),B.flags&=-33),B=Bf(E),bu(E,B,M);break;case 3:case 4:M=B.stateNode.containerInfo,B=Bf(E),$f(E,B,M);break;default:throw Error(l(161))}}}function $f(E,M,B){var V=E.tag;if(V===5||V===6)E=E.stateNode,M?Et(B,E,M):dt(B,E);else if(V!==4&&(E=E.child,E!==null))for($f(E,M,B),E=E.sibling;E!==null;)$f(E,M,B),E=E.sibling}function bu(E,M,B){var V=E.tag;if(V===5||V===6)E=E.stateNode,M?St(B,E,M):et(B,E);else if(V!==4&&(E=E.child,E!==null))for(bu(E,M,B),E=E.sibling;E!==null;)bu(E,M,B),E=E.sibling}function nm(E,M,B){for(var V=M,Y=!1,ee,ge;;){if(!Y){Y=V.return;e:for(;;){if(Y===null)throw Error(l(160));switch(ee=Y.stateNode,Y.tag){case 5:ge=!1;break e;case 3:ee=ee.containerInfo,ge=!0;break e;case 4:ee=ee.containerInfo,ge=!0;break e}Y=Y.return}Y=!0}if(V.tag===5||V.tag===6)Hs(E,V,B),ge?le(ee,V.stateNode):ht(ee,V.stateNode);else if(V.tag===18)ge?Ot(ee,V.stateNode):gt(ee,V.stateNode);else if(V.tag===4){if(V.child!==null){ee=V.stateNode.containerInfo,ge=!0,V.child.return=V,V=V.child;continue}}else if(qn(E,V,B),V.child!==null){V.child.return=V,V=V.child;continue}if(V===M)break;for(;V.sibling===null;){if(V.return===null||V.return===M)return;V=V.return,V.tag===4&&(Y=!1)}V.sibling.return=V.return,V=V.sibling}}function ul(E,M){if(xe){switch(M.tag){case 0:case 11:case 14:case 15:Sa(3,M,M.return),di(3,M),Sa(5,M,M.return);return;case 1:return;case 5:var B=M.stateNode;if(B!=null){var V=M.memoizedProps;E=E!==null?E.memoizedProps:V;var Y=M.type,ee=M.updateQueue;M.updateQueue=null,ee!==null&&st(B,ee,Y,E,V,M)}return;case 6:if(M.stateNode===null)throw Error(l(162));B=M.memoizedProps,Xe(M.stateNode,E!==null?E.memoizedProps:B,B);return;case 3:ye&&E!==null&&E.memoizedState.isDehydrated&&ke(M.stateNode.containerInfo);return;case 12:return;case 13:wu(M);return;case 19:wu(M);return;case 17:return}throw Error(l(163))}switch(M.tag){case 0:case 11:case 14:case 15:Sa(3,M,M.return),di(3,M),Sa(5,M,M.return);return;case 12:return;case 13:wu(M);return;case 19:wu(M);return;case 3:ye&&E!==null&&E.memoizedState.isDehydrated&&ke(M.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(M.tag){case 1:case 5:case 6:break e;case 3:case 4:M=M.stateNode,_r(M.containerInfo,M.pendingChildren);break e}throw Error(l(163))}}function wu(E){var M=E.updateQueue;if(M!==null){E.updateQueue=null;var B=E.stateNode;B===null&&(B=E.stateNode=new tc),M.forEach(function(V){var Y=a0.bind(null,E,V);B.has(V)||(B.add(V),V.then(Y,Y))})}}function Pw(E,M){for(ot=M;ot!==null;){M=ot;var B=M.deletions;if(B!==null)for(var V=0;V<B.length;V++){var Y=B[V];try{var ee=E;xe?nm(ee,Y,M):Hs(ee,Y,M);var ge=Y.alternate;ge!==null&&(ge.return=null),Y.return=null}catch(Tt){Hi(Y,M,Tt)}}if(B=M.child,(M.subtreeFlags&12854)!==0&&B!==null)B.return=M,ot=B;else for(;ot!==null;){M=ot;try{var Ee=M.flags;if(Ee&32&&xe&&be(M.stateNode),Ee&512){var je=M.alternate;if(je!==null){var rt=je.ref;rt!==null&&(typeof rt=="function"?rt(null):rt.current=null)}}if(Ee&8192)switch(M.tag){case 13:if(M.memoizedState!==null){var xt=M.alternate;(xt===null||xt.memoizedState===null)&&(Vh=Sr())}break;case 22:var Xt=M.memoizedState!==null,Dt=M.alternate,sn=Dt!==null&&Dt.memoizedState!==null;if(B=M,xe){e:if(V=B,Y=Xt,ee=null,xe)for(var ft=V;;){if(ft.tag===5){if(ee===null){ee=ft;var gi=ft.stateNode;Y?Ue(gi):qe(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(ee===null){var Cs=ft.stateNode;Y?me(Cs):Le(Cs,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===V)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===V)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===V)break e;ee===ft&&(ee=null),ft=ft.return}ee===ft&&(ee=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Xt&&!sn&&(B.mode&1)!==0){ot=B;for(var Ie=B.child;Ie!==null;){for(B=ot=Ie;ot!==null;){V=ot;var Me=V.child;switch(V.tag){case 0:case 11:case 14:case 15:Sa(4,V,V.return);break;case 1:js(V,V.return);var $e=V.stateNode;if(typeof $e.componentWillUnmount=="function"){var ut=V.return;try{$e.props=V.memoizedProps,$e.state=V.memoizedState,$e.componentWillUnmount()}catch(Tt){Hi(V,ut,Tt)}}break;case 5:js(V,V.return);break;case 22:if(V.memoizedState!==null){im(B);continue}}Me!==null?(Me.return=V,ot=Me):im(B)}Ie=Ie.sibling}}}switch(Ee&4102){case 2:Ff(M),M.flags&=-3;break;case 6:Ff(M),M.flags&=-3,ul(M.alternate,M);break;case 4096:M.flags&=-4097;break;case 4100:M.flags&=-4097,ul(M.alternate,M);break;case 4:ul(M.alternate,M)}}catch(Tt){Hi(M,M.return,Tt)}if(B=M.sibling,B!==null){B.return=M.return,ot=B;break}ot=M.return}}}function $h(E,M,B){ot=E,zh(E)}function zh(E,M,B){for(var V=(E.mode&1)!==0;ot!==null;){var Y=ot,ee=Y.child;if(Y.tag===22&&V){var ge=Y.memoizedState!==null||Ui;if(!ge){var Ee=Y.alternate,je=Ee!==null&&Ee.memoizedState!==null||ei;Ee=Ui;var rt=ei;if(Ui=ge,(ei=je)&&!rt)for(ot=Y;ot!==null;)ge=ot,je=ge.child,ge.tag===22&&ge.memoizedState!==null?nc(Y):je!==null?(je.return=ge,ot=je):nc(Y);for(;ee!==null;)ot=ee,zh(ee),ee=ee.sibling;ot=Y,Ui=Ee,ei=rt}rm(E)}else(Y.subtreeFlags&8772)!==0&&ee!==null?(ee.return=Y,ot=ee):rm(E)}}function rm(E){for(;ot!==null;){var M=ot;if((M.flags&8772)!==0){var B=M.alternate;try{if((M.flags&8772)!==0)switch(M.tag){case 0:case 11:case 15:ei||di(5,M);break;case 1:var V=M.stateNode;if(M.flags&4&&!ei)if(B===null)V.componentDidMount();else{var Y=M.elementType===M.type?B.memoizedProps:Dn(M.type,B.memoizedProps);V.componentDidUpdate(Y,B.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var ee=M.updateQueue;ee!==null&&Hy(M,ee,V);break;case 3:var ge=M.updateQueue;if(ge!==null){if(B=null,M.child!==null)switch(M.child.tag){case 5:B=F(M.child.stateNode);break;case 1:B=M.child.stateNode}Hy(M,ge,B)}break;case 5:var Ee=M.stateNode;B===null&&M.flags&4&&Fe(Ee,M.type,M.memoizedProps,M);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&M.memoizedState===null){var je=M.alternate;if(je!==null){var rt=je.memoizedState;if(rt!==null){var xt=rt.dehydrated;xt!==null&&We(xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(l(163))}ei||M.flags&512&&ji(M)}catch(Xt){Hi(M,M.return,Xt)}}if(M===E){ot=null;break}if(B=M.sibling,B!==null){B.return=M.return,ot=B;break}ot=M.return}}function im(E){for(;ot!==null;){var M=ot;if(M===E){ot=null;break}var B=M.sibling;if(B!==null){B.return=M.return,ot=B;break}ot=M.return}}function nc(E){for(;ot!==null;){var M=ot;try{switch(M.tag){case 0:case 11:case 15:var B=M.return;try{di(4,M)}catch(je){Hi(M,B,je)}break;case 1:var V=M.stateNode;if(typeof V.componentDidMount=="function"){var Y=M.return;try{V.componentDidMount()}catch(je){Hi(M,Y,je)}}var ee=M.return;try{ji(M)}catch(je){Hi(M,ee,je)}break;case 5:var ge=M.return;try{ji(M)}catch(je){Hi(M,ge,je)}}}catch(je){Hi(M,M.return,je)}if(M===E){ot=null;break}var Ee=M.sibling;if(Ee!==null){Ee.return=M.return,ot=Ee;break}ot=M.return}}var Uh=0,rc=1,ic=2,Ca=3,Su=4;if(typeof Symbol=="function"&&Symbol.for){var sc=Symbol.for;Uh=sc("selector.component"),rc=sc("selector.has_pseudo_class"),ic=sc("selector.role"),Ca=sc("selector.test_id"),Su=sc("selector.text")}function jh(E){var M=_e(E);if(M!=null){if(typeof M.memoizedProps["data-testname"]!="string")throw Error(l(364));return M}if(E=It(E),E===null)throw Error(l(362));return E.stateNode.current}function Hh(E,M){switch(M.$$typeof){case Uh:if(E.type===M.value)return!0;break;case rc:e:{M=M.value,E=[E,0];for(var B=0;B<E.length;){var V=E[B++],Y=E[B++],ee=M[Y];if(V.tag!==5||!ce(V)){for(;ee!=null&&Hh(V,ee);)Y++,ee=M[Y];if(Y===M.length){M=!0;break e}else for(V=V.child;V!==null;)E.push(V,Y),V=V.sibling}}M=!1}return M;case ic:if(E.tag===5&&Ne(E.stateNode,M.value))return!0;break;case Su:if((E.tag===5||E.tag===6)&&(E=pe(E),E!==null&&0<=E.indexOf(M.value)))return!0;break;case Ca:if(E.tag===5&&(E=E.memoizedProps["data-testname"],typeof E=="string"&&E.toLowerCase()===M.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function hl(E){switch(E.$$typeof){case Uh:return"<"+(T(E.value)||"Unknown")+">";case rc:return":has("+(hl(E)||"")+")";case ic:return'[role="'+E.value+'"]';case Su:return'"'+E.value+'"';case Ca:return'[data-testname="'+E.value+'"]';default:throw Error(l(365))}}function _s(E,M){var B=[];E=[E,0];for(var V=0;V<E.length;){var Y=E[V++],ee=E[V++],ge=M[ee];if(Y.tag!==5||!ce(Y)){for(;ge!=null&&Hh(Y,ge);)ee++,ge=M[ee];if(ee===M.length)B.push(Y);else for(Y=Y.child;Y!==null;)E.push(Y,ee),Y=Y.sibling}}return B}function Ea(E,M){if(!_t)throw Error(l(363));E=jh(E),E=_s(E,M),M=[],E=Array.from(E);for(var B=0;B<E.length;){var V=E[B++];if(V.tag===5)ce(V)||M.push(V.stateNode);else for(V=V.child;V!==null;)E.push(V),V=V.sibling}return M}var sm=Math.ceil,Wh=a.ReactCurrentDispatcher,co=a.ReactCurrentOwner,Nn=a.ReactCurrentBatchConfig,Qt=0,Mr=null,Bn=null,nr=0,Ti=0,oc=Ut(0),dr=0,Cu=null,No=0,bs=0,ac=0,Ma=null,Or=null,Vh=0,dl=1/0;function lc(){dl=Sr()+500}var Eu=!1,Xn=null,uo=null,Mu=!1,Bo=null,cc=0,uc=0,Ta=null,Gn=-1,fr=0;function wn(){return(Qt&6)!==0?Sr():Gn!==-1?Gn:Gn=Sr()}function ho(E){return(E.mode&1)===0?1:(Qt&2)!==0&&nr!==0?nr&-nr:Cr.transition!==null?(fr===0&&(E=ua,ua<<=1,(ua&4194240)===0&&(ua=64),fr=E),fr):(E=Ht,E!==0?E:Te())}function Ai(E,M,B){if(50<uc)throw uc=0,Ta=null,Error(l(185));var V=fl(E,M);return V===null?null:(ha(V,M,B),((Qt&2)===0||V!==Mr)&&(V===Mr&&((Qt&2)===0&&(bs|=M),dr===4&&pi(V,nr)),ns(V,B),M===1&&Qt===0&&(E.mode&1)===0&&(lc(),Ge&&vn())),V)}function fl(E,M){E.lanes|=M;var B=E.alternate;for(B!==null&&(B.lanes|=M),B=E,E=E.return;E!==null;)E.childLanes|=M,B=E.alternate,B!==null&&(B.childLanes|=M),B=E,E=E.return;return B.tag===3?B.stateNode:null}function ns(E,M){var B=E.callbackNode;no(E,M);var V=Fl(E,E===Mr?nr:0);if(V===0)B!==null&&ro(B),E.callbackNode=null,E.callbackPriority=0;else if(M=V&-V,E.callbackPriority!==M){if(B!=null&&ro(B),M===1)E.tag===0?Wt(ws.bind(null,E)):Tn(ws.bind(null,E)),tt?at(function(){Qt===0&&vn()}):da(Ro,vn),B=null;else{switch(Ns(V)){case 1:B=Ro;break;case 4:B=cf;break;case 16:B=$l;break;case 536870912:B=Lo;break;default:B=$l}B=Uf(B,fi.bind(null,E))}E.callbackPriority=M,E.callbackNode=B}}function fi(E,M){if(Gn=-1,fr=0,(Qt&6)!==0)throw Error(l(327));var B=E.callbackNode;if(Fo()&&E.callbackNode!==B)return null;var V=Fl(E,E===Mr?nr:0);if(V===0)return null;if((V&30)!==0||(V&E.expiredLanes)!==0||M)M=Xh(E,V);else{M=V;var Y=Qt;Qt|=2;var ee=lm();(Mr!==E||nr!==M)&&(lc(),Aa(E,M));do try{i0();break}catch(Ee){am(E,Ee)}while(!0);er(),Wh.current=ee,Qt=Y,Bn!==null?M=0:(Mr=null,nr=0,M=dr)}if(M!==0){if(M===2&&(Y=iu(E),Y!==0&&(V=Y,M=Gh(E,Y))),M===1)throw B=Cu,Aa(E,0),pi(E,V),ns(E,Sr()),B;if(M===6)pi(E,V);else{if(Y=E.current.alternate,(V&30)===0&&!om(Y)&&(M=Xh(E,V),M===2&&(ee=iu(E),ee!==0&&(V=ee,M=Gh(E,ee))),M===1))throw B=Cu,Aa(E,0),pi(E,V),ns(E,Sr()),B;switch(E.finishedWork=Y,E.finishedLanes=V,M){case 0:case 1:throw Error(l(345));case 2:fo(E,Or);break;case 3:if(pi(E,V),(V&130023424)===V&&(M=Vh+500-Sr(),10<M)){if(Fl(E,0)!==0)break;if(Y=E.suspendedLanes,(Y&V)!==V){wn(),E.pingedLanes|=E.suspendedLanes&Y;break}E.timeoutHandle=ie(fo.bind(null,E,Or),M);break}fo(E,Or);break;case 4:if(pi(E,V),(V&4194240)===V)break;for(M=E.eventTimes,Y=-1;0<V;){var ge=31-Qi(V);ee=1<<ge,ge=M[ge],ge>Y&&(Y=ge),V&=~ee}if(V=Y,V=Sr()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*sm(V/1960))-V,10<V){E.timeoutHandle=ie(fo.bind(null,E,Or),V);break}fo(E,Or);break;case 5:fo(E,Or);break;default:throw Error(l(329))}}}return ns(E,Sr()),E.callbackNode===B?fi.bind(null,E):null}function Gh(E,M){var B=Ma;return E.current.memoizedState.isDehydrated&&(Aa(E,M).flags|=256),E=Xh(E,M),E!==2&&(M=Or,Or=B,M!==null&&Kh(M)),E}function Kh(E){Or===null?Or=E:Or.push.apply(Or,E)}function om(E){for(var M=E;;){if(M.flags&16384){var B=M.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var V=0;V<B.length;V++){var Y=B[V],ee=Y.getSnapshot;Y=Y.value;try{if(!ue(ee(),Y))return!1}catch{return!1}}}if(B=M.child,M.subtreeFlags&16384&&B!==null)B.return=M,M=B;else{if(M===E)break;for(;M.sibling===null;){if(M.return===null||M.return===E)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function pi(E,M){for(M&=~ac,M&=~bs,E.suspendedLanes|=M,E.pingedLanes&=~M,E=E.expirationTimes;0<M;){var B=31-Qi(M),V=1<<B;E[B]=-1,M&=~V}}function ws(E){if((Qt&6)!==0)throw Error(l(327));Fo();var M=Fl(E,0);if((M&1)===0)return ns(E,Sr()),null;var B=Xh(E,M);if(E.tag!==0&&B===2){var V=iu(E);V!==0&&(M=V,B=Gh(E,V))}if(B===1)throw B=Cu,Aa(E,0),pi(E,M),ns(E,Sr()),B;if(B===6)throw Error(l(345));return E.finishedWork=E.current.alternate,E.finishedLanes=M,fo(E,Or),ns(E,Sr()),null}function Tu(E){Bo!==null&&Bo.tag===0&&(Qt&6)===0&&Fo();var M=Qt;Qt|=1;var B=Nn.transition,V=Ht;try{if(Nn.transition=null,Ht=1,E)return E()}finally{Ht=V,Nn.transition=B,Qt=M,(Qt&6)===0&&vn()}}function qh(){Ti=oc.current,rn(oc)}function Aa(E,M){E.finishedWork=null,E.finishedLanes=0;var B=E.timeoutHandle;if(B!==se&&(E.timeoutHandle=se,Q(B)),Bn!==null)for(B=Bn.return;B!==null;){var V=B;switch(Dg(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&Fi();break;case 3:pu(),rn(lr),rn(wr),Gl();break;case 5:Fg(V);break;case 4:pu();break;case 13:rn(ir);break;case 19:rn(ir);break;case 10:gs(V.type._context);break;case 22:case 23:qh()}B=B.return}if(Mr=E,Bn=E=ka(E.current,null),nr=Ti=M,dr=0,Cu=null,ac=bs=No=0,Or=Ma=null,Fs!==null){for(M=0;M<Fs.length;M++)if(B=Fs[M],V=B.interleaved,V!==null){B.interleaved=null;var Y=V.next,ee=B.pending;if(ee!==null){var ge=ee.next;ee.next=Y,V.next=ge}B.pending=V}Fs=null}return E}function am(E,M){do{var B=Bn;try{if(er(),Mh.current=xu,_f){for(var V=sr.memoizedState;V!==null;){var Y=V.queue;Y!==null&&(Y.pending=null),V=V.next}_f=!1}if(Kl=0,Zr=Yr=sr=null,Oo=!1,ql=0,co.current=null,B===null||B.return===null){dr=1,Cu=M,Bn=null;break}e:{var ee=E,ge=B.return,Ee=B,je=M;if(M=nr,Ee.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var rt=je,xt=Ee,Xt=xt.tag;if((xt.mode&1)===0&&(Xt===0||Xt===11||Xt===15)){var Dt=xt.alternate;Dt?(xt.updateQueue=Dt.updateQueue,xt.memoizedState=Dt.memoizedState,xt.lanes=Dt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var sn=qg(ge);if(sn!==null){sn.flags&=-257,Yl(sn,ge,Ee,ee,M),sn.mode&1&&ya(ee,rt,M),M=sn,je=rt;var ft=M.updateQueue;if(ft===null){var gi=new Set;gi.add(je),M.updateQueue=gi}else ft.add(je);break e}else{if((M&1)===0){ya(ee,rt,M),zf();break e}je=Error(l(426))}}else if(tr&&Ee.mode&1){var Cs=qg(ge);if(Cs!==null){(Cs.flags&65536)===0&&(Cs.flags|=256),Yl(Cs,ge,Ee,ee,M),vf(je);break e}}ee=je,dr!==4&&(dr=2),Ma===null?Ma=[ee]:Ma.push(ee),je=Kg(je,Ee),Ee=ge;do{switch(Ee.tag){case 3:Ee.flags|=65536,M&=-M,Ee.lanes|=M;var Ie=t0(Ee,je,M);hf(Ee,Ie);break e;case 1:ee=je;var Me=Ee.type,$e=Ee.stateNode;if((Ee.flags&128)===0&&(typeof Me.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(uo===null||!uo.has($e)))){Ee.flags|=65536,M&=-M,Ee.lanes|=M;var ut=Rf(Ee,ee,M);hf(Ee,ut);break e}}Ee=Ee.return}while(Ee!==null)}um(B)}catch(Tt){M=Tt,Bn===B&&B!==null&&(Bn=B=B.return);continue}break}while(!0)}function lm(){var E=Wh.current;return Wh.current=xu,E===null?xu:E}function zf(){(dr===0||dr===3||dr===2)&&(dr=4),Mr===null||(No&268435455)===0&&(bs&268435455)===0||pi(Mr,nr)}function Xh(E,M){var B=Qt;Qt|=2;var V=lm();Mr===E&&nr===M||Aa(E,M);do try{r0();break}catch(Y){am(E,Y)}while(!0);if(er(),Qt=B,Wh.current=V,Bn!==null)throw Error(l(261));return Mr=null,nr=0,dr}function r0(){for(;Bn!==null;)cm(Bn)}function i0(){for(;Bn!==null&&!ko();)cm(Bn)}function cm(E){var M=fm(E.alternate,E,Ti);E.memoizedProps=E.pendingProps,M===null?um(E):Bn=M,co.current=null}function um(E){var M=E;do{var B=M.alternate;if(E=M.return,(M.flags&32768)===0){if(B=Of(B,M,Ti),B!==null){Bn=B;return}}else{if(B=Nf(B,M),B!==null){B.flags&=32767,Bn=B;return}if(E!==null)E.flags|=32768,E.subtreeFlags=0,E.deletions=null;else{dr=6,Bn=null;return}}if(M=M.sibling,M!==null){Bn=M;return}Bn=M=E}while(M!==null);dr===0&&(dr=5)}function fo(E,M){var B=Ht,V=Nn.transition;try{Nn.transition=null,Ht=1,s0(E,M,B)}finally{Nn.transition=V,Ht=B}return null}function s0(E,M,B){do Fo();while(Bo!==null);if((Qt&6)!==0)throw Error(l(327));var V=E.finishedWork,Y=E.finishedLanes;if(V===null)return null;if(E.finishedWork=null,E.finishedLanes=0,V===E.current)throw Error(l(177));E.callbackNode=null,E.callbackPriority=0;var ee=V.lanes|V.childLanes;if(ou(E,ee),E===Mr&&(Bn=Mr=null,nr=0),(V.subtreeFlags&2064)===0&&(V.flags&2064)===0||Mu||(Mu=!0,Uf($l,function(){return Fo(),null})),ee=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||ee){ee=Nn.transition,Nn.transition=null;var ge=Ht;Ht=1;var Ee=Qt;Qt|=4,co.current=null,Qg(E,V),Pw(E,V),W(E.containerInfo),E.current=V,$h(V),Ch(),Qt=Ee,Ht=ge,Nn.transition=ee}else E.current=V;if(Mu&&(Mu=!1,Bo=E,cc=Y),ee=E.pendingLanes,ee===0&&(uo=null),zl(V.stateNode),ns(E,Sr()),M!==null)for(B=E.onRecoverableError,V=0;V<M.length;V++)B(M[V]);if(Eu)throw Eu=!1,E=Xn,Xn=null,E;return(cc&1)!==0&&E.tag!==0&&Fo(),ee=E.pendingLanes,(ee&1)!==0?E===Ta?uc++:(uc=0,Ta=E):uc=0,vn(),null}function Fo(){if(Bo!==null){var E=Ns(cc),M=Nn.transition,B=Ht;try{if(Nn.transition=null,Ht=16>E?16:E,Bo===null)var V=!1;else{if(E=Bo,Bo=null,cc=0,(Qt&6)!==0)throw Error(l(331));var Y=Qt;for(Qt|=4,ot=E.current;ot!==null;){var ee=ot,ge=ee.child;if((ot.flags&16)!==0){var Ee=ee.deletions;if(Ee!==null){for(var je=0;je<Ee.length;je++){var rt=Ee[je];for(ot=rt;ot!==null;){var xt=ot;switch(xt.tag){case 0:case 11:case 15:Sa(8,xt,ee)}var Xt=xt.child;if(Xt!==null)Xt.return=xt,ot=Xt;else for(;ot!==null;){xt=ot;var Dt=xt.sibling,sn=xt.return;if(em(xt),xt===rt){ot=null;break}if(Dt!==null){Dt.return=sn,ot=Dt;break}ot=sn}}}var ft=ee.alternate;if(ft!==null){var gi=ft.child;if(gi!==null){ft.child=null;do{var Cs=gi.sibling;gi.sibling=null,gi=Cs}while(gi!==null)}}ot=ee}}if((ee.subtreeFlags&2064)!==0&&ge!==null)ge.return=ee,ot=ge;else e:for(;ot!==null;){if(ee=ot,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:Sa(9,ee,ee.return)}var Ie=ee.sibling;if(Ie!==null){Ie.return=ee.return,ot=Ie;break e}ot=ee.return}}var Me=E.current;for(ot=Me;ot!==null;){ge=ot;var $e=ge.child;if((ge.subtreeFlags&2064)!==0&&$e!==null)$e.return=ge,ot=$e;else e:for(ge=Me;ot!==null;){if(Ee=ot,(Ee.flags&2048)!==0)try{switch(Ee.tag){case 0:case 11:case 15:di(9,Ee)}}catch(Tt){Hi(Ee,Ee.return,Tt)}if(Ee===ge){ot=null;break e}var ut=Ee.sibling;if(ut!==null){ut.return=Ee.return,ot=ut;break e}ot=Ee.return}}if(Qt=Y,vn(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(nl,E)}catch{}V=!0}return V}finally{Ht=B,Nn.transition=M}}return!1}function Yh(E,M,B){M=Kg(B,M),M=t0(E,M,1),rl(E,M),M=wn(),E=fl(E,1),E!==null&&(ha(E,1,M),ns(E,M))}function Hi(E,M,B){if(E.tag===3)Yh(E,E,B);else for(;M!==null;){if(M.tag===3){Yh(M,E,B);break}else if(M.tag===1){var V=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(uo===null||!uo.has(V))){E=Kg(B,E),E=Rf(M,E,1),rl(M,E),E=wn(),M=fl(M,1),M!==null&&(ha(M,1,E),ns(M,E));break}}M=M.return}}function hm(E,M,B){var V=E.pingCache;V!==null&&V.delete(M),M=wn(),E.pingedLanes|=E.suspendedLanes&B,Mr===E&&(nr&B)===B&&(dr===4||dr===3&&(nr&130023424)===nr&&500>Sr()-Vh?Aa(E,0):ac|=B),ns(E,M)}function dm(E,M){M===0&&((E.mode&1)===0?M=1:(M=gn,gn<<=1,(gn&130023424)===0&&(gn=4194304)));var B=wn();E=fl(E,M),E!==null&&(ha(E,M,B),ns(E,B))}function o0(E){var M=E.memoizedState,B=0;M!==null&&(B=M.retryLane),dm(E,B)}function a0(E,M){var B=0;switch(E.tag){case 13:var V=E.stateNode,Y=E.memoizedState;Y!==null&&(B=Y.retryLane);break;case 19:V=E.stateNode;break;default:throw Error(l(314))}V!==null&&V.delete(M),dm(E,B)}var fm;fm=function(E,M,B){if(E!==null)if(E.memoizedProps!==M.pendingProps||lr.current)Qr=!0;else{if((E.lanes&B)===0&&(M.flags&128)===0)return Qr=!1,Df(E,M,B);Qr=(E.flags&131072)!==0}else Qr=!1,tr&&(M.flags&1048576)!==0&&Ky(M,gf,M.index);switch(M.lanes=0,M.tag){case 2:var V=M.type;E!==null&&(E.alternate=null,M.alternate=null,M.flags|=2),E=M.pendingProps;var Y=Fn(M,wr.current);io(M,B),Y=gu(null,M,V,E,Y,B);var ee=al();return M.flags|=1,typeof Y=="object"&&Y!==null&&typeof Y.render=="function"&&Y.$$typeof===void 0?(M.tag=1,M.memoizedState=null,M.updateQueue=null,Cn(V)?(ee=!0,tl(M)):ee=!1,M.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,au(M),Y.updater=ff,M.stateNode=Y,Y._reactInternals=M,Og(M,V,E,B),M=Mi(null,M,V,!0,ee,B)):(M.tag=0,tr&&ee&&Ig(M),hr(null,M,Y,B),M=M.child),M;case 16:V=M.elementType;e:{switch(E!==null&&(E.alternate=null,M.alternate=null,M.flags|=2),E=M.pendingProps,Y=V._init,V=Y(V._payload),M.type=V,Y=M.tag=Ow(V),E=Dn(V,E),Y){case 0:M=ba(null,M,V,E,B);break e;case 1:M=Jl(null,M,V,E,B);break e;case 11:M=Vn(null,M,V,E,B);break e;case 14:M=zn(null,M,V,Dn(V.type,E),B);break e}throw Error(l(306,V,""))}return M;case 0:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Dn(V,Y),ba(E,M,V,Y,B);case 1:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Dn(V,Y),Jl(E,M,V,Y,B);case 3:e:{if(Dh(M),E===null)throw Error(l(387));V=M.pendingProps,ee=M.memoizedState,Y=ee.element,Rg(E,M),df(M,V,null,B);var ge=M.memoizedState;if(V=ge.element,ye&&ee.isDehydrated)if(ee={element:V,isDehydrated:!1,cache:ge.cache,transitions:ge.transitions},M.updateQueue.baseState=ee,M.memoizedState=ee,M.flags&256){Y=Error(l(423)),M=Yg(E,M,V,B,Y);break e}else if(V!==Y){Y=Error(l(424)),M=Yg(E,M,V,B,Y);break e}else for(ye&&(ui=_h(M.stateNode.containerInfo),$i=M,tr=!0,Us=null,cu=!1),B=Yy(M,null,V,B),M.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(uu(),V===Y){M=ts(E,M,B);break e}hr(E,M,V,B)}M=M.child}return M;case 5:return Zy(M),E===null&&sl(M),V=M.type,Y=M.pendingProps,ee=E!==null?E.memoizedProps:null,ge=Y.children,re(V,Y)?ge=null:ee!==null&&re(V,ee)&&(M.flags|=32),zi(E,M),hr(E,M,ge,B),M.child;case 6:return E===null&&sl(M),null;case 13:return Zg(E,M,B);case 4:return yf(M,M.stateNode.containerInfo),V=M.pendingProps,E===null?M.child=ma(M,null,V,B):hr(E,M,V,B),M.child;case 11:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Dn(V,Y),Vn(E,M,V,Y,B);case 7:return hr(E,M,M.pendingProps,B),M.child;case 8:return hr(E,M,M.pendingProps.children,B),M.child;case 12:return hr(E,M,M.pendingProps.children,B),M.child;case 10:e:{if(V=M.type._context,Y=M.pendingProps,ee=M.memoizedProps,ge=Y.value,ci(M,V,ge),ee!==null)if(ue(ee.value,ge)){if(ee.children===Y.children&&!lr.current){M=ts(E,M,B);break e}}else for(ee=M.child,ee!==null&&(ee.return=M);ee!==null;){var Ee=ee.dependencies;if(Ee!==null){ge=ee.child;for(var je=Ee.firstContext;je!==null;){if(je.context===V){if(ee.tag===1){je=fa(-1,B&-B),je.tag=2;var rt=ee.updateQueue;if(rt!==null){rt=rt.shared;var xt=rt.pending;xt===null?je.next=je:(je.next=xt.next,xt.next=je),rt.pending=je}}ee.lanes|=B,je=ee.alternate,je!==null&&(je.lanes|=B),Po(ee.return,B,M),Ee.lanes|=B;break}je=je.next}}else if(ee.tag===10)ge=ee.type===M.type?null:ee.child;else if(ee.tag===18){if(ge=ee.return,ge===null)throw Error(l(341));ge.lanes|=B,Ee=ge.alternate,Ee!==null&&(Ee.lanes|=B),Po(ge,B,M),ge=ee.sibling}else ge=ee.child;if(ge!==null)ge.return=ee;else for(ge=ee;ge!==null;){if(ge===M){ge=null;break}if(ee=ge.sibling,ee!==null){ee.return=ge.return,ge=ee;break}ge=ge.return}ee=ge}hr(E,M,Y.children,B),M=M.child}return M;case 9:return Y=M.type,V=M.pendingProps.children,io(M,B),Y=zr(Y),V=V(Y),M.flags|=1,hr(E,M,V,B),M.child;case 14:return V=M.type,Y=Dn(V,M.pendingProps),Y=Dn(V.type,Y),zn(E,M,V,Y,B);case 15:return _a(E,M,M.type,M.pendingProps,B);case 17:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Dn(V,Y),E!==null&&(E.alternate=null,M.alternate=null,M.flags|=2),M.tag=1,Cn(V)?(E=!0,tl(M)):E=!1,io(M,B),Vy(M,V,Y),Og(M,V,Y,B),Mi(null,M,V,!0,E,B);case 19:return ec(E,M,B);case 22:return hi(E,M,B)}throw Error(l(156,M.tag))};function Uf(E,M){return da(E,M)}function l0(E,M,B,V){this.tag=E,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(E,M,B,V){return new l0(E,M,B,V)}function jf(E){return E=E.prototype,!(!E||!E.isReactComponent)}function Ow(E){if(typeof E=="function")return jf(E)?1:0;if(E!=null){if(E=E.$$typeof,E===m)return 11;if(E===y)return 14}return 2}function ka(E,M){var B=E.alternate;return B===null?(B=Ss(E.tag,M,E.key,E.mode),B.elementType=E.elementType,B.type=E.type,B.stateNode=E.stateNode,B.alternate=E,E.alternate=B):(B.pendingProps=M,B.type=E.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=E.flags&14680064,B.childLanes=E.childLanes,B.lanes=E.lanes,B.child=E.child,B.memoizedProps=E.memoizedProps,B.memoizedState=E.memoizedState,B.updateQueue=E.updateQueue,M=E.dependencies,B.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},B.sibling=E.sibling,B.index=E.index,B.ref=E.ref,B}function Hf(E,M,B,V,Y,ee){var ge=2;if(V=E,typeof E=="function")jf(E)&&(ge=1);else if(typeof E=="string")ge=5;else e:switch(E){case c:return hc(B.children,Y,ee,M);case u:ge=8,Y|=8;break;case d:return E=Ss(12,B,M,Y|2),E.elementType=d,E.lanes=ee,E;case g:return E=Ss(13,B,M,Y),E.elementType=g,E.lanes=ee,E;case v:return E=Ss(19,B,M,Y),E.elementType=v,E.lanes=ee,E;case w:return Zh(B,Y,ee,M);default:if(typeof E=="object"&&E!==null)switch(E.$$typeof){case f:ge=10;break e;case p:ge=9;break e;case m:ge=11;break e;case y:ge=14;break e;case _:ge=16,V=null;break e}throw Error(l(130,E==null?E:typeof E,""))}return M=Ss(ge,B,M,Y),M.elementType=E,M.type=V,M.lanes=ee,M}function hc(E,M,B,V){return E=Ss(7,E,V,M),E.lanes=B,E}function Zh(E,M,B,V){return E=Ss(22,E,V,M),E.elementType=w,E.lanes=B,E.stateNode={},E}function Wf(E,M,B){return E=Ss(6,E,null,M),E.lanes=B,E}function Vf(E,M,B){return M=Ss(4,E.children!==null?E.children:[],E.key,M),M.lanes=B,M.stateNode={containerInfo:E.containerInfo,pendingChildren:null,implementation:E.implementation},M}function Gf(E,M,B,V,Y){this.tag=M,this.containerInfo=E,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=V,this.onRecoverableError=Y,ye&&(this.mutableSourceEagerHydrationData=null)}function c0(E,M,B,V,Y,ee,ge,Ee,je){return E=new Gf(E,M,B,Ee,je),M===1?(M=1,ee===!0&&(M|=8)):M=0,ee=Ss(3,null,null,M),E.current=ee,ee.stateNode=E,ee.memoizedState={element:V,isDehydrated:B,cache:null,transitions:null},au(ee),E}function u0(E){if(!E)return In;E=E._reactInternals;e:{if(k(E)!==E||E.tag!==1)throw Error(l(170));var M=E;do{switch(M.tag){case 3:M=M.stateNode.context;break e;case 1:if(Cn(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break e}}M=M.return}while(M!==null);throw Error(l(171))}if(E.tag===1){var B=E.type;if(Cn(B))return el(E,B,M)}return M}function h0(E){var M=E._reactInternals;if(M===void 0)throw typeof E.render=="function"?Error(l(188)):(E=Object.keys(E).join(","),Error(l(268,E)));return E=D(M),E===null?null:E.stateNode}function Ws(E,M){if(E=E.memoizedState,E!==null&&E.dehydrated!==null){var B=E.retryLane;E.retryLane=B!==0&&B<M?B:M}}function Jh(E,M){Ws(E,M),(E=E.alternate)&&Ws(E,M)}function Kf(E){return E=D(E),E===null?null:E.stateNode}function d0(){return null}return t.attemptContinuousHydration=function(E){if(E.tag===13){var M=wn();Ai(E,134217728,M),Jh(E,134217728)}},t.attemptHydrationAtCurrentPriority=function(E){if(E.tag===13){var M=wn(),B=ho(E);Ai(E,B,M),Jh(E,B)}},t.attemptSynchronousHydration=function(E){switch(E.tag){case 3:var M=E.stateNode;if(M.current.memoizedState.isDehydrated){var B=ps(M.pendingLanes);B!==0&&(Ds(M,B|1),ns(M,Sr()),(Qt&6)===0&&(lc(),vn()))}break;case 13:var V=wn();Tu(function(){return Ai(E,1,V)}),Jh(E,1)}},t.batchedUpdates=function(E,M){var B=Qt;Qt|=1;try{return E(M)}finally{Qt=B,Qt===0&&(lc(),Ge&&vn())}},t.createComponentSelector=function(E){return{$$typeof:Uh,value:E}},t.createContainer=function(E,M,B,V,Y,ee,ge){return c0(E,M,!1,null,B,V,Y,ee,ge)},t.createHasPseudoClassSelector=function(E){return{$$typeof:rc,value:E}},t.createHydrationContainer=function(E,M,B,V,Y,ee,ge,Ee,je){return E=c0(B,V,!0,E,Y,ee,ge,Ee,je),E.context=u0(null),B=E.current,V=wn(),Y=ho(B),ee=fa(V,Y),ee.callback=M??null,rl(B,ee),E.current.lanes=Y,ha(E,Y,V),ns(E,V),E},t.createPortal=function(E,M,B){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:V==null?null:""+V,children:E,containerInfo:M,implementation:B}},t.createRoleSelector=function(E){return{$$typeof:ic,value:E}},t.createTestNameSelector=function(E){return{$$typeof:Ca,value:E}},t.createTextSelector=function(E){return{$$typeof:Su,value:E}},t.deferredUpdates=function(E){var M=Ht,B=Nn.transition;try{return Nn.transition=null,Ht=16,E()}finally{Ht=M,Nn.transition=B}},t.discreteUpdates=function(E,M,B,V,Y){var ee=Ht,ge=Nn.transition;try{return Nn.transition=null,Ht=1,E(M,B,V,Y)}finally{Ht=ee,Nn.transition=ge,Qt===0&&lc()}},t.findAllNodes=Ea,t.findBoundingRects=function(E,M){if(!_t)throw Error(l(363));M=Ea(E,M),E=[];for(var B=0;B<M.length;B++)E.push(ln(M[B]));for(M=E.length-1;0<M;M--){B=E[M];for(var V=B.x,Y=V+B.width,ee=B.y,ge=ee+B.height,Ee=M-1;0<=Ee;Ee--)if(M!==Ee){var je=E[Ee],rt=je.x,xt=rt+je.width,Xt=je.y,Dt=Xt+je.height;if(V>=rt&&ee>=Xt&&Y<=xt&&ge<=Dt){E.splice(M,1);break}else if(V!==rt||B.width!==je.width||Dt<ee||Xt>ge){if(!(ee!==Xt||B.height!==je.height||xt<V||rt>Y)){rt>V&&(je.width+=rt-V,je.x=V),xt<Y&&(je.width=Y-rt),E.splice(M,1);break}}else{Xt>ee&&(je.height+=Xt-ee,je.y=ee),Dt<ge&&(je.height=ge-Xt),E.splice(M,1);break}}}return E},t.findHostInstance=h0,t.findHostInstanceWithNoPortals=function(E){return E=N(E),E=E!==null?I(E):null,E===null?null:E.stateNode},t.findHostInstanceWithWarning=function(E){return h0(E)},t.flushControlled=function(E){var M=Qt;Qt|=1;var B=Nn.transition,V=Ht;try{Nn.transition=null,Ht=1,E()}finally{Ht=V,Nn.transition=B,Qt=M,Qt===0&&(lc(),vn())}},t.flushPassiveEffects=Fo,t.flushSync=Tu,t.focusWithin=function(E,M){if(!_t)throw Error(l(363));for(E=jh(E),M=_s(E,M),M=Array.from(M),E=0;E<M.length;){var B=M[E++];if(!ce(B)){if(B.tag===5&&Ye(B.stateNode))return!0;for(B=B.child;B!==null;)M.push(B),B=B.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ht},t.getFindAllNodesFailureDescription=function(E,M){if(!_t)throw Error(l(363));var B=0,V=[];E=[jh(E),0];for(var Y=0;Y<E.length;){var ee=E[Y++],ge=E[Y++],Ee=M[ge];if((ee.tag!==5||!ce(ee))&&(Hh(ee,Ee)&&(V.push(hl(Ee)),ge++,ge>B&&(B=ge)),ge<M.length))for(ee=ee.child;ee!==null;)E.push(ee,ge),ee=ee.sibling}if(B<M.length){for(E=[];B<M.length;B++)E.push(hl(M[B]));return`findAllNodes was able to match part of the selector:
  `+(V.join(" > ")+`

No matching component was found for:
  `)+E.join(" > ")}return null},t.getPublicRootInstance=function(E){if(E=E.current,!E.child)return null;switch(E.child.tag){case 5:return F(E.child.stateNode);default:return E.child.stateNode}},t.injectIntoDevTools=function(E){if(E={bundleType:E.bundleType,version:E.version,rendererPackageName:E.rendererPackageName,rendererConfig:E.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Kf,findFiberByHostInstance:E.findFiberByHostInstance||d0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")E=!1;else{var M=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(M.isDisabled||!M.supportsFiber)E=!0;else{try{nl=M.inject(E),Bs=M}catch{}E=!!M.checkDCE}}return E},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(E,M,B,V){if(!_t)throw Error(l(363));E=Ea(E,M);var Y=Ke(E,B,V).disconnect;return{disconnect:function(){Y()}}},t.registerMutableSourceForHydration=function(E,M){var B=M._getVersion;B=B(M._source),E.mutableSourceEagerHydrationData==null?E.mutableSourceEagerHydrationData=[M,B]:E.mutableSourceEagerHydrationData.push(M,B)},t.runWithPriority=function(E,M){var B=Ht;try{return Ht=E,M()}finally{Ht=B}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(E,M,B,V){var Y=M.current,ee=wn(),ge=ho(Y);return B=u0(B),M.context===null?M.context=B:M.pendingContext=B,M=fa(ee,ge),M.payload={element:E},V=V===void 0?null:V,V!==null&&(M.callback=V),rl(Y,M),E=Ai(Y,ge,ee),E!==null&&uf(E,Y,ge),ge},t}),K1}var IP;function ZJ(){return IP||(IP=1,W1.exports=YJ()),W1.exports}var JJ=ZJ();const QJ=aa(JJ);var DP=S4();const EA={},eQ=n=>void Object.assign(EA,n);function tQ(n,e){function t(c,{args:u=[],attach:d,...f},p){let m=`${c[0].toUpperCase()}${c.slice(1)}`,g;if(c==="primitive"){if(f.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=f.object;g=Ep(v,{type:c,root:p,attach:d,primitive:!0})}else{const v=EA[m];if(!v)throw new Error(`R3F: ${m} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");g=Ep(new v(...u),{type:c,root:p,attach:d,memoizedProps:{args:u}})}return g.__r3f.attach===void 0&&(g instanceof dn?g.__r3f.attach="geometry":g instanceof Ji&&(g.__r3f.attach="material")),m!=="inject"&&Y1(g,f),g}function r(c,u){let d=!1;if(u){var f,p;(f=u.__r3f)!=null&&f.attach?X1(c,u,u.__r3f.attach):u.isObject3D&&c.isObject3D&&(c.add(u),d=!0),d||(p=c.__r3f)==null||p.objects.push(u),u.__r3f||Ep(u,{}),u.__r3f.parent=c,rM(u),Mp(u)}}function i(c,u,d){let f=!1;if(u){var p,m;if((p=u.__r3f)!=null&&p.attach)X1(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){u.parent=c,u.dispatchEvent({type:"added"});const g=c.children.filter(y=>y!==u),v=g.indexOf(d);c.children=[...g.slice(0,v),u,...g.slice(v)],f=!0}f||(m=c.__r3f)==null||m.objects.push(u),u.__r3f||Ep(u,{}),u.__r3f.parent=c,rM(u),Mp(u)}}function s(c,u,d=!1){c&&[...c].forEach(f=>l(u,f,d))}function l(c,u,d){if(u){var f,p,m;if(u.__r3f&&(u.__r3f.parent=null),(f=c.__r3f)!=null&&f.objects&&(c.__r3f.objects=c.__r3f.objects.filter(w=>w!==u)),(p=u.__r3f)!=null&&p.attach)zP(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){var g;c.remove(u),(g=u.__r3f)!=null&&g.root&&lQ(s_(u),u)}const y=(m=u.__r3f)==null?void 0:m.primitive,_=!y&&(d===void 0?u.dispose!==null:d);if(!y){var v;s((v=u.__r3f)==null?void 0:v.objects,u,_),s(u.children,u,_)}if(delete u.__r3f,_&&u.dispose&&u.type!=="Scene"){const w=()=>{try{u.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?DP.unstable_scheduleCallback(DP.unstable_IdlePriority,w):w()}Mp(c)}}function a(c,u,d,f){var p;const m=(p=c.__r3f)==null?void 0:p.parent;if(!m)return;const g=t(u,d,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(g,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(g,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||l(m,c),g.parent&&(g.__r3f.autoRemovedBeforeAppend=!0),r(m,g),g.raycast&&g.__r3f.eventCount&&s_(g).getState().internal.interaction.push(g),[f,f.alternate].forEach(v=>{v!==null&&(v.stateNode=g,v.ref&&(typeof v.ref=="function"?v.ref(g):v.ref.current=g))})}const o=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:QJ({createInstance:t,removeChild:l,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,u)=>{if(!u)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,u))},removeChildFromContainer:(c,u)=>{u&&l(c.getState().scene,u)},insertInContainerBefore:(c,u,d)=>{if(!u||!d)return;const f=c.getState().scene;f.__r3f&&i(f,u,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var u;return!!((u=c?.__r3f)!=null?u:{}).handlers},prepareUpdate(c,u,d,f){var p;if(((p=c?.__r3f)!=null?p:{}).primitive&&f.object&&f.object!==c)return[!0];{const{args:g=[],children:v,...y}=f,{args:_=[],children:w,...C}=d;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((T,A)=>T!==_[A]))return[!0];const b=R4(c,y,C,!0);return b.changes.length?[!1,b]:null}},commitUpdate(c,[u,d],f,p,m,g){u?a(c,f,m,g):Y1(c,d)},commitMount(c,u,d,f){var p;const m=(p=c.__r3f)!=null?p:{};c.raycast&&m.handlers&&m.eventCount&&s_(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Ep(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var u;const{attach:d,parent:f}=(u=c.__r3f)!=null?u:{};d&&f&&zP(f,c,d),c.isObject3D&&(c.visible=!1),Mp(c)},unhideInstance(c,u){var d;const{attach:f,parent:p}=(d=c.__r3f)!=null?d:{};f&&p&&X1(p,c,f),(c.isObject3D&&u.visible==null||u.visible)&&(c.visible=!0),Mp(c)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>e?e():Lp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&pr.fun(performance.now)?performance.now:pr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:pr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:pr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Y1}}var NP,BP;const q1=n=>"colorSpace"in n||"outputColorSpace"in n,C4=()=>{var n;return(n=EA.ColorManagement)!=null?n:null},E4=n=>n&&n.isOrthographicCamera,nQ=n=>n&&n.hasOwnProperty("current"),xy=typeof window<"u"&&((NP=window.document)!=null&&NP.createElement||((BP=window.navigator)==null?void 0:BP.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function M4(n){const e=G.useRef(n);return xy(()=>void(e.current=n),[n]),e}function rQ({set:n}){return xy(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class T4 extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}T4.getDerivedStateFromError=()=>({error:!0});const A4="__default",FP=new Map,iQ=n=>n&&!!n.memoized&&!!n.changes;function k4(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Om=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function s_(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const pr={obj:n=>n===Object(n)&&!pr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(pr.str(n)||pr.num(n))return n===e;const s=pr.obj(n);if(s&&r==="reference")return n===e;const l=pr.arr(n);if(l&&t==="reference")return n===e;if((l||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!pr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(pr.und(a)){if(l&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function sQ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ep(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function nM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,l)=>s[l],n),{target:t,key:i}}else return{target:t,key:e}}const $P=/-\d+$/;function X1(n,e,t){if(pr.str(t)){if($P.test(t)){const s=t.replace($P,""),{target:l,key:a}=nM(n,s);Array.isArray(l[a])||(l[a]=[])}const{target:r,key:i}=nM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function zP(n,e,t){var r,i;if(pr.str(t)){const{target:s,key:l}=nM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[l]:s[l]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function R4(n,{children:e,key:t,ref:r,...i},{children:s,key:l,ref:a,...o}={},h=!1){var c;const u=(c=n?.__r3f)!=null?c:{},d=Object.entries(i),f=[];if(h){const m=Object.keys(o);for(let g=0;g<m.length;g++)i.hasOwnProperty(m[g])||d.unshift([m[g],A4+"remove"])}d.forEach(([m,g])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&m==="object"||pr.equ(g,o[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return f.push([m,g,!0,[]]);let y=[];m.includes("-")&&(y=m.split("-")),f.push([m,g,!1,y]);for(const _ in i){const w=i[_];_.startsWith(`${m}-`)&&f.push([_,w,!1,_.split("-")])}});const p={...i};return u.memoizedProps&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),u.memoizedProps&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:f}}function Y1(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},l=s.root,a=(r=l==null||l.getState==null?void 0:l.getState())!=null?r:{},{memoized:o,changes:h}=iQ(e)?e:R4(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let d=0;d<h.length;d++){let[f,p,m,g]=h[d];if(q1(n)){const w="srgb",C="srgb-linear";f==="encoding"?(f="colorSpace",p=p===3001?w:C):f==="outputEncoding"&&(f="outputColorSpace",p=p===3001?w:C)}let v=n,y=v[f];if(g.length&&(y=g.reduce((_,w)=>_[w],n),!(y&&y.set))){const[_,...w]=g.reverse();v=w.reverse().reduce((C,b)=>C[b],n),f=_}if(p===A4+"remove")if(v.constructor){let _=FP.get(v.constructor);_||(_=new v.constructor,FP.set(v.constructor,_)),p=_[f]}else p=0;if(m)p?s.handlers[f]=p:delete s.handlers[f],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Id)){if(Array.isArray(p))y.fromArray?y.fromArray(p):y.set(...p);else if(y.copy&&p&&p.constructor&&y.constructor===p.constructor)y.copy(p);else if(p!==void 0){const _=y instanceof yt;!_&&y.setScalar?y.setScalar(p):y instanceof Id&&p instanceof Id?y.mask=p.mask:y.set(p),!C4()&&!a.linear&&_&&y.convertSRGBToLinear()}}else if(v[f]=p,v[f]instanceof $r&&v[f].format===Zs&&v[f].type===bl){const _=v[f];q1(_)&&q1(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}Mp(n)}if(s.parent&&n.raycast&&c!==s.eventCount){const d=s_(n).getState().internal,f=d.interaction.indexOf(n);f>-1&&d.interaction.splice(f,1),s.eventCount&&d.interaction.push(n)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(i=n.__r3f)!=null&&i.parent&&rM(n),n}function Mp(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function rM(n){n.onUpdate==null||n.onUpdate(n)}function oQ(n,e){n.manual||(E4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Sx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function aQ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Lp.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Lp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Lp.ContinuousEventPriority;default:return Lp.DefaultEventPriority}}function L4(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function lQ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{L4(t.capturedMap,e,r,i)})}function cQ(n){function e(o){const{internal:h}=n.getState(),c=o.offsetX-h.initialClick[0],u=o.offsetY-h.initialClick[1];return Math.round(Math.sqrt(c*c+u*u))}function t(o){return o.filter(h=>["Move","Over","Enter","Out","Leave"].some(c=>{var u;return(u=h.__r3f)==null?void 0:u.handlers["onPointer"+c]}))}function r(o,h){const c=n.getState(),u=new Set,d=[],f=h?h(c.internal.interaction):c.internal.interaction;for(let v=0;v<f.length;v++){const y=Om(f[v]);y&&(y.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(o,c);function p(v){const y=Om(v);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var _;y.events.compute==null||y.events.compute(o,y,(_=y.previousRoot)==null?void 0:_.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(v,!0):[]}let m=f.flatMap(p).sort((v,y)=>{const _=Om(v.object),w=Om(y.object);return!_||!w?v.distance-y.distance:w.events.priority-_.events.priority||v.distance-y.distance}).filter(v=>{const y=Sx(v);return u.has(y)?!1:(u.add(y),!0)});c.events.filter&&(m=c.events.filter(m,c));for(const v of m){let y=v.object;for(;y;){var g;(g=y.__r3f)!=null&&g.eventCount&&d.push({...v,eventObject:y}),y=y.parent}}if("pointerId"in o&&c.internal.capturedMap.has(o.pointerId))for(let v of c.internal.capturedMap.get(o.pointerId).values())u.has(Sx(v.intersection))||d.push(v.intersection);return d}function i(o,h,c,u){const d=n.getState();if(o.length){const f={stopped:!1};for(const p of o){const m=Om(p.object)||d,{raycaster:g,pointer:v,camera:y,internal:_}=m,w=new fe(v.x,v.y,0).unproject(y),C=P=>{var N,D;return(N=(D=_.capturedMap.get(P))==null?void 0:D.has(p.eventObject))!=null?N:!1},b=P=>{const N={intersection:p,target:h.target};_.capturedMap.has(P)?_.capturedMap.get(P).set(p.eventObject,N):_.capturedMap.set(P,new Map([[p.eventObject,N]])),h.target.setPointerCapture(P)},T=P=>{const N=_.capturedMap.get(P);N&&L4(_.capturedMap,p.eventObject,N,P)};let A={};for(let P in h){let N=h[P];typeof N!="function"&&(A[P]=N)}let k={...p,...A,pointer:v,intersections:o,stopped:f.stopped,delta:c,unprojectedPoint:w,ray:g.ray,camera:y,stopPropagation(){const P="pointerId"in h&&_.capturedMap.get(h.pointerId);if((!P||P.has(p.eventObject))&&(k.stopped=f.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(N=>N.eventObject===p.eventObject))){const N=o.slice(0,o.indexOf(p));s([...N,p])}},target:{hasPointerCapture:C,setPointerCapture:b,releasePointerCapture:T},currentTarget:{hasPointerCapture:C,setPointerCapture:b,releasePointerCapture:T},nativeEvent:h};if(u(k),f.stopped===!0)break}}return o}function s(o){const{internal:h}=n.getState();for(const c of h.hovered.values())if(!o.length||!o.find(u=>u.object===c.object&&u.index===c.index&&u.instanceId===c.instanceId)){const d=c.eventObject.__r3f,f=d?.handlers;if(h.hovered.delete(Sx(c)),d!=null&&d.eventCount){const p={...c,intersections:o};f.onPointerOut==null||f.onPointerOut(p),f.onPointerLeave==null||f.onPointerLeave(p)}}}function l(o,h){for(let c=0;c<h.length;c++){const u=h[c].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(o)}}function a(o){switch(o){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:c}=n.getState();"pointerId"in h&&c.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(h.pointerId)&&(c.capturedMap.delete(h.pointerId),s([]))})}}return function(c){const{onPointerMissed:u,internal:d}=n.getState();d.lastEvent.current=c;const f=o==="onPointerMove",p=o==="onClick"||o==="onContextMenu"||o==="onDoubleClick",g=r(c,f?t:void 0),v=p?e(c):0;o==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=g.map(_=>_.eventObject)),p&&!g.length&&v<=2&&(l(c,d.interaction),u&&u(c)),f&&s(g);function y(_){const w=_.eventObject,C=w.__r3f,b=C?.handlers;if(C!=null&&C.eventCount)if(f){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const T=Sx(_),A=d.hovered.get(T);A?A.stopped&&_.stopPropagation():(d.hovered.set(T,_),b.onPointerOver==null||b.onPointerOver(_),b.onPointerEnter==null||b.onPointerEnter(_))}b.onPointerMove==null||b.onPointerMove(_)}else{const T=b[o];T?(!p||d.initialHits.includes(w))&&(l(c,d.interaction.filter(A=>!d.initialHits.includes(A))),T(_)):p&&d.initialHits.includes(w)&&l(c,d.interaction.filter(A=>!d.initialHits.includes(A)))}}i(g,c,v,y)}}return{handlePointer:a}}const P4=n=>!!(n!=null&&n.render),O4=G.createContext(null),uQ=(n,e)=>{const t=qJ((a,o)=>{const h=new fe,c=new fe,u=new fe;function d(v=o().camera,y=c,_=o().size){const{width:w,height:C,top:b,left:T}=_,A=w/C;y instanceof fe?u.copy(y):u.set(...y);const k=v.getWorldPosition(h).distanceTo(u);if(E4(v))return{width:w/v.zoom,height:C/v.zoom,top:b,left:T,factor:1,distance:k,aspect:A};{const P=v.fov*Math.PI/180,N=2*Math.tan(P/2)*k,D=N*(w/C);return{width:D,height:N,top:b,left:T,factor:w/D,distance:k,aspect:A}}}let f;const p=v=>a(y=>({performance:{...y.performance,current:v}})),m=new Ve;return{set:a,get:o,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(o(),v),advance:(v,y)=>e(v,y,o()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new bA,pointer:m,mouse:m,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=o();f&&clearTimeout(f),v.performance.current!==v.performance.min&&p(v.performance.min),f=setTimeout(()=>p(o().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>a(y=>({...y,events:{...y.events,...v}})),setSize:(v,y,_,w,C)=>{const b=o().camera,T={width:v,height:y,top:w||0,left:C||0,updateStyle:_};a(A=>({size:T,viewport:{...A.viewport,...d(b,c,T)}}))},setDpr:v=>a(y=>{const _=k4(v);return{viewport:{...y.viewport,dpr:_,initialDpr:y.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const y=o().clock;y.stop(),y.elapsedTime=0,v!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,y,_)=>{const w=o().internal;return w.priority=w.priority+(y>0?1:0),w.subscribers.push({ref:v,priority:y,store:_}),w.subscribers=w.subscribers.sort((C,b)=>C.priority-b.priority),()=>{const C=o().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(y>0?1:0),C.subscribers=C.subscribers.filter(b=>b.ref!==v))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,l=r.camera;return t.subscribe(()=>{const{camera:a,size:o,viewport:h,gl:c,set:u}=t.getState();if(o.width!==i.width||o.height!==i.height||h.dpr!==s){var d;i=o,s=h.dpr,oQ(a,o),c.setPixelRatio(h.dpr);const f=(d=o.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(o.width,o.height,f)}a!==l&&(l=a,u(f=>({viewport:{...f.viewport,...f.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Cx,hQ=new Set,dQ=new Set,fQ=new Set;function Z1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Im(n,e){switch(n){case"before":return Z1(hQ,e);case"after":return Z1(dQ,e);case"tail":return Z1(fQ,e)}}let J1,Q1;function eS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),J1=e.internal.subscribers,Cx=0;Cx<J1.length;Cx++)Q1=J1[Cx],Q1.ref.current(Q1.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pQ(n){let e=!1,t,r,i;function s(o){r=requestAnimationFrame(s),e=!0,t=0,Im("before",o);for(const c of n.values()){var h;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((h=i.gl.xr)!=null&&h.isPresenting)&&(t+=eS(o,i))}if(Im("after",o),t===0)return Im("tail",o),e=!1,cancelAnimationFrame(r)}function l(o,h=1){var c;if(!o)return n.forEach(u=>l(u.store.getState()),h);(c=o.gl.xr)!=null&&c.isPresenting||!o.internal.active||o.frameloop==="never"||(o.internal.frames=Math.min(60,o.internal.frames+h),e||(e=!0,requestAnimationFrame(s)))}function a(o,h=!0,c,u){if(h&&Im("before",o),c)eS(o,c,u);else for(const d of n.values())eS(o,d.store.getState());h&&Im("after",o)}return{loop:s,invalidate:l,advance:a}}function I4(){const n=G.useContext(O4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uu(n=t=>t,e){return I4()(n,e)}function D4(n,e=0){const t=I4(),r=t.getState().internal.subscribe,i=M4(n);return xy(()=>r(i,e,t),[e,r,t]),null}const qp=new Map,{invalidate:UP,advance:jP}=pQ(qp),{reconciler:M_,applyProps:_p}=tQ(qp,aQ),bp={objects:"shallow",strict:!1},gQ=(n,e)=>{const t=typeof n=="function"?n(e):n;return P4(t)?t:new nA({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mQ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:l,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:l,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:l}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:l,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function vQ(n){const e=qp.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||uQ(UP,jP),l=t||M_.createContainer(s,Lp.ConcurrentRoot,null,!1,null,"",i,null);e||qp.set(n,{fiber:l,store:s});let a,o=!1,h;return{configure(c={}){let{gl:u,size:d,scene:f,events:p,onCreated:m,shadows:g=!1,linear:v=!1,flat:y=!1,legacy:_=!1,orthographic:w=!1,frameloop:C="always",dpr:b=[1,2],performance:T,raycaster:A,camera:k,onPointerMissed:P}=c,N=s.getState(),D=N.gl;N.gl||N.set({gl:D=gQ(u,n)});let L=N.raycaster;L||N.set({raycaster:L=new b4});const{params:I,...O}=A||{};if(pr.equ(O,L,bp)||_p(L,{...O}),pr.equ(I,L.params,bp)||_p(L,{params:{...L.params,...I}}),!N.camera||N.camera===h&&!pr.equ(h,k,bp)){h=k;const X=k instanceof iy,J=X?k:w?new eh(0,0,0,0,.1,1e3):new qr(75,0,.1,1e3);X||(J.position.z=5,k&&_p(J,k),!N.camera&&!(k!=null&&k.rotation)&&J.lookAt(0,0,0)),N.set({camera:J}),L.camera=J}if(!N.scene){let X;f instanceof E_?X=f:(X=new E_,f&&_p(X,f)),N.set({scene:Ep(X)})}if(!N.xr){var F;const X=(re,ae)=>{const ie=s.getState();ie.frameloop!=="never"&&jP(re,!0,ie,ae)},J=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?X:null),re.gl.xr.isPresenting||UP(re)},te={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",J),re.xr.addEventListener("sessionend",J)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",J),re.xr.removeEventListener("sessionend",J)}};typeof((F=D.xr)==null?void 0:F.addEventListener)=="function"&&te.connect(),N.set({xr:te})}if(D.shadowMap){const X=D.shadowMap.enabled,J=D.shadowMap.type;if(D.shadowMap.enabled=!!g,pr.boo(g))D.shadowMap.type=nv;else if(pr.str(g)){var H;const te={basic:yF,percentage:Eb,soft:nv,variance:$a};D.shadowMap.type=(H=te[g])!=null?H:nv}else pr.obj(g)&&Object.assign(D.shadowMap,g);(X!==D.shadowMap.enabled||J!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const j=C4();j&&("enabled"in j?j.enabled=!_:"legacyMode"in j&&(j.legacyMode=_)),_p(D,{outputEncoding:v?3e3:3001,toneMapping:y?Wa:BT}),N.legacy!==_&&N.set(()=>({legacy:_})),N.linear!==v&&N.set(()=>({linear:v})),N.flat!==y&&N.set(()=>({flat:y})),u&&!pr.fun(u)&&!P4(u)&&!pr.equ(u,D,bp)&&_p(D,u),p&&!N.events.handlers&&N.set({events:p(s)});const K=mQ(n,d);return pr.equ(K,N.size,bp)||N.setSize(K.width,K.height,K.updateStyle,K.top,K.left),b&&N.viewport.dpr!==k4(b)&&N.setDpr(b),N.frameloop!==C&&N.setFrameloop(C),N.onPointerMissed||N.set({onPointerMissed:P}),T&&!pr.equ(T,N.performance,bp)&&N.set(X=>({performance:{...X.performance,...T}})),a=m,o=!0,this},render(c){return o||this.configure(),M_.updateContainer(G.createElement(yQ,{store:s,children:c,onCreated:a,rootElement:n}),l,null,()=>{}),s},unmount(){N4(n)}}}function yQ({store:n,children:e,onCreated:t,rootElement:r}){return xy(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),G.createElement(O4.Provider,{value:n},e)}function N4(n,e){const t=qp.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),M_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,l,a,o;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(l=s.renderLists)==null||l.dispose==null||l.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(o=i.gl)!=null&&o.xr&&i.xr.disconnect(),sQ(i),qp.delete(n)}catch{}},500)})}}M_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});function Ov(){return Ov=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ov.apply(null,arguments)}function HP(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function xQ({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),o=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,c=G.useRef(!1);G.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[u,d,f]=G.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:y,top:_,width:w,height:C,bottom:b,right:T,x:A,y:k}=a.current.element.getBoundingClientRect(),P={left:y,top:_,width:w,height:C,bottom:b,right:T,x:A,y:k};a.current.element instanceof HTMLElement&&r&&(P.height=a.current.element.offsetHeight,P.width=a.current.element.offsetWidth),Object.freeze(P),c.current&&!SQ(a.current.lastBounds,P)&&l(a.current.lastBounds=P)};return[v,h?HP(v,h):v,o?HP(v,o):v]},[l,r,o,h]);function p(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",f,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function m(){a.current.element&&(a.current.resizeObserver=new i(f),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(v=>v.addEventListener("scroll",f,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{f()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const g=v=>{!v||v===a.current.element||(p(),a.current.element=v,a.current.scrollContainers=B4(v),m())};return bQ(f,!!e),_Q(d),G.useEffect(()=>{p(),m()},[e,f,d]),G.useEffect(()=>p,[]),[g,s,u]}function _Q(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function bQ(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function B4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...B4(n.parentElement)]}const wQ=["x","y","top","bottom","left","right","width","height"],SQ=(n,e)=>wQ.every(t=>n[t]===e[t]);var CQ=Object.defineProperty,EQ=Object.defineProperties,MQ=Object.getOwnPropertyDescriptors,WP=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,VP=(n,e,t)=>e in n?CQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,GP=(n,e)=>{for(var t in e||(e={}))TQ.call(e,t)&&VP(n,t,e[t]);if(WP)for(var t of WP(e))AQ.call(e,t)&&VP(n,t,e[t]);return n},kQ=(n,e)=>EQ(n,MQ(e)),KP,qP;typeof window<"u"&&((KP=window.document)!=null&&KP.createElement||((qP=window.navigator)==null?void 0:qP.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function F4(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=F4(r,e,t);if(i)return i;r=r.sibling}}function $4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const XP=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=XP;return}return XP.apply(this,arguments)};const MA=$4(G.createContext(null));class z4 extends G.Component{render(){return G.createElement(MA.Provider,{value:this._reactInternals},this.props.children)}}function RQ(){const n=G.useContext(MA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const r of[n,n?.alternate]){if(!r)continue;const i=F4(r,!1,s=>{let l=s.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(i)return i}},[n,e])}function LQ(){const n=RQ(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==MA&&!e.has(i)&&e.set(i,G.useContext($4(i)))}t=t.return}return e}function PQ(){const n=LQ();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>G.createElement(e,null,G.createElement(t.Provider,kQ(GP({},r),{value:n.get(t)}))),e=>G.createElement(z4,GP({},e))),[n])}const tS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function OQ(n){const{handlePointer:e}=cQ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(tS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(l=>({events:{...l.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([l,a])=>{const[o,h]=tS[l];t.addEventListener(o,a,{passive:h})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,l])=>{if(r&&r.connected instanceof HTMLElement){const[a]=tS[s];r.connected.removeEventListener(a,l)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const IQ=G.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:l=OQ,eventSource:a,eventPrefix:o,shadows:h,linear:c,flat:u,legacy:d,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:y,scene:_,onPointerMissed:w,onCreated:C,...b},T){G.useMemo(()=>eQ(HJ),[]);const A=PQ(),[k,P]=xQ({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=G.useRef(null),D=G.useRef(null);G.useImperativeHandle(T,()=>N.current);const L=M4(w),[I,O]=G.useState(!1),[F,H]=G.useState(!1);if(I)throw I;if(F)throw F;const j=G.useRef(null);xy(()=>{const W=N.current;P.width>0&&P.height>0&&W&&(j.current||(j.current=vQ(W)),j.current.configure({gl:s,events:l,shadows:h,linear:c,flat:u,legacy:d,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:y,scene:_,size:P,onPointerMissed:(...K)=>L.current==null?void 0:L.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(a?nQ(a)?a.current:a:D.current),o&&K.setEvents({compute:(X,J)=>{const te=X[o+"X"],re=X[o+"Y"];J.pointer.set(te/J.size.width*2-1,-(re/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),C?.(K)}}),j.current.render(G.createElement(A,null,G.createElement(T4,{set:H},G.createElement(G.Suspense,{fallback:G.createElement(rQ,{set:O})},e)))))}),G.useEffect(()=>{const W=N.current;if(W)return()=>N4(W)},[]);const z=a?"none":"auto";return G.createElement("div",Ov({ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i}},b),G.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},G.createElement("canvas",{ref:N,style:{display:"block"}},t)))}),DQ=G.forwardRef(function(e,t){return G.createElement(z4,null,G.createElement(IQ,Ov({},e,{ref:t})))});var NQ=Object.defineProperty,BQ=(n,e,t)=>e in n?NQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,FQ=(n,e,t)=>(BQ(n,e+"",t),t);class $Q{constructor(){FQ(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,l=i.length;s<l;s++)i[s].call(this,e);e.target=null}}}var zQ=Object.defineProperty,UQ=(n,e,t)=>e in n?zQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ft=(n,e,t)=>(UQ(n,typeof e!="symbol"?e+"":e,t),t);const Ex=new ef,YP=new Cc,jQ=Math.cos(70*(Math.PI/180)),ZP=(n,e)=>(n%e+e)%e;let HQ=class extends $Q{constructor(e,t){super(),Ft(this,"object"),Ft(this,"domElement"),Ft(this,"enabled",!0),Ft(this,"target",new fe),Ft(this,"minDistance",0),Ft(this,"maxDistance",1/0),Ft(this,"minZoom",0),Ft(this,"maxZoom",1/0),Ft(this,"minPolarAngle",0),Ft(this,"maxPolarAngle",Math.PI),Ft(this,"minAzimuthAngle",-1/0),Ft(this,"maxAzimuthAngle",1/0),Ft(this,"enableDamping",!1),Ft(this,"dampingFactor",.05),Ft(this,"enableZoom",!0),Ft(this,"zoomSpeed",1),Ft(this,"enableRotate",!0),Ft(this,"rotateSpeed",1),Ft(this,"enablePan",!0),Ft(this,"panSpeed",1),Ft(this,"screenSpacePanning",!0),Ft(this,"keyPanSpeed",7),Ft(this,"zoomToCursor",!1),Ft(this,"autoRotate",!1),Ft(this,"autoRotateSpeed",2),Ft(this,"reverseOrbit",!1),Ft(this,"reverseHorizontalOrbit",!1),Ft(this,"reverseVerticalOrbit",!1),Ft(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ft(this,"mouseButtons",{LEFT:pd.ROTATE,MIDDLE:pd.DOLLY,RIGHT:pd.PAN}),Ft(this,"touches",{ONE:gd.ROTATE,TWO:gd.DOLLY_PAN}),Ft(this,"target0"),Ft(this,"position0"),Ft(this,"zoom0"),Ft(this,"_domElementKeyEvents",null),Ft(this,"getPolarAngle"),Ft(this,"getAzimuthalAngle"),Ft(this,"setPolarAngle"),Ft(this,"setAzimuthalAngle"),Ft(this,"getDistance"),Ft(this,"getZoomScale"),Ft(this,"listenToKeyEvents"),Ft(this,"stopListenToKeyEvents"),Ft(this,"saveState"),Ft(this,"reset"),Ft(this,"update"),Ft(this,"connect"),Ft(this,"dispose"),Ft(this,"dollyIn"),Ft(this,"dollyOut"),Ft(this,"getScale"),Ft(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=le=>{let be=ZP(le,2*Math.PI),Ue=c.phi;Ue<0&&(Ue+=2*Math.PI),be<0&&(be+=2*Math.PI);let me=Math.abs(be-Ue);2*Math.PI-me<me&&(be<Ue?be+=2*Math.PI:Ue+=2*Math.PI),u.phi=be-Ue,r.update()},this.setAzimuthalAngle=le=>{let be=ZP(le,2*Math.PI),Ue=c.theta;Ue<0&&(Ue+=2*Math.PI),be<0&&(be+=2*Math.PI);let me=Math.abs(be-Ue);2*Math.PI-me<me&&(be<Ue?be+=2*Math.PI:Ue+=2*Math.PI),u.theta=be-Ue,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",et),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",et),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),o=a.NONE},this.update=(()=>{const le=new fe,be=new fe(0,1,0),Ue=new hs().setFromUnitVectors(e.up,be),me=Ue.clone().invert(),qe=new fe,Le=new hs,Je=2*Math.PI;return function(){const Kt=r.object.position;Ue.setFromUnitVectors(e.up,be),me.copy(Ue).invert(),le.copy(Kt).sub(r.target),le.applyQuaternion(Ue),c.setFromVector3(le),r.autoRotate&&o===a.NONE&&I(D()),r.enableDamping?(c.theta+=u.theta*r.dampingFactor,c.phi+=u.phi*r.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let nn=r.minAzimuthAngle,fn=r.maxAzimuthAngle;isFinite(nn)&&isFinite(fn)&&(nn<-Math.PI?nn+=Je:nn>Math.PI&&(nn-=Je),fn<-Math.PI?fn+=Je:fn>Math.PI&&(fn-=Je),nn<=fn?c.theta=Math.max(nn,Math.min(fn,c.theta)):c.theta=c.theta>(nn+fn)/2?Math.max(nn,c.theta):Math.min(fn,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(f,r.dampingFactor):r.target.add(f),r.zoomToCursor&&k||r.object.isOrthographicCamera?c.radius=J(c.radius):c.radius=J(c.radius*d),le.setFromSpherical(c),le.applyQuaternion(me),Kt.copy(r.target).add(le),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,f.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),f.set(0,0,0));let _r=!1;if(r.zoomToCursor&&k){let an=null;if(r.object instanceof qr&&r.object.isPerspectiveCamera){const ar=le.length();an=J(ar*d);const On=ar-an;r.object.position.addScaledVector(T,On),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const ar=new fe(A.x,A.y,0);ar.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),_r=!0;const On=new fe(A.x,A.y,0);On.unproject(r.object),r.object.position.sub(On).add(ar),r.object.updateMatrixWorld(),an=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;an!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(an).add(r.object.position):(Ex.origin.copy(r.object.position),Ex.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ex.direction))<jQ?e.lookAt(r.target):(YP.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ex.intersectPlane(YP,r.target))))}else r.object instanceof eh&&r.object.isOrthographicCamera&&(_r=d!==1,_r&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,k=!1,_r||qe.distanceToSquared(r.object.position)>h||8*(1-Le.dot(r.object.quaternion))>h?(r.dispatchEvent(i),qe.copy(r.object.position),Le.copy(r.object.quaternion),_r=!1,!0):!1}})(),this.connect=le=>{r.domElement=le,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Fe),r.domElement.addEventListener("pointerdown",ln),r.domElement.addEventListener("pointercancel",ce),r.domElement.addEventListener("wheel",Ke)},this.dispose=()=>{var le,be,Ue,me,qe,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(le=r.domElement)==null||le.removeEventListener("contextmenu",Fe),(be=r.domElement)==null||be.removeEventListener("pointerdown",ln),(Ue=r.domElement)==null||Ue.removeEventListener("pointercancel",ce),(me=r.domElement)==null||me.removeEventListener("wheel",Ke),(qe=r.domElement)==null||qe.ownerDocument.removeEventListener("pointermove",pe),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",ce),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",et)};const r=this,i={type:"change"},s={type:"start"},l={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=a.NONE;const h=1e-6,c=new tM,u=new tM;let d=1;const f=new fe,p=new Ve,m=new Ve,g=new Ve,v=new Ve,y=new Ve,_=new Ve,w=new Ve,C=new Ve,b=new Ve,T=new fe,A=new Ve;let k=!1;const P=[],N={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function I(le){r.reverseOrbit||r.reverseHorizontalOrbit?u.theta+=le:u.theta-=le}function O(le){r.reverseOrbit||r.reverseVerticalOrbit?u.phi+=le:u.phi-=le}const F=(()=>{const le=new fe;return function(Ue,me){le.setFromMatrixColumn(me,0),le.multiplyScalar(-Ue),f.add(le)}})(),H=(()=>{const le=new fe;return function(Ue,me){r.screenSpacePanning===!0?le.setFromMatrixColumn(me,1):(le.setFromMatrixColumn(me,0),le.crossVectors(r.object.up,le)),le.multiplyScalar(Ue),f.add(le)}})(),j=(()=>{const le=new fe;return function(Ue,me){const qe=r.domElement;if(qe&&r.object instanceof qr&&r.object.isPerspectiveCamera){const Le=r.object.position;le.copy(Le).sub(r.target);let Je=le.length();Je*=Math.tan(r.object.fov/2*Math.PI/180),F(2*Ue*Je/qe.clientHeight,r.object.matrix),H(2*me*Je/qe.clientHeight,r.object.matrix)}else qe&&r.object instanceof eh&&r.object.isOrthographicCamera?(F(Ue*(r.object.right-r.object.left)/r.object.zoom/qe.clientWidth,r.object.matrix),H(me*(r.object.top-r.object.bottom)/r.object.zoom/qe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function z(le){r.object instanceof qr&&r.object.isPerspectiveCamera||r.object instanceof eh&&r.object.isOrthographicCamera?d=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(le){z(d/le)}function K(le){z(d*le)}function X(le){if(!r.zoomToCursor||!r.domElement)return;k=!0;const be=r.domElement.getBoundingClientRect(),Ue=le.clientX-be.left,me=le.clientY-be.top,qe=be.width,Le=be.height;A.x=Ue/qe*2-1,A.y=-(me/Le)*2+1,T.set(A.x,A.y,1).unproject(r.object).sub(r.object.position).normalize()}function J(le){return Math.max(r.minDistance,Math.min(r.maxDistance,le))}function te(le){p.set(le.clientX,le.clientY)}function re(le){X(le),w.set(le.clientX,le.clientY)}function ae(le){v.set(le.clientX,le.clientY)}function ie(le){m.set(le.clientX,le.clientY),g.subVectors(m,p).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(I(2*Math.PI*g.x/be.clientHeight),O(2*Math.PI*g.y/be.clientHeight)),p.copy(m),r.update()}function Q(le){C.set(le.clientX,le.clientY),b.subVectors(C,w),b.y>0?W(L()):b.y<0&&K(L()),w.copy(C),r.update()}function se(le){y.set(le.clientX,le.clientY),_.subVectors(y,v).multiplyScalar(r.panSpeed),j(_.x,_.y),v.copy(y),r.update()}function de(le){X(le),le.deltaY<0?K(L()):le.deltaY>0&&W(L()),r.update()}function xe(le){let be=!1;switch(le.code){case r.keys.UP:j(0,r.keyPanSpeed),be=!0;break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),be=!0;break;case r.keys.LEFT:j(r.keyPanSpeed,0),be=!0;break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),be=!0;break}be&&(le.preventDefault(),r.update())}function ne(){if(P.length==1)p.set(P[0].pageX,P[0].pageY);else{const le=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);p.set(le,be)}}function ye(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const le=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);v.set(le,be)}}function _e(){const le=P[0].pageX-P[1].pageX,be=P[0].pageY-P[1].pageY,Ue=Math.sqrt(le*le+be*be);w.set(0,Ue)}function Ae(){r.enableZoom&&_e(),r.enablePan&&ye()}function Te(){r.enableZoom&&_e(),r.enableRotate&&ne()}function ze(le){if(P.length==1)m.set(le.pageX,le.pageY);else{const Ue=ht(le),me=.5*(le.pageX+Ue.x),qe=.5*(le.pageY+Ue.y);m.set(me,qe)}g.subVectors(m,p).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(I(2*Math.PI*g.x/be.clientHeight),O(2*Math.PI*g.y/be.clientHeight)),p.copy(m)}function tt(le){if(P.length==1)y.set(le.pageX,le.pageY);else{const be=ht(le),Ue=.5*(le.pageX+be.x),me=.5*(le.pageY+be.y);y.set(Ue,me)}_.subVectors(y,v).multiplyScalar(r.panSpeed),j(_.x,_.y),v.copy(y)}function at(le){const be=ht(le),Ue=le.pageX-be.x,me=le.pageY-be.y,qe=Math.sqrt(Ue*Ue+me*me);C.set(0,qe),b.set(0,Math.pow(C.y/w.y,r.zoomSpeed)),W(b.y),w.copy(C)}function _t(le){r.enableZoom&&at(le),r.enablePan&&tt(le)}function It(le){r.enableZoom&&at(le),r.enableRotate&&ze(le)}function ln(le){var be,Ue;r.enabled!==!1&&(P.length===0&&((be=r.domElement)==null||be.ownerDocument.addEventListener("pointermove",pe),(Ue=r.domElement)==null||Ue.ownerDocument.addEventListener("pointerup",ce)),st(le),le.pointerType==="touch"?dt(le):Ne(le))}function pe(le){r.enabled!==!1&&(le.pointerType==="touch"?Xe(le):Ye(le))}function ce(le){var be,Ue,me;St(le),P.length===0&&((be=r.domElement)==null||be.releasePointerCapture(le.pointerId),(Ue=r.domElement)==null||Ue.ownerDocument.removeEventListener("pointermove",pe),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointerup",ce)),r.dispatchEvent(l),o=a.NONE}function Ne(le){let be;switch(le.button){case 0:be=r.mouseButtons.LEFT;break;case 1:be=r.mouseButtons.MIDDLE;break;case 2:be=r.mouseButtons.RIGHT;break;default:be=-1}switch(be){case pd.DOLLY:if(r.enableZoom===!1)return;re(le),o=a.DOLLY;break;case pd.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enablePan===!1)return;ae(le),o=a.PAN}else{if(r.enableRotate===!1)return;te(le),o=a.ROTATE}break;case pd.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enableRotate===!1)return;te(le),o=a.ROTATE}else{if(r.enablePan===!1)return;ae(le),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(s)}function Ye(le){if(r.enabled!==!1)switch(o){case a.ROTATE:if(r.enableRotate===!1)return;ie(le);break;case a.DOLLY:if(r.enableZoom===!1)return;Q(le);break;case a.PAN:if(r.enablePan===!1)return;se(le);break}}function Ke(le){r.enabled===!1||r.enableZoom===!1||o!==a.NONE&&o!==a.ROTATE||(le.preventDefault(),r.dispatchEvent(s),de(le),r.dispatchEvent(l))}function et(le){r.enabled===!1||r.enablePan===!1||xe(le)}function dt(le){switch(Et(le),P.length){case 1:switch(r.touches.ONE){case gd.ROTATE:if(r.enableRotate===!1)return;ne(),o=a.TOUCH_ROTATE;break;case gd.PAN:if(r.enablePan===!1)return;ye(),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(r.touches.TWO){case gd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(),o=a.TOUCH_DOLLY_PAN;break;case gd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Te(),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&r.dispatchEvent(s)}function Xe(le){switch(Et(le),o){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ze(le),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;tt(le),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;_t(le),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;It(le),r.update();break;default:o=a.NONE}}function Fe(le){r.enabled!==!1&&le.preventDefault()}function st(le){P.push(le)}function St(le){delete N[le.pointerId];for(let be=0;be<P.length;be++)if(P[be].pointerId==le.pointerId){P.splice(be,1);return}}function Et(le){let be=N[le.pointerId];be===void 0&&(be=new Ve,N[le.pointerId]=be),be.set(le.pageX,le.pageY)}function ht(le){const be=le.pointerId===P[0].pointerId?P[1]:P[0];return N[be.pointerId]}this.dollyIn=(le=L())=>{K(le),r.update()},this.dollyOut=(le=L())=>{W(le),r.update()},this.getScale=()=>d,this.setScale=le=>{z(le),r.update()},this.getZoomScale=()=>L(),t!==void 0&&this.connect(t),this.update()}};const WQ=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:l,onStart:a,onEnd:o,...h},c)=>{const u=Uu(b=>b.invalidate),d=Uu(b=>b.camera),f=Uu(b=>b.gl),p=Uu(b=>b.events),m=Uu(b=>b.setEvents),g=Uu(b=>b.set),v=Uu(b=>b.get),y=Uu(b=>b.performance),_=e||d,w=r||p.connected||f.domElement,C=G.useMemo(()=>new HQ(_),[_]);return D4(()=>{C.enabled&&C.update()},-1),G.useEffect(()=>(s&&C.connect(s===!0?w:s),C.connect(w),()=>void C.dispose()),[s,w,t,C,u]),G.useEffect(()=>{const b=k=>{u(),t&&y.regress(),l&&l(k)},T=k=>{a&&a(k)},A=k=>{o&&o(k)};return C.addEventListener("change",b),C.addEventListener("start",T),C.addEventListener("end",A),()=>{C.removeEventListener("start",T),C.removeEventListener("end",A),C.removeEventListener("change",b)}},[l,a,o,C,u,m]),G.useEffect(()=>{if(n){const b=v().controls;return g({controls:C}),()=>g({controls:b})}},[n,C]),G.createElement("primitive",Ov({ref:c,object:C,enableDamping:i},h))});var nS={exports:{}},rS,JP;function VQ(){if(JP)return rS;JP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rS=n,rS}var iS,QP;function GQ(){if(QP)return iS;QP=1;var n=VQ();function e(){}function t(){}return t.resetWarningCache=e,iS=function(){function r(l,a,o,h,c,u){if(u!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},iS}var eO;function TA(){return eO||(eO=1,nS.exports=GQ()()),nS.exports}const U4=G.createContext({});function KQ(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const AA=typeof window<"u",qQ=AA?G.useLayoutEffect:G.useEffect,kA=G.createContext(null);function RA(n,e){n.indexOf(e)===-1&&n.push(e)}function LA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const $c=(n,e,t)=>t>e?e:t<n?n:t;let PA=()=>{};const zc={},j4=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function H4(n){return typeof n=="object"&&n!==null}const W4=n=>/^0[^.\s]+$/u.test(n);function OA(n){let e;return()=>(e===void 0&&(e=n()),e)}const na=n=>n,XQ=(n,e)=>t=>e(n(t)),_y=(...n)=>n.reduce(XQ),Iv=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class IA{constructor(){this.subscriptions=[]}add(e){return RA(this.subscriptions,e),()=>LA(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sl=n=>n*1e3,ea=n=>n/1e3;function V4(n,e){return e?n*(1e3/e):0}const G4=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YQ=1e-7,ZQ=12;function JQ(n,e,t,r,i){let s,l,a=0;do l=e+(t-e)/2,s=G4(l,r,i)-n,s>0?t=l:e=l;while(Math.abs(s)>YQ&&++a<ZQ);return l}function by(n,e,t,r){if(n===e&&t===r)return na;const i=s=>JQ(s,0,1,n,t);return s=>s===0||s===1?s:G4(i(s),e,r)}const K4=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,q4=n=>e=>1-n(1-e),X4=by(.33,1.53,.69,.99),DA=q4(X4),Y4=K4(DA),Z4=n=>(n*=2)<1?.5*DA(n):.5*(2-Math.pow(2,-10*(n-1))),NA=n=>1-Math.sin(Math.acos(n)),J4=q4(NA),Q4=K4(NA),QQ=by(.42,0,1,1),eee=by(0,0,.58,1),ez=by(.42,0,.58,1),tee=n=>Array.isArray(n)&&typeof n[0]!="number",tz=n=>Array.isArray(n)&&typeof n[0]=="number",nee={linear:na,easeIn:QQ,easeInOut:ez,easeOut:eee,circIn:NA,circInOut:Q4,circOut:J4,backIn:DA,backInOut:Y4,backOut:X4,anticipate:Z4},ree=n=>typeof n=="string",tO=n=>{if(tz(n)){PA(n.length===4);const[e,t,r,i]=n;return by(e,t,r,i)}else if(ree(n))return nee[n];return n},Mx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iee(n,e){let t=new Set,r=new Set,i=!1,s=!1;const l=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){l.has(c)&&(h.schedule(c),n()),c(a)}const h={schedule:(c,u=!1,d=!1)=>{const p=d&&i?t:r;return u&&l.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),l.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(o),t.clear(),i=!1,s&&(s=!1,h.process(c))}};return h}const see=40;function nz(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,l=Mx.reduce((_,w)=>(_[w]=iee(s),_),{}),{setup:a,read:o,resolveKeyframes:h,preUpdate:c,update:u,preRender:d,render:f,postRender:p}=l,m=()=>{const _=zc.useManualTiming?i.timestamp:performance.now();t=!1,zc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,see),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),o.process(i),h.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(m))},g=()=>{t=!0,r=!0,i.isProcessing||n(m)};return{schedule:Mx.reduce((_,w)=>{const C=l[w];return _[w]=(b,T=!1,A=!1)=>(t||g(),C.schedule(b,T,A)),_},{}),cancel:_=>{for(let w=0;w<Mx.length;w++)l[Mx[w]].cancel(_)},state:i,steps:l}}const{schedule:mr,cancel:ah,state:Ki,steps:sS}=nz(typeof requestAnimationFrame<"u"?requestAnimationFrame:na,!0);let o_;function oee(){o_=void 0}const Js={now:()=>(o_===void 0&&Js.set(Ki.isProcessing||zc.useManualTiming?Ki.timestamp:performance.now()),o_),set:n=>{o_=n,queueMicrotask(oee)}},rz=n=>e=>typeof e=="string"&&e.startsWith(n),BA=rz("--"),aee=rz("var(--"),FA=n=>aee(n)?lee.test(n.split("/*")[0].trim()):!1,lee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Dv={...gg,transform:n=>$c(0,1,n)},Tx={...gg,default:1},lv=n=>Math.round(n*1e5)/1e5,$A=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cee(n){return n==null}const uee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zA=(n,e)=>t=>!!(typeof t=="string"&&uee.test(t)&&t.startsWith(n)||e&&!cee(t)&&Object.prototype.hasOwnProperty.call(t,e)),iz=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,l,a]=r.match($A);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(l),alpha:a!==void 0?parseFloat(a):1}},hee=n=>$c(0,255,n),oS={...gg,transform:n=>Math.round(hee(n))},Td={test:zA("rgb","red"),parse:iz("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+oS.transform(n)+", "+oS.transform(e)+", "+oS.transform(t)+", "+lv(Dv.transform(r))+")"};function dee(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iM={test:zA("#"),parse:dee,transform:Td.transform},wy=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vu=wy("deg"),Cl=wy("%"),Vt=wy("px"),fee=wy("vh"),pee=wy("vw"),nO={...Cl,parse:n=>Cl.parse(n)/100,transform:n=>Cl.transform(n*100)},Pp={test:zA("hsl","hue"),parse:iz("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Cl.transform(lv(e))+", "+Cl.transform(lv(t))+", "+lv(Dv.transform(r))+")"},ri={test:n=>Td.test(n)||iM.test(n)||Pp.test(n),parse:n=>Td.test(n)?Td.parse(n):Pp.test(n)?Pp.parse(n):iM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Td.transform(n):Pp.transform(n),getAnimatableNone:n=>{const e=ri.parse(n);return e.alpha=0,ri.transform(e)}},gee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mee(n){return isNaN(n)&&typeof n=="string"&&(n.match($A)?.length||0)+(n.match(gee)?.length||0)>0}const sz="number",oz="color",vee="var",yee="var(",rO="${}",xee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nv(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(xee,o=>(ri.test(o)?(r.color.push(s),i.push(oz),t.push(ri.parse(o))):o.startsWith(yee)?(r.var.push(s),i.push(vee),t.push(o)):(r.number.push(s),i.push(sz),t.push(parseFloat(o))),++s,rO)).split(rO);return{values:t,split:a,indexes:r,types:i}}function az(n){return Nv(n).values}function lz(n){const{split:e,types:t}=Nv(n),r=e.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],i[l]!==void 0){const a=t[l];a===sz?s+=lv(i[l]):a===oz?s+=ri.transform(i[l]):s+=i[l]}return s}}const _ee=n=>typeof n=="number"?0:ri.test(n)?ri.getAnimatableNone(n):n;function bee(n){const e=az(n);return lz(n)(e.map(_ee))}const lh={test:mee,parse:az,createTransformer:lz,getAnimatableNone:bee};function aS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function wee({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,l=0;if(!e)i=s=l=t;else{const a=t<.5?t*(1+e):t+e-t*e,o=2*t-a;i=aS(o,a,n+1/3),s=aS(o,a,n),l=aS(o,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function T_(n,e){return t=>t>0?e:n}const kr=(n,e,t)=>n+(e-n)*t,lS=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},See=[iM,Td,Pp],Cee=n=>See.find(e=>e.test(n));function iO(n){const e=Cee(n);if(!e)return!1;let t=e.parse(n);return e===Pp&&(t=wee(t)),t}const sO=(n,e)=>{const t=iO(n),r=iO(e);if(!t||!r)return T_(n,e);const i={...t};return s=>(i.red=lS(t.red,r.red,s),i.green=lS(t.green,r.green,s),i.blue=lS(t.blue,r.blue,s),i.alpha=kr(t.alpha,r.alpha,s),Td.transform(i))},sM=new Set(["none","hidden"]);function Eee(n,e){return sM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Mee(n,e){return t=>kr(n,e,t)}function UA(n){return typeof n=="number"?Mee:typeof n=="string"?FA(n)?T_:ri.test(n)?sO:kee:Array.isArray(n)?cz:typeof n=="object"?ri.test(n)?sO:Tee:T_}function cz(n,e){const t=[...n],r=t.length,i=n.map((s,l)=>UA(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)t[l]=i[l](s);return t}}function Tee(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=UA(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function Aee(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],l=n.indexes[s][r[s]],a=n.values[l]??0;t[i]=a,r[s]++}return t}const kee=(n,e)=>{const t=lh.createTransformer(e),r=Nv(n),i=Nv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sM.has(n)&&!i.values.length||sM.has(e)&&!r.values.length?Eee(n,e):_y(cz(Aee(r,i),i.values),t):T_(n,e)};function uz(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?kr(n,e,t):UA(n)(n,e)}const Ree=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>mr.update(e,t),stop:()=>ah(e),now:()=>Ki.isProcessing?Ki.timestamp:Js.now()}},hz=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},A_=2e4;function jA(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<A_;)e+=t,r=n.next(e);return e>=A_?1/0:e}function Lee(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(jA(r),A_);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ea(i)}}const Pee=5;function dz(n,e,t){const r=Math.max(e-Pee,0);return V4(t-n(r),e-r)}const Br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cS=.001;function Oee({duration:n=Br.duration,bounce:e=Br.bounce,velocity:t=Br.velocity,mass:r=Br.mass}){let i,s,l=1-e;l=$c(Br.minDamping,Br.maxDamping,l),n=$c(Br.minDuration,Br.maxDuration,ea(n)),l<1?(i=h=>{const c=h*l,u=c*n,d=c-t,f=oM(h,l),p=Math.exp(-u);return cS-d/f*p},s=h=>{const u=h*l*n,d=u*t+t,f=Math.pow(l,2)*Math.pow(h,2)*n,p=Math.exp(-u),m=oM(Math.pow(h,2),l);return(-i(h)+cS>0?-1:1)*((d-f)*p)/m}):(i=h=>{const c=Math.exp(-h*n),u=(h-t)*n+1;return-cS+c*u},s=h=>{const c=Math.exp(-h*n),u=(t-h)*(n*n);return c*u});const a=5/n,o=Dee(i,s,a);if(n=Sl(n),isNaN(o))return{stiffness:Br.stiffness,damping:Br.damping,duration:n};{const h=Math.pow(o,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:n}}}const Iee=12;function Dee(n,e,t){let r=t;for(let i=1;i<Iee;i++)r=r-n(r)/e(r);return r}function oM(n,e){return n*Math.sqrt(1-e*e)}const Nee=["duration","bounce"],Bee=["stiffness","damping","mass"];function oO(n,e){return e.some(t=>n[t]!==void 0)}function Fee(n){let e={velocity:Br.velocity,stiffness:Br.stiffness,damping:Br.damping,mass:Br.mass,isResolvedFromDuration:!1,...n};if(!oO(n,Bee)&&oO(n,Nee))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*$c(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Br.mass,stiffness:i,damping:s}}else{const t=Oee(n);e={...e,...t,mass:Br.mass},e.isResolvedFromDuration=!0}return e}function k_(n=Br.visualDuration,e=Br.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:o,damping:h,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=Fee({...t,velocity:-ea(t.velocity||0)}),p=d||0,m=h/(2*Math.sqrt(o*c)),g=l-s,v=ea(Math.sqrt(o/c)),y=Math.abs(g)<5;r||(r=y?Br.restSpeed.granular:Br.restSpeed.default),i||(i=y?Br.restDelta.granular:Br.restDelta.default);let _;if(m<1){const C=oM(v,m);_=b=>{const T=Math.exp(-m*v*b);return l-T*((p+m*v*g)/C*Math.sin(C*b)+g*Math.cos(C*b))}}else if(m===1)_=C=>l-Math.exp(-v*C)*(g+(p+v*g)*C);else{const C=v*Math.sqrt(m*m-1);_=b=>{const T=Math.exp(-m*v*b),A=Math.min(C*b,300);return l-T*((p+m*v*g)*Math.sinh(A)+C*g*Math.cosh(A))/C}}const w={calculatedDuration:f&&u||null,next:C=>{const b=_(C);if(f)a.done=C>=u;else{let T=C===0?p:0;m<1&&(T=C===0?Sl(p):dz(_,C,b));const A=Math.abs(T)<=r,k=Math.abs(l-b)<=i;a.done=A&&k}return a.value=a.done?l:b,a},toString:()=>{const C=Math.min(jA(w),A_),b=hz(T=>w.next(C*T).value,C,30);return C+"ms "+b},toTransition:()=>{}};return w}k_.applyToOptions=n=>{const e=Lee(n,100,k_);return n.ease=e.ease,n.duration=Sl(e.duration),n.type="keyframes",n};function aM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:a,max:o,restDelta:h=.5,restSpeed:c}){const u=n[0],d={done:!1,value:u},f=A=>a!==void 0&&A<a||o!==void 0&&A>o,p=A=>a===void 0?o:o===void 0||Math.abs(a-A)<Math.abs(o-A)?a:o;let m=t*e;const g=u+m,v=l===void 0?g:l(g);v!==g&&(m=v-u);const y=A=>-m*Math.exp(-A/r),_=A=>v+y(A),w=A=>{const k=y(A),P=_(A);d.done=Math.abs(k)<=h,d.value=d.done?v:P};let C,b;const T=A=>{f(d.value)&&(C=A,b=k_({keyframes:[d.value,p(d.value)],velocity:dz(_,A,d.value),damping:i,stiffness:s,restDelta:h,restSpeed:c}))};return T(0),{calculatedDuration:null,next:A=>{let k=!1;return!b&&C===void 0&&(k=!0,w(A),T(A)),C!==void 0&&A>=C?b.next(A-C):(!k&&w(A),d)}}}function $ee(n,e,t){const r=[],i=t||zc.mix||uz,s=n.length-1;for(let l=0;l<s;l++){let a=i(n[l],n[l+1]);if(e){const o=Array.isArray(e)?e[l]||na:e;a=_y(o,a)}r.push(a)}return r}function zee(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(PA(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=$ee(e,r,i),o=a.length,h=c=>{if(l&&c<n[0])return e[0];let u=0;if(o>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=Iv(n[u],n[u+1],c);return a[u](d)};return t?c=>h($c(n[0],n[s-1],c)):h}function Uee(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Iv(0,e,r);n.push(kr(t,1,i))}}function jee(n){const e=[0];return Uee(e,n.length-1),e}function Hee(n,e){return n.map(t=>t*e)}function Wee(n,e){return n.map(()=>e||ez).splice(0,n.length-1)}function cv({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=tee(r)?r.map(tO):tO(r),s={done:!1,value:e[0]},l=Hee(t&&t.length===e.length?t:jee(e),n),a=zee(l,e,{ease:Array.isArray(i)?i:Wee(e,i)});return{calculatedDuration:n,next:o=>(s.value=a(o),s.done=o>=n,s)}}const Vee=n=>n!==null;function HA(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(Vee),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Gee={decay:aM,inertia:aM,tween:cv,keyframes:cv,spring:k_};function fz(n){typeof n.type=="string"&&(n.type=Gee[n.type])}class WA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Kee=n=>n/100;class VA extends WA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Js.now()&&this.tick(Js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fz(e);const{type:t=cv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=e;let{keyframes:a}=e;const o=t||cv;o!==cv&&typeof a[0]!="number"&&(this.mixKeyframes=_y(Kee,uz(a[0],a[1])),a=[0,100]);const h=o({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=jA(h));const{calculatedDuration:c}=h;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:a,calculatedDuration:o}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const v=this.currentTime-h*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,w=r;if(u){const A=Math.min(this.currentTime,i)/a;let k=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&k--,k=Math.min(k,u+1),!!(k%2)&&(d==="reverse"?(P=1-P,f&&(P-=f/a)):d==="mirror"&&(w=l)),_=$c(0,1,P)*a}const C=y?{done:!1,value:c[0]}:w.next(_);s&&(C.value=s(C.value));let{done:b}=C;!y&&o!==null&&(b=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return T&&p!==aM&&(C.value=HA(c,this.options,g,this.speed)),m&&m(C.value),T&&this.finish(),C}then(e,t){return this.finished.then(e,t)}get duration(){return ea(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ea(e)}get time(){return ea(this.currentTime)}set time(e){e=Sl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Js.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ea(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ree,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function qee(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ad=n=>n*180/Math.PI,lM=n=>{const e=Ad(Math.atan2(n[1],n[0]));return cM(e)},Xee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:lM,rotateZ:lM,skewX:n=>Ad(Math.atan(n[1])),skewY:n=>Ad(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cM=n=>(n=n%360,n<0&&(n+=360),n),aO=lM,lO=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cO=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Yee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lO,scaleY:cO,scale:n=>(lO(n)+cO(n))/2,rotateX:n=>cM(Ad(Math.atan2(n[6],n[5]))),rotateY:n=>cM(Ad(Math.atan2(-n[2],n[0]))),rotateZ:aO,rotate:aO,skewX:n=>Ad(Math.atan(n[4])),skewY:n=>Ad(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function uM(n){return n.includes("scale")?1:0}function hM(n,e){if(!n||n==="none")return uM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=Yee,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Xee,i=a}if(!i)return uM(e);const s=r[e],l=i[1].split(",").map(Jee);return typeof s=="function"?s(l):l[s]}const Zee=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return hM(t,e)};function Jee(n){return parseFloat(n.trim())}const mg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vg=new Set(mg),uO=n=>n===gg||n===Vt,Qee=new Set(["x","y","z"]),ete=mg.filter(n=>!Qee.has(n));function tte(n){const e=[];return ete.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Nd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>hM(e,"x"),y:(n,{transform:e})=>hM(e,"y")};Nd.translateX=Nd.x;Nd.translateY=Nd.y;const Bd=new Set;let dM=!1,fM=!1,pM=!1;function pz(){if(fM){const n=Array.from(Bd).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=tte(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,l])=>{r.getValue(s)?.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fM=!1,dM=!1,Bd.forEach(n=>n.complete(pM)),Bd.clear()}function gz(){Bd.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(fM=!0)})}function nte(){pM=!0,gz(),pz(),pM=!1}class GA{constructor(e,t,r,i,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Bd.add(this),dM||(dM=!0,mr.read(gz),mr.resolveKeyframes(pz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,l);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}qee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bd.delete(this)}cancel(){this.state==="scheduled"&&(Bd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rte=n=>n.startsWith("--");function ite(n,e,t){rte(e)?n.style.setProperty(e,t):n.style[e]=t}const ste=OA(()=>window.ScrollTimeline!==void 0),ote={};function ate(n,e){const t=OA(n);return()=>ote[e]??t()}const mz=ate(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qm=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,hO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qm([0,.65,.55,1]),circOut:qm([.55,0,1,.45]),backIn:qm([.31,.01,.66,-.59]),backOut:qm([.33,1.53,.69,.99])};function vz(n,e){if(n)return typeof n=="function"?mz()?hz(n,e):"ease-out":tz(n)?qm(n):Array.isArray(n)?n.map(t=>vz(t,e)||hO.easeOut):hO[n]}function lte(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:a="easeOut",times:o}={},h=void 0){const c={[e]:t};o&&(c.offset=o);const u=vz(a,i);Array.isArray(u)&&(c.easing=u);const d={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(d.pseudoElement=h),n.animate(c,d)}function yz(n){return typeof n=="function"&&"applyToOptions"in n}function cte({type:n,...e}){return yz(n)&&mz()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ute extends WA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,PA(typeof e.type!="string");const h=cte(e);this.animation=lte(t,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=HA(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):ite(t,r,c),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ea(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ea(e)}get time(){return ea(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ste()?(this.animation.timeline=e,na):t(this)}}const xz={anticipate:Z4,backInOut:Y4,circInOut:Q4};function hte(n){return n in xz}function dte(n){typeof n.ease=="string"&&hte(n.ease)&&(n.ease=xz[n.ease])}const dO=10;class fte extends ute{constructor(e){dte(e),fz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new VA({...l,autoplay:!1}),o=Sl(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-dO).value,a.sample(o).value,dO),a.stop()}}const fO=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(lh.test(n)||n==="0")&&!n.startsWith("url("));function pte(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function gte(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],l=fO(i,e),a=fO(s,e);return!l||!a?!1:pte(n)||(t==="spring"||yz(t))&&r}function gM(n){n.duration=0,n.type="keyframes"}const mte=new Set(["opacity","clipPath","filter","transform"]),vte=OA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yte(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:h}=e.owner.getProps();return vte()&&t&&mte.has(t)&&(t!=="transform"||!h)&&!o&&!r&&i!=="mirror"&&s!==0&&l!=="inertia"}const xte=40;class _te extends WA{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:a,name:o,motionValue:h,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Js.now();const d={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:l,name:o,motionValue:h,element:c,...u},f=c?.KeyframeResolver||GA;this.keyframeResolver=new f(a,(p,m,g)=>this.onKeyframesResolved(p,m,d,!g),o,h,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:a,delay:o,isHandoff:h,onUpdate:c}=r;this.resolvedAt=Js.now(),gte(e,s,l,a)||((zc.instantAnimations||!o)&&c?.(HA(e,r,t)),e[0]=e[e.length-1],gM(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},f=!h&&yte(d)?new fte({...d,element:d.motionValue.owner.current}):new VA(d);f.finished.then(()=>this.notifyFinished()).catch(na),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nte()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const bte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wte(n){const e=bte.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function _z(n,e,t=1){const[r,i]=wte(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return j4(l)?parseFloat(l):l}return FA(i)?_z(i,e,t+1):i}function KA(n,e){return n?.[e]??n?.default??n}const bz=new Set(["width","height","top","left","right","bottom",...mg]),Ste={test:n=>n==="auto",parse:n=>n},wz=n=>e=>e.test(n),Sz=[gg,Vt,Cl,Vu,pee,fee,Ste],pO=n=>Sz.find(wz(n));function Cte(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||W4(n):!0}const Ete=new Set(["brightness","contrast","saturate","opacity"]);function Mte(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match($A)||[];if(!r)return n;const i=t.replace(r,"");let s=Ete.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Tte=/\b([a-z-]*)\(.*?\)/gu,mM={...lh,getAnimatableNone:n=>{const e=n.match(Tte);return e?e.map(Mte).join(" "):n}},gO={...gg,transform:Math.round},Ate={rotate:Vu,rotateX:Vu,rotateY:Vu,rotateZ:Vu,scale:Tx,scaleX:Tx,scaleY:Tx,scaleZ:Tx,skew:Vu,skewX:Vu,skewY:Vu,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Dv,originX:nO,originY:nO,originZ:Vt},qA={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt,...Ate,zIndex:gO,fillOpacity:Dv,strokeOpacity:Dv,numOctaves:gO},kte={...qA,color:ri,backgroundColor:ri,outlineColor:ri,fill:ri,stroke:ri,borderColor:ri,borderTopColor:ri,borderRightColor:ri,borderBottomColor:ri,borderLeftColor:ri,filter:mM,WebkitFilter:mM},Cz=n=>kte[n];function Ez(n,e){let t=Cz(n);return t!==mM&&(t=lh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Rte=new Set(["auto","none","0"]);function Lte(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Rte.has(s)&&Nv(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=Ez(t,i)}class Pte extends GA{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let h=e[o];if(typeof h=="string"&&(h=h.trim(),FA(h))){const c=_z(h,t.current);c!==void 0&&(e[o]=c),o===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!bz.has(r)||e.length!==2)return;const[i,s]=e,l=pO(i),a=pO(s);if(l!==a)if(uO(l)&&uO(a))for(let o=0;o<e.length;o++){const h=e[o];typeof h=="string"&&(e[o]=parseFloat(h))}else Nd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Cte(e[i]))&&r.push(i);r.length&&Lte(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=Nd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,o])=>{e.getValue(a).set(o)}),this.resolveNoneKeyframes()}}function Ote(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const Mz=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Ite(n){return H4(n)&&"offsetHeight"in n}const mO=30,Dte=n=>!isNaN(parseFloat(n));class Nte{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Js.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Dte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IA);const r=this.events[e].add(t);return e==="change"?()=>{r(),mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mO)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,mO);return V4(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xp(n,e){return new Nte(n,e)}const{schedule:XA}=nz(queueMicrotask,!1),Fa={x:!1,y:!1};function Tz(){return Fa.x||Fa.y}function Bte(n){return n==="x"||n==="y"?Fa[n]?null:(Fa[n]=!0,()=>{Fa[n]=!1}):Fa.x||Fa.y?null:(Fa.x=Fa.y=!0,()=>{Fa.x=Fa.y=!1})}function Az(n,e){const t=Ote(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function vO(n){return!(n.pointerType==="touch"||Tz())}function Fte(n,e,t={}){const[r,i,s]=Az(n,t),l=a=>{if(!vO(a))return;const{target:o}=a,h=e(o,a);if(typeof h!="function"||!o)return;const c=u=>{vO(u)&&(h(u),o.removeEventListener("pointerleave",c))};o.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",l,i)}),s}const kz=(n,e)=>e?n===e?!0:kz(n,e.parentElement):!1,YA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$te=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zte(n){return $te.has(n.tagName)||n.tabIndex!==-1}const a_=new WeakSet;function yO(n){return e=>{e.key==="Enter"&&n(e)}}function uS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ute=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=yO(()=>{if(a_.has(t))return;uS(t,"down");const i=yO(()=>{uS(t,"up")}),s=()=>uS(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function xO(n){return YA(n)&&!Tz()}function jte(n,e,t={}){const[r,i,s]=Az(n,t),l=a=>{const o=a.currentTarget;if(!xO(a))return;a_.add(o);const h=e(o,a),c=(f,p)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",d),a_.has(o)&&a_.delete(o),xO(f)&&typeof h=="function"&&h(f,{success:p})},u=f=>{c(f,o===window||o===document||t.useGlobalTarget||kz(o,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",l,i),Ite(a)&&(a.addEventListener("focus",h=>Ute(h,i)),!zte(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Rz(n){return H4(n)&&"ownerSVGElement"in n}function Hte(n){return Rz(n)&&n.tagName==="svg"}const us=n=>!!(n&&n.getVelocity),Wte=[...Sz,ri,lh],Vte=n=>Wte.find(wz(n)),Lz=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Gte(n=!0){const e=G.useContext(kA);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=G.useId();G.useEffect(()=>{if(n)return i(s)},[n]);const l=G.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,l]:[!0]}const Pz=G.createContext({strict:!1}),_O={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yp={};for(const n in _O)Yp[n]={isEnabled:e=>_O[n].some(t=>!!e[t])};function Kte(n){for(const e in n)Yp[e]={...Yp[e],...n[e]}}const qte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||qte.has(n)}let Oz=n=>!R_(n);function Xte(n){typeof n=="function"&&(Oz=e=>e.startsWith("on")?!R_(e):n(e))}try{Xte(require("@emotion/is-prop-valid").default)}catch{}function Yte(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Oz(i)||t===!0&&R_(i)||!e&&!R_(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const zb=G.createContext({});function Ub(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Bv(n){return typeof n=="string"||Array.isArray(n)}const ZA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JA=["initial",...ZA];function jb(n){return Ub(n.animate)||JA.some(e=>Bv(n[e]))}function Iz(n){return!!(jb(n)||n.variants)}function Zte(n,e){if(jb(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Bv(t)?t:void 0,animate:Bv(r)?r:void 0}}return n.inherit!==!1?e:{}}function Jte(n){const{initial:e,animate:t}=Zte(n,G.useContext(zb));return G.useMemo(()=>({initial:e,animate:t}),[bO(e),bO(t)])}function bO(n){return Array.isArray(n)?n.join(" "):n}const Fv={};function Qte(n){for(const e in n)Fv[e]=n[e],BA(e)&&(Fv[e].isCSSVariable=!0)}function Dz(n,{layout:e,layoutId:t}){return vg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Fv[n]||n==="opacity")}const ene={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tne=mg.length;function nne(n,e,t){let r="",i=!0;for(let s=0;s<tne;s++){const l=mg[s],a=n[l];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(l.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||t){const h=Mz(a,qA[l]);if(!o){i=!1;const c=ene[l]||l;r+=`${c}(${h}) `}t&&(e[l]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function QA(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let l=!1,a=!1;for(const o in e){const h=e[o];if(vg.has(o)){l=!0;continue}else if(BA(o)){i[o]=h;continue}else{const c=Mz(h,qA[o]);o.startsWith("origin")?(a=!0,s[o]=c):r[o]=c}}if(e.transform||(l||t?r.transform=nne(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:h="50%",originZ:c=0}=s;r.transformOrigin=`${o} ${h} ${c}`}}const ek=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nz(n,e,t){for(const r in e)!us(e[r])&&!Dz(r,t)&&(n[r]=e[r])}function rne({transformTemplate:n},e){return G.useMemo(()=>{const t=ek();return QA(t,e,n),Object.assign({},t.vars,t.style)},[e])}function ine(n,e){const t=n.style||{},r={};return Nz(r,t,n),Object.assign(r,rne(n,e)),r}function sne(n,e){const t={},r=ine(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const one={offset:"stroke-dashoffset",array:"stroke-dasharray"},ane={offset:"strokeDashoffset",array:"strokeDasharray"};function lne(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?one:ane;n[s.offset]=Vt.transform(-r);const l=Vt.transform(e),a=Vt.transform(t);n[s.array]=`${l} ${a}`}function Bz(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...a},o,h,c){if(QA(n,a,h),o){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:u,style:d}=n;u.transform&&(d.transform=u.transform,delete u.transform),(d.transform||u.transformOrigin)&&(d.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete u.transformBox),e!==void 0&&(u.x=e),t!==void 0&&(u.y=t),r!==void 0&&(u.scale=r),i!==void 0&&lne(u,i,s,l,!1)}const Fz=()=>({...ek(),attrs:{}}),$z=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cne(n,e,t,r){const i=G.useMemo(()=>{const s=Fz();return Bz(s,e,$z(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Nz(s,n.style,n),i.style={...s,...i.style}}return i}const une=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tk(n){return typeof n!="string"||n.includes("-")?!1:!!(une.indexOf(n)>-1||/[A-Z]/u.test(n))}function hne(n,e,t,{latestValues:r},i,s=!1){const a=(tk(n)?cne:sne)(e,r,i,n),o=Yte(e,typeof n=="string",s),h=n!==G.Fragment?{...o,...a,ref:t}:{},{children:c}=e,u=G.useMemo(()=>us(c)?c.get():c,[c]);return G.createElement(n,{...h,children:u})}function wO(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function nk(n,e,t,r){if(typeof e=="function"){const[i,s]=wO(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=wO(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function l_(n){return us(n)?n.get():n}function dne({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:fne(t,r,i,n),renderState:e()}}function fne(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=l_(s[d]);let{initial:l,animate:a}=n;const o=jb(n),h=Iz(n);e&&h&&!o&&n.inherit!==!1&&(l===void 0&&(l=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||l===!1;const u=c?a:l;if(u&&typeof u!="boolean"&&!Ub(u)){const d=Array.isArray(u)?u:[u];for(let f=0;f<d.length;f++){const p=nk(n,d[f]);if(p){const{transitionEnd:m,transition:g,...v}=p;for(const y in v){let _=v[y];if(Array.isArray(_)){const w=c?_.length-1:0;_=_[w]}_!==null&&(i[y]=_)}for(const y in m)i[y]=m[y]}}}return i}const zz=n=>(e,t)=>{const r=G.useContext(zb),i=G.useContext(kA),s=()=>dne(n,e,r,i);return t?s():KQ(s)};function rk(n,e,t){const{style:r}=n,i={};for(const s in r)(us(r[s])||e.style&&us(e.style[s])||Dz(s,n)||t?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const pne=zz({scrapeMotionValuesFromProps:rk,createRenderState:ek});function Uz(n,e,t){const r=rk(n,e,t);for(const i in n)if(us(n[i])||us(e[i])){const s=mg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const gne=zz({scrapeMotionValuesFromProps:Uz,createRenderState:Fz}),mne=Symbol.for("motionComponentSymbol");function Op(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function vne(n,e,t){return G.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Op(t)&&(t.current=r))},[e])}const ik=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yne="framerAppearId",jz="data-"+ik(yne),Hz=G.createContext({});function xne(n,e,t,r,i){const{visualElement:s}=G.useContext(zb),l=G.useContext(Pz),a=G.useContext(kA),o=G.useContext(Lz).reducedMotion,h=G.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=h.current,u=G.useContext(Hz);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&_ne(h.current,t,i,u);const d=G.useRef(!1);G.useInsertionEffect(()=>{c&&d.current&&c.update(t,a)});const f=t[jz],p=G.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return qQ(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),G.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),c.enteringChildren=void 0)}),c}function _ne(n,e,t,r){const{layoutId:i,layout:s,drag:l,dragConstraints:a,layoutScroll:o,layoutRoot:h,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Wz(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||a&&Op(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:o,layoutRoot:h})}function Wz(n){if(n)return n.options.allowProjection!==!1?n.projection:Wz(n.parent)}function hS(n,{forwardMotionProps:e=!1}={},t,r){t&&Kte(t);const i=tk(n)?gne:pne;function s(a,o){let h;const c={...G.useContext(Lz),...a,layoutId:bne(a)},{isStatic:u}=c,d=Jte(a),f=i(a,u);if(!u&&AA){wne();const p=Sne(c);h=p.MeasureLayout,d.visualElement=xne(n,f,c,r,p.ProjectionNode)}return U.jsxs(zb.Provider,{value:d,children:[h&&d.visualElement?U.jsx(h,{visualElement:d.visualElement,...c}):null,hne(n,a,vne(f,d.visualElement,o),f,u,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=G.forwardRef(s);return l[mne]=n,l}function bne({layoutId:n}){const e=G.useContext(U4).id;return e&&n!==void 0?e+"-"+n:n}function wne(n,e){G.useContext(Pz).strict}function Sne(n){const{drag:e,layout:t}=Yp;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Cne(n,e){if(typeof Proxy>"u")return hS;const t=new Map,r=(s,l)=>hS(s,l,n,e),i=(s,l)=>r(s,l);return new Proxy(i,{get:(s,l)=>l==="create"?r:(t.has(l)||t.set(l,hS(l,void 0,n,e)),t.get(l))})}function Vz({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Ene({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Mne(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function dS(n){return n===void 0||n===1}function vM({scale:n,scaleX:e,scaleY:t}){return!dS(n)||!dS(e)||!dS(t)}function vd(n){return vM(n)||Gz(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Gz(n){return SO(n.x)||SO(n.y)}function SO(n){return n&&n!=="0%"}function L_(n,e,t){const r=n-t,i=e*r;return t+i}function CO(n,e,t,r,i){return i!==void 0&&(n=L_(n,i,r)),L_(n,t,r)+e}function yM(n,e=0,t=1,r,i){n.min=CO(n.min,e,t,r,i),n.max=CO(n.max,e,t,r,i)}function Kz(n,{x:e,y:t}){yM(n.x,e.translate,e.scale,e.originPoint),yM(n.y,t.translate,t.scale,t.originPoint)}const EO=.999999999999,MO=1.0000000000001;function Tne(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,l;for(let a=0;a<i;a++){s=t[a],l=s.projectionDelta;const{visualElement:o}=s.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Dp(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Kz(n,l)),r&&vd(s.latestValues)&&Dp(n,s.latestValues))}e.x<MO&&e.x>EO&&(e.x=1),e.y<MO&&e.y>EO&&(e.y=1)}function Ip(n,e){n.min=n.min+e,n.max=n.max+e}function TO(n,e,t,r,i=.5){const s=kr(n.min,n.max,i);yM(n,e,t,s,r)}function Dp(n,e){TO(n.x,e.x,e.scaleX,e.scale,e.originX),TO(n.y,e.y,e.scaleY,e.scale,e.originY)}function qz(n,e){return Vz(Mne(n.getBoundingClientRect(),e))}function Ane(n,e,t){const r=qz(n,t),{scroll:i}=e;return i&&(Ip(r.x,i.offset.x),Ip(r.y,i.offset.y)),r}const AO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Np=()=>({x:AO(),y:AO()}),kO=()=>({min:0,max:0}),Vr=()=>({x:kO(),y:kO()}),xM={current:null},Xz={current:!1};function kne(){if(Xz.current=!0,!!AA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>xM.current=n.matches;n.addEventListener("change",e),e()}else xM.current=!1}const Rne=new WeakMap;function Lne(n,e,t){for(const r in e){const i=e[r],s=t[r];if(us(i))n.addValue(r,i);else if(us(s))n.addValue(r,Xp(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Xp(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const RO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pne{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=GA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Js.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,mr.render(this.render,!1,!0))};const{latestValues:o,renderState:h}=l;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jb(t),this.isVariantNode=Iz(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in u){const f=u[d];o[d]!==void 0&&us(f)&&f.set(o[d])}}mount(e){this.current=e,Rne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Xz.current||kne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xM.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ah(this.notifyUpdate),ah(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vg.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yp){const t=Yp[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<RO.length;r++){const i=RO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=e[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Lne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Xp(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(j4(r)||W4(r))?r=parseFloat(r):!Vte(r)&&lh.test(t)&&(r=Ez(e,t)),this.setBaseTarget(e,us(r)?r.get():r)),us(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=nk(this.props,t,this.presenceContext?.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!us(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new IA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){XA.render(this.render)}}class Yz extends Pne{constructor(){super(...arguments),this.KeyframeResolver=Pte}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;us(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Zz(n,{style:e,vars:t},r,i){const s=n.style;let l;for(l in e)s[l]=e[l];i?.applyProjectionStyles(s,r);for(l in t)s.setProperty(l,t[l])}function One(n){return window.getComputedStyle(n)}class Ine extends Yz{constructor(){super(...arguments),this.type="html",this.renderInstance=Zz}readValueFromInstance(e,t){if(vg.has(t))return this.projection?.isProjecting?uM(t):Zee(e,t);{const r=One(e),i=(BA(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qz(e,t)}build(e,t,r){QA(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return rk(e,t,r)}}const Jz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dne(n,e,t,r){Zz(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Jz.has(i)?i:ik(i),e.attrs[i])}class Nne extends Yz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vg.has(t)){const r=Cz(t);return r&&r.default||0}return t=Jz.has(t)?t:ik(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Uz(e,t,r)}build(e,t,r){Bz(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){Dne(e,t,r,i)}mount(e){this.isSVGTag=$z(e.tagName),super.mount(e)}}const Bne=(n,e)=>tk(n)?new Nne(e):new Ine(e,{allowProjection:n!==G.Fragment});function zp(n,e,t){const r=n.getProps();return nk(r,e,t!==void 0?t:r.custom,n)}const _M=n=>Array.isArray(n);function Fne(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Xp(t))}function $ne(n){return _M(n)?n[n.length-1]||0:n}function zne(n,e){const t=zp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const l in s){const a=$ne(s[l]);Fne(n,l,a)}}function Une(n){return!!(us(n)&&n.add)}function bM(n,e){const t=n.getValue("willChange");if(Une(t))return t.add(e);if(!t&&zc.WillChange){const r=new zc.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Qz(n){return n.props[jz]}const jne=n=>n!==null;function Hne(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(jne),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Wne={type:"spring",stiffness:500,damping:25,restSpeed:10},Vne=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Gne={type:"keyframes",duration:.8},Kne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qne=(n,{keyframes:e})=>e.length>2?Gne:vg.has(n)?n.startsWith("scale")?Vne(e[1]):Wne:Kne;function Xne({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:a,from:o,elapsed:h,...c}){return!!Object.keys(c).length}const sk=(n,e,t,r={},i,s)=>l=>{const a=KA(r,n)||{},o=a.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Sl(o);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-h,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{l(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};Xne(a)||Object.assign(c,qne(n,c)),c.duration&&(c.duration=Sl(c.duration)),c.repeatDelay&&(c.repeatDelay=Sl(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let u=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(gM(c),c.delay===0&&(u=!0)),(zc.instantAnimations||zc.skipAnimations)&&(u=!0,gM(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,u&&!s&&e.get()!==void 0){const d=Hne(c.keyframes,a);if(d!==void 0){mr.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new VA(c):new _te(c)};function Yne({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function e5(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:l,...a}=e;r&&(s=r);const o=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const c in a){const u=n.getValue(c,n.latestValues[c]??null),d=a[c];if(d===void 0||h&&Yne(h,c))continue;const f={delay:t,...KA(s||{},c)},p=u.get();if(p!==void 0&&!u.isAnimating&&!Array.isArray(d)&&d===p&&!f.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=Qz(n);if(v){const y=window.MotionHandoffAnimation(v,c,mr);y!==null&&(f.startTime=y,m=!0)}}bM(n,c),u.start(sk(c,u,d,n.shouldReduceMotion&&bz.has(c)?{type:!1}:f,n,m));const g=u.animation;g&&o.push(g)}return l&&Promise.all(o).then(()=>{mr.update(()=>{l&&zne(n,l)})}),o}function t5(n,e,t,r=0,i=1){const s=Array.from(n).sort((h,c)=>h.sortNodePosition(c)).indexOf(e),l=n.size,a=(l-1)*r;return typeof t=="function"?t(s,l):i===1?s*r:a-s*r}function wM(n,e,t={}){const r=zp(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(e5(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(o=0)=>{const{delayChildren:h=0,staggerChildren:c,staggerDirection:u}=i;return Zne(n,e,o,h,c,u,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[o,h]=a==="beforeChildren"?[s,l]:[l,s];return o().then(()=>h())}else return Promise.all([s(),l(t.delay)])}function Zne(n,e,t=0,r=0,i=0,s=1,l){const a=[];for(const o of n.variantChildren)o.notify("AnimationStart",e),a.push(wM(o,e,{...l,delay:t+(typeof r=="function"?0:r)+t5(n.variantChildren,o,r,i,s)}).then(()=>o.notify("AnimationComplete",e)));return Promise.all(a)}function Jne(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=wM(n,e,t);else{const i=typeof e=="function"?zp(n,e,t.custom):e;r=Promise.all(e5(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function n5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Qne=JA.length;function r5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?r5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Qne;t++){const r=JA[t],i=n.props[r];(Bv(i)||i===!1)&&(e[r]=i)}return e}const ere=[...ZA].reverse(),tre=ZA.length;function nre(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Jne(n,t,r)))}function rre(n){let e=nre(n),t=LO(),r=!0;const i=o=>(h,c)=>{const u=zp(n,c,o==="exit"?n.presenceContext?.custom:void 0);if(u){const{transition:d,transitionEnd:f,...p}=u;h={...h,...p,...f}}return h};function s(o){e=o(n)}function l(o){const{props:h}=n,c=r5(n.parent)||{},u=[],d=new Set;let f={},p=1/0;for(let g=0;g<tre;g++){const v=ere[g],y=t[v],_=h[v]!==void 0?h[v]:c[v],w=Bv(_),C=v===o?y.isActive:null;C===!1&&(p=g);let b=_===c[v]&&_!==h[v]&&w;if(b&&r&&n.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...f},!y.isActive&&C===null||!_&&!y.prevProp||Ub(_)||typeof _=="boolean")continue;const T=ire(y.prevProp,_);let A=T||v===o&&y.isActive&&!b&&w||g>p&&w,k=!1;const P=Array.isArray(_)?_:[_];let N=P.reduce(i(v),{});C===!1&&(N={});const{prevResolvedValues:D={}}=y,L={...D,...N},I=H=>{A=!0,d.has(H)&&(k=!0,d.delete(H)),y.needsAnimating[H]=!0;const j=n.getValue(H);j&&(j.liveStyle=!1)};for(const H in L){const j=N[H],z=D[H];if(f.hasOwnProperty(H))continue;let W=!1;_M(j)&&_M(z)?W=!n5(j,z):W=j!==z,W?j!=null?I(H):d.add(H):j!==void 0&&d.has(H)?I(H):y.protectedKeys[H]=!0}y.prevProp=_,y.prevResolvedValues=N,y.isActive&&(f={...f,...N}),r&&n.blockInitialAnimation&&(A=!1);const O=b&&T;A&&(!O||k)&&u.push(...P.map(H=>{const j={type:v};if(typeof H=="string"&&r&&!O&&n.manuallyAnimateOnMount&&n.parent){const{parent:z}=n,W=zp(z,H);if(z.enteringChildren&&W){const{delayChildren:K}=W.transition||{};j.delay=t5(z.enteringChildren,n,K)}}return{animation:H,options:j}}))}if(d.size){const g={};if(typeof h.initial!="boolean"){const v=zp(n,Array.isArray(h.initial)?h.initial[0]:h.initial);v&&v.transition&&(g.transition=v.transition)}d.forEach(v=>{const y=n.getBaseTarget(v),_=n.getValue(v);_&&(_.liveStyle=!0),g[v]=y??null}),u.push({animation:g})}let m=!!u.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(u):Promise.resolve()}function a(o,h){if(t[o].isActive===h)return Promise.resolve();n.variantChildren?.forEach(u=>u.animationState?.setActive(o,h)),t[o].isActive=h;const c=l(o);for(const u in t)t[u].protectedKeys={};return c}return{animateChanges:l,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=LO()}}}function ire(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!n5(e,n):!1}function fd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LO(){return{animate:fd(!0),whileInView:fd(),whileHover:fd(),whileTap:fd(),whileDrag:fd(),whileFocus:fd(),exit:fd()}}class mh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sre extends mh{constructor(e){super(e),e.animationState||(e.animationState=rre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ub(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ore=0;class are extends mh{constructor(){super(...arguments),this.id=ore++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lre={animation:{Feature:sre},exit:{Feature:are}};function $v(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Sy(n){return{point:{x:n.pageX,y:n.pageY}}}const cre=n=>e=>YA(e)&&n(e,Sy(e));function uv(n,e,t,r){return $v(n,e,cre(t),r)}const i5=1e-4,ure=1-i5,hre=1+i5,s5=.01,dre=0-s5,fre=0+s5;function Rs(n){return n.max-n.min}function pre(n,e,t){return Math.abs(n-e)<=t}function PO(n,e,t,r=.5){n.origin=r,n.originPoint=kr(e.min,e.max,n.origin),n.scale=Rs(t)/Rs(e),n.translate=kr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ure&&n.scale<=hre||isNaN(n.scale))&&(n.scale=1),(n.translate>=dre&&n.translate<=fre||isNaN(n.translate))&&(n.translate=0)}function hv(n,e,t,r){PO(n.x,e.x,t.x,r?r.originX:void 0),PO(n.y,e.y,t.y,r?r.originY:void 0)}function OO(n,e,t){n.min=t.min+e.min,n.max=n.min+Rs(e)}function gre(n,e,t){OO(n.x,e.x,t.x),OO(n.y,e.y,t.y)}function IO(n,e,t){n.min=e.min-t.min,n.max=n.min+Rs(e)}function dv(n,e,t){IO(n.x,e.x,t.x),IO(n.y,e.y,t.y)}function Xo(n){return[n("x"),n("y")]}const o5=({current:n})=>n?n.ownerDocument.defaultView:null,DO=(n,e)=>Math.abs(n-e);function mre(n,e){const t=DO(n.x,e.x),r=DO(n.y,e.y);return Math.sqrt(t**2+r**2)}class a5{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=pS(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=mre(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=Ki;this.history.push({...m,timestamp:g});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=fS(f,this.transformPagePoint),mr.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pS(d.type==="pointercancel"?this.lastMoveEventInfo:fS(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),m&&m(d,v)},!YA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const a=Sy(e),o=fS(a,this.transformPagePoint),{point:h}=o,{timestamp:c}=Ki;this.history=[{...h,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,pS(o,this.history)),this.removeListeners=_y(uv(this.contextWindow,"pointermove",this.handlePointerMove),uv(this.contextWindow,"pointerup",this.handlePointerUp),uv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ah(this.updatePoint)}}function fS(n,e){return e?{point:e(n.point)}:n}function NO(n,e){return{x:n.x-e.x,y:n.y-e.y}}function pS({point:n},e){return{point:n,delta:NO(n,l5(e)),offset:NO(n,vre(e)),velocity:yre(e,.1)}}function vre(n){return n[0]}function l5(n){return n[n.length-1]}function yre(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=l5(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Sl(e)));)t--;if(!r)return{x:0,y:0};const s=ea(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function xre(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?kr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?kr(t,n,r.max):Math.min(n,t)),n}function BO(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function _re(n,{top:e,left:t,bottom:r,right:i}){return{x:BO(n.x,t,i),y:BO(n.y,e,r)}}function FO(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function bre(n,e){return{x:FO(n.x,e.x),y:FO(n.y,e.y)}}function wre(n,e){let t=.5;const r=Rs(n),i=Rs(e);return i>r?t=Iv(e.min,e.max-r,n.min):r>i&&(t=Iv(n.min,n.max-i,e.min)),$c(0,1,t)}function Sre(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const SM=.35;function Cre(n=SM){return n===!1?n=0:n===!0&&(n=SM),{x:$O(n,"left","right"),y:$O(n,"top","bottom")}}function $O(n,e,t){return{min:zO(n,e),max:zO(n,t)}}function zO(n,e){return typeof n=="number"?n:n[e]||0}const Ere=new WeakMap;class Mre{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sy(u).point)},l=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bte(f),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Cl.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[v];w&&(y=Rs(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&mr.postRender(()=>m(u,d)),bM(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(u,d)=>{this.latestPointerEvent=u,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=Tre(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),g&&g(u,d)},o=(u,d)=>{this.latestPointerEvent=u,this.latestPanInfo=d,this.stop(u,d),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Xo(u=>this.getAnimationState(u)==="paused"&&this.getAxisMotionValue(u).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new a5(e,{onSessionStart:s,onStart:l,onMove:a,onSessionEnd:o,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:o5(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:a}=this.getProps();a&&mr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ax(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=xre(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Op(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_re(r.layoutBox,e):this.constraints=!1,this.elastic=Cre(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Sre(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Op(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Ane(r,i.root,this.visualElement.getTransformPagePoint());let l=bre(i.layout.layoutBox,s);if(t){const a=t(Ene(l));this.hasMutatedConstraints=!!a,a&&(l=Vz(a))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},h=Xo(c=>{if(!Ax(c,t,this.currentDirection))return;let u=o&&o[c]||{};l&&(u={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(c,p)});return Promise.all(h).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return bM(this.visualElement,e),r.start(sk(e,r,0,t,this.visualElement,!1))}stopAnimation(){Xo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xo(t=>{const{drag:r}=this.getProps();if(!Ax(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:a}=i.layout.layoutBox[t];s.set(e[t]-kr(l,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Op(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xo(l=>{const a=this.getAxisMotionValue(l);if(a&&this.constraints!==!1){const o=a.get();i[l]=wre({min:o,max:o},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xo(l=>{if(!Ax(l,e,null))return;const a=this.getAxisMotionValue(l),{min:o,max:h}=this.constraints[l];a.set(kr(o,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;Ere.set(this.visualElement,this);const e=this.visualElement.current,t=uv(e,"pointerdown",o=>{const{drag:h,dragListener:c=!0}=this.getProps();h&&c&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();Op(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mr.read(r);const l=$v(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:o,hasLayoutChanged:h})=>{this.isDragging&&h&&(Xo(c=>{const u=this.getAxisMotionValue(c);u&&(this.originPoint[c]+=o[c].translate,u.set(u.get()+o[c].translate))}),this.visualElement.render())}));return()=>{l(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=SM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:a}}}function Ax(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Tre(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Are extends mh{constructor(e){super(e),this.removeGroupControls=na,this.removeListeners=na,this.controls=new Mre(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||na}unmount(){this.removeGroupControls(),this.removeListeners()}}const UO=n=>(e,t)=>{n&&mr.postRender(()=>n(e,t))};class kre extends mh{constructor(){super(...arguments),this.removePointerDownListener=na}onPointerDown(e){this.session=new a5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UO(e),onStart:UO(t),onMove:r,onEnd:(s,l)=>{delete this.session,i&&mr.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=uv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const c_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jO(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Dm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Vt.test(n))n=parseFloat(n);else return n;const t=jO(n,e.target.x),r=jO(n,e.target.y);return`${t}% ${r}%`}},Rre={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=lh.parse(n);if(i.length>5)return r;const s=lh.createTransformer(n),l=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,o=t.y.scale*e.y;i[0+l]/=a,i[1+l]/=o;const h=kr(a,o,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}};let gS=!1;class Lre extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Qte(Pre),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),gS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),c_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,gS=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||mr.postRender(()=>{const a=l.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;gS=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function c5(n){const[e,t]=Gte(),r=G.useContext(U4);return U.jsx(Lre,{...n,layoutGroup:r,switchLayoutGroup:G.useContext(Hz),isPresent:e,safeToRemove:t})}const Pre={borderRadius:{...Dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dm,borderTopRightRadius:Dm,borderBottomLeftRadius:Dm,borderBottomRightRadius:Dm,boxShadow:Rre};function Ore(n,e,t){const r=us(n)?n:Xp(n);return r.start(sk("",r,e,t)),r.animation}const Ire=(n,e)=>n.depth-e.depth;class Dre{constructor(){this.children=[],this.isDirty=!1}add(e){RA(this.children,e),this.isDirty=!0}remove(e){LA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ire),this.isDirty=!1,this.children.forEach(e)}}function Nre(n,e){const t=Js.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(ah(r),n(s-e))};return mr.setup(r,!0),()=>ah(r)}const u5=["TopLeft","TopRight","BottomLeft","BottomRight"],Bre=u5.length,HO=n=>typeof n=="string"?parseFloat(n):n,WO=n=>typeof n=="number"||Vt.test(n);function Fre(n,e,t,r,i,s){i?(n.opacity=kr(0,t.opacity??1,$re(r)),n.opacityExit=kr(e.opacity??1,0,zre(r))):s&&(n.opacity=kr(e.opacity??1,t.opacity??1,r));for(let l=0;l<Bre;l++){const a=`border${u5[l]}Radius`;let o=VO(e,a),h=VO(t,a);if(o===void 0&&h===void 0)continue;o||(o=0),h||(h=0),o===0||h===0||WO(o)===WO(h)?(n[a]=Math.max(kr(HO(o),HO(h),r),0),(Cl.test(h)||Cl.test(o))&&(n[a]+="%")):n[a]=h}(e.rotate||t.rotate)&&(n.rotate=kr(e.rotate||0,t.rotate||0,r))}function VO(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const $re=h5(0,.5,J4),zre=h5(.5,.95,na);function h5(n,e,t){return r=>r<n?0:r>e?1:t(Iv(n,e,r))}function GO(n,e){n.min=e.min,n.max=e.max}function jo(n,e){GO(n.x,e.x),GO(n.y,e.y)}function KO(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function qO(n,e,t,r,i){return n-=e,n=L_(n,1/t,r),i!==void 0&&(n=L_(n,1/i,r)),n}function Ure(n,e=0,t=1,r=.5,i,s=n,l=n){if(Cl.test(e)&&(e=parseFloat(e),e=kr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let a=kr(s.min,s.max,r);n===s&&(a-=e),n.min=qO(n.min,e,t,a,i),n.max=qO(n.max,e,t,a,i)}function XO(n,e,[t,r,i],s,l){Ure(n,e[t],e[r],e[i],e.scale,s,l)}const jre=["x","scaleX","originX"],Hre=["y","scaleY","originY"];function YO(n,e,t,r){XO(n.x,e,jre,t?t.x:void 0,r?r.x:void 0),XO(n.y,e,Hre,t?t.y:void 0,r?r.y:void 0)}function ZO(n){return n.translate===0&&n.scale===1}function d5(n){return ZO(n.x)&&ZO(n.y)}function JO(n,e){return n.min===e.min&&n.max===e.max}function Wre(n,e){return JO(n.x,e.x)&&JO(n.y,e.y)}function QO(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function f5(n,e){return QO(n.x,e.x)&&QO(n.y,e.y)}function eI(n){return Rs(n.x)/Rs(n.y)}function tI(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Vre{constructor(){this.members=[]}add(e){RA(this.members,e),e.scheduleRender()}remove(e){if(LA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gre(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,l=t?.z||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:c,rotateX:u,rotateY:d,skewX:f,skewY:p}=t;h&&(r=`perspective(${h}px) ${r}`),c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `),f&&(r+=`skewX(${f}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=n.x.scale*e.x,o=n.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const mS=["","X","Y","Z"],Kre=1e3;let qre=0;function vS(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function p5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Qz(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",mr,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&p5(r)}function g5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},a=e?.()){this.id=qre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zre),this.nodes.forEach(tie),this.nodes.forEach(nie),this.nodes.forEach(Jre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dre)}addEventListener(l,a){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new IA),this.eventHandlers.get(l).add(a)}notifyListeners(l,...a){const o=this.eventHandlers.get(l);o&&o.notify(...a)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Rz(l)&&!Hte(l),this.instance=l;const{layoutId:a,layout:o,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||a)&&(this.isLayoutDirty=!0),n){let c,u=0;const d=()=>this.root.updateBlockedByResize=!1;mr.read(()=>{u=window.innerWidth}),n(l,()=>{const f=window.innerWidth;f!==u&&(u=f,this.root.updateBlockedByResize=!0,c&&c(),c=Nre(d,250),c_.hasAnimatedSinceResize&&(c_.hasAnimatedSinceResize=!1,this.nodes.forEach(iI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||o)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||h.getDefaultTransition()||aie,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=h.getProps(),v=!this.targetLayout||!f5(this.targetLayout,f),y=!u&&d;if(this.options.layoutRoot||this.resumeFrom||y||u&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...KA(p,"layout"),onPlay:m,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(c,y)}else u||iI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ah(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rie),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&p5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const u=this.path[c];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eie),this.nodes.forEach(Xre),this.nodes.forEach(Yre)):this.nodes.forEach(rI),this.clearAllSnapshots();const a=Js.now();Ki.delta=$c(0,1e3/60,a-Ki.timestamp),Ki.timestamp=a,Ki.isProcessing=!0,sS.update.process(Ki),sS.preRender.process(Ki),sS.render.process(Ki),Ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qre),this.sharedNodes.forEach(iie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rs(this.snapshot.measuredBox.x)&&!Rs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(a=!1),a&&this.instance){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:o,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!d5(this.projectionDelta),o=this.getTransformTemplate(),h=o?o(this.latestValues,""):void 0,c=h!==this.prevTransformTemplateValue;l&&this.instance&&(a||vd(this.latestValues)||c)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return l&&(o=this.removeTransform(o)),lie(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Vr();const a=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cie))){const{scroll:h}=this.root;h&&(Ip(a.x,h.offset.x),Ip(a.y,h.offset.y))}return a}removeElementScroll(l){const a=Vr();if(jo(a,l),this.scroll?.wasRoot)return a;for(let o=0;o<this.path.length;o++){const h=this.path[o],{scroll:c,options:u}=h;h!==this.root&&c&&u.layoutScroll&&(c.wasRoot&&jo(a,l),Ip(a.x,c.offset.x),Ip(a.y,c.offset.y))}return a}applyTransform(l,a=!1){const o=Vr();jo(o,l);for(let h=0;h<this.path.length;h++){const c=this.path[h];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Dp(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),vd(c.latestValues)&&Dp(o,c.latestValues)}return vd(this.latestValues)&&Dp(o,this.latestValues),o}removeTransform(l){const a=Vr();jo(a,l);for(let o=0;o<this.path.length;o++){const h=this.path[o];if(!h.instance||!vd(h.latestValues))continue;vM(h.latestValues)&&h.updateSnapshot();const c=Vr(),u=h.measurePageBox();jo(c,u),YO(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,c)}return vd(this.latestValues)&&YO(a,this.latestValues),a}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==a;if(!(l||o&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:u}=this.options;if(!(!this.layout||!(c||u))){if(this.resolvedRelativeTargetAt=Ki.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),dv(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vr(),this.targetWithTransforms=Vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jo(this.target,this.layout.layoutBox),Kz(this.target,this.targetDelta)):jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),dv(this.relativeTargetOrigin,this.target,d.target),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vM(this.parent.latestValues)||Gz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),a=!!this.resumingFrom||this!==l;let o=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(o=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===Ki.timestamp&&(o=!1),o)return;const{layout:h,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||c))return;jo(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,d=this.treeScale.y;Tne(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Vr());const{target:f}=l;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KO(this.prevProjectionDelta.x,this.projectionDelta.x),KO(this.prevProjectionDelta.y,this.projectionDelta.y)),hv(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==d||!tI(this.projectionDelta.x,this.prevProjectionDelta.x)||!tI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Np(),this.projectionDelta=Np(),this.projectionDeltaWithTransform=Np()}setAnimationOrigin(l,a=!1){const o=this.snapshot,h=o?o.latestValues:{},c={...this.latestValues},u=Np();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Vr(),f=o?o.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,g=this.getStack(),v=!g||g.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(oie));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const C=w/1e3;sI(u.x,l.x,C),sI(u.y,l.y,C),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sie(this.relativeTarget,this.relativeTargetOrigin,d,C),_&&Wre(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Vr()),jo(_,this.relativeTarget)),m&&(this.animationValues=c,Fre(c,h,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ah(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mr.update(()=>{c_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xp(0)),this.currentAnimation=Ore(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),l.onUpdate&&l.onUpdate(a)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:a,target:o,layout:h,latestValues:c}=l;if(!(!a||!o||!h)){if(this!==l&&this.layout&&h&&m5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){o=this.target||Vr();const u=Rs(this.layout.layoutBox.x);o.x.min=l.target.x.min,o.x.max=o.x.min+u;const d=Rs(this.layout.layoutBox.y);o.y.min=l.target.y.min,o.y.max=o.y.min+d}jo(a,o),Dp(a,c),hv(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(l,a){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Vre),this.sharedNodes.get(l).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:a,preserveFollowOpacity:o}={}){const h=this.getStack();h&&h.promote(this,o),l&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let a=!1;const{latestValues:o}=l;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const h={};o.z&&vS("z",l,h,this.animationValues);for(let c=0;c<mS.length;c++)vS(`rotate${mS[c]}`,l,h,this.animationValues),vS(`skew${mS[c]}`,l,h,this.animationValues);l.render();for(const c in h)l.setStaticValue(c,h[c]),this.animationValues&&(this.animationValues[c]=h[c]);l.scheduleRender()}applyProjectionStyles(l,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=l_(a?.pointerEvents)||"",l.transform=o?o(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=l_(a?.pointerEvents)||""),this.hasProjected&&!vd(this.latestValues)&&(l.transform=o?o({},""):"none",this.hasProjected=!1);return}l.visibility="";const c=h.animationValues||h.latestValues;this.applyTransformsToTarget();let u=Gre(this.projectionDeltaWithTransform,this.treeScale,c);o&&(u=o(c,u)),l.transform=u;const{x:d,y:f}=this.projectionDelta;l.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,h.animationValues?l.opacity=h===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:l.opacity=h===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Fv){if(c[p]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:v}=Fv[p],y=u==="none"?c[p]:m(c[p],h);if(g){const _=g.length;for(let w=0;w<_;w++)l[g[w]]=y}else v?this.options.visualElement.renderState.vars[p]=y:l[p]=y}this.options.layoutId&&(l.pointerEvents=h===this?l_(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(nI),this.root.sharedNodes.clear()}}}function Xre(n){n.updateLayout()}function Yre(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,s=e.source!==n.layout.source;i==="size"?Xo(c=>{const u=s?e.measuredBox[c]:e.layoutBox[c],d=Rs(u);u.min=t[c].min,u.max=u.min+d}):m5(i,e.layoutBox,t)&&Xo(c=>{const u=s?e.measuredBox[c]:e.layoutBox[c],d=Rs(t[c]);u.max=u.min+d,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[c].max=n.relativeTarget[c].min+d)});const l=Np();hv(l,t,e.layoutBox);const a=Np();s?hv(a,n.applyTransform(r,!0),e.measuredBox):hv(a,t,e.layoutBox);const o=!d5(l);let h=!1;if(!n.resumeFrom){const c=n.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:u,layout:d}=c;if(u&&d){const f=Vr();dv(f,e.layoutBox,u.layoutBox);const p=Vr();dv(p,t,d.layoutBox),f5(f,p)||(h=!0),c.options.layoutRoot&&(n.relativeTarget=p,n.relativeTargetOrigin=f,n.relativeParent=c)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:a,layoutDelta:l,hasLayoutChanged:o,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function Zre(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Jre(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Qre(n){n.clearSnapshot()}function nI(n){n.clearMeasurements()}function rI(n){n.isLayoutDirty=!1}function eie(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function iI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function tie(n){n.resolveTargetDelta()}function nie(n){n.calcProjection()}function rie(n){n.resetSkewAndRotation()}function iie(n){n.removeLeadSnapshot()}function sI(n,e,t){n.translate=kr(e.translate,0,t),n.scale=kr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function oI(n,e,t,r){n.min=kr(e.min,t.min,r),n.max=kr(e.max,t.max,r)}function sie(n,e,t,r){oI(n.x,e.x,t.x,r),oI(n.y,e.y,t.y,r)}function oie(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const aie={duration:.45,ease:[.4,0,.1,1]},aI=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lI=aI("applewebkit/")&&!aI("chrome/")?Math.round:na;function cI(n){n.min=lI(n.min),n.max=lI(n.max)}function lie(n){cI(n.x),cI(n.y)}function m5(n,e,t){return n==="position"||n==="preserve-aspect"&&!pre(eI(e),eI(t),.2)}function cie(n){return n!==n.root&&n.scroll?.wasRoot}const uie=g5({attachResizeListener:(n,e)=>$v(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yS={current:void 0},v5=g5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yS.current){const n=new uie({});n.mount(window),n.setOptions({layoutScroll:!0}),yS.current=n}return yS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),hie={pan:{Feature:kre},drag:{Feature:Are,ProjectionNode:v5,MeasureLayout:c5}};function uI(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&mr.postRender(()=>s(e,Sy(e)))}class die extends mh{mount(){const{current:e}=this.node;e&&(this.unmount=Fte(e,(t,r)=>(uI(this.node,r,"Start"),i=>uI(this.node,i,"End"))))}unmount(){}}class fie extends mh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_y($v(this.node.current,"focus",()=>this.onFocus()),$v(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hI(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&mr.postRender(()=>s(e,Sy(e)))}class pie extends mh{mount(){const{current:e}=this.node;e&&(this.unmount=jte(e,(t,r)=>(hI(this.node,r,"Start"),(i,{success:s})=>hI(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const CM=new WeakMap,xS=new WeakMap,gie=n=>{const e=CM.get(n.target);e&&e(n)},mie=n=>{n.forEach(gie)};function vie({root:n,...e}){const t=n||document;xS.has(t)||xS.set(t,{});const r=xS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mie,{root:n,...e})),r[i]}function yie(n,e,t){const r=vie(e);return CM.set(n,t),r.observe(n),()=>{CM.delete(n),r.unobserve(n)}}const xie={some:0,all:1};class _ie extends mh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xie[i]},a=o=>{const{isIntersecting:h}=o;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:c,onViewportLeave:u}=this.node.getProps(),d=h?c:u;d&&d(o)};return yie(this.node.current,l,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(bie(e,t))&&this.startObserver()}unmount(){}}function bie({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const wie={inView:{Feature:_ie},tap:{Feature:pie},focus:{Feature:fie},hover:{Feature:die}},Sie={layout:{ProjectionNode:v5,MeasureLayout:c5}},Cie={...lre,...wie,...hie,...Sie},Yo=Cne(Cie,Bne);function EM(){return EM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EM.apply(this,arguments)}var Eie={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},Mie=new((function(){function n(){}var e=n.prototype;return e.load=function(t,r,i){if(t.el=typeof i=="string"?document.querySelector(i):i,t.options=EM({},Eie,r),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(h){return h.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),l=s.length;if(l)for(var a=0;a<l;a+=1)t.strings.push(s[a].innerHTML.trim())}for(var o in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[o]=o;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var r="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(i)}},e.appendFadeOutAnimationCss=function(t){var r="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(i)}},n})()),dI=new((function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,r,i){if(i.contentType!=="html")return r;var s=t.substring(r).charAt(0);if(s==="<"||s==="&"){var l;for(l=s==="<"?">":";";t.substring(r+1).charAt(0)!==l&&!(1+ ++r>t.length););r++}return r},e.backSpaceHtmlChars=function(t,r,i){if(i.contentType!=="html")return r;var s=t.substring(r).charAt(0);if(s===">"||s===";"){var l;for(l=s===">"?"<":"&";t.substring(r-1).charAt(0)!==l&&!(--r<0););r--}return r},n})()),Tie=(function(){function n(t,r){Mie.load(this,r,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,r){var i=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),l=1;this.pause.status!==!0?this.timeout=setTimeout(function(){r=dI.typeHtmlChars(t,r,i);var a=0,o=t.substring(r);if(o.charAt(0)==="^"&&/^\^\d+/.test(o)){var h=1;h+=(o=/\d+/.exec(o)[0]).length,a=parseInt(o),i.temporaryPause=!0,i.options.onTypingPaused(i.arrayPos,i),t=t.substring(0,r)+t.substring(r+h),i.toggleBlinking(!0)}if(o.charAt(0)==="`"){for(;t.substring(r+l).charAt(0)!=="`"&&(l++,!(r+l>t.length)););var c=t.substring(0,r),u=t.substring(c.length+1,r+l),d=t.substring(r+l+1);t=c+u+d,l--}i.timeout=setTimeout(function(){i.toggleBlinking(!1),r>=t.length?i.doneTyping(t,r):i.keepTyping(t,r,l),i.temporaryPause&&(i.temporaryPause=!1,i.options.onTypingResumed(i.arrayPos,i))},a)},s):this.setPauseStatus(t,r,!0)},e.keepTyping=function(t,r,i){r===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,r+=i);this.replaceText(s),this.typewrite(t,r)},e.doneTyping=function(t,r){var i=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){i.backspace(t,r)},this.backDelay))},e.backspace=function(t,r){var i=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){r=dI.backSpaceHtmlChars(t,r,i);var l=t.substring(0,r);if(i.replaceText(l),i.smartBackspace){var a=i.strings[i.arrayPos+1];i.stopNum=a&&l===a.substring(0,r)?r:0}r>i.stopNum?(r--,i.backspace(t,r)):r<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.options.onLastStringBackspaced(),i.shuffleStringsIfNeeded(),i.begin()):i.typewrite(i.strings[i.sequence[i.arrayPos]],r))},s)}else this.setPauseStatus(t,r,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,r,i){this.pause.typewrite=i,this.pause.curString=t,this.pause.curStrPos=r},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(r){t.stop()}),this.el.addEventListener("blur",function(r){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n})();const Aie=G.memo(({style:n,className:e,typedRef:t,parseRef:r,stopped:i,children:s,startWhenVisible:l,...a})=>{const o=G.useRef(null),h=G.useMemo(()=>[...Object.values(a).filter(u=>typeof u=="boolean"||typeof u=="number"||typeof u=="string"),a.strings?.join(",")],[a]);G.useEffect(()=>{const u=r&&r(o)||o.current,d=new Tie(u,{...a});if((i||l)&&d?.stop(),l){const f=new IntersectionObserver(([p])=>{p.isIntersecting&&(d?.start(),f.disconnect())});f.observe(u)}return t&&d&&t(d),()=>{d.destroy()}},h);const c=s?tv.cloneElement(s,{ref:o}):tv.createElement("span",{style:n,ref:o});return tv.createElement("span",{style:n,className:e,"data-testid":"react-typed"},c)});function kie({radius:n=1.6}){const e=G.useRef();D4((r,i)=>{e.current&&(e.current.rotation.y+=i*.25,e.current.rotation.x=Math.sin(r.clock.elapsedTime*.15)*.04)});const t=G.useMemo(()=>{const r=[];for(let s=0;s<250;s++){const l=Math.random(),a=Math.random(),o=2*Math.PI*l,h=Math.acos(2*a-1),c=n*(.82+Math.random()*.36),u=c*Math.sin(h)*Math.cos(o),d=c*Math.sin(h)*Math.sin(o),f=c*Math.cos(h);r.push(u,d,f)}return new Float32Array(r)},[n]);return U.jsxs("group",{ref:e,children:[U.jsxs("mesh",{children:[U.jsx("sphereGeometry",{args:[n,32,32]}),U.jsx("meshBasicMaterial",{color:"#06b6d4",wireframe:!0,transparent:!0,opacity:.55})]}),U.jsxs("mesh",{scale:[.98,.98,.98],children:[U.jsx("sphereGeometry",{args:[n*.95,32,32]}),U.jsx("meshStandardMaterial",{color:"#0b1220",emissive:"#9333ea",emissiveIntensity:.18,transparent:!0,opacity:.12})]}),U.jsxs("points",{children:[U.jsx("bufferGeometry",{children:U.jsx("bufferAttribute",{attach:"attributes-position",array:t,itemSize:3,count:t.length/3})}),U.jsx("pointsMaterial",{size:.02,sizeAttenuation:!0,color:"#ec4899"})]}),U.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[U.jsx("ringGeometry",{args:[n*1.04,n*1.16,64]}),U.jsx("meshBasicMaterial",{color:"#06b6d4",transparent:!0,opacity:.06})]})]})}function Rie(){const n=Il();return U.jsxs("section",{className:"relative bg-gradient-to-br from-[#0a0a1a] via-[#0d0d25] to-[#0a0a1a] text-white min-h-screen flex items-center justify-center px-6 overflow-hidden",children:[U.jsx("div",{className:"absolute top-12 left-8 w-72 h-72 bg-cyan-400 rounded-full mix-blend-screen filter blur-3xl opacity-30 animate-blob"}),U.jsx("div",{className:"absolute bottom-12 right-8 w-72 h-72 bg-pink-500 rounded-full mix-blend-screen filter blur-3xl opacity-28 animate-blob animation-delay-2000"}),U.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-10 relative z-10",children:[U.jsxs("div",{className:"md:w-1/2 space-y-6 text-center md:text-left",children:[U.jsxs(Yo.h1,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl md:text-6xl font-extrabold leading-tight",children:["Welcome to"," ",U.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"DevForge"})]}),U.jsxs(Yo.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.45,duration:.8},className:"text-2xl md:text-3xl font-semibold text-cyan-300 flex items-center gap-3",children:[U.jsx("span",{className:"text-xl",children:""}),U.jsx(Aie,{strings:["Your Personal AI Coding Mentor","Build Smarter Projects with AI","Code Faster. Learn Better. "],typeSpeed:60,backSpeed:40,loop:!0})]}),U.jsx("p",{className:"text-gray-400 max-w-md",children:"DevForge helps CSE students build real projects step-by-step  AI-generated templates, a built-in editor, and a smart mentor to guide you."}),U.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[U.jsx("button",{onClick:()=>n("/projects"),className:"px-6 py-3 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 rounded-xl font-semibold shadow-lg hover:shadow-[0_0_20px_#06b6d4] hover:scale-105 transition",children:"Get Started"}),U.jsx("button",{className:"px-6 py-3 border border-cyan-400 text-cyan-400 rounded-xl hover:bg-cyan-400/10 hover:shadow-[0_0_15px_#06b6d4] transition",children:"Learn More"})]})]}),U.jsx("div",{className:"md:w-1/2 w-full h-[420px] md:h-[520px]",children:U.jsxs(DQ,{dpr:[1,1.3],camera:{position:[0,0,6],fov:45},children:[U.jsx("ambientLight",{intensity:.4}),U.jsx("directionalLight",{position:[5,5,5],intensity:.8}),U.jsx(G.Suspense,{fallback:null,children:U.jsx(kie,{radius:1.6})}),U.jsx(WQ,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5})]})})]})]})}const Lie=()=>U.jsxs(U.Fragment,{children:[U.jsx(Rie,{}),U.jsx("div",{className:"relative",children:U.jsx("svg",{className:"absolute bottom-0 w-full h-24 text-gray-900",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:U.jsx("path",{fill:"currentColor",d:"M0,160L40,154.7C80,149,160,139,240,144C320,149,400,171,480,186.7C560,203,640,213,720,186.7C800,160,880,96,960,106.7C1040,117,1120,203,1200,229.3C1280,256,1360,224,1400,208L1440,192V320H0Z"})})}),U.jsxs("section",{className:"py-24 bg-gray-900 text-white text-center relative z-10",children:[U.jsx("h2",{className:"text-4xl font-extrabold mb-12 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent animate-pulse",children:"How It Works"}),U.jsx("div",{className:"grid md:grid-cols-4 gap-8 max-w-6xl mx-auto px-6",children:[{step:"1",title:"Choose Project",desc:"Pick from AI/ML powered project ideas."},{step:"2",title:"AI Generates Template",desc:"Get auto-created code templates & folder structures."},{step:"3",title:"Build Step by Step",desc:"Complete features guided by AI mentor."},{step:"4",title:"Get Certified",desc:"Earn badges & showcase your project."}].map(n=>U.jsxs("div",{className:"p-6 bg-gray-800 border border-transparent hover:border-cyan-400 rounded-xl shadow-lg hover:shadow-[0_0_25px_#06b6d4] transition transform hover:-translate-y-2",children:[U.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-4",children:n.step}),U.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),U.jsx("p",{className:"text-gray-300",children:n.desc})]},n.step))})]}),U.jsx("div",{className:"relative",children:U.jsx("svg",{className:"absolute top-0 w-full h-24 text-gray-950",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:U.jsx("path",{fill:"currentColor",d:"M0,192L48,176C96,160,192,128,288,122.7C384,117,480,139,576,133.3C672,128,768,96,864,117.3C960,139,1056,213,1152,224C1248,235,1344,181,1392,154.7L1440,128V320H0Z"})})}),U.jsxs("section",{className:"py-24 bg-gray-950 text-white text-center relative z-10",children:[U.jsx("h2",{className:"text-4xl font-extrabold mb-12 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent animate-pulse",children:"Key Features"}),U.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto px-6",children:[{title:"AI Mentor ",desc:"Debugs errors, explains code, and gives hints."},{title:"Built-in Code Editor ",desc:"Code directly inside the platform."},{title:"Step-by-Step Tasks ",desc:"Projects broken into achievable steps."},{title:"Code Auto-Checking ",desc:"AI tests your code in real-time."},{title:"SDG Linking ",desc:"Projects aligned with UN SDGs."},{title:"ML Project Templates ",desc:"Auto-generated boilerplate & roadmap."}].map(n=>U.jsxs("div",{className:"p-6 bg-gray-800 rounded-xl shadow-lg hover:shadow-[0_0_25px_#06b6d4] transition transform hover:-translate-y-2",children:[U.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:n.title}),U.jsx("p",{className:"text-gray-300",children:n.desc})]},n.title))})]}),U.jsx("div",{className:"relative",children:U.jsx("svg",{className:"absolute top-0 w-full h-24 text-gray-900",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:U.jsx("path",{fill:"currentColor",d:"M0,96L80,128C160,160,320,224,480,229.3C640,235,800,181,960,181.3C1120,181,1280,235,1360,261.3L1440,288V0H0Z"})})}),U.jsxs("section",{className:"py-24 bg-gray-900 text-white text-center relative z-10",children:[U.jsx("h2",{className:"text-4xl font-extrabold mb-12 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent animate-pulse",children:"Popular Projects"}),U.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto px-6",children:[{title:"AI Healthcare Chatbot",img:BG},{title:"Smart Notes App",img:FG},{title:"E-commerce Website",img:$G}].map(n=>U.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-[0_0_25px_#9333ea] transition transform hover:-translate-y-2",children:[U.jsx("img",{src:n.img,alt:n.title,className:"w-full h-48 object-cover"}),U.jsx("div",{className:"p-6",children:U.jsx("h3",{className:"text-xl font-semibold",children:n.title})})]},n.title))})]})]});const Pie=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oie=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),fI=n=>{const e=Oie(n);return e.charAt(0).toUpperCase()+e.slice(1)},y5=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Iie=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Die={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nie=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...a},o)=>G.createElement("svg",{ref:o,...Die,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:y5("lucide",i),...!s&&!Iie(a)&&{"aria-hidden":"true"},...a},[...l.map(([h,c])=>G.createElement(h,c)),...Array.isArray(s)?s:[s]]));const Gt=(n,e)=>{const t=G.forwardRef(({className:r,...i},s)=>G.createElement(Nie,{ref:s,iconNode:e,className:y5(`lucide-${Pie(fI(n))}`,`lucide-${n}`,r),...i}));return t.displayName=fI(n),t};const Bie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],x5=Gt("award",Bie);const Fie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$ie=Gt("book-open",Fie);const zie=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Uie=Gt("book",zie);const jie=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],u_=Gt("bot",jie);const Hie=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Wie=Gt("bug",Hie);const Vie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P_=Gt("check",Vie);const Gie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_5=Gt("chevron-down",Gie);const Kie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b5=Gt("chevron-right",Kie);const qie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pI=Gt("circle-alert",qie);const Xie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yie=Gt("circle-check-big",Xie);const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jie=Gt("circle",Zie);const Qie=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],gI=Gt("code",Qie);const ese=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],w5=Gt("copy",ese);const tse=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],S5=Gt("external-link",tse);const nse=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],mI=Gt("file-code",nse);const rse=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],ise=Gt("file-search",rse);const sse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ose=Gt("file",sse);const ase=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],lse=Gt("folder-open",ase);const cse=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],use=Gt("folder",cse);const hse=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],dse=Gt("github",hse);const fse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pse=Gt("globe",fse);const gse=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],mse=Gt("linkedin",gse);const vse=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],C5=Gt("loader-circle",vse);const yse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xse=Gt("mail",yse);const _se=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bse=Gt("map-pin",_se);const wse=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],E5=Gt("menu",wse);const Sse=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Cse=Gt("message-circle",Sse);const Ese=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mse=Gt("pen-line",Ese);const Tse=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],M5=Gt("pencil",Tse);const Ase=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kse=Gt("phone",Ase);const Rse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MM=Gt("plus",Rse);const Lse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],T5=Gt("refresh-cw",Lse);const Pse=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Ose=Gt("rocket",Pse);const Ise=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Dse=Gt("rotate-ccw",Ise);const Nse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bse=Gt("save",Nse);const Fse=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$se=Gt("send",Fse);const zse=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vI=Gt("server",zse);const Use=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A5=Gt("target",Use);const jse=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Hse=Gt("terminal",jse);const Wse=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Vse=Gt("test-tube",Wse);const Gse=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kse=Gt("trash-2",Gse);const qse=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],k5=Gt("trash",qse);const Xse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yI=Gt("trending-up",Xse);const Yse=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],TM=Gt("trophy",Yse);const Zse=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Jse=Gt("twitter",Zse);const Qse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eoe=Gt("users",Qse);const toe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ok=Gt("x",toe);const noe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],R5=Gt("zap",noe);class Cy{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const roe=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Xi={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:roe()},ak=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},ioe=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=ak(n);Xi.publicKey=t.publicKey,Xi.blockHeadless=t.blockHeadless,Xi.storageProvider=t.storageProvider,Xi.blockList=t.blockList,Xi.limitRate=t.limitRate,Xi.origin=t.origin||e},L5=async(n,e,t={})=>{const r=await fetch(Xi.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),s=new Cy(r.status,i);if(r.ok)return s;throw s},P5=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},soe=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},O5=n=>n.webdriver||!n.languages||n.languages.length===0,I5=()=>new Cy(451,"Unavailable For Headless Browser"),ooe=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},aoe=n=>!n.list?.length||!n.watchVariable,loe=(n,e)=>n instanceof FormData?n.get(e):n[e],D5=(n,e)=>{if(aoe(n))return!1;ooe(n.list,n.watchVariable);const t=loe(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},N5=()=>new Cy(403,"Forbidden"),coe=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},uoe=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},B5=async(n,e,t)=>{if(!e.throttle||!t)return!1;coe(e.throttle,e.id);const r=e.id||n;return await uoe(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},F5=()=>new Cy(429,"Too Many Requests"),hoe=async(n,e,t,r)=>{const i=ak(r),s=i.publicKey||Xi.publicKey,l=i.blockHeadless||Xi.blockHeadless,a=i.storageProvider||Xi.storageProvider,o={...Xi.blockList,...i.blockList},h={...Xi.limitRate,...i.limitRate};return l&&O5(navigator)?Promise.reject(I5()):(P5(s,n,e),soe(t),t&&D5(o,t)?Promise.reject(N5()):await B5(location.pathname,h,a)?Promise.reject(F5()):L5("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},doe=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},foe=n=>typeof n=="string"?document.querySelector(n):n,poe=async(n,e,t,r)=>{const i=ak(r),s=i.publicKey||Xi.publicKey,l=i.blockHeadless||Xi.blockHeadless,a=Xi.storageProvider||i.storageProvider,o={...Xi.blockList,...i.blockList},h={...Xi.limitRate,...i.limitRate};if(l&&O5(navigator))return Promise.reject(I5());const c=foe(t);P5(s,n,e),doe(c);const u=new FormData(c);return D5(o,u)?Promise.reject(N5()):await B5(location.pathname,h,a)?Promise.reject(F5()):(u.append("lib_version","4.4.1"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",s),L5("/api/v1.0/email/send-form",u))},goe={init:ioe,send:hoe,sendForm:poe,EmailJSResponseStatus:Cy},moe=()=>{const n=G.useRef(),[e,t]=G.useState(!1);G.useEffect(()=>{const i=document.querySelectorAll(".particle"),s=setInterval(()=>{i.forEach(l=>{l.style.transform=`translate(${Math.random()*30-15}px, ${Math.random()*30-15}px)`})},4e3);return()=>clearInterval(s)},[]);const r=i=>{i.preventDefault(),t(!0),Sc.loading("Sending your message...",{id:"contact-toast"}),goe.sendForm(void 0,void 0,n.current,void 0).then(()=>{Sc.success("Message sent successfully ",{id:"contact-toast"}),n.current.reset(),t(!1)},s=>{console.error("EmailJS Error:",s),Sc.error("Failed to send message. Please try again ",{id:"contact-toast"}),t(!1)})};return U.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-[#050B17] text-gray-100 px-4 sm:px-6 md:px-8 py-24 flex flex-col items-center justify-center",children:[U.jsx(gF,{position:"bottom-right",reverseOrder:!1}),U.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-cyan-500/20 rounded-full blur-3xl animate-pulse"}),U.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse"}),[...Array(12)].map((i,s)=>U.jsx("div",{className:"particle absolute w-2 h-2 bg-gradient-to-r from-cyan-400 to-pink-500 rounded-full opacity-40 blur-sm transition-transform duration-[4000ms]",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`}},s)),U.jsxs("div",{className:"relative z-10 max-w-6xl w-full text-center mb-16",children:[U.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"Contact Us"}),U.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto text-lg",children:"Have questions, feedback, or collaboration ideas? Reach out and let's build something amazing together."})]}),U.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-16 w-full max-w-6xl",children:[{icon:U.jsx(xse,{className:"w-10 h-10 text-cyan-400"}),label:"Email",value:"support@devforge.com",border:"hover:border-cyan-400"},{icon:U.jsx(kse,{className:"w-10 h-10 text-purple-400"}),label:"Phone",value:"+91 98765 43210",border:"hover:border-purple-400"},{icon:U.jsx(bse,{className:"w-10 h-10 text-pink-400"}),label:"Location",value:"Bengaluru, India",border:"hover:border-pink-400"}].map((i,s)=>U.jsxs("div",{className:`p-8 rounded-2xl bg-[#0F1629]/80 backdrop-blur-md border border-gray-700 transition-all transform hover:scale-105 shadow-lg ${i.border}`,children:[U.jsx("div",{className:"flex justify-center mb-4",children:i.icon}),U.jsx("h3",{className:"text-xl font-semibold text-white text-center",children:i.label}),U.jsx("p",{className:"text-gray-400 mt-2 text-center",children:i.value})]},s))}),U.jsxs("form",{ref:n,onSubmit:r,className:"relative z-10 max-w-3xl w-full bg-[#0F1629]/80 backdrop-blur-md border border-gray-700 rounded-2xl shadow-xl p-8",children:[U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Name"}),U.jsx("input",{type:"text",name:"from_name",placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none transition",required:!0})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),U.jsx("input",{type:"email",name:"from_email",placeholder:"Enter your email",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-purple-400 outline-none transition",required:!0})]})]}),U.jsxs("div",{className:"mt-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Message"}),U.jsx("textarea",{rows:"5",name:"message",placeholder:"Write your message here...",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-pink-400 outline-none transition",required:!0})]}),U.jsx("input",{type:"hidden",name:"date",value:new Date().toLocaleString()}),U.jsx("button",{type:"submit",disabled:e,className:`mt-8 w-full py-3 rounded-xl bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 text-black font-semibold text-lg transition-all duration-300 ${e?"opacity-70 cursor-not-allowed":"hover:shadow-[0_0_25px_rgba(236,72,153,0.5)]"}`,children:e?"Sending...":"Send Message"})]})]})};function $5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=$5(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Hn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=$5(n))&&(r&&(r+=" "),r+=e);return r}var voe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lk(n){if(typeof n!="string")return!1;var e=voe;return e.includes(n)}var yoe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function z5(n){if(typeof n!="string")return!1;var e=yoe;return e.includes(n)}function U5(n){return typeof n=="string"&&n.startsWith("data-")}function Ka(n){var e=Object.entries(n).filter(t=>{var[r]=t;return z5(r)||U5(r)});return Object.fromEntries(e)}function zv(n){if(n==null)return null;if(G.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Ka(e)}return typeof n=="object"&&!Array.isArray(n)?Ka(n):null}function ra(n){var e=Object.entries(n).filter(t=>{var[r]=t;return z5(r)||U5(r)||lk(r)});return Object.fromEntries(e)}var xoe=["children","width","height","viewBox","className","style","title","desc"];function AM(){return AM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AM.apply(null,arguments)}function _oe(n,e){if(n==null)return{};var t,r,i=boe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function boe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var ck=G.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:l,style:a,title:o,desc:h}=n,c=_oe(n,xoe),u=s||{width:r,height:i,x:0,y:0},d=Hn("recharts-surface",l);return G.createElement("svg",AM({},ra(c),{className:d,width:r,height:i,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:e}),G.createElement("title",null,o),G.createElement("desc",null,h),t)}),woe=["children","className"];function kM(){return kM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kM.apply(null,arguments)}function Soe(n,e){if(n==null)return{};var t,r,i=Coe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Coe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var eo=G.forwardRef((n,e)=>{var{children:t,className:r}=n,i=Soe(n,woe),s=Hn("recharts-layer",r);return G.createElement("g",kM({className:s},ra(i),{ref:e}),t)}),j5=G.createContext(null),Eoe=()=>G.useContext(j5);function rr(n){return function(){return n}}const H5=Math.cos,O_=Math.sin,Za=Math.sqrt,I_=Math.PI,Hb=2*I_,RM=Math.PI,LM=2*RM,yd=1e-6,Moe=LM-yd;function W5(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Toe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return W5;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class Aoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W5:Toe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,l){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,a=this._y1,o=r-e,h=i-t,c=l-e,u=a-t,d=c*c+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>yd)if(!(Math.abs(u*o-h*c)>yd)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let f=r-l,p=i-a,m=o*o+h*h,g=f*f+p*p,v=Math.sqrt(m),y=Math.sqrt(d),_=s*Math.tan((RM-Math.acos((m+d-g)/(2*v*y)))/2),w=_/y,C=_/v;Math.abs(w-1)>yd&&this._append`L${e+w*c},${t+w*u}`,this._append`A${s},${s},0,0,${+(u*f>c*p)},${this._x1=e+C*o},${this._y1=t+C*h}`}}arc(e,t,r,i,s,l){if(e=+e,t=+t,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),o=r*Math.sin(i),h=e+a,c=t+o,u=1^l,d=l?i-s:s-i;this._x1===null?this._append`M${h},${c}`:(Math.abs(this._x1-h)>yd||Math.abs(this._y1-c)>yd)&&this._append`L${h},${c}`,r&&(d<0&&(d=d%LM+LM),d>Moe?this._append`A${r},${r},0,1,${u},${e-a},${t-o}A${r},${r},0,1,${u},${this._x1=h},${this._y1=c}`:d>yd&&this._append`A${r},${r},0,${+(d>=RM)},${u},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uk(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new Aoe(e)}function hk(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function V5(n){this._context=n}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function Wb(n){return new V5(n)}function G5(n){return n[0]}function K5(n){return n[1]}function q5(n,e){var t=rr(!0),r=null,i=Wb,s=null,l=uk(a);n=typeof n=="function"?n:n===void 0?G5:rr(n),e=typeof e=="function"?e:e===void 0?K5:rr(e);function a(o){var h,c=(o=hk(o)).length,u,d=!1,f;for(r==null&&(s=i(f=l())),h=0;h<=c;++h)!(h<c&&t(u=o[h],h,o))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+n(u,h,o),+e(u,h,o));if(f)return s=null,f+""||null}return a.x=function(o){return arguments.length?(n=typeof o=="function"?o:rr(+o),a):n},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:rr(+o),a):e},a.defined=function(o){return arguments.length?(t=typeof o=="function"?o:rr(!!o),a):t},a.curve=function(o){return arguments.length?(i=o,r!=null&&(s=i(r)),a):i},a.context=function(o){return arguments.length?(o==null?r=s=null:s=i(r=o),a):r},a}function kx(n,e,t){var r=null,i=rr(!0),s=null,l=Wb,a=null,o=uk(h);n=typeof n=="function"?n:n===void 0?G5:rr(+n),e=typeof e=="function"?e:rr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?K5:rr(+t);function h(u){var d,f,p,m=(u=hk(u)).length,g,v=!1,y,_=new Array(m),w=new Array(m);for(s==null&&(a=l(y=o())),d=0;d<=m;++d){if(!(d<m&&i(g=u[d],d,u))===v)if(v=!v)f=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=f;--p)a.point(_[p],w[p]);a.lineEnd(),a.areaEnd()}v&&(_[d]=+n(g,d,u),w[d]=+e(g,d,u),a.point(r?+r(g,d,u):_[d],t?+t(g,d,u):w[d]))}if(y)return a=null,y+""||null}function c(){return q5().defined(i).curve(l).context(s)}return h.x=function(u){return arguments.length?(n=typeof u=="function"?u:rr(+u),r=null,h):n},h.x0=function(u){return arguments.length?(n=typeof u=="function"?u:rr(+u),h):n},h.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:rr(+u),h):r},h.y=function(u){return arguments.length?(e=typeof u=="function"?u:rr(+u),t=null,h):e},h.y0=function(u){return arguments.length?(e=typeof u=="function"?u:rr(+u),h):e},h.y1=function(u){return arguments.length?(t=u==null?null:typeof u=="function"?u:rr(+u),h):t},h.lineX0=h.lineY0=function(){return c().x(n).y(e)},h.lineY1=function(){return c().x(n).y(t)},h.lineX1=function(){return c().x(r).y(e)},h.defined=function(u){return arguments.length?(i=typeof u=="function"?u:rr(!!u),h):i},h.curve=function(u){return arguments.length?(l=u,s!=null&&(a=l(s)),h):l},h.context=function(u){return arguments.length?(u==null?s=a=null:a=l(s=u),h):s},h}class X5{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function koe(n){return new X5(n,!0)}function Roe(n){return new X5(n,!1)}const dk={draw(n,e){const t=Za(e/I_);n.moveTo(t,0),n.arc(0,0,t,0,Hb)}},Loe={draw(n,e){const t=Za(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},Y5=Za(1/3),Poe=Y5*2,Ooe={draw(n,e){const t=Za(e/Poe),r=t*Y5;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},Ioe={draw(n,e){const t=Za(e),r=-t/2;n.rect(r,r,t,t)}},Doe=.8908130915292852,Z5=O_(I_/10)/O_(7*I_/10),Noe=O_(Hb/10)*Z5,Boe=-H5(Hb/10)*Z5,Foe={draw(n,e){const t=Za(e*Doe),r=Noe*t,i=Boe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const l=Hb*s/5,a=H5(l),o=O_(l);n.lineTo(o*t,-a*t),n.lineTo(a*r-o*i,o*r+a*i)}n.closePath()}},_S=Za(3),$oe={draw(n,e){const t=-Za(e/(_S*3));n.moveTo(0,t*2),n.lineTo(-_S*t,-t),n.lineTo(_S*t,-t),n.closePath()}},Ho=-.5,Wo=Za(3)/2,PM=1/Za(12),zoe=(PM/2+1)*3,Uoe={draw(n,e){const t=Za(e/zoe),r=t/2,i=t*PM,s=r,l=t*PM+t,a=-s,o=l;n.moveTo(r,i),n.lineTo(s,l),n.lineTo(a,o),n.lineTo(Ho*r-Wo*i,Wo*r+Ho*i),n.lineTo(Ho*s-Wo*l,Wo*s+Ho*l),n.lineTo(Ho*a-Wo*o,Wo*a+Ho*o),n.lineTo(Ho*r+Wo*i,Ho*i-Wo*r),n.lineTo(Ho*s+Wo*l,Ho*l-Wo*s),n.lineTo(Ho*a+Wo*o,Ho*o-Wo*a),n.closePath()}};function joe(n,e){let t=null,r=uk(i);n=typeof n=="function"?n:rr(n||dk),e=typeof e=="function"?e:rr(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:rr(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:rr(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function D_(){}function N_(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function J5(n){this._context=n}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Hoe(n){return new J5(n)}function Q5(n){this._context=n}Q5.prototype={areaStart:D_,areaEnd:D_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Woe(n){return new Q5(n)}function eU(n){this._context=n}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:N_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Voe(n){return new eU(n)}function tU(n){this._context=n}tU.prototype={areaStart:D_,areaEnd:D_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Goe(n){return new tU(n)}function xI(n){return n<0?-1:1}function _I(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),l=(t-n._y1)/(i||r<0&&-0),a=(s*i+l*r)/(r+i);return(xI(s)+xI(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(a))||0}function bI(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function bS(n,e,t){var r=n._x0,i=n._y0,s=n._x1,l=n._y1,a=(s-r)/3;n._context.bezierCurveTo(r+a,i+a*e,s-a,l-a*t,s,l)}function B_(n){this._context=n}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bS(this,this._t0,bI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,bS(this,bI(this,t=_I(this,n,e)),t);break;default:bS(this,this._t0,t=_I(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function nU(n){this._context=new rU(n)}(nU.prototype=Object.create(B_.prototype)).point=function(n,e){B_.prototype.point.call(this,e,n)};function rU(n){this._context=n}rU.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function Koe(n){return new B_(n)}function qoe(n){return new nU(n)}function iU(n){this._context=n}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=wI(n),i=wI(e),s=0,l=1;l<t;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[l],e[l]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function wI(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),l=new Array(t);for(i[0]=0,s[0]=2,l[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,l[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,l[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[t-1]=l[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function Xoe(n){return new iU(n)}function Vb(n,e){this._context=n,this._t=e}Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Yoe(n){return new Vb(n,.5)}function Zoe(n){return new Vb(n,0)}function Joe(n){return new Vb(n,1)}function Zp(n,e){if((l=n.length)>1)for(var t=1,r,i,s=n[e[0]],l,a=s.length;t<l;++t)for(i=s,s=n[e[t]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OM(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Qoe(n,e){return n[e]}function eae(n){const e=[];return e.key=n,e}function tae(){var n=rr([]),e=OM,t=Zp,r=Qoe;function i(s){var l=Array.from(n.apply(this,arguments),eae),a,o=l.length,h=-1,c;for(const u of s)for(a=0,++h;a<o;++a)(l[a][h]=[0,+r(u,l[a].key,h,s)]).data=u;for(a=0,c=hk(e(l));a<o;++a)l[c[a]].index=a;return t(l,c),l}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:rr(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:rr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?OM:typeof s=="function"?s:rr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??Zp,i):t},i}function nae(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,l;i<s;++i){for(l=t=0;t<r;++t)l+=n[t][i][1]||0;if(l)for(t=0;t<r;++t)n[t][i][1]/=l}Zp(n,e)}}function rae(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var l=0,a=0;l<i;++l)a+=n[l][t][1]||0;r[t][1]+=r[t][0]=-a/2}Zp(n,e)}}function iae(n,e){if(!(!((l=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,l;r<s;++r){for(var a=0,o=0,h=0;a<l;++a){for(var c=n[e[a]],u=c[r][1]||0,d=c[r-1][1]||0,f=(u-d)/2,p=0;p<a;++p){var m=n[e[p]],g=m[r][1]||0,v=m[r-1][1]||0;f+=g-v}o+=u,h+=f*u}i[r-1][1]+=i[r-1][0]=t,o&&(t-=h/o)}i[r-1][1]+=i[r-1][0]=t,Zp(n,e)}}var wS={},SS={},SI;function sae(){return SI||(SI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(SS)),SS}var CS={},CI;function sU(){return CI||(CI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(CS)),CS}var ES={},EI;function fk(){return EI||(EI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}n.toKey=e})(ES)),ES}var MS={},TS={},MI;function oae(){return MI||(MI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(TS)),TS}var TI;function pk(){return TI||(TI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=oae(),t=fk();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let a=0,o="",h="",c=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<l;){const u=i[a];h?u==="\\"&&a+1<l?(a++,o+=i[a]):u===h?h="":o+=u:c?u==='"'||u==="'"?h=u:u==="]"?(c=!1,s.push(o),o=""):o+=u:u==="["?(c=!0,o&&(s.push(o),o="")):u==="."?o&&(s.push(o),o=""):o+=u,a++}return o&&s.push(o),s}n.toPath=r})(MS)),MS}var AI;function gk(){return AI||(AI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sae(),t=sU(),r=fk(),i=pk();function s(a,o,h){if(a==null)return h;switch(typeof o){case"string":{if(e.isUnsafeProperty(o))return h;const c=a[o];return c===void 0?t.isDeepKey(o)?s(a,i.toPath(o),h):h:c}case"number":case"symbol":{typeof o=="number"&&(o=r.toKey(o));const c=a[o];return c===void 0?h:c}default:{if(Array.isArray(o))return l(a,o,h);if(Object.is(o?.valueOf(),-0)?o="-0":o=String(o),e.isUnsafeProperty(o))return h;const c=a[o];return c===void 0?h:c}}}function l(a,o,h){if(o.length===0)return h;let c=a;for(let u=0;u<o.length;u++){if(c==null||e.isUnsafeProperty(o[u]))return h;c=c[o[u]]}return c===void 0?h:c}n.get=s})(wS)),wS}var AS,kI;function aae(){return kI||(kI=1,AS=gk().get),AS}var lae=aae();const Gd=aa(lae);var Oi=n=>n===0?0:n>0?1:-1,ia=n=>typeof n=="number"&&n!=+n,Uc=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Pt=n=>(typeof n=="number"||n instanceof Number)&&!ia(n),Al=n=>Pt(n)||typeof n=="string",cae=0,Uv=n=>{var e=++cae;return"".concat(n||"").concat(e)},ds=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(e)&&typeof e!="string")return r;var s;if(Uc(e)){if(t==null)return r;var l=e.indexOf("%");s=t*parseFloat(e.slice(0,l))/100}else s=+e;return ia(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},oU=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function Yi(n,e,t){return Pt(n)&&Pt(e)?n+t*(e-n):e}function uae(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):Gd(r,e))===t)}var Ii=n=>n===null||typeof n>"u",Ey=n=>Ii(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1)),hae=["type","size","sizeType"];function IM(){return IM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IM.apply(null,arguments)}function RI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function LI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(t),!0).forEach(function(r){dae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dae(n,e,t){return(e=fae(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fae(n){var e=pae(n,"string");return typeof e=="symbol"?e:e+""}function pae(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gae(n,e){if(n==null)return{};var t,r,i=mae(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function mae(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var aU={symbolCircle:dk,symbolCross:Loe,symbolDiamond:Ooe,symbolSquare:Ioe,symbolStar:Foe,symbolTriangle:$oe,symbolWye:Uoe},vae=Math.PI/180,yae=n=>{var e="symbol".concat(Ey(n));return aU[e]||dk},xae=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*vae;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},_ae=(n,e)=>{aU["symbol".concat(Ey(n))]=e},mk=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=gae(n,hae),s=LI(LI({},i),{},{type:e,size:t,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var a=()=>{var d=yae(l),f=joe().type(d).size(xae(t,r,l)),p=f();if(p!==null)return p},{className:o,cx:h,cy:c}=s,u=ra(s);return h===+h&&c===+c&&t===+t?G.createElement("path",IM({},u,{className:Hn("recharts-symbols",o),transform:"translate(".concat(h,", ").concat(c,")"),d:a()})):null};mk.registerSymbol=_ae;var bae=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(G.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{lk(i)&&(r[i]=(s=>t[i](t,s)))}),r},wae=(n,e,t)=>r=>(n(e,t,r),null),My=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];lk(i)&&typeof s=="function"&&(r||(r={}),r[i]=wae(s,e,t))}),r};function DM(){return DM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DM.apply(null,arguments)}function PI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(t),!0).forEach(function(r){vk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vk(n,e,t){return(e=Cae(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cae(n){var e=Eae(n,"string");return typeof e=="symbol"?e:e+""}function Eae(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vo=32;class yk extends G.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,i=Vo/2,s=Vo/6,l=Vo/3,a=e.inactive?r:e.color,o=t??e.type;if(o==="none")return null;if(o==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Vo,y2:i,className:"recharts-legend-icon"});if(o==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Vo,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(o==="rect")return G.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(Vo/8,"h").concat(Vo,"v").concat(Vo*3/4,"h").concat(-Vo,"z"),className:"recharts-legend-icon"});if(G.isValidElement(e.legendIcon)){var h=Sae({},e);return delete h.legendIcon,G.cloneElement(e.legendIcon,h)}return G.createElement(mk,{fill:a,cx:i,cy:i,size:Vo,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:i,inactiveColor:s,iconType:l}=this.props,a={x:0,y:0,width:Vo,height:Vo},o={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,u)=>{var d=c.formatter||i,f=Hn({"recharts-legend-item":!0,["legend-item-".concat(u)]:!0,inactive:c.inactive});if(c.type==="none")return null;var p=c.inactive?s:c.color,m=d?d(c.value,c,u):c.value;return G.createElement("li",DM({className:f,style:o,key:"legend-item-".concat(u)},My(this.props,c,u)),G.createElement(ck,{width:t,height:t,viewBox:a,style:h,"aria-label":"".concat(m," legend icon")},this.renderIcon(c,l)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},m))})}render(){var{payload:e,layout:t,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:t==="horizontal"?r:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}vk(yk,"displayName","Legend");vk(yk,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var kS={},RS={},OI;function Mae(){return OI||(OI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const l=t[s],a=r(l);i.has(a)||i.set(a,l)}return Array.from(i.values())}n.uniqBy=e})(RS)),RS}var LS={},II;function lU(){return II||(II=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(LS)),LS}var PS={},OS={},IS={},DI;function Tae(){return DI||(DI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(IS)),IS}var NI;function xk(){return NI||(NI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Tae();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(OS)),OS}var DS={},BI;function Aae(){return BI||(BI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(DS)),DS}var FI;function kae(){return FI||(FI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=xk(),t=Aae();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(PS)),PS}var NS={},BS={},$I;function Rae(){return $I||($I=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gk();function t(r){return function(i){return e.get(i,r)}}n.property=t})(BS)),BS}var FS={},$S={},zS={},US={},zI;function cU(){return zI||(zI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(US)),US}var jS={},UI;function uU(){return UI||(UI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(jS)),jS}var HS={},jI;function hU(){return jI||(jI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(HS)),HS}var HI;function Lae(){return HI||(HI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=cU(),t=uU(),r=hU();function i(c,u,d){return typeof d!="function"?i(c,u,()=>{}):s(c,u,function f(p,m,g,v,y,_){const w=d(p,m,g,v,y,_);return w!==void 0?!!w:s(p,m,f,_)},new Map)}function s(c,u,d,f){if(u===c)return!0;switch(typeof u){case"object":return l(c,u,d,f);case"function":return Object.keys(u).length>0?s(c,{...u},d,f):r.eq(c,u);default:return e.isObject(c)?typeof u=="string"?u==="":!0:r.eq(c,u)}}function l(c,u,d,f){if(u==null)return!0;if(Array.isArray(u))return o(c,u,d,f);if(u instanceof Map)return a(c,u,d,f);if(u instanceof Set)return h(c,u,d,f);const p=Object.keys(u);if(c==null)return p.length===0;if(p.length===0)return!0;if(f?.has(u))return f.get(u)===c;f?.set(u,c);try{for(let m=0;m<p.length;m++){const g=p[m];if(!t.isPrimitive(c)&&!(g in c)||u[g]===void 0&&c[g]!==void 0||u[g]===null&&c[g]!==null||!d(c[g],u[g],g,c,u,f))return!1}return!0}finally{f?.delete(u)}}function a(c,u,d,f){if(u.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,m]of u.entries()){const g=c.get(p);if(d(g,m,p,c,u,f)===!1)return!1}return!0}function o(c,u,d,f){if(u.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let m=0;m<u.length;m++){const g=u[m];let v=!1;for(let y=0;y<c.length;y++){if(p.has(y))continue;const _=c[y];let w=!1;if(d(_,g,m,c,u,f)&&(w=!0),w){p.add(y),v=!0;break}}if(!v)return!1}return!0}function h(c,u,d,f){return u.size===0?!0:c instanceof Set?o([...c],[...u],d,f):!1}n.isMatchWith=i,n.isSetMatch=h})(zS)),zS}var WI;function dU(){return WI||(WI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Lae();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})($S)),$S}var WS={},VS={},GS={},VI;function Pae(){return VI||(VI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(GS)),GS}var KS={},GI;function fU(){return GI||(GI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(KS)),KS}var qS={},KI;function pU(){return KI||(KI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",a="[object Date]",o="[object Map]",h="[object Set]",c="[object Array]",u="[object Function]",d="[object ArrayBuffer]",f="[object Object]",p="[object Error]",m="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",_="[object Uint32Array]",w="[object BigUint64Array]",C="[object Int8Array]",b="[object Int16Array]",T="[object Int32Array]",A="[object BigInt64Array]",k="[object Float32Array]",P="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=d,n.arrayTag=c,n.bigInt64ArrayTag=A,n.bigUint64ArrayTag=w,n.booleanTag=i,n.dataViewTag=m,n.dateTag=a,n.errorTag=p,n.float32ArrayTag=k,n.float64ArrayTag=P,n.functionTag=u,n.int16ArrayTag=b,n.int32ArrayTag=T,n.int8ArrayTag=C,n.mapTag=o,n.numberTag=r,n.objectTag=f,n.regexpTag=e,n.setTag=h,n.stringTag=t,n.symbolTag=l,n.uint16ArrayTag=y,n.uint32ArrayTag=_,n.uint8ArrayTag=g,n.uint8ClampedArrayTag=v})(qS)),qS}var XS={},qI;function Oae(){return qI||(qI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(XS)),XS}var XI;function gU(){return XI||(XI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Pae(),t=fU(),r=pU(),i=uU(),s=Oae();function l(c,u){return a(c,void 0,c,new Map,u)}function a(c,u,d,f=new Map,p=void 0){const m=p?.(c,u,d,f);if(m!==void 0)return m;if(i.isPrimitive(c))return c;if(f.has(c))return f.get(c);if(Array.isArray(c)){const g=new Array(c.length);f.set(c,g);for(let v=0;v<c.length;v++)g[v]=a(c[v],v,d,f,p);return Object.hasOwn(c,"index")&&(g.index=c.index),Object.hasOwn(c,"input")&&(g.input=c.input),g}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const g=new RegExp(c.source,c.flags);return g.lastIndex=c.lastIndex,g}if(c instanceof Map){const g=new Map;f.set(c,g);for(const[v,y]of c)g.set(v,a(y,v,d,f,p));return g}if(c instanceof Set){const g=new Set;f.set(c,g);for(const v of c)g.add(a(v,void 0,d,f,p));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const g=new(Object.getPrototypeOf(c)).constructor(c.length);f.set(c,g);for(let v=0;v<c.length;v++)g[v]=a(c[v],v,d,f,p);return g}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const g=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return f.set(c,g),o(g,c,d,f,p),g}if(typeof File<"u"&&c instanceof File){const g=new File([c],c.name,{type:c.type});return f.set(c,g),o(g,c,d,f,p),g}if(typeof Blob<"u"&&c instanceof Blob){const g=new Blob([c],{type:c.type});return f.set(c,g),o(g,c,d,f,p),g}if(c instanceof Error){const g=new c.constructor;return f.set(c,g),g.message=c.message,g.name=c.name,g.stack=c.stack,g.cause=c.cause,o(g,c,d,f,p),g}if(c instanceof Boolean){const g=new Boolean(c.valueOf());return f.set(c,g),o(g,c,d,f,p),g}if(c instanceof Number){const g=new Number(c.valueOf());return f.set(c,g),o(g,c,d,f,p),g}if(c instanceof String){const g=new String(c.valueOf());return f.set(c,g),o(g,c,d,f,p),g}if(typeof c=="object"&&h(c)){const g=Object.create(Object.getPrototypeOf(c));return f.set(c,g),o(g,c,d,f,p),g}return c}function o(c,u,d=c,f,p){const m=[...Object.keys(u),...e.getSymbols(u)];for(let g=0;g<m.length;g++){const v=m[g],y=Object.getOwnPropertyDescriptor(c,v);(y==null||y.writable)&&(c[v]=a(u[v],v,d,f,p))}}function h(c){switch(t.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=l,n.cloneDeepWithImpl=a,n.copyProperties=o})(VS)),VS}var YI;function Iae(){return YI||(YI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gU();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(WS)),WS}var ZI;function Dae(){return ZI||(ZI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dU(),t=Iae();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(FS)),FS}var YS={},ZS={},JS={},JI;function Nae(){return JI||(JI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gU(),t=pU();function r(i,s){return e.cloneDeepWith(i,(l,a,o,h)=>{const c=s?.(l,a,o,h);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const u=new i.constructor(i?.valueOf());return e.copyProperties(u,i),u}case t.argumentsTag:{const u={};return e.copyProperties(u,i),u.length=i.length,u[Symbol.iterator]=i[Symbol.iterator],u}default:return}})}n.cloneDeepWith=r})(JS)),JS}var QI;function Bae(){return QI||(QI=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Nae();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(ZS)),ZS}var QS={},eC={},eD;function mU(){return eD||(eD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(eC)),eC}var tC={},tD;function Fae(){return tD||(tD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fU();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(tC)),tC}var nD;function $ae(){return nD||(nD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sU(),t=mU(),r=Fae(),i=pk();function s(l,a){let o;if(Array.isArray(a)?o=a:typeof a=="string"&&e.isDeepKey(a)&&l?.[a]==null?o=i.toPath(a):o=[a],o.length===0)return!1;let h=l;for(let c=0;c<o.length;c++){const u=o[c];if((h==null||!Object.hasOwn(h,u))&&!((Array.isArray(h)||r.isArguments(h))&&t.isIndex(u)&&u<h.length))return!1;h=h[u]}return!0}n.has=s})(QS)),QS}var rD;function zae(){return rD||(rD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dU(),t=fk(),r=Bae(),i=gk(),s=$ae();function l(a,o){switch(typeof a){case"object":{Object.is(a?.valueOf(),-0)&&(a="-0");break}case"number":{a=t.toKey(a);break}}return o=r.cloneDeep(o),function(h){const c=i.get(h,a);return c===void 0?s.has(h,a):o===void 0?c===void 0:e.isMatch(c,o)}}n.matchesProperty=l})(YS)),YS}var iD;function Uae(){return iD||(iD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lU(),t=Rae(),r=Dae(),i=zae();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return t.property(l)}}n.iteratee=s})(NS)),NS}var sD;function jae(){return sD||(sD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Mae(),t=lU(),r=kae(),i=Uae();function s(l,a=t.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(a)):[]}n.uniqBy=s})(kS)),kS}var nC,oD;function Hae(){return oD||(oD=1,nC=jae().uniqBy),nC}var Wae=Hae();const aD=aa(Wae);function vU(n,e,t){return e===!0?aD(n,t):typeof e=="function"?aD(n,e):n}var rC={exports:{}},iC={},sC={exports:{}},oC={};var lD;function Vae(){if(lD)return oC;lD=1;var n=Ll();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function a(u,d){var f=d(),p=r({inst:{value:f,getSnapshot:d}}),m=p[0].inst,g=p[1];return s(function(){m.value=f,m.getSnapshot=d,o(m)&&g({inst:m})},[u,f,d]),i(function(){return o(m)&&g({inst:m}),u(function(){o(m)&&g({inst:m})})},[u]),l(f),f}function o(u){var d=u.getSnapshot;u=u.value;try{var f=d();return!t(u,f)}catch{return!0}}function h(u,d){return d()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:a;return oC.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,oC}var cD;function Gae(){return cD||(cD=1,sC.exports=Vae()),sC.exports}var uD;function Kae(){if(uD)return iC;uD=1;var n=Ll(),e=Gae();function t(h,c){return h===c&&(h!==0||1/h===1/c)||h!==h&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,l=n.useEffect,a=n.useMemo,o=n.useDebugValue;return iC.useSyncExternalStoreWithSelector=function(h,c,u,d,f){var p=s(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function v(b){if(!y){if(y=!0,_=b,b=d(b),f!==void 0&&m.hasValue){var T=m.value;if(f(T,b))return w=T}return w=b}if(T=w,r(_,b))return T;var A=d(b);return f!==void 0&&f(T,A)?(_=b,T):(_=b,w=A)}var y=!1,_,w,C=u===void 0?null:u;return[function(){return v(c())},C===null?void 0:function(){return v(C())}]},[c,u,d,f]);var g=i(h,p[0],p[1]);return l(function(){m.hasValue=!0,m.value=g},[g]),o(g),g},iC}var hD;function qae(){return hD||(hD=1,rC.exports=Kae()),rC.exports}var Xae=qae(),_k=G.createContext(null),Yae=n=>n,yr=()=>{var n=G.useContext(_k);return n?n.store.dispatch:Yae},h_=()=>{},Zae=()=>h_,Jae=(n,e)=>n===e;function Rt(n){var e=G.useContext(_k);return Xae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Zae,e?e.store.getState:h_,e?e.store.getState:h_,e?n:h_,Jae)}function Qae(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function ele(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function tle(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var dD=n=>Array.isArray(n)?n:[n];function nle(n){const e=Array.isArray(n[0])?n[0]:n;return tle(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function rle(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var ile=class{constructor(n){this.value=n}deref(){return this.value}},sle=typeof WeakRef<"u"?WeakRef:ile,ole=0,fD=1;function Rx(){return{s:ole,v:void 0,o:null,p:null}}function yU(n,e={}){let t=Rx();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let a=t;const{length:o}=arguments;for(let u=0,d=o;u<d;u++){const f=arguments[u];if(typeof f=="function"||typeof f=="object"&&f!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const m=p.get(f);m===void 0?(a=Rx(),p.set(f,a)):a=m}else{let p=a.p;p===null&&(a.p=p=new Map);const m=p.get(f);m===void 0?(a=Rx(),p.set(f,a)):a=m}}const h=a;let c;if(a.s===fD)c=a.v;else if(c=n.apply(null,arguments),s++,r){const u=i?.deref?.()??i;u!=null&&r(u,c)&&(c=u,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new sle(c):c}return h.s=fD,h.v=c,c}return l.clearCache=()=>{t=Rx(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function ale(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,l=0,a,o={},h=i.pop();typeof h=="object"&&(o=h,h=i.pop()),Qae(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const c={...t,...o},{memoize:u,memoizeOptions:d=[],argsMemoize:f=yU,argsMemoizeOptions:p=[]}=c,m=dD(d),g=dD(p),v=nle(i),y=u(function(){return s++,h.apply(null,arguments)},...m),_=f(function(){l++;const C=rle(v,arguments);return a=y.apply(null,C),a},...g);return Object.assign(_,{resultFunc:h,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:u,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var De=ale(yU),lle=Object.assign((n,e=De)=>{ele(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((l,a,o)=>(l[t[o]]=a,l),{}))},{withTypes:()=>lle}),aC={},lC={},cC={},pD;function cle(){return pD||(pD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const l=e(r),a=e(i);if(l===a&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-l:l-a}return 0};n.compareValues=t})(cC)),cC}var uC={},hC={},gD;function xU(){return gD||(gD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(hC)),hC}var mD;function ule(){return mD||(mD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=xU(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||l!=null&&Object.hasOwn(l,s)}n.isKey=i})(uC)),uC}var vD;function hle(){return vD||(vD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=cle(),t=ule(),r=pk();function i(s,l,a,o){if(s==null)return[];a=o?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(f=>String(f));const h=(f,p)=>{let m=f;for(let g=0;g<p.length&&m!=null;++g)m=m[p[g]];return m},c=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:h(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?h(p,f):typeof p=="object"?p[f]:p,u=l.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||t.isKey(f)?f:{key:f,path:r.toPath(f)}));return s.map(f=>({original:f,criteria:u.map(p=>c(p,f))})).slice().sort((f,p)=>{for(let m=0;m<u.length;m++){const g=e.compareValues(f.criteria[m],p.criteria[m],a[m]);if(g!==0)return g}return 0}).map(f=>f.original)}n.orderBy=i})(lC)),lC}var dC={},yD;function dle(){return yD||(yD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),l=(a,o)=>{for(let h=0;h<a.length;h++){const c=a[h];Array.isArray(c)&&o<s?l(c,o+1):i.push(c)}};return l(t,0),i}n.flatten=e})(dC)),dC}var fC={},xD;function _U(){return xD||(xD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=mU(),t=xk(),r=cU(),i=hU();function s(l,a,o){return r.isObject(o)&&(typeof a=="number"&&t.isArrayLike(o)&&e.isIndex(a)&&a<o.length||typeof a=="string"&&a in o)?i.eq(o[a],l):!1}n.isIterateeCall=s})(fC)),fC}var _D;function fle(){return _D||(_D=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hle(),t=dle(),r=_U();function i(s,...l){const a=l.length;return a>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:a>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,t.flatten(l),["asc"])}n.sortBy=i})(aC)),aC}var pC,bD;function ple(){return bD||(bD=1,pC=fle().sortBy),pC}var gle=ple();const Gb=aa(gle);var bU=n=>n.legend.settings,mle=n=>n.legend.size,vle=n=>n.legend.payload,yle=De([vle,bU],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?Gb(r,t):r});function xle(){return Rt(yle)}var Lx=1;function wU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=G.useState({height:0,left:0,top:0,width:0}),r=G.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Lx||Math.abs(l.left-e.left)>Lx||Math.abs(l.top-e.top)>Lx||Math.abs(l.width-e.width)>Lx)&&t({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function Gi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _le=typeof Symbol=="function"&&Symbol.observable||"@@observable",wD=_le,gC=()=>Math.random().toString(36).substring(7).split("").join("."),ble={INIT:`@@redux/INIT${gC()}`,REPLACE:`@@redux/REPLACE${gC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gC()}`},F_=ble;function bk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function SU(n,e,t){if(typeof n!="function")throw new Error(Gi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gi(1));return t(SU)(n,e)}let r=n,i=e,s=new Map,l=s,a=0,o=!1;function h(){l===s&&(l=new Map,s.forEach((g,v)=>{l.set(v,g)}))}function c(){if(o)throw new Error(Gi(3));return i}function u(g){if(typeof g!="function")throw new Error(Gi(4));if(o)throw new Error(Gi(5));let v=!0;h();const y=a++;return l.set(y,g),function(){if(v){if(o)throw new Error(Gi(6));v=!1,h(),l.delete(y),s=null}}}function d(g){if(!bk(g))throw new Error(Gi(7));if(typeof g.type>"u")throw new Error(Gi(8));if(typeof g.type!="string")throw new Error(Gi(17));if(o)throw new Error(Gi(9));try{o=!0,i=r(i,g)}finally{o=!1}return(s=l).forEach(y=>{y()}),g}function f(g){if(typeof g!="function")throw new Error(Gi(10));r=g,d({type:F_.REPLACE})}function p(){const g=u;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Gi(11));function y(){const w=v;w.next&&w.next(c())}return y(),{unsubscribe:g(y)}},[wD](){return this}}}return d({type:F_.INIT}),{dispatch:d,subscribe:u,getState:c,replaceReducer:f,[wD]:p}}function wle(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:F_.INIT})>"u")throw new Error(Gi(12));if(typeof t(void 0,{type:F_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gi(13))})}function CU(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const l=e[s];typeof n[l]=="function"&&(t[l]=n[l])}const r=Object.keys(t);let i;try{wle(t)}catch(s){i=s}return function(l={},a){if(i)throw i;let o=!1;const h={};for(let c=0;c<r.length;c++){const u=r[c],d=t[u],f=l[u],p=d(f,a);if(typeof p>"u")throw a&&a.type,new Error(Gi(14));h[u]=p,o=o||p!==f}return o=o||r.length!==Object.keys(l).length,o?h:l}}function $_(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function Sle(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Gi(15))};const l={getState:i.getState,dispatch:(o,...h)=>s(o,...h)},a=n.map(o=>o(l));return s=$_(...a)(i.dispatch),{...i,dispatch:s}}}function EU(n){return bk(n)&&"type"in n&&typeof n.type=="string"}var MU=Symbol.for("immer-nothing"),SD=Symbol.for("immer-draftable"),Co=Symbol.for("immer-state");function ja(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var jv=Object.getPrototypeOf;function Kd(n){return!!n&&!!n[Co]}function jc(n){return n?TU(n)||Array.isArray(n)||!!n[SD]||!!n.constructor?.[SD]||Ty(n)||qb(n):!1}var Cle=Object.prototype.constructor.toString(),CD=new WeakMap;function TU(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=CD.get(t);return r===void 0&&(r=Function.toString.call(t),CD.set(t,r)),r===Cle}function z_(n,e,t=!0){Kb(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function Kb(n){const e=n[Co];return e?e.type_:Array.isArray(n)?1:Ty(n)?2:qb(n)?3:0}function NM(n,e){return Kb(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function AU(n,e,t){const r=Kb(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Ele(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Ty(n){return n instanceof Map}function qb(n){return n instanceof Set}function xd(n){return n.copy_||n.base_}function BM(n,e){if(Ty(n))return new Map(n);if(qb(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=TU(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Co];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],a=r[l];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[l]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[l]})}return Object.create(jv(n),r)}else{const r=jv(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function wk(n,e=!1){return Xb(n)||Kd(n)||!jc(n)||(Kb(n)>1&&Object.defineProperties(n,{set:Px,add:Px,clear:Px,delete:Px}),Object.freeze(n),e&&Object.values(n).forEach(t=>wk(t,!0))),n}function Mle(){ja(2)}var Px={value:Mle};function Xb(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Tle={};function qd(n){const e=Tle[n];return e||ja(0,n),e}var Hv;function kU(){return Hv}function Ale(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ED(n,e){e&&(qd("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function FM(n){$M(n),n.drafts_.forEach(kle),n.drafts_=null}function $M(n){n===Hv&&(Hv=n.parent_)}function MD(n){return Hv=Ale(Hv,n)}function kle(n){const e=n[Co];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TD(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Co].modified_&&(FM(e),ja(4)),jc(n)&&(n=U_(e,n),e.parent_||j_(e,n)),e.patches_&&qd("Patches").generateReplacementPatches_(t[Co].base_,n,e.patches_,e.inversePatches_)):n=U_(e,t,[]),FM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==MU?n:void 0}function U_(n,e,t){if(Xb(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[Co];if(!i)return z_(e,(s,l)=>AD(n,i,e,s,l,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return j_(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,a=!1;i.type_===3&&(l=new Set(s),s.clear(),a=!0),z_(l,(o,h)=>AD(n,i,s,o,h,t,a),r),j_(n,s,!1),t&&n.patches_&&qd("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function AD(n,e,t,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const a=Xb(i);if(!(a&&!l)){if(Kd(i)){const o=s&&e&&e.type_!==3&&!NM(e.assigned_,r)?s.concat(r):void 0,h=U_(n,i,o);if(AU(t,r,h),Kd(h))n.canAutoFreeze_=!1;else return}else l&&t.add(i);if(jc(i)&&!a){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&a)return;U_(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ty(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&j_(n,i)}}}function j_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&wk(e,t)}function Rle(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:kU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Sk;t&&(i=[r],s=Wv);const{revoke:l,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=l,a}var Sk={get(n,e){if(e===Co)return n;const t=xd(n);if(!NM(t,e))return Lle(n,t,e);const r=t[e];return n.finalized_||!jc(r)?r:r===mC(n.base_,e)?(vC(n),n.copy_[e]=UM(r,n)):r},has(n,e){return e in xd(n)},ownKeys(n){return Reflect.ownKeys(xd(n))},set(n,e,t){const r=RU(xd(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=mC(xd(n),e),s=i?.[Co];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Ele(t,i)&&(t!==void 0||NM(n.base_,e)))return!0;vC(n),zM(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return mC(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,vC(n),zM(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=xd(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){ja(11)},getPrototypeOf(n){return jv(n.base_)},setPrototypeOf(){ja(12)}},Wv={};z_(Sk,(n,e)=>{Wv[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wv.deleteProperty=function(n,e){return Wv.set.call(this,n,e,void 0)};Wv.set=function(n,e,t){return Sk.set.call(this,n[0],e,t,n[0])};function mC(n,e){const t=n[Co];return(t?xd(t):n)[e]}function Lle(n,e,t){const r=RU(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function RU(n,e){if(!(e in n))return;let t=jv(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=jv(t)}}function zM(n){n.modified_||(n.modified_=!0,n.parent_&&zM(n.parent_))}function vC(n){n.copy_||(n.copy_=BM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ple=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const l=this;return function(o=s,...h){return l.produce(o,c=>t.call(this,c,...h))}}typeof t!="function"&&ja(6),r!==void 0&&typeof r!="function"&&ja(7);let i;if(jc(e)){const s=MD(this),l=UM(e,void 0);let a=!0;try{i=t(l),a=!1}finally{a?FM(s):$M(s)}return ED(s,r),TD(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===MU&&(i=void 0),this.autoFreeze_&&wk(i,!0),r){const s=[],l=[];qd("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ja(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...a)=>this.produceWithPatches(l,o=>e(o,...a));let r,i;return[this.produce(e,t,(l,a)=>{r=l,i=a}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){jc(n)||ja(8),Kd(n)&&(n=Oc(n));const e=MD(this),t=UM(n,void 0);return t[Co].isManual_=!0,$M(e),t}finishDraft(n,e){const t=n&&n[Co];(!t||!t.isManual_)&&ja(9);const{scope_:r}=t;return ED(r,e),TD(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=qd("Patches").applyPatches_;return Kd(n)?r(n,e):this.produce(n,i=>r(i,e))}};function UM(n,e){const t=Ty(n)?qd("MapSet").proxyMap_(n,e):qb(n)?qd("MapSet").proxySet_(n,e):Rle(n,e);return(e?e.scope_:kU()).drafts_.push(t),t}function Oc(n){return Kd(n)||ja(10,n),LU(n)}function LU(n){if(!jc(n)||Xb(n))return n;const e=n[Co];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=BM(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=BM(n,!0);return z_(t,(i,s)=>{AU(t,i,LU(s))},r),e&&(e.finalized_=!1),t}var jM=new Ple,PU=jM.produce,Ole=jM.setUseStrictIteration.bind(jM);function OU(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var Ile=OU(),Dle=OU,Nle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$_:$_.apply(null,arguments)};function sa(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(So(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>EU(r)&&r.type===n,t}var IU=class Xm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xm.prototype)}static get[Symbol.species](){return Xm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xm(...e[0].concat(this)):new Xm(...e.concat(this))}};function kD(n){return jc(n)?PU(n,()=>{}):n}function Ox(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Ble(n){return typeof n=="boolean"}var Fle=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new IU;return t&&(Ble(t)?l.push(Ile):l.push(Dle(t.extraArgument))),l},DU="RTK_autoBatch",As=()=>n=>({payload:n,meta:{[DU]:!0}}),RD=n=>e=>{setTimeout(e,n)},NU=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,l=!1;const a=new Set,o=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RD(10):n.type==="callback"?n.queueNotification:RD(n.timeout),h=()=>{l=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const u=()=>i&&c(),d=r.subscribe(u);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){try{return i=!c?.meta?.[DU],s=!i,s&&(l||(l=!0,o(h))),r.dispatch(c)}finally{i=!0}}})},$le=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new IU(n);return r&&i.push(NU(typeof r=="object"?r:void 0)),i};function zle(n){const e=Fle(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(bk(t))a=CU(t);else throw new Error(So(1));let o;typeof r=="function"?o=r(e):o=e();let h=$_;i&&(h=Nle({trace:!1,...typeof i=="object"&&i}));const c=Sle(...o),u=$le(c);let d=typeof l=="function"?l(u):u();const f=h(...d);return SU(a,s,f)}function BU(n){const e={},t=[];let r;const i={addCase(s,l){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(So(28));if(a in e)throw new Error(So(29));return e[a]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&t.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return t.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}Ole(!1);function Ule(n){return typeof n=="function"}function jle(n,e){let[t,r,i]=BU(e),s;if(Ule(n))s=()=>kD(n());else{const a=kD(n);s=()=>a}function l(a=s(),o){let h=[t[o.type],...r.filter(({matcher:c})=>c(o)).map(({reducer:c})=>c)];return h.filter(c=>!!c).length===0&&(h=[i]),h.reduce((c,u)=>{if(u)if(Kd(c)){const f=u(c,o);return f===void 0?c:f}else{if(jc(c))return PU(c,d=>u(d,o));{const d=u(c,o);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},a)}return l.getInitialState=s,l}var Hle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wle=(n=21)=>{let e="",t=n;for(;t--;)e+=Hle[Math.random()*64|0];return e},Vle=Symbol.for("rtk-slice-createasyncthunk");function Gle(n,e){return`${n}/${e}`}function Kle({creators:n}={}){const e=n?.asyncThunk?.[Vle];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(So(11));const l=(typeof r.reducers=="function"?r.reducers(Xle()):r.reducers)||{},a=Object.keys(l),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,w){const C=typeof _=="string"?_:_.type;if(!C)throw new Error(So(12));if(C in o.sliceCaseReducersByType)throw new Error(So(13));return o.sliceCaseReducersByType[C]=w,h},addMatcher(_,w){return o.sliceMatchers.push({matcher:_,reducer:w}),h},exposeAction(_,w){return o.actionCreators[_]=w,h},exposeCaseReducer(_,w){return o.sliceCaseReducersByName[_]=w,h}};a.forEach(_=>{const w=l[_],C={reducerName:_,type:Gle(i,_),createNotation:typeof r.reducers=="function"};Zle(w)?Qle(C,w,h,e):Yle(C,w,h)});function c(){const[_={},w=[],C=void 0]=typeof r.extraReducers=="function"?BU(r.extraReducers):[r.extraReducers],b={..._,...o.sliceCaseReducersByType};return jle(r.initialState,T=>{for(let A in b)T.addCase(A,b[A]);for(let A of o.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of w)T.addMatcher(A.matcher,A.reducer);C&&T.addDefaultCase(C)})}const u=_=>_,d=new Map,f=new WeakMap;let p;function m(_,w){return p||(p=c()),p(_,w)}function g(){return p||(p=c()),p.getInitialState()}function v(_,w=!1){function C(T){let A=T[_];return typeof A>"u"&&w&&(A=Ox(f,C,g)),A}function b(T=u){const A=Ox(d,w,()=>new WeakMap);return Ox(A,T,()=>{const k={};for(const[P,N]of Object.entries(r.selectors??{}))k[P]=qle(N,T,()=>Ox(f,T,g),w);return k})}return{reducerPath:_,getSelectors:b,get selectors(){return b(C)},selectSlice:C}}const y={name:i,reducer:m,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:g,...v(s),injectInto(_,{reducerPath:w,...C}={}){const b=w??s;return _.inject({reducerPath:b,reducer:m},C),{...y,...v(b,!0)}}};return y}}function qle(n,e,t,r){function i(s,...l){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...l)}return i.unwrapped=n,i}var Mo=Kle();function Xle(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function Yle({type:n,reducerName:e,createNotation:t},r,i){let s,l;if("reducer"in r){if(t&&!Jle(r))throw new Error(So(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,l?sa(n,l):sa(n))}function Zle(n){return n._reducerDefinitionType==="asyncThunk"}function Jle(n){return n._reducerDefinitionType==="reducerWithPrepare"}function Qle({type:n,reducerName:e},t,r,i){if(!i)throw new Error(So(18));const{payloadCreator:s,fulfilled:l,pending:a,rejected:o,settled:h,options:c}=t,u=i(n,s,c);r.exposeAction(e,u),l&&r.addCase(u.fulfilled,l),a&&r.addCase(u.pending,a),o&&r.addCase(u.rejected,o),h&&r.addMatcher(u.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Ix,pending:a||Ix,rejected:o||Ix,settled:h||Ix})}function Ix(){}var ece="task",FU="listener",$U="completed",Ck="cancelled",tce=`task-${Ck}`,nce=`task-${$U}`,HM=`${FU}-${Ck}`,rce=`${FU}-${$U}`,Yb=class{constructor(n){this.code=n,this.message=`${ece} ${Ck} (reason: ${n})`}name="TaskAbortError";message},Ek=(n,e)=>{if(typeof n!="function")throw new TypeError(So(32))},H_=()=>{},zU=(n,e=H_)=>(n.catch(e),n),UU=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Fd=(n,e)=>{const t=n.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},$d=n=>{if(n.aborted){const{reason:e}=n;throw new Yb(e)}};function jU(n,e){let t=H_;return new Promise((r,i)=>{const s=()=>i(new Yb(n.reason));if(n.aborted){s();return}t=UU(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=H_})}var ice=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof Yb?"cancelled":"rejected",error:t}}finally{e?.()}},W_=n=>e=>zU(jU(n,e).then(t=>($d(n),t))),HU=n=>{const e=W_(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:Up}=Object,LD={},Zb="listenerMiddleware",sce=(n,e)=>{const t=r=>UU(n,()=>Fd(r,n.reason));return(r,i)=>{Ek(r);const s=new AbortController;t(s);const l=ice(async()=>{$d(n),$d(s.signal);const a=await r({pause:W_(s.signal),delay:HU(s.signal),signal:s.signal});return $d(s.signal),a},()=>Fd(s,nce));return i?.autoJoin&&e.push(l.catch(H_)),{result:W_(n)(l),cancel(){Fd(s,tce)}}}},oce=(n,e)=>{const t=async(r,i)=>{$d(e);let s=()=>{};const a=[new Promise((o,h)=>{let c=n({predicate:r,effect:(u,d)=>{d.unsubscribe(),o([u,d.getState(),d.getOriginalState()])}});s=()=>{c(),h()}})];i!=null&&a.push(new Promise(o=>setTimeout(o,i,null)));try{const o=await jU(e,Promise.race(a));return $d(e),o}finally{s()}};return(r,i)=>zU(t(r,i))},WU=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=sa(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(So(21));return Ek(s),{predicate:i,type:e,effect:s}},VU=Up(n=>{const{type:e,predicate:t,effect:r}=WU(n);return{id:Wle(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(So(22))}}},{withTypes:()=>VU}),PD=(n,e)=>{const{type:t,effect:r,predicate:i}=WU(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},WM=n=>{n.pending.forEach(e=>{Fd(e,HM)})},lce=(n,e)=>()=>{for(const t of e.keys())WM(t);n.clear()},OD=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},GU=Up(sa(`${Zb}/add`),{withTypes:()=>GU}),cce=sa(`${Zb}/removeAll`),KU=Up(sa(`${Zb}/remove`),{withTypes:()=>KU}),uce=(...n)=>{console.error(`${Zb}/error`,...n)},Ay=(n={})=>{const e=new Map,t=new Map,r=f=>{const p=t.get(f)??0;t.set(f,p+1)},i=f=>{const p=t.get(f)??1;p===1?t.delete(f):t.set(f,p-1)},{extra:s,onError:l=uce}=n;Ek(l);const a=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&WM(f)}),o=f=>{const p=PD(e,f)??VU(f);return a(p)};Up(o,{withTypes:()=>o});const h=f=>{const p=PD(e,f);return p&&(p.unsubscribe(),f.cancelActive&&WM(p)),!!p};Up(h,{withTypes:()=>h});const c=async(f,p,m,g)=>{const v=new AbortController,y=oce(o,v.signal),_=[];try{f.pending.add(v),r(f),await Promise.resolve(f.effect(p,Up({},m,{getOriginalState:g,condition:(w,C)=>y(w,C).then(Boolean),take:y,delay:HU(v.signal),pause:W_(v.signal),extra:s,signal:v.signal,fork:sce(v.signal,_),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((w,C,b)=>{w!==v&&(Fd(w,HM),b.delete(w))})},cancel:()=>{Fd(v,HM),f.pending.delete(v)},throwIfCancelled:()=>{$d(v.signal)}})))}catch(w){w instanceof Yb||OD(l,w,{raisedBy:"effect"})}finally{await Promise.all(_),Fd(v,rce),i(f),f.pending.delete(v)}},u=lce(e,t);return{middleware:f=>p=>m=>{if(!EU(m))return p(m);if(GU.match(m))return o(m.payload);if(cce.match(m)){u();return}if(KU.match(m))return h(m.payload);let g=f.getState();const v=()=>{if(g===LD)throw new Error(So(23));return g};let y;try{if(y=p(m),e.size>0){const _=f.getState(),w=Array.from(e.values());for(const C of w){let b=!1;try{b=C.predicate(m,_,g)}catch(T){b=!1,OD(l,T,{raisedBy:"predicate"})}b&&c(C,m,f,v)}}}finally{g=LD}return y},startListening:o,stopListening:h,clearListeners:u}};function So(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var hce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},qU=Mo({name:"chartLayout",initialState:hce,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:dce,setLayout:fce,setChartSize:pce,setScale:gce}=qU.actions,mce=qU.reducer;function ID(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(t),!0).forEach(function(r){vce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ID(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vce(n,e,t){return(e=yce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yce(n){var e=xce(n,"string");return typeof e=="symbol"?e:e+""}function xce(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var V_=Math.PI/180,_ce=n=>n*180/Math.PI,ii=(n,e,t,r)=>({x:n+Math.cos(-V_*r)*t,y:e+Math.sin(-V_*r)*t}),XU=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},bce=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},wce=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,l=bce({x:t,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var a=(t-i)/l,o=Math.acos(a);return r>s&&(o=2*Math.PI-o),{radius:l,angle:_ce(o),angleInRadian:o}},Sce=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},Cce=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(i,s);return n+l*360},Ece=(n,e)=>{var{x:t,y:r}=n,{radius:i,angle:s}=wce({x:t,y:r},e),{innerRadius:l,outerRadius:a}=e;if(i<l||i>a||i===0)return null;var{startAngle:o,endAngle:h}=Sce(e),c=s,u;if(o<=h){for(;c>h;)c-=360;for(;c<o;)c+=360;u=c>=o&&c<=h}else{for(;c>o;)c-=360;for(;c<h;)c+=360;u=c>=h&&c<=o}return u?DD(DD({},e),{},{radius:i,angle:Cce(c,e)}):null};function YU(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function ND(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(t),!0).forEach(function(r){Mce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ND(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mce(n,e,t){return(e=Tce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tce(n){var e=Ace(n,"string");return typeof e=="symbol"?e:e+""}function Ace(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rr(n,e,t){return Ii(n)||Ii(e)?t:Al(e)?Gd(n,e,t):typeof e=="function"?e(n):t}var kce=(n,e,t,r,i)=>{var s,l=-1,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var h=o>0?t[o-1].coordinate:t[a-1].coordinate,c=t[o].coordinate,u=o>=a-1?t[0].coordinate:t[o+1].coordinate,d=void 0;if(Oi(c-h)!==Oi(u-c)){var f=[];if(Oi(u-c)===Oi(i[1]-i[0])){d=u;var p=c+i[1]-i[0];f[0]=Math.min(p,(p+h)/2),f[1]=Math.max(p,(p+h)/2)}else{d=h;var m=u+i[1]-i[0];f[0]=Math.min(c,(m+c)/2),f[1]=Math.max(c,(m+c)/2)}var g=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(n>g[0]&&n<=g[1]||n>=f[0]&&n<=f[1]){({index:l}=t[o]);break}}else{var v=Math.min(h,u),y=Math.max(h,u);if(n>(v+c)/2&&n<=(y+c)/2){({index:l}=t[o]);break}}}else if(e){for(var _=0;_<a;_++)if(_===0&&n<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<a-1&&n>(e[_].coordinate+e[_-1].coordinate)/2&&n<=(e[_].coordinate+e[_+1].coordinate)/2||_===a-1&&n>(e[_].coordinate+e[_-1].coordinate)/2){({index:l}=e[_]);break}}return l},Rce=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:l,layout:a}=e;if((a==="vertical"||a==="horizontal"&&l==="middle")&&s!=="center"&&Pt(n[s]))return Jo(Jo({},n),{},{[s]:n[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&l!=="middle"&&Pt(n[l]))return Jo(Jo({},n),{},{[l]:n[l]+(i||0)})}return n},sf=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",ZU=(n,e,t,r)=>{if(r)return n.map(a=>a.coordinate);var i,s,l=n.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===t&&(s=!0),a.coordinate));return i||l.push(e),s||l.push(t),l},JU=(n,e,t)=>{if(!n)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:a,isCategorical:o,categoricalDomain:h,tickCount:c,ticks:u,niceTicks:d,axisType:f}=n;if(!l)return null;var p=a==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,m=i==="category"&&l.bandwidth?l.bandwidth()/p:0;if(m=f==="angleAxis"&&s&&s.length>=2?Oi(s[0]-s[1])*2*m:m,u||d){var g=(u||d||[]).map((v,y)=>{var _=r?r.indexOf(v):v;return{coordinate:l(_)+m,value:v,offset:m,index:y}});return g.filter(v=>!ia(v.coordinate))}return o&&h?h.map((v,y)=>({coordinate:l(v)+m,value:v,index:y,offset:m})):l.ticks&&c!=null?l.ticks(c).map((v,y)=>({coordinate:l(v)+m,value:v,offset:m,index:y})):l.domain().map((v,y)=>({coordinate:l(v)+m,value:r?r[v]:v,index:y,offset:m}))},BD=1e-4,Lce=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-BD,s=Math.max(r[0],r[1])+BD,l=n(e[0]),a=n(e[t-1]);(l<i||l>s||a<i||a>s)&&n.domain([e[0],e[t-1]])}},Pce=(n,e)=>{if(!e||e.length!==2||!Pt(e[0])||!Pt(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!Pt(n[0])||n[0]<t)&&(i[0]=t),(!Pt(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},Oce=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,l=0;l<e;++l){var a=ia(n[l][t][1])?n[l][t][0]:n[l][t][1];a>=0?(n[l][t][0]=i,n[l][t][1]=i+a,i=n[l][t][1]):(n[l][t][0]=s,n[l][t][1]=s+a,s=n[l][t][1])}},Ice=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var l=ia(n[s][t][1])?n[s][t][0]:n[s][t][1];l>=0?(n[s][t][0]=i,n[s][t][1]=i+l,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},Dce={sign:Oce,expand:nae,none:Zp,silhouette:rae,wiggle:iae,positive:Ice},Nce=(n,e,t)=>{var r=Dce[t],i=tae().keys(e).value((s,l)=>+Rr(s,l,0)).order(OM).offset(r);return i(n)};function Bce(n){return n==null?void 0:String(n)}var FD=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:l}=n;if(e.type==="category")return t[l]?t[l].coordinate+r:null;var a=Rr(s,e.dataKey,e.scale.domain()[l]);return Ii(a)?null:e.scale(a)-i/2+r},Fce=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},$ce=n=>{var e=n.flat(2).filter(Pt);return[Math.min(...e),Math.max(...e)]},zce=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],Uce=(n,e,t)=>{if(n!=null)return zce(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:l}=s,a=l.reduce((o,h)=>{var c=YU(h,e,t),u=$ce(c);return[Math.min(o[0],u[0]),Math.max(o[1],u[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},$D=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mk=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=Gb(e,c=>c.coordinate),s=1/0,l=1,a=i.length;l<a;l++){var o=i[l],h=i[l-1];s=Math.min((o.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function UD(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return Jo(Jo({},e),{},{dataKey:t,payload:r,value:i,name:s})}function Jb(n,e){if(n)return String(n);if(typeof e=="string")return e}function jce(n,e,t,r,i){if(t==="horizontal"||t==="vertical"){var s=n>=i.left&&n<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:n,y:e}:null}return r?Ece({x:n,y:e},r):null}var Hce=(n,e,t,r)=>{var i=e.find(h=>h&&h.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.y};if(n==="vertical")return{x:r.x,y:i.coordinate};if(n==="centric"){var s=i.coordinate,{radius:l}=r;return Jo(Jo(Jo({},r),ii(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var a=i.coordinate,{angle:o}=r;return Jo(Jo(Jo({},r),ii(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}return{x:0,y:0}},Wce=(n,e)=>e==="horizontal"?n.x:e==="vertical"?n.y:e==="centric"?n.angle:n.radius,Xc=n=>n.layout.width,Yc=n=>n.layout.height,Vce=n=>n.layout.scale,QU=n=>n.layout.margin,Qb=De(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),ew=De(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),ej="data-recharts-item-index",tj="data-recharts-item-data-key",ky=60;function jD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(t),!0).forEach(function(r){Gce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gce(n,e,t){return(e=Kce(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kce(n){var e=qce(n,"string");return typeof e=="symbol"?e:e+""}function qce(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Xce=n=>n.brush.height;function Yce(n){var e=ew(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ky;return t+i}return t},0)}function Zce(n){var e=ew(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ky;return t+i}return t},0)}function Jce(n){var e=Qb(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function Qce(n){var e=Qb(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var bi=De([Xc,Yc,QU,Xce,Yce,Zce,Jce,Qce,bU,mle],(n,e,t,r,i,s,l,a,o,h)=>{var c={left:(t.left||0)+i,right:(t.right||0)+s},u={top:(t.top||0)+l,bottom:(t.bottom||0)+a},d=Dx(Dx({},u),c),f=d.bottom;d.bottom+=r,d=Rce(d,o,h);var p=n-d.left-d.right,m=e-d.top-d.bottom;return Dx(Dx({brushBottom:f},d),{},{width:Math.max(p,0),height:Math.max(m,0)})}),eue=De(bi,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Tk=De(Xc,Yc,(n,e)=>({x:0,y:0,width:n,height:e})),tue=G.createContext(null),To=()=>G.useContext(tue)!=null,tw=n=>n.brush,nw=De([tw,bi,QU],(n,e,t)=>({height:n.height,x:Pt(n.x)?n.x:e.left,y:Pt(n.y)?n.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:Pt(n.width)?n.width:e.width})),yC={},xC={},_C={},HD;function nue(){return HD||(HD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let l,a=null;const o=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),c=()=>{a!==null&&(t.apply(l,a),l=void 0,a=null)},u=()=>{h&&c(),m()};let d=null;const f=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,u()},r)},p=()=>{d!==null&&(clearTimeout(d),d=null)},m=()=>{p(),l=void 0,a=null},g=()=>{c()},v=function(...y){if(i?.aborted)return;l=this,a=y;const _=d==null;f(),o&&_&&c()};return v.schedule=f,v.cancel=m,v.flush=g,i?.addEventListener("abort",m,{once:!0}),v}n.debounce=e})(_C)),_C}var WD;function rue(){return WD||(WD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nue();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:a=!0,maxWait:o}=s,h=Array(2);l&&(h[0]="leading"),a&&(h[1]="trailing");let c,u=null;const d=e.debounce(function(...m){c=r.apply(this,m),u=null},i,{edges:h}),f=function(...m){return o!=null&&(u===null&&(u=Date.now()),Date.now()-u>=o)?(c=r.apply(this,m),u=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,m),c)},p=()=>(d.flush(),c);return f.cancel=d.cancel,f.flush=p,f}n.debounce=t})(xC)),xC}var VD;function iue(){return VD||(VD=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rue();function t(r,i=0,s={}){const{leading:l=!0,trailing:a=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:a})}n.throttle=t})(yC)),yC}var bC,GD;function sue(){return GD||(GD=1,bC=iue().throttle),bC}var oue=sue();const aue=aa(oue);var G_=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},nj=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=t,a=Uc(r)?n:Number(r),o=Uc(i)?e:Number(i);return s&&s>0&&(a?o=a/s:o&&(a=o*s),l&&o>l&&(o=l)),{calculatedWidth:a,calculatedHeight:o}},lue={width:0,height:0,overflow:"visible"},cue={width:0,overflowX:"visible"},uue={height:0,overflowY:"visible"},hue={},due=n=>{var{width:e,height:t}=n,r=Uc(e),i=Uc(t);return r&&i?lue:r?cue:i?uue:hue};function fue(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function fs(n){return Number.isFinite(n)}function Jp(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function VM(){return VM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VM.apply(null,arguments)}function KD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(t),!0).forEach(function(r){pue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pue(n,e,t){return(e=gue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gue(n){var e=mue(n,"string");return typeof e=="symbol"?e:e+""}function mue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var rj=G.createContext({width:-1,height:-1});function ij(n){var{children:e,width:t,height:r}=n,i=G.useMemo(()=>({width:t,height:r}),[t,r]);return t<=0||r<=0?null:G.createElement(rj.Provider,{value:i},e)}var Ak=()=>G.useContext(rj),vue=G.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:a,maxHeight:o,children:h,debounce:c=0,id:u,className:d,onResize:f,style:p={}}=n,m=G.useRef(null),g=G.useRef();g.current=f,G.useImperativeHandle(e,()=>m.current);var[v,y]=G.useState({containerWidth:r.width,containerHeight:r.height}),_=G.useCallback((A,k)=>{y(P=>{var N=Math.round(A),D=Math.round(k);return P.containerWidth===N&&P.containerHeight===D?P:{containerWidth:N,containerHeight:D}})},[]);G.useEffect(()=>{var A=D=>{var L,{width:I,height:O}=D[0].contentRect;_(I,O),(L=g.current)===null||L===void 0||L.call(g,I,O)};c>0&&(A=aue(A,c,{trailing:!0,leading:!1}));var k=new ResizeObserver(A),{width:P,height:N}=m.current.getBoundingClientRect();return _(P,N),k.observe(m.current),()=>{k.disconnect()}},[_,c]);var{containerWidth:w,containerHeight:C}=v;G_(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:b,calculatedHeight:T}=nj(w,C,{width:i,height:s,aspect:t,maxHeight:o});return G_(b>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,b,T,i,s,l,a,t),G.createElement("div",{id:u?"".concat(u):void 0,className:Hn("recharts-responsive-container",d),style:qD(qD({},p),{},{width:i,height:s,minWidth:l,minHeight:a,maxHeight:o}),ref:m},G.createElement("div",{style:due({width:i,height:s})},G.createElement(ij,{width:b,height:T},h)))}),XD=G.forwardRef((n,e)=>{var t=Ak();if(Jp(t.width)&&Jp(t.height))return n.children;var{width:r,height:i}=fue({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:l}=nj(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return Pt(s)&&Pt(l)?G.createElement(ij,{width:s,height:l},n.children):G.createElement(vue,VM({},n,{width:r,height:i,ref:e}))}),rw=()=>{var n,e=To(),t=Rt(eue),r=Rt(nw),i=(n=Rt(tw))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sj=()=>{var n;return(n=Rt(bi))!==null&&n!==void 0?n:yue},kk=()=>Rt(Xc),Rk=()=>Rt(Yc),xue=()=>Rt(n=>n.layout.margin),Ln=n=>n.layout.layoutType,Lk=()=>Rt(Ln),iw=n=>{var e=yr(),t=To(),{width:r,height:i}=n,s=Ak(),l=r,a=i;return s&&(l=s.width>0?s.width:r,a=s.height>0?s.height:i),G.useEffect(()=>{!t&&Jp(l)&&Jp(a)&&e(pce({width:l,height:a}))},[e,t,l,a]),null},_ue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oj=Mo({name:"legend",initialState:_ue,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:As()},removeLegendPayload:{reducer(n,e){var t=Oc(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:As()}}}),{setLegendSize:YD,setLegendSettings:bue,addLegendPayload:aj,removeLegendPayload:lj}=oj.actions,wue=oj.reducer,Sue=["contextPayload"];function GM(){return GM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GM.apply(null,arguments)}function ZD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(t),!0).forEach(function(r){Pk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pk(n,e,t){return(e=Cue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cue(n){var e=Eue(n,"string");return typeof e=="symbol"?e:e+""}function Eue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mue(n,e){if(n==null)return{};var t,r,i=Tue(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Tue(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Aue(n){return n.value}function kue(n){var{contextPayload:e}=n,t=Mue(n,Sue),r=vU(e,n.payloadUniqBy,Aue),i=Qp(Qp({},t),{},{payload:r});return G.isValidElement(n.content)?G.cloneElement(n.content,i):typeof n.content=="function"?G.createElement(n.content,i):G.createElement(yk,i)}function Rue(n,e,t,r,i,s){var{layout:l,align:a,verticalAlign:o}=e,h,c;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(a==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=a==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(o==="middle"?c={top:((i||0)-s.height)/2}:c=o==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),Qp(Qp({},h),c)}function Lue(n){var e=yr();return G.useEffect(()=>{e(bue(n))},[e,n]),null}function Pue(n){var e=yr();return G.useEffect(()=>(e(YD(n)),()=>{e(YD({width:0,height:0}))}),[e,n]),null}function Oue(n){var e=xle(),t=Eoe(),r=xue(),{width:i,height:s,wrapperStyle:l,portal:a}=n,[o,h]=wU([e]),c=kk(),u=Rk();if(c==null||u==null)return null;var d=c-(r.left||0)-(r.right||0),f=sw.getWidthOrHeight(n.layout,s,i,d),p=a?l:Qp(Qp({position:"absolute",width:f?.width||i||"auto",height:f?.height||s||"auto"},Rue(l,n,r,c,u,o)),l),m=a??t;if(m==null)return null;var g=G.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:h},G.createElement(Lue,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),G.createElement(Pue,{width:o.width,height:o.height}),G.createElement(kue,GM({},n,f,{margin:r,chartWidth:c,chartHeight:u,contextPayload:e})));return aF.createPortal(g,m)}class sw extends G.PureComponent{static getWidthOrHeight(e,t,r,i){return e==="vertical"&&Pt(t)?{height:t}:e==="horizontal"?{width:r||i}:null}render(){return G.createElement(Oue,this.props)}}Pk(sw,"displayName","Legend");Pk(sw,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function KM(){return KM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KM.apply(null,arguments)}function JD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(t),!0).forEach(function(r){Iue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Iue(n,e,t){return(e=Due(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Due(n){var e=Nue(n,"string");return typeof e=="symbol"?e:e+""}function Nue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bue(n){return Array.isArray(n)&&Al(n[0])&&Al(n[1])?n.join(" ~ "):n}var Fue=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:a,wrapperClassName:o,labelClassName:h,label:c,labelFormatter:u,accessibilityLayer:d=!1}=n,f=()=>{if(s&&s.length){var C={padding:0,margin:0},b=(a?Gb(s,a):s).map((T,A)=>{if(T.type==="none")return null;var k=T.formatter||l||Bue,{value:P,name:N}=T,D=P,L=N;if(k){var I=k(P,N,T,A,s);if(Array.isArray(I))[D,L]=I;else if(I!=null)D=I;else return null}var O=wC({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:O},Al(L)?G.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Al(L)?G.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,G.createElement("span",{className:"recharts-tooltip-item-value"},D),G.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:C},b)}return null},p=wC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),m=wC({margin:0},i),g=!Ii(c),v=g?c:"",y=Hn("recharts-default-tooltip",o),_=Hn("recharts-tooltip-label",h);g&&u&&s!==void 0&&s!==null&&(v=u(c,s));var w=d?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",KM({className:y,style:p},w),G.createElement("p",{className:_,style:m},G.isValidElement(v)?v:"".concat(v)),f())},Nm="recharts-tooltip-wrapper",$ue={visibility:"hidden"};function zue(n){var{coordinate:e,translateX:t,translateY:r}=n;return Hn(Nm,{["".concat(Nm,"-right")]:Pt(t)&&e&&Pt(e.x)&&t>=e.x,["".concat(Nm,"-left")]:Pt(t)&&e&&Pt(e.x)&&t<e.x,["".concat(Nm,"-bottom")]:Pt(r)&&e&&Pt(e.y)&&r>=e.y,["".concat(Nm,"-top")]:Pt(r)&&e&&Pt(e.y)&&r<e.y})}function QD(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:a,viewBox:o,viewBoxDimension:h}=n;if(s&&Pt(s[r]))return s[r];var c=t[r]-a-(i>0?i:0),u=t[r]+i;if(e[r])return l[r]?c:u;var d=o[r];if(d==null)return 0;if(l[r]){var f=c,p=d;return f<p?Math.max(u,d):Math.max(c,d)}if(h==null)return 0;var m=u+a,g=d+h;return m>g?Math.max(c,d):Math.max(u,d)}function Uue(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function jue(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:a,viewBox:o}=n,h,c,u;return l.height>0&&l.width>0&&t?(c=QD({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:o,viewBoxDimension:o.width}),u=QD({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:o,viewBoxDimension:o.height}),h=Uue({translateX:c,translateY:u,useTranslate3d:a})):h=$ue,{cssProperties:h,cssClasses:zue({translateX:c,translateY:u,coordinate:t})}}function eN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(t),!0).forEach(function(r){qM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qM(n,e,t){return(e=Hue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hue(n){var e=Wue(n,"string");return typeof e=="symbol"?e:e+""}function Wue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Vue extends G.PureComponent{constructor(){super(...arguments),qM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qM(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:a,isAnimationActive:o,offset:h,position:c,reverseDirection:u,useTranslate3d:d,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:_}=jue({allowEscapeViewBox:t,coordinate:l,offsetTopLeft:h,position:c,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:f}),w=v?{}:Nx(Nx({transition:o&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),C=Nx(Nx({},w),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},p);return G.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:C,ref:g},s)}}var Gue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),of={devToolsEnabled:!1,isSsr:Gue()},cj=()=>Rt(n=>n.rootProps.accessibilityLayer);function XM(){return XM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XM.apply(null,arguments)}function tN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(t),!0).forEach(function(r){Kue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kue(n,e,t){return(e=que(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function que(n){var e=Xue(n,"string");return typeof e=="symbol"?e:e+""}function Xue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var rN={curveBasisClosed:Woe,curveBasisOpen:Voe,curveBasis:Hoe,curveBumpX:koe,curveBumpY:Roe,curveLinearClosed:Goe,curveLinear:Wb,curveMonotoneX:Koe,curveMonotoneY:qoe,curveNatural:Xoe,curveStep:Yoe,curveStepAfter:Joe,curveStepBefore:Zoe},Bx=n=>fs(n.x)&&fs(n.y),Bm=n=>n.x,Fm=n=>n.y,Yue=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(Ey(n));return(t==="curveMonotone"||t==="curveBump")&&e?rN["".concat(t).concat(e==="vertical"?"Y":"X")]:rN[t]||Wb},Zue=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,l=Yue(e,i),a=s?t.filter(Bx):t,o;if(Array.isArray(r)){var h=s?r.filter(u=>Bx(u)):r,c=a.map((u,d)=>nN(nN({},u),{},{base:h[d]}));return i==="vertical"?o=kx().y(Fm).x1(Bm).x0(u=>u.base.x):o=kx().x(Bm).y1(Fm).y0(u=>u.base.y),o.defined(Bx).curve(l),o(c)}return i==="vertical"&&Pt(r)?o=kx().y(Fm).x1(Bm).x0(r):Pt(r)?o=kx().x(Bm).y1(Fm).y0(r):o=q5().x(Bm).y(Fm),o.defined(Bx).curve(l),o(a)},uj=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?Zue(n):r;return G.createElement("path",XM({},Ka(n),bae(n),{className:Hn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Jue=["x","y","top","left","width","height","className"];function YM(){return YM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YM.apply(null,arguments)}function iN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Que(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(t),!0).forEach(function(r){ehe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ehe(n,e,t){return(e=the(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function the(n){var e=nhe(n,"string");return typeof e=="symbol"?e:e+""}function nhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rhe(n,e){if(n==null)return{};var t,r,i=ihe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ihe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var she=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),ohe=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:l=0,className:a}=n,o=rhe(n,Jue),h=Que({x:e,y:t,top:r,left:i,width:s,height:l},o);return!Pt(e)||!Pt(t)||!Pt(s)||!Pt(l)||!Pt(r)||!Pt(i)?null:G.createElement("path",YM({},ra(h),{className:Hn("recharts-cross",a),d:she(e,t,s,l,r,i)}))};function ahe(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function sN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lhe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(t),!0).forEach(function(r){che(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function che(n,e,t){return(e=uhe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uhe(n){var e=hhe(n,"string");return typeof e=="symbol"?e:e+""}function hhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Is(n,e){var t=lhe({},n),r=e,i=Object.keys(e),s=i.reduce((l,a)=>(l[a]===void 0&&r[a]!==void 0&&(l[a]=r[a]),l),t);return s}function dhe(){}function fhe(n){return n!=null}function oN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(t),!0).forEach(function(r){phe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function phe(n,e,t){return(e=ghe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ghe(n){var e=mhe(n,"string");return typeof e=="symbol"?e:e+""}function mhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vhe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),hj=(n,e,t)=>n.map(r=>"".concat(vhe(r)," ").concat(e,"ms ").concat(t)).join(","),yhe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),Vv=(n,e)=>Object.keys(e).reduce((t,r)=>aN(aN({},t),{},{[r]:n(r,e[r])}),{});function lN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(t),!0).forEach(function(r){xhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xhe(n,e,t){return(e=_he(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _he(n){var e=bhe(n,"string");return typeof e=="symbol"?e:e+""}function bhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var K_=(n,e,t)=>n+(e-n)*t,ZM=n=>{var{from:e,to:t}=n;return e!==t},dj=(n,e,t)=>{var r=Vv((i,s)=>{if(ZM(s)){var[l,a]=n(s.from,s.to,s.velocity);return qi(qi({},s),{},{from:l,velocity:a})}return s},e);return t<1?Vv((i,s)=>ZM(s)?qi(qi({},s),{},{velocity:K_(s.velocity,r[i].velocity,t),from:K_(s.from,r[i].from,t)}):s,e):dj(n,r,t-1)};function whe(n,e,t,r,i,s){var l,a=r.reduce((d,f)=>qi(qi({},d),{},{[f]:{from:n[f],velocity:0,to:e[f]}}),{}),o=()=>Vv((d,f)=>f.from,a),h=()=>!Object.values(a).filter(ZM).length,c=null,u=d=>{l||(l=d);var f=d-l,p=f/t.dt;a=dj(t,a,p),i(qi(qi(qi({},n),e),o())),l=d,h()||(c=s.setTimeout(u))};return()=>(c=s.setTimeout(u),()=>{c()})}function She(n,e,t,r,i,s,l){var a=null,o=i.reduce((u,d)=>qi(qi({},u),{},{[d]:[n[d],e[d]]}),{}),h,c=u=>{h||(h=u);var d=(u-h)/r,f=Vv((m,g)=>K_(...g,t(d)),o);if(s(qi(qi(qi({},n),e),f)),d<1)a=l.setTimeout(c);else{var p=Vv((m,g)=>K_(...g,t(1)),o);s(qi(qi(qi({},n),e),p))}};return()=>(a=l.setTimeout(c),()=>{a()})}const Che=(n,e,t,r,i,s)=>{var l=yhe(n,e);return t.isStepper===!0?whe(n,e,t,l,i,s):She(n,e,t,r,l,i,s)};var q_=1e-4,fj=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],pj=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),cN=(n,e)=>t=>{var r=fj(n,e);return pj(r,t)},Ehe=(n,e)=>t=>{var r=fj(n,e),i=[...r.map((s,l)=>s*l).slice(1),0];return pj(i,t)},uN=function(){for(var e,t,r,i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];if(l.length===1)switch(l[0]){case"linear":[e,r,t,i]=[0,0,1,1];break;case"ease":[e,r,t,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,i]=[.42,0,1,1];break;case"ease-out":[e,r,t,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,i]=[0,0,.58,1];break;default:{var o=l[0].split("(");o[0]==="cubic-bezier"&&o[1].split(")")[0].split(",").length===4&&([e,r,t,i]=o[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else l.length===4&&([e,r,t,i]=l);var h=cN(e,t),c=cN(r,i),u=Ehe(e,t),d=p=>p>1?1:p<0?0:p,f=p=>{for(var m=p>1?1:p,g=m,v=0;v<8;++v){var y=h(g)-m,_=u(g);if(Math.abs(y-m)<q_||_<q_)return c(g);g=d(g-y/_)}return c(g)};return f.isStepper=!1,f},Mhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(l,a,o)=>{var h=-(l-a)*t,c=o*r,u=o+(h-c)*i/1e3,d=o*i/1e3+l;return Math.abs(d-a)<q_&&Math.abs(u)<q_?[a,0]:[d,u]};return s.isStepper=!0,s.dt=i,s},The=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uN(n);case"spring":return Mhe();default:if(n.split("(")[0]==="cubic-bezier")return uN(n)}return typeof n=="function"?n:null};function Ahe(n){var e,t=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var a=l,[o,...h]=a;if(typeof o=="number"){i=n.setTimeout(s.bind(null,h),o);return}s(o),i=n.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,t(e)),typeof l=="object"&&(e=l,t(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(t=l,()=>{t=()=>null}),getTimeoutController:()=>n}}class khe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=t?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Rhe(){return Ahe(new khe)}var Lhe=G.createContext(Rhe);function Phe(n,e){var t=G.useContext(Lhe);return G.useMemo(()=>e??t(n),[n,e,t])}var Ohe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hN={t:0},SC={t:1};function ow(n){var e=Is(n,Ohe),{isActive:t,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:a,onAnimationStart:o,children:h}=e,c=Phe(e.animationId,e.animationManager),[u,d]=G.useState(t?hN:SC),f=G.useRef(null);return G.useEffect(()=>{t||d(SC)},[t]),G.useEffect(()=>{if(!t||!r)return dhe;var p=Che(hN,SC,The(s),i,d,c.getTimeoutController()),m=()=>{f.current=p()};return c.start([o,l,m,i,a]),()=>{c.stop(),f.current&&f.current(),a()}},[t,r,i,s,l,o,a,c]),h(u.t)}function aw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=G.useRef(Uv(e)),r=G.useRef(n);return r.current!==n&&(t.current=Uv(e),r.current=n),t.current}var Ihe=["radius"],Dhe=["radius"];function dN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(t),!0).forEach(function(r){Nhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nhe(n,e,t){return(e=Bhe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bhe(n){var e=Fhe(n,"string");return typeof e=="symbol"?e:e+""}function Fhe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function X_(){return X_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X_.apply(null,arguments)}function pN(n,e){if(n==null)return{};var t,r,i=$he(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function $he(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var gN=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),l=r>=0?1:-1,a=t>=0?1:-1,o=r>=0&&t>=0||r<0&&t<0?1:0,h;if(s>0&&i instanceof Array){for(var c=[0,0,0,0],u=0,d=4;u<d;u++)c[u]=i[u]>s?s:i[u];h="M".concat(n,",").concat(e+l*c[0]),c[0]>0&&(h+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(o,",").concat(n+a*c[0],",").concat(e)),h+="L ".concat(n+t-a*c[1],",").concat(e),c[1]>0&&(h+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(o,`,
        `).concat(n+t,",").concat(e+l*c[1])),h+="L ".concat(n+t,",").concat(e+r-l*c[2]),c[2]>0&&(h+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(o,`,
        `).concat(n+t-a*c[2],",").concat(e+r)),h+="L ".concat(n+a*c[3],",").concat(e+r),c[3]>0&&(h+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(o,`,
        `).concat(n,",").concat(e+r-l*c[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var f=Math.min(s,i);h="M ".concat(n,",").concat(e+l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(o,",").concat(n+a*f,",").concat(e,`
            L `).concat(n+t-a*f,",").concat(e,`
            A `).concat(f,",").concat(f,",0,0,").concat(o,",").concat(n+t,",").concat(e+l*f,`
            L `).concat(n+t,",").concat(e+r-l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(o,",").concat(n+t-a*f,",").concat(e+r,`
            L `).concat(n+a*f,",").concat(e+r,`
            A `).concat(f,",").concat(f,",0,0,").concat(o,",").concat(n,",").concat(e+r-l*f," Z")}else h="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return h},zhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gj=n=>{var e=Is(n,zhe),t=G.useRef(null),[r,i]=G.useState(-1);G.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var H=t.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:s,y:l,width:a,height:o,radius:h,className:c}=e,{animationEasing:u,animationDuration:d,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:m}=e,g=G.useRef(a),v=G.useRef(o),y=G.useRef(s),_=G.useRef(l),w=G.useMemo(()=>({x:s,y:l,width:a,height:o,radius:h}),[s,l,a,o,h]),C=aw(w,"rectangle-");if(s!==+s||l!==+l||a!==+a||o!==+o||a===0||o===0)return null;var b=Hn("recharts-rectangle",c);if(!m){var T=ra(e),{radius:A}=T,k=pN(T,Ihe);return G.createElement("path",X_({},k,{radius:typeof h=="number"?h:void 0,className:b,d:gN(s,l,a,o,h)}))}var P=g.current,N=v.current,D=y.current,L=_.current,I="0px ".concat(r===-1?1:r,"px"),O="".concat(r,"px 0px"),F=hj(["strokeDasharray"],d,typeof u=="string"?u:void 0);return G.createElement(ow,{animationId:C,key:C,canBegin:r>0,duration:d,easing:u,isActive:m,begin:f},H=>{var j=Yi(P,a,H),z=Yi(N,o,H),W=Yi(D,s,H),K=Yi(L,l,H);t.current&&(g.current=j,v.current=z,y.current=W,_.current=K);var X;p?H>0?X={transition:F,strokeDasharray:O}:X={strokeDasharray:I}:X={strokeDasharray:O};var J=ra(e),{radius:te}=J,re=pN(J,Dhe);return G.createElement("path",X_({},re,{radius:typeof h=="number"?h:void 0,className:b,d:gN(W,K,j,z,h),ref:t,style:fN(fN({},X),e.style)}))})};function mj(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,l=ii(e,t,r,i),a=ii(e,t,r,s);return{points:[l,a],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function JM(){return JM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JM.apply(null,arguments)}var Uhe=(n,e)=>{var t=Oi(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},Fx=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:a,cornerIsExternal:o}=n,h=a*(l?1:-1)+r,c=Math.asin(a/h)/V_,u=o?i:i+s*c,d=ii(e,t,h,u),f=ii(e,t,r,u),p=o?i-s*c:i,m=ii(e,t,h*Math.cos(c*V_),p);return{center:d,circleTangency:f,lineTangency:m,theta:c}},vj=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=n,a=Uhe(s,l),o=s+a,h=ii(e,t,i,s),c=ii(e,t,i,o),u="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(s>o),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var d=ii(e,t,r,s),f=ii(e,t,r,o);u+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(s<=o),`,
            `).concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(e,",").concat(t," Z");return u},jhe=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:a,startAngle:o,endAngle:h}=n,c=Oi(h-o),{circleTangency:u,lineTangency:d,theta:f}=Fx({cx:e,cy:t,radius:i,angle:o,sign:c,cornerRadius:s,cornerIsExternal:a}),{circleTangency:p,lineTangency:m,theta:g}=Fx({cx:e,cy:t,radius:i,angle:h,sign:-c,cornerRadius:s,cornerIsExternal:a}),v=a?Math.abs(o-h):Math.abs(o-h)-f-g;if(v<0)return l?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vj({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:o,endAngle:h});var y="M ".concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(u.x,",").concat(u.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:w,theta:C}=Fx({cx:e,cy:t,radius:r,angle:o,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:b,lineTangency:T,theta:A}=Fx({cx:e,cy:t,radius:r,angle:h,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),k=a?Math.abs(o-h):Math.abs(o-h)-C-A;if(k<0&&s===0)return"".concat(y,"L").concat(e,",").concat(t,"Z");y+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(b.x,",").concat(b.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(c>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,"Z")}else y+="L".concat(e,",").concat(t,"Z");return y},Hhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yj=n=>{var e=Is(n,Hhe),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:a,cornerIsExternal:o,startAngle:h,endAngle:c,className:u}=e;if(s<i||h===c)return null;var d=Hn("recharts-sector",u),f=s-i,p=ds(l,f,0,!0),m;return p>0&&Math.abs(h-c)<360?m=jhe({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,f/2),forceCornerRadius:a,cornerIsExternal:o,startAngle:h,endAngle:c}):m=vj({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:c}),G.createElement("path",JM({},ra(e),{className:d,d:m}))};function Whe(n,e,t){var r,i,s,l;if(n==="horizontal")r=e.x,s=r,i=t.top,l=t.top+t.height;else if(n==="vertical")i=e.y,l=i,r=t.left,s=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var{cx:a,cy:o,innerRadius:h,outerRadius:c,angle:u}=e,d=ii(a,o,h,u),f=ii(a,o,c,u);r=d.x,i=d.y,s=f.x,l=f.y}else return mj(e);return[{x:r,y:i},{x:s,y:l}]}var CC={},EC={},MC={},mN;function Vhe(){return mN||(mN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=xU();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(MC)),MC}var vN;function Ghe(){return vN||(vN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Vhe();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(EC)),EC}var yN;function Khe(){return yN||(yN=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_U(),t=Ghe();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),l=l===void 0?i<s?1:-1:t.toFinite(l);const a=Math.max(Math.ceil((s-i)/(l||1)),0),o=new Array(a);for(let h=0;h<a;h++)o[h]=i,i+=l;return o}n.range=r})(CC)),CC}var TC,xN;function qhe(){return xN||(xN=1,TC=Khe().range),TC}var Xhe=qhe();const xj=aa(Xhe);function th(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Yhe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Ok(n){let e,t,r;n.length!==2?(e=th,t=(a,o)=>th(n(a),o),r=(a,o)=>n(a)-o):(e=n===th||n===Yhe?n:Zhe,t=n,r=n);function i(a,o,h=0,c=a.length){if(h<c){if(e(o,o)!==0)return c;do{const u=h+c>>>1;t(a[u],o)<0?h=u+1:c=u}while(h<c)}return h}function s(a,o,h=0,c=a.length){if(h<c){if(e(o,o)!==0)return c;do{const u=h+c>>>1;t(a[u],o)<=0?h=u+1:c=u}while(h<c)}return h}function l(a,o,h=0,c=a.length){const u=i(a,o,h,c-1);return u>h&&r(a[u-1],o)>-r(a[u],o)?u-1:u}return{left:i,center:l,right:s}}function Zhe(){return 0}function _j(n){return n===null?NaN:+n}function*Jhe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const Qhe=Ok(th),Ry=Qhe.right;Ok(_j).center;class _N extends Map{constructor(e,t=nde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bN(this,e))}has(e){return super.has(bN(this,e))}set(e,t){return super.set(ede(this,e),t)}delete(e){return super.delete(tde(this,e))}}function bN({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function ede({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function tde({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function nde(n){return n!==null&&typeof n=="object"?n.valueOf():n}function rde(n=th){if(n===th)return bj;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function bj(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const ide=Math.sqrt(50),sde=Math.sqrt(10),ode=Math.sqrt(2);function Y_(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=ide?10:s>=sde?5:s>=ode?2:1;let a,o,h;return i<0?(h=Math.pow(10,-i)/l,a=Math.round(n*h),o=Math.round(e*h),a/h<n&&++a,o/h>e&&--o,h=-h):(h=Math.pow(10,i)*l,a=Math.round(n/h),o=Math.round(e/h),a*h<n&&++a,o*h>e&&--o),o<a&&.5<=t&&t<2?Y_(n,e,t*2):[a,o,h]}function QM(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,l]=r?Y_(e,n,t):Y_(n,e,t);if(!(s>=i))return[];const a=s-i+1,o=new Array(a);if(r)if(l<0)for(let h=0;h<a;++h)o[h]=(s-h)/-l;else for(let h=0;h<a;++h)o[h]=(s-h)*l;else if(l<0)for(let h=0;h<a;++h)o[h]=(i+h)/-l;else for(let h=0;h<a;++h)o[h]=(i+h)*l;return o}function eT(n,e,t){return e=+e,n=+n,t=+t,Y_(n,e,t)[2]}function tT(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?eT(e,n,t):eT(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function wN(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function SN(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function wj(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?bj:rde(i);r>t;){if(r-t>600){const o=r-t+1,h=e-t+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(h-o/2<0?-1:1),f=Math.max(t,Math.floor(e-h*u/o+d)),p=Math.min(r,Math.floor(e+(o-h)*u/o+d));wj(n,e,f,p,i)}const s=n[e];let l=t,a=r;for($m(n,t,e),i(n[r],s)>0&&$m(n,t,r);l<a;){for($m(n,l,a),++l,--a;i(n[l],s)<0;)++l;for(;i(n[a],s)>0;)--a}i(n[t],s)===0?$m(n,t,a):(++a,$m(n,a,r)),a<=e&&(t=a+1),e<=a&&(r=a-1)}return n}function $m(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function ade(n,e,t){if(n=Float64Array.from(Jhe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return SN(n);if(e>=1)return wN(n);var r,i=(r-1)*e,s=Math.floor(i),l=wN(wj(n,s).subarray(0,s+1)),a=SN(n.subarray(s+1));return l+(a-l)*(i-s)}}function lde(n,e,t=_j){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),l=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return l+(a-l)*(i-s)}}function cde(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function la(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Zc(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nT=Symbol("implicit");function Ik(){var n=new _N,e=[],t=[],r=nT;function i(s){let l=n.get(s);if(l===void 0){if(r!==nT)return r;n.set(s,l=e.push(s)-1)}return t[l%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new _N;for(const l of s)n.has(l)||n.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ik(e,t).unknown(r)},la.apply(i,arguments),i}function Dk(){var n=Ik().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,l,a=!1,o=0,h=0,c=.5;delete n.unknown;function u(){var d=e().length,f=i<r,p=f?i:r,m=f?r:i;s=(m-p)/Math.max(1,d-o+h*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-o))*c,l=s*(1-o),a&&(p=Math.round(p),l=Math.round(l));var g=cde(d).map(function(v){return p+s*v});return t(f?g.reverse():g)}return n.domain=function(d){return arguments.length?(e(d),u()):e()},n.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},n.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,u()},n.bandwidth=function(){return l},n.step=function(){return s},n.round=function(d){return arguments.length?(a=!!d,u()):a},n.padding=function(d){return arguments.length?(o=Math.min(1,h=+d),u()):o},n.paddingInner=function(d){return arguments.length?(o=Math.min(1,d),u()):o},n.paddingOuter=function(d){return arguments.length?(h=+d,u()):h},n.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},n.copy=function(){return Dk(e(),[r,i]).round(a).paddingInner(o).paddingOuter(h).align(c)},la.apply(u(),arguments)}function Sj(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Sj(e())},n}function ude(){return Sj(Dk.apply(null,arguments).paddingInner(1))}function Nk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Cj(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Ly(){}var Gv=.7,Z_=1/Gv,jp="\\s*([+-]?\\d+)\\s*",Kv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hde=/^#([0-9a-f]{3,8})$/,dde=new RegExp(`^rgb\\(${jp},${jp},${jp}\\)$`),fde=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),pde=new RegExp(`^rgba\\(${jp},${jp},${jp},${Kv}\\)$`),gde=new RegExp(`^rgba\\(${El},${El},${El},${Kv}\\)$`),mde=new RegExp(`^hsl\\(${Kv},${El},${El}\\)$`),vde=new RegExp(`^hsla\\(${Kv},${El},${El},${Kv}\\)$`),CN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nk(Ly,qv,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:EN,formatHex:EN,formatHex8:yde,formatHsl:xde,formatRgb:MN,toString:MN});function EN(){return this.rgb().formatHex()}function yde(){return this.rgb().formatHex8()}function xde(){return Ej(this).formatHsl()}function MN(){return this.rgb().formatRgb()}function qv(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=hde.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?TN(e):t===3?new Qs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?$x(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?$x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dde.exec(n))?new Qs(e[1],e[2],e[3],1):(e=fde.exec(n))?new Qs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pde.exec(n))?$x(e[1],e[2],e[3],e[4]):(e=gde.exec(n))?$x(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mde.exec(n))?RN(e[1],e[2]/100,e[3]/100,1):(e=vde.exec(n))?RN(e[1],e[2]/100,e[3]/100,e[4]):CN.hasOwnProperty(n)?TN(CN[n]):n==="transparent"?new Qs(NaN,NaN,NaN,0):null}function TN(n){return new Qs(n>>16&255,n>>8&255,n&255,1)}function $x(n,e,t,r){return r<=0&&(n=e=t=NaN),new Qs(n,e,t,r)}function _de(n){return n instanceof Ly||(n=qv(n)),n?(n=n.rgb(),new Qs(n.r,n.g,n.b,n.opacity)):new Qs}function rT(n,e,t,r){return arguments.length===1?_de(n):new Qs(n,e,t,r??1)}function Qs(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Nk(Qs,rT,Cj(Ly,{brighter(n){return n=n==null?Z_:Math.pow(Z_,n),new Qs(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Gv:Math.pow(Gv,n),new Qs(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Qs(zd(this.r),zd(this.g),zd(this.b),J_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AN,formatHex:AN,formatHex8:bde,formatRgb:kN,toString:kN}));function AN(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}`}function bde(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}${kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function kN(){const n=J_(this.opacity);return`${n===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${n===1?")":`, ${n})`}`}function J_(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function zd(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function kd(n){return n=zd(n),(n<16?"0":"")+n.toString(16)}function RN(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ha(n,e,t,r)}function Ej(n){if(n instanceof Ha)return new Ha(n.h,n.s,n.l,n.opacity);if(n instanceof Ly||(n=qv(n)),!n)return new Ha;if(n instanceof Ha)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),l=NaN,a=s-i,o=(s+i)/2;return a?(e===s?l=(t-r)/a+(t<r)*6:t===s?l=(r-e)/a+2:l=(e-t)/a+4,a/=o<.5?s+i:2-s-i,l*=60):a=o>0&&o<1?0:l,new Ha(l,a,o,n.opacity)}function wde(n,e,t,r){return arguments.length===1?Ej(n):new Ha(n,e,t,r??1)}function Ha(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Nk(Ha,wde,Cj(Ly,{brighter(n){return n=n==null?Z_:Math.pow(Z_,n),new Ha(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Gv:Math.pow(Gv,n),new Ha(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Qs(AC(n>=240?n-240:n+120,i,r),AC(n,i,r),AC(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Ha(LN(this.h),zx(this.s),zx(this.l),J_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=J_(this.opacity);return`${n===1?"hsl(":"hsla("}${LN(this.h)}, ${zx(this.s)*100}%, ${zx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function LN(n){return n=(n||0)%360,n<0?n+360:n}function zx(n){return Math.max(0,Math.min(1,n||0))}function AC(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Bk=n=>()=>n;function Sde(n,e){return function(t){return n+t*e}}function Cde(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Ede(n){return(n=+n)==1?Mj:function(e,t){return t-e?Cde(e,t,n):Bk(isNaN(e)?t:e)}}function Mj(n,e){var t=e-n;return t?Sde(n,t):Bk(isNaN(n)?e:n)}const PN=(function n(e){var t=Ede(e);function r(i,s){var l=t((i=rT(i)).r,(s=rT(s)).r),a=t(i.g,s.g),o=t(i.b,s.b),h=Mj(i.opacity,s.opacity);return function(c){return i.r=l(c),i.g=a(c),i.b=o(c),i.opacity=h(c),i+""}}return r.gamma=n,r})(1);function Mde(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function Tde(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ade(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),l;for(l=0;l<r;++l)i[l]=yg(n[l],e[l]);for(;l<t;++l)s[l]=e[l];return function(a){for(l=0;l<r;++l)s[l]=i[l](a);return s}}function kde(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Q_(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Rde(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=yg(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var iT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kC=new RegExp(iT.source,"g");function Lde(n){return function(){return n}}function Pde(n){return function(e){return n(e)+""}}function Ode(n,e){var t=iT.lastIndex=kC.lastIndex=0,r,i,s,l=-1,a=[],o=[];for(n=n+"",e=e+"";(r=iT.exec(n))&&(i=kC.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[l]?a[l]+=s:a[++l]=s),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,o.push({i:l,x:Q_(r,i)})),t=kC.lastIndex;return t<e.length&&(s=e.slice(t),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?Pde(o[0].x):Lde(e):(e=o.length,function(h){for(var c=0,u;c<e;++c)a[(u=o[c]).i]=u.x(h);return a.join("")})}function yg(n,e){var t=typeof e,r;return e==null||t==="boolean"?Bk(e):(t==="number"?Q_:t==="string"?(r=qv(e))?(e=r,PN):Ode:e instanceof qv?PN:e instanceof Date?kde:Tde(e)?Mde:Array.isArray(e)?Ade:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rde:Q_)(n,e)}function Fk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Ide(n,e){e===void 0&&(e=n,n=yg);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(l){var a=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[a](l-a)}}function Dde(n){return function(){return n}}function eb(n){return+n}var ON=[0,1];function Ls(n){return n}function sT(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Dde(isNaN(e)?NaN:.5)}function Nde(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Bde(n,e,t){var r=n[0],i=n[1],s=e[0],l=e[1];return i<r?(r=sT(i,r),s=t(l,s)):(r=sT(r,i),s=t(s,l)),function(a){return s(r(a))}}function Fde(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=sT(n[l],n[l+1]),s[l]=t(e[l],e[l+1]);return function(a){var o=Ry(n,a,1,r)-1;return s[o](i[o](a))}}function Py(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function lw(){var n=ON,e=ON,t=yg,r,i,s,l=Ls,a,o,h;function c(){var d=Math.min(n.length,e.length);return l!==Ls&&(l=Nde(n[0],n[d-1])),a=d>2?Fde:Bde,o=h=null,u}function u(d){return d==null||isNaN(d=+d)?s:(o||(o=a(n.map(r),e,t)))(r(l(d)))}return u.invert=function(d){return l(i((h||(h=a(e,n.map(r),Q_)))(d)))},u.domain=function(d){return arguments.length?(n=Array.from(d,eb),c()):n.slice()},u.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},u.rangeRound=function(d){return e=Array.from(d),t=Fk,c()},u.clamp=function(d){return arguments.length?(l=d?!0:Ls,c()):l!==Ls},u.interpolate=function(d){return arguments.length?(t=d,c()):t},u.unknown=function(d){return arguments.length?(s=d,u):s},function(d,f){return r=d,i=f,c()}}function $k(){return lw()(Ls,Ls)}function $de(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function tb(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function eg(n){return n=tb(Math.abs(n)),n?n[1]:NaN}function zde(n,e){return function(t,r){for(var i=t.length,s=[],l=0,a=n[0],o=0;i>0&&a>0&&(o+a+1>r&&(a=Math.max(1,r-o)),s.push(t.substring(i-=a,i+a)),!((o+=a+1)>r));)a=n[l=(l+1)%n.length];return s.reverse().join(e)}}function Ude(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var jde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xv(n){if(!(e=jde.exec(n)))throw new Error("invalid format: "+n);var e;return new zk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xv.prototype=zk.prototype;function zk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hde(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Tj;function Wde(n,e){var t=tb(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(Tj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tb(n,Math.max(0,e+s-1))[0]}function IN(n,e){var t=tb(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DN={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:$de,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>IN(n*100,e),r:IN,s:Wde,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function NN(n){return n}var BN=Array.prototype.map,FN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vde(n){var e=n.grouping===void 0||n.thousands===void 0?NN:zde(BN.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?NN:Ude(BN.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"":n.minus+"",o=n.nan===void 0?"NaN":n.nan+"";function h(u){u=Xv(u);var d=u.fill,f=u.align,p=u.sign,m=u.symbol,g=u.zero,v=u.width,y=u.comma,_=u.precision,w=u.trim,C=u.type;C==="n"?(y=!0,C="g"):DN[C]||(_===void 0&&(_=12),w=!0,C="g"),(g||d==="0"&&f==="=")&&(g=!0,d="0",f="=");var b=m==="$"?t:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?r:/[%p]/.test(C)?l:"",A=DN[C],k=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(N){var D=b,L=T,I,O,F;if(C==="c")L=A(N)+L,N="";else{N=+N;var H=N<0||1/N<0;if(N=isNaN(N)?o:A(Math.abs(N),_),w&&(N=Hde(N)),H&&+N==0&&p!=="+"&&(H=!1),D=(H?p==="("?p:a:p==="-"||p==="("?"":p)+D,L=(C==="s"?FN[8+Tj/3]:"")+L+(H&&p==="("?")":""),k){for(I=-1,O=N.length;++I<O;)if(F=N.charCodeAt(I),48>F||F>57){L=(F===46?i+N.slice(I+1):N.slice(I))+L,N=N.slice(0,I);break}}}y&&!g&&(N=e(N,1/0));var j=D.length+N.length+L.length,z=j<v?new Array(v-j+1).join(d):"";switch(y&&g&&(N=e(z+N,z.length?v-L.length:1/0),z=""),f){case"<":N=D+N+L+z;break;case"=":N=D+z+N+L;break;case"^":N=z.slice(0,j=z.length>>1)+D+N+L+z.slice(j);break;default:N=z+D+N+L;break}return s(N)}return P.toString=function(){return u+""},P}function c(u,d){var f=h((u=Xv(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(eg(d)/3)))*3,m=Math.pow(10,-p),g=FN[8+p/3];return function(v){return f(m*v)+g}}return{format:h,formatPrefix:c}}var Ux,Uk,Aj;Gde({thousands:",",grouping:[3],currency:["$",""]});function Gde(n){return Ux=Vde(n),Uk=Ux.format,Aj=Ux.formatPrefix,Ux}function Kde(n){return Math.max(0,-eg(Math.abs(n)))}function qde(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eg(e)/3)))*3-eg(Math.abs(n)))}function Xde(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,eg(e)-eg(n))+1}function kj(n,e,t,r){var i=tT(n,e,t),s;switch(r=Xv(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=qde(i,l))&&(r.precision=s),Aj(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Xde(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Kde(i))&&(r.precision=s-(r.type==="%")*2);break}}return Uk(r)}function vh(n){var e=n.domain;return n.ticks=function(t){var r=e();return QM(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return kj(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,l=r[i],a=r[s],o,h,c=10;for(a<l&&(h=l,l=a,a=h,h=i,i=s,s=h);c-- >0;){if(h=eT(l,a,t),h===o)return r[i]=l,r[s]=a,e(r);if(h>0)l=Math.floor(l/h)*h,a=Math.ceil(a/h)*h;else if(h<0)l=Math.ceil(l*h)/h,a=Math.floor(a*h)/h;else break;o=h}return n},n}function Rj(){var n=$k();return n.copy=function(){return Py(n,Rj())},la.apply(n,arguments),vh(n)}function Lj(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,eb),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return Lj(n).unknown(e)},n=arguments.length?Array.from(n,eb):[0,1],vh(t)}function Pj(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],l;return s<i&&(l=t,t=r,r=l,l=i,i=s,s=l),n[t]=e.floor(i),n[r]=e.ceil(s),n}function $N(n){return Math.log(n)}function zN(n){return Math.exp(n)}function Yde(n){return-Math.log(-n)}function Zde(n){return-Math.exp(-n)}function Jde(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Qde(n){return n===10?Jde:n===Math.E?Math.exp:e=>Math.pow(n,e)}function efe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function UN(n){return(e,t)=>-n(-e,t)}function jk(n){const e=n($N,zN),t=e.domain;let r=10,i,s;function l(){return i=efe(r),s=Qde(r),t()[0]<0?(i=UN(i),s=UN(s),n(Yde,Zde)):n($N,zN),e}return e.base=function(a){return arguments.length?(r=+a,l()):r},e.domain=function(a){return arguments.length?(t(a),l()):t()},e.ticks=a=>{const o=t();let h=o[0],c=o[o.length-1];const u=c<h;u&&([h,c]=[c,h]);let d=i(h),f=i(c),p,m;const g=a==null?10:+a;let v=[];if(!(r%1)&&f-d<g){if(d=Math.floor(d),f=Math.ceil(f),h>0){for(;d<=f;++d)for(p=1;p<r;++p)if(m=d<0?p/s(-d):p*s(d),!(m<h)){if(m>c)break;v.push(m)}}else for(;d<=f;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/s(-d):p*s(d),!(m<h)){if(m>c)break;v.push(m)}v.length*2<g&&(v=QM(h,c,g))}else v=QM(d,f,Math.min(f-d,g)).map(s);return u?v.reverse():v},e.tickFormat=(a,o)=>{if(a==null&&(a=10),o==null&&(o=r===10?"s":","),typeof o!="function"&&(!(r%1)&&(o=Xv(o)).precision==null&&(o.trim=!0),o=Uk(o)),a===1/0)return o;const h=Math.max(1,r*a/e.ticks().length);return c=>{let u=c/s(Math.round(i(c)));return u*r<r-.5&&(u*=r),u<=h?o(c):""}},e.nice=()=>t(Pj(t(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function Oj(){const n=jk(lw()).domain([1,10]);return n.copy=()=>Py(n,Oj()).base(n.base()),la.apply(n,arguments),n}function jN(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function HN(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Hk(n){var e=1,t=n(jN(e),HN(e));return t.constant=function(r){return arguments.length?n(jN(e=+r),HN(e)):e},vh(t)}function Ij(){var n=Hk(lw());return n.copy=function(){return Py(n,Ij()).constant(n.constant())},la.apply(n,arguments)}function WN(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function tfe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function nfe(n){return n<0?-n*n:n*n}function Wk(n){var e=n(Ls,Ls),t=1;function r(){return t===1?n(Ls,Ls):t===.5?n(tfe,nfe):n(WN(t),WN(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},vh(e)}function Vk(){var n=Wk(lw());return n.copy=function(){return Py(n,Vk()).exponent(n.exponent())},la.apply(n,arguments),n}function rfe(){return Vk.apply(null,arguments).exponent(.5)}function VN(n){return Math.sign(n)*n*n}function ife(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function Dj(){var n=$k(),e=[0,1],t=!1,r;function i(s){var l=ife(n(s));return isNaN(l)?r:t?Math.round(l):l}return i.invert=function(s){return n.invert(VN(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,eb)).map(VN)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Dj(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},la.apply(i,arguments),vh(i)}function Nj(){var n=[],e=[],t=[],r;function i(){var l=0,a=Math.max(1,e.length);for(t=new Array(a-1);++l<a;)t[l-1]=lde(n,l/a);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Ry(t,l)]}return s.invertExtent=function(l){var a=e.indexOf(l);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(l){if(!arguments.length)return n.slice();n=[];for(let a of l)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(th),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return Nj().domain(n).range(e).unknown(r)},la.apply(s,arguments)}function Bj(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function l(o){return o!=null&&o<=o?i[Ry(r,o,0,t)]:s}function a(){var o=-1;for(r=new Array(t);++o<t;)r[o]=((o+1)*e-(o-t)*n)/(t+1);return l}return l.domain=function(o){return arguments.length?([n,e]=o,n=+n,e=+e,a()):[n,e]},l.range=function(o){return arguments.length?(t=(i=Array.from(o)).length-1,a()):i.slice()},l.invertExtent=function(o){var h=i.indexOf(o);return h<0?[NaN,NaN]:h<1?[n,r[0]]:h>=t?[r[t-1],e]:[r[h-1],r[h]]},l.unknown=function(o){return arguments.length&&(s=o),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Bj().domain([n,e]).range(i).unknown(s)},la.apply(vh(l),arguments)}function Fj(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[Ry(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[n[l-1],n[l]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return Fj().domain(n).range(e).unknown(t)},la.apply(i,arguments)}const RC=new Date,LC=new Date;function wi(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const l=i(s),a=i.ceil(s);return s-l<a-s?l:a},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,a)=>{const o=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<l)||!(a>0))return o;let h;do o.push(h=new Date(+s)),e(s,a),n(s);while(h<s&&s<l);return o},i.filter=s=>wi(l=>{if(l>=l)for(;n(l),!s(l);)l.setTime(l-1)},(l,a)=>{if(l>=l)if(a<0)for(;++a<=0;)for(;e(l,-1),!s(l););else for(;--a>=0;)for(;e(l,1),!s(l););}),t&&(i.count=(s,l)=>(RC.setTime(+s),LC.setTime(+l),n(RC),n(LC),Math.floor(t(RC,LC))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const nb=wi(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);nb.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?wi(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):nb);nb.range;const kc=1e3,ta=kc*60,Rc=ta*60,Hc=Rc*24,Gk=Hc*7,GN=Hc*30,PC=Hc*365,Rd=wi(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*kc)},(n,e)=>(e-n)/kc,n=>n.getUTCSeconds());Rd.range;const Kk=wi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*kc)},(n,e)=>{n.setTime(+n+e*ta)},(n,e)=>(e-n)/ta,n=>n.getMinutes());Kk.range;const qk=wi(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*ta)},(n,e)=>(e-n)/ta,n=>n.getUTCMinutes());qk.range;const Xk=wi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*kc-n.getMinutes()*ta)},(n,e)=>{n.setTime(+n+e*Rc)},(n,e)=>(e-n)/Rc,n=>n.getHours());Xk.range;const Yk=wi(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Rc)},(n,e)=>(e-n)/Rc,n=>n.getUTCHours());Yk.range;const Oy=wi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*ta)/Hc,n=>n.getDate()-1);Oy.range;const cw=wi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Hc,n=>n.getUTCDate()-1);cw.range;const $j=wi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Hc,n=>Math.floor(n/Hc));$j.range;function af(n){return wi(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ta)/Gk)}const uw=af(0),rb=af(1),sfe=af(2),ofe=af(3),tg=af(4),afe=af(5),lfe=af(6);uw.range;rb.range;sfe.range;ofe.range;tg.range;afe.range;lfe.range;function lf(n){return wi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Gk)}const hw=lf(0),ib=lf(1),cfe=lf(2),ufe=lf(3),ng=lf(4),hfe=lf(5),dfe=lf(6);hw.range;ib.range;cfe.range;ufe.range;ng.range;hfe.range;dfe.range;const Zk=wi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Zk.range;const Jk=wi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Jk.range;const Wc=wi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Wc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wi(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Wc.range;const Vc=wi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Vc.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Vc.range;function zj(n,e,t,r,i,s){const l=[[Rd,1,kc],[Rd,5,5*kc],[Rd,15,15*kc],[Rd,30,30*kc],[s,1,ta],[s,5,5*ta],[s,15,15*ta],[s,30,30*ta],[i,1,Rc],[i,3,3*Rc],[i,6,6*Rc],[i,12,12*Rc],[r,1,Hc],[r,2,2*Hc],[t,1,Gk],[e,1,GN],[e,3,3*GN],[n,1,PC]];function a(h,c,u){const d=c<h;d&&([h,c]=[c,h]);const f=u&&typeof u.range=="function"?u:o(h,c,u),p=f?f.range(h,+c+1):[];return d?p.reverse():p}function o(h,c,u){const d=Math.abs(c-h)/u,f=Ok(([,,g])=>g).right(l,d);if(f===l.length)return n.every(tT(h/PC,c/PC,u));if(f===0)return nb.every(Math.max(tT(h,c,u),1));const[p,m]=l[d/l[f-1][2]<l[f][2]/d?f-1:f];return p.every(m)}return[a,o]}const[ffe,pfe]=zj(Vc,Jk,hw,$j,Yk,qk),[gfe,mfe]=zj(Wc,Zk,uw,Oy,Xk,Kk);function OC(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function IC(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function zm(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function vfe(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,l=n.shortDays,a=n.months,o=n.shortMonths,h=Um(i),c=jm(i),u=Um(s),d=jm(s),f=Um(l),p=jm(l),m=Um(a),g=jm(a),v=Um(o),y=jm(o),_={a:H,A:j,b:z,B:W,c:null,d:JN,e:JN,f:zfe,g:Yfe,G:Jfe,H:Bfe,I:Ffe,j:$fe,L:Uj,m:Ufe,M:jfe,p:K,q:X,Q:t3,s:n3,S:Hfe,u:Wfe,U:Vfe,V:Gfe,w:Kfe,W:qfe,x:null,X:null,y:Xfe,Y:Zfe,Z:Qfe,"%":e3},w={a:J,A:te,b:re,B:ae,c:null,d:QN,e:QN,f:rpe,g:fpe,G:gpe,H:epe,I:tpe,j:npe,L:Hj,m:ipe,M:spe,p:ie,q:Q,Q:t3,s:n3,S:ope,u:ape,U:lpe,V:cpe,w:upe,W:hpe,x:null,X:null,y:dpe,Y:ppe,Z:mpe,"%":e3},C={a:P,A:N,b:D,B:L,c:I,d:YN,e:YN,f:Ofe,g:XN,G:qN,H:ZN,I:ZN,j:kfe,L:Pfe,m:Afe,M:Rfe,p:k,q:Tfe,Q:Dfe,s:Nfe,S:Lfe,u:wfe,U:Sfe,V:Cfe,w:bfe,W:Efe,x:O,X:F,y:XN,Y:qN,Z:Mfe,"%":Ife};_.x=b(t,_),_.X=b(r,_),_.c=b(e,_),w.x=b(t,w),w.X=b(r,w),w.c=b(e,w);function b(se,de){return function(xe){var ne=[],ye=-1,_e=0,Ae=se.length,Te,ze,tt;for(xe instanceof Date||(xe=new Date(+xe));++ye<Ae;)se.charCodeAt(ye)===37&&(ne.push(se.slice(_e,ye)),(ze=KN[Te=se.charAt(++ye)])!=null?Te=se.charAt(++ye):ze=Te==="e"?" ":"0",(tt=de[Te])&&(Te=tt(xe,ze)),ne.push(Te),_e=ye+1);return ne.push(se.slice(_e,ye)),ne.join("")}}function T(se,de){return function(xe){var ne=zm(1900,void 0,1),ye=A(ne,se,xe+="",0),_e,Ae;if(ye!=xe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(de&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(_e=IC(zm(ne.y,0,1)),Ae=_e.getUTCDay(),_e=Ae>4||Ae===0?ib.ceil(_e):ib(_e),_e=cw.offset(_e,(ne.V-1)*7),ne.y=_e.getUTCFullYear(),ne.m=_e.getUTCMonth(),ne.d=_e.getUTCDate()+(ne.w+6)%7):(_e=OC(zm(ne.y,0,1)),Ae=_e.getDay(),_e=Ae>4||Ae===0?rb.ceil(_e):rb(_e),_e=Oy.offset(_e,(ne.V-1)*7),ne.y=_e.getFullYear(),ne.m=_e.getMonth(),ne.d=_e.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ae="Z"in ne?IC(zm(ne.y,0,1)).getUTCDay():OC(zm(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ae+5)%7:ne.w+ne.U*7-(Ae+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,IC(ne)):OC(ne)}}function A(se,de,xe,ne){for(var ye=0,_e=de.length,Ae=xe.length,Te,ze;ye<_e;){if(ne>=Ae)return-1;if(Te=de.charCodeAt(ye++),Te===37){if(Te=de.charAt(ye++),ze=C[Te in KN?de.charAt(ye++):Te],!ze||(ne=ze(se,xe,ne))<0)return-1}else if(Te!=xe.charCodeAt(ne++))return-1}return ne}function k(se,de,xe){var ne=h.exec(de.slice(xe));return ne?(se.p=c.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function P(se,de,xe){var ne=f.exec(de.slice(xe));return ne?(se.w=p.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function N(se,de,xe){var ne=u.exec(de.slice(xe));return ne?(se.w=d.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function D(se,de,xe){var ne=v.exec(de.slice(xe));return ne?(se.m=y.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function L(se,de,xe){var ne=m.exec(de.slice(xe));return ne?(se.m=g.get(ne[0].toLowerCase()),xe+ne[0].length):-1}function I(se,de,xe){return A(se,e,de,xe)}function O(se,de,xe){return A(se,t,de,xe)}function F(se,de,xe){return A(se,r,de,xe)}function H(se){return l[se.getDay()]}function j(se){return s[se.getDay()]}function z(se){return o[se.getMonth()]}function W(se){return a[se.getMonth()]}function K(se){return i[+(se.getHours()>=12)]}function X(se){return 1+~~(se.getMonth()/3)}function J(se){return l[se.getUTCDay()]}function te(se){return s[se.getUTCDay()]}function re(se){return o[se.getUTCMonth()]}function ae(se){return a[se.getUTCMonth()]}function ie(se){return i[+(se.getUTCHours()>=12)]}function Q(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var de=b(se+="",_);return de.toString=function(){return se},de},parse:function(se){var de=T(se+="",!1);return de.toString=function(){return se},de},utcFormat:function(se){var de=b(se+="",w);return de.toString=function(){return se},de},utcParse:function(se){var de=T(se+="",!0);return de.toString=function(){return se},de}}}var KN={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,yfe=/^%/,xfe=/[\\^$*+?|[\]().{}]/g;function Rn(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function _fe(n){return n.replace(xfe,"\\$&")}function Um(n){return new RegExp("^(?:"+n.map(_fe).join("|")+")","i")}function jm(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function bfe(n,e,t){var r=Di.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function wfe(n,e,t){var r=Di.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function Sfe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function Cfe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function Efe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function qN(n,e,t){var r=Di.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function XN(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function Mfe(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Tfe(n,e,t){var r=Di.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function Afe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function YN(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function kfe(n,e,t){var r=Di.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function ZN(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function Rfe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function Lfe(n,e,t){var r=Di.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function Pfe(n,e,t){var r=Di.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function Ofe(n,e,t){var r=Di.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function Ife(n,e,t){var r=yfe.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function Dfe(n,e,t){var r=Di.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function Nfe(n,e,t){var r=Di.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function JN(n,e){return Rn(n.getDate(),e,2)}function Bfe(n,e){return Rn(n.getHours(),e,2)}function Ffe(n,e){return Rn(n.getHours()%12||12,e,2)}function $fe(n,e){return Rn(1+Oy.count(Wc(n),n),e,3)}function Uj(n,e){return Rn(n.getMilliseconds(),e,3)}function zfe(n,e){return Uj(n,e)+"000"}function Ufe(n,e){return Rn(n.getMonth()+1,e,2)}function jfe(n,e){return Rn(n.getMinutes(),e,2)}function Hfe(n,e){return Rn(n.getSeconds(),e,2)}function Wfe(n){var e=n.getDay();return e===0?7:e}function Vfe(n,e){return Rn(uw.count(Wc(n)-1,n),e,2)}function jj(n){var e=n.getDay();return e>=4||e===0?tg(n):tg.ceil(n)}function Gfe(n,e){return n=jj(n),Rn(tg.count(Wc(n),n)+(Wc(n).getDay()===4),e,2)}function Kfe(n){return n.getDay()}function qfe(n,e){return Rn(rb.count(Wc(n)-1,n),e,2)}function Xfe(n,e){return Rn(n.getFullYear()%100,e,2)}function Yfe(n,e){return n=jj(n),Rn(n.getFullYear()%100,e,2)}function Zfe(n,e){return Rn(n.getFullYear()%1e4,e,4)}function Jfe(n,e){var t=n.getDay();return n=t>=4||t===0?tg(n):tg.ceil(n),Rn(n.getFullYear()%1e4,e,4)}function Qfe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rn(e/60|0,"0",2)+Rn(e%60,"0",2)}function QN(n,e){return Rn(n.getUTCDate(),e,2)}function epe(n,e){return Rn(n.getUTCHours(),e,2)}function tpe(n,e){return Rn(n.getUTCHours()%12||12,e,2)}function npe(n,e){return Rn(1+cw.count(Vc(n),n),e,3)}function Hj(n,e){return Rn(n.getUTCMilliseconds(),e,3)}function rpe(n,e){return Hj(n,e)+"000"}function ipe(n,e){return Rn(n.getUTCMonth()+1,e,2)}function spe(n,e){return Rn(n.getUTCMinutes(),e,2)}function ope(n,e){return Rn(n.getUTCSeconds(),e,2)}function ape(n){var e=n.getUTCDay();return e===0?7:e}function lpe(n,e){return Rn(hw.count(Vc(n)-1,n),e,2)}function Wj(n){var e=n.getUTCDay();return e>=4||e===0?ng(n):ng.ceil(n)}function cpe(n,e){return n=Wj(n),Rn(ng.count(Vc(n),n)+(Vc(n).getUTCDay()===4),e,2)}function upe(n){return n.getUTCDay()}function hpe(n,e){return Rn(ib.count(Vc(n)-1,n),e,2)}function dpe(n,e){return Rn(n.getUTCFullYear()%100,e,2)}function fpe(n,e){return n=Wj(n),Rn(n.getUTCFullYear()%100,e,2)}function ppe(n,e){return Rn(n.getUTCFullYear()%1e4,e,4)}function gpe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?ng(n):ng.ceil(n),Rn(n.getUTCFullYear()%1e4,e,4)}function mpe(){return"+0000"}function e3(){return"%"}function t3(n){return+n}function n3(n){return Math.floor(+n/1e3)}var wp,Vj,Gj;vpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vpe(n){return wp=vfe(n),Vj=wp.format,wp.parse,Gj=wp.utcFormat,wp.utcParse,wp}function ype(n){return new Date(n)}function xpe(n){return n instanceof Date?+n:+new Date(+n)}function Qk(n,e,t,r,i,s,l,a,o,h){var c=$k(),u=c.invert,d=c.domain,f=h(".%L"),p=h(":%S"),m=h("%I:%M"),g=h("%I %p"),v=h("%a %d"),y=h("%b %d"),_=h("%B"),w=h("%Y");function C(b){return(o(b)<b?f:a(b)<b?p:l(b)<b?m:s(b)<b?g:r(b)<b?i(b)<b?v:y:t(b)<b?_:w)(b)}return c.invert=function(b){return new Date(u(b))},c.domain=function(b){return arguments.length?d(Array.from(b,xpe)):d().map(ype)},c.ticks=function(b){var T=d();return n(T[0],T[T.length-1],b??10)},c.tickFormat=function(b,T){return T==null?C:h(T)},c.nice=function(b){var T=d();return(!b||typeof b.range!="function")&&(b=e(T[0],T[T.length-1],b??10)),b?d(Pj(T,b)):c},c.copy=function(){return Py(c,Qk(n,e,t,r,i,s,l,a,o,h))},c}function _pe(){return la.apply(Qk(gfe,mfe,Wc,Zk,uw,Oy,Xk,Kk,Rd,Vj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bpe(){return la.apply(Qk(ffe,pfe,Vc,Jk,hw,cw,Yk,qk,Rd,Gj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dw(){var n=0,e=1,t,r,i,s,l=Ls,a=!1,o;function h(u){return u==null||isNaN(u=+u)?o:l(i===0?.5:(u=(s(u)-t)*i,a?Math.max(0,Math.min(1,u)):u))}h.domain=function(u){return arguments.length?([n,e]=u,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),h):[n,e]},h.clamp=function(u){return arguments.length?(a=!!u,h):a},h.interpolator=function(u){return arguments.length?(l=u,h):l};function c(u){return function(d){var f,p;return arguments.length?([f,p]=d,l=u(f,p),h):[l(0),l(1)]}}return h.range=c(yg),h.rangeRound=c(Fk),h.unknown=function(u){return arguments.length?(o=u,h):o},function(u){return s=u,t=u(n),r=u(e),i=t===r?0:1/(r-t),h}}function yh(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Kj(){var n=vh(dw()(Ls));return n.copy=function(){return yh(n,Kj())},Zc.apply(n,arguments)}function qj(){var n=jk(dw()).domain([1,10]);return n.copy=function(){return yh(n,qj()).base(n.base())},Zc.apply(n,arguments)}function Xj(){var n=Hk(dw());return n.copy=function(){return yh(n,Xj()).constant(n.constant())},Zc.apply(n,arguments)}function eR(){var n=Wk(dw());return n.copy=function(){return yh(n,eR()).exponent(n.exponent())},Zc.apply(n,arguments)}function wpe(){return eR.apply(null,arguments).exponent(.5)}function Yj(){var n=[],e=Ls;function t(r){if(r!=null&&!isNaN(r=+r))return e((Ry(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(th),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>ade(n,s/r))},t.copy=function(){return Yj(e).domain(n)},Zc.apply(t,arguments)}function fw(){var n=0,e=.5,t=1,r=1,i,s,l,a,o,h=Ls,c,u=!1,d;function f(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:o),h(u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([n,e,t]=m,i=c(n=+n),s=c(e=+e),l=c(t=+t),a=i===s?0:.5/(s-i),o=s===l?0:.5/(l-s),r=s<i?-1:1,f):[n,e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(h=m,f):h};function p(m){return function(g){var v,y,_;return arguments.length?([v,y,_]=g,h=Ide(m,[v,y,_]),f):[h(0),h(.5),h(1)]}}return f.range=p(yg),f.rangeRound=p(Fk),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return c=m,i=m(n),s=m(e),l=m(t),a=i===s?0:.5/(s-i),o=s===l?0:.5/(l-s),r=s<i?-1:1,f}}function Zj(){var n=vh(fw()(Ls));return n.copy=function(){return yh(n,Zj())},Zc.apply(n,arguments)}function Jj(){var n=jk(fw()).domain([.1,1,10]);return n.copy=function(){return yh(n,Jj()).base(n.base())},Zc.apply(n,arguments)}function Qj(){var n=Hk(fw());return n.copy=function(){return yh(n,Qj()).constant(n.constant())},Zc.apply(n,arguments)}function tR(){var n=Wk(fw());return n.copy=function(){return yh(n,tR()).exponent(n.exponent())},Zc.apply(n,arguments)}function Spe(){return tR.apply(null,arguments).exponent(.5)}const Ym=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dk,scaleDiverging:Zj,scaleDivergingLog:Jj,scaleDivergingPow:tR,scaleDivergingSqrt:Spe,scaleDivergingSymlog:Qj,scaleIdentity:Lj,scaleImplicit:nT,scaleLinear:Rj,scaleLog:Oj,scaleOrdinal:Ik,scalePoint:ude,scalePow:Vk,scaleQuantile:Nj,scaleQuantize:Bj,scaleRadial:Dj,scaleSequential:Kj,scaleSequentialLog:qj,scaleSequentialPow:eR,scaleSequentialQuantile:Yj,scaleSequentialSqrt:wpe,scaleSequentialSymlog:Xj,scaleSqrt:rfe,scaleSymlog:Ij,scaleThreshold:Fj,scaleTime:_pe,scaleUtc:bpe,tickFormat:kj},Symbol.toStringTag,{value:"Module"}));var xh=n=>n.chartData,nR=De([xh],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),rR=(n,e,t,r)=>r?nR(n):xh(n);function Xd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(fs(e)&&fs(t))return!0}return!1}function r3(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function eH(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(fs(t))i=t;else if(typeof t=="function")return;if(fs(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Xd(l))return l}}function Cpe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(Xd(r))return r3(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,l,a;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Pt(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&$D.test(i)){var o=$D.exec(i);if(o==null||e==null)l=void 0;else{var h=+o[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(a=Math.max(...e));else if(Pt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e?.[1]))}catch{}else if(typeof s=="string"&&zD.test(s)){var c=zD.exec(s);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[1]+u}}else a=e?.[1];var d=[l,a];if(Xd(d))return e==null?d:r3(d,e,t)}}}var xg=1e9,Epe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sR,vr=!0,oa="[DecimalError] ",Ud=oa+"Invalid argument: ",iR=oa+"Exponent out of range: ",_g=Math.floor,_d=Math.pow,Mpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_o,Pi=1e7,or=7,tH=9007199254740991,sb=_g(tH/or),wt={};wt.absoluteValue=wt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};wt.comparedTo=wt.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*or;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};wt.dividedBy=wt.div=function(n){return Ic(this,new this.constructor(n))};wt.dividedToIntegerBy=wt.idiv=function(n){var e=this,t=e.constructor;return Yn(Ic(e,new t(n),0,1),t.precision)};wt.equals=wt.eq=function(n){return!this.cmp(n)};wt.exponent=function(){return oi(this)};wt.greaterThan=wt.gt=function(n){return this.cmp(n)>0};wt.greaterThanOrEqualTo=wt.gte=function(n){return this.cmp(n)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(n){return this.cmp(n)<0};wt.lessThanOrEqualTo=wt.lte=function(n){return this.cmp(n)<1};wt.logarithm=wt.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(_o))throw Error(oa+"NaN");if(t.s<1)throw Error(oa+(t.s?"NaN":"-Infinity"));return t.eq(_o)?new r(0):(vr=!1,e=Ic(Yv(t,s),Yv(n,s),s),vr=!0,Yn(e,i))};wt.minus=wt.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?iH(e,n):nH(e,(n.s=-n.s,n))};wt.modulo=wt.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(oa+"NaN");return t.s?(vr=!1,e=Ic(t,n,0,1).times(n),vr=!0,t.minus(e)):Yn(new r(t),i)};wt.naturalExponential=wt.exp=function(){return rH(this)};wt.naturalLogarithm=wt.ln=function(){return Yv(this)};wt.negated=wt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};wt.plus=wt.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?nH(e,n):iH(e,(n.s=-n.s,n))};wt.precision=wt.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Ud+n);if(e=oi(i)+1,r=i.d.length-1,t=r*or+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};wt.squareRoot=wt.sqrt=function(){var n,e,t,r,i,s,l,a=this,o=a.constructor;if(a.s<1){if(!a.s)return new o(0);throw Error(oa+"NaN")}for(n=oi(a),vr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=_l(a.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=_g((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new o(e)):r=new o(i.toString()),t=o.precision,i=l=t+3;;)if(s=r,r=s.plus(Ic(a,s,l+2)).times(.5),_l(s.d).slice(0,l)===(e=_l(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Yn(s,t+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;l+=4}return vr=!0,Yn(r,t)};wt.times=wt.mul=function(n){var e,t,r,i,s,l,a,o,h,c=this,u=c.constructor,d=c.d,f=(n=new u(n)).d;if(!c.s||!n.s)return new u(0);for(n.s*=c.s,t=c.e+n.e,o=d.length,h=f.length,o<h&&(s=d,d=f,f=s,l=o,o=h,h=l),s=[],l=o+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=o+r;i>r;)a=s[i]+f[r]*d[i-r-1]+e,s[i--]=a%Pi|0,e=a/Pi|0;s[i]=(s[i]+e)%Pi|0}for(;!s[--l];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,vr?Yn(n,u.precision):n};wt.toDecimalPlaces=wt.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(kl(n,0,xg),e===void 0?e=r.rounding:kl(e,0,8),Yn(t,n+oi(t)+1,e))};wt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Yd(r,!0):(kl(n,0,xg),e===void 0?e=i.rounding:kl(e,0,8),r=Yn(new i(r),n+1,e),t=Yd(r,!0,n+1)),t};wt.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?Yd(i):(kl(n,0,xg),e===void 0?e=s.rounding:kl(e,0,8),r=Yn(new s(i),n+oi(i)+1,e),t=Yd(r.abs(),!1,n+oi(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};wt.toInteger=wt.toint=function(){var n=this,e=n.constructor;return Yn(new e(n),oi(n)+1,e.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(n){var e,t,r,i,s,l,a=this,o=a.constructor,h=12,c=+(n=new o(n));if(!n.s)return new o(_o);if(a=new o(a),!a.s){if(n.s<1)throw Error(oa+"Infinity");return a}if(a.eq(_o))return a;if(r=o.precision,n.eq(_o))return Yn(a,r);if(e=n.e,t=n.d.length-1,l=e>=t,s=a.s,l){if((t=c<0?-c:c)<=tH){for(i=new o(_o),e=Math.ceil(r/or+4),vr=!1;t%2&&(i=i.times(a),s3(i.d,e)),t=_g(t/2),t!==0;)a=a.times(a),s3(a.d,e);return vr=!0,n.s<0?new o(_o).div(i):Yn(i,r)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,a.s=1,vr=!1,i=n.times(Yv(a,r+h)),vr=!0,i=rH(i),i.s=s,i};wt.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=oi(i),r=Yd(i,t<=s.toExpNeg||t>=s.toExpPos)):(kl(n,1,xg),e===void 0?e=s.rounding:kl(e,0,8),i=Yn(new s(i),n,e),t=oi(i),r=Yd(i,n<=t||t<=s.toExpNeg,n)),r};wt.toSignificantDigits=wt.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(kl(n,1,xg),e===void 0?e=r.rounding:kl(e,0,8)),Yn(new r(t),n,e)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=oi(n),t=n.constructor;return Yd(n,e<=t.toExpNeg||e>=t.toExpPos)};function nH(n,e){var t,r,i,s,l,a,o,h,c=n.constructor,u=c.precision;if(!n.s||!e.s)return e.s||(e=new c(n)),vr?Yn(e,u):e;if(o=n.d,h=e.d,l=n.e,i=e.e,o=o.slice(),s=l-i,s){for(s<0?(r=o,s=-s,a=h.length):(r=h,i=l,a=o.length),l=Math.ceil(u/or),a=l>a?l+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=o.length,s=h.length,a-s<0&&(s=a,r=h,h=o,o=r),t=0;s;)t=(o[--s]=o[s]+h[s]+t)/Pi|0,o[s]%=Pi;for(t&&(o.unshift(t),++i),a=o.length;o[--a]==0;)o.pop();return e.d=o,e.e=i,vr?Yn(e,u):e}function kl(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Ud+n)}function _l(n){var e,t,r,i=n.length-1,s="",l=n[0];if(i>0){for(s+=l,e=1;e<i;e++)r=n[e]+"",t=or-r.length,t&&(s+=Gu(t)),s+=r;l=n[e],r=l+"",t=or-r.length,t&&(s+=Gu(t))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ic=(function(){function n(r,i){var s,l=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+l,r[a]=s%Pi|0,l=s/Pi|0;return l&&r.unshift(l),r}function e(r,i,s,l){var a,o;if(s!=l)o=s>l?1:-1;else for(a=o=0;a<s;a++)if(r[a]!=i[a]){o=r[a]>i[a]?1:-1;break}return o}function t(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Pi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var a,o,h,c,u,d,f,p,m,g,v,y,_,w,C,b,T,A,k=r.constructor,P=r.s==i.s?1:-1,N=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(oa+"Division by zero");for(o=r.e-i.e,T=D.length,C=N.length,f=new k(P),p=f.d=[],h=0;D[h]==(N[h]||0);)++h;if(D[h]>(N[h]||0)&&--o,s==null?y=s=k.precision:l?y=s+(oi(r)-oi(i))+1:y=s,y<0)return new k(0);if(y=y/or+2|0,h=0,T==1)for(c=0,D=D[0],y++;(h<C||c)&&y--;h++)_=c*Pi+(N[h]||0),p[h]=_/D|0,c=_%D|0;else{for(c=Pi/(D[0]+1)|0,c>1&&(D=n(D,c),N=n(N,c),T=D.length,C=N.length),w=T,m=N.slice(0,T),g=m.length;g<T;)m[g++]=0;A=D.slice(),A.unshift(0),b=D[0],D[1]>=Pi/2&&++b;do c=0,a=e(D,m,T,g),a<0?(v=m[0],T!=g&&(v=v*Pi+(m[1]||0)),c=v/b|0,c>1?(c>=Pi&&(c=Pi-1),u=n(D,c),d=u.length,g=m.length,a=e(u,m,d,g),a==1&&(c--,t(u,T<d?A:D,d))):(c==0&&(a=c=1),u=D.slice()),d=u.length,d<g&&u.unshift(0),t(m,u,g),a==-1&&(g=m.length,a=e(D,m,T,g),a<1&&(c++,t(m,T<g?A:D,g))),g=m.length):a===0&&(c++,m=[0]),p[h++]=c,a&&m[0]?m[g++]=N[w]||0:(m=[N[w]],g=1);while((w++<C||m[0]!==void 0)&&y--)}return p[0]||p.shift(),f.e=o,Yn(f,l?s+oi(f)+1:s)}})();function rH(n,e){var t,r,i,s,l,a,o=0,h=0,c=n.constructor,u=c.precision;if(oi(n)>16)throw Error(iR+oi(n));if(!n.s)return new c(_o);for(vr=!1,a=u,l=new c(.03125);n.abs().gte(.1);)n=n.times(l),h+=5;for(r=Math.log(_d(2,h))/Math.LN10*2+5|0,a+=r,t=i=s=new c(_o),c.precision=a;;){if(i=Yn(i.times(n),a),t=t.times(++o),l=s.plus(Ic(i,t,a)),_l(l.d).slice(0,a)===_l(s.d).slice(0,a)){for(;h--;)s=Yn(s.times(s),a);return c.precision=u,e==null?(vr=!0,Yn(s,u)):s}s=l}}function oi(n){for(var e=n.e*or,t=n.d[0];t>=10;t/=10)e++;return e}function DC(n,e,t){if(e>n.LN10.sd())throw vr=!0,t&&(n.precision=t),Error(oa+"LN10 precision limit exceeded");return Yn(new n(n.LN10),e)}function Gu(n){for(var e="";n--;)e+="0";return e}function Yv(n,e){var t,r,i,s,l,a,o,h,c,u=1,d=10,f=n,p=f.d,m=f.constructor,g=m.precision;if(f.s<1)throw Error(oa+(f.s?"NaN":"-Infinity"));if(f.eq(_o))return new m(0);if(e==null?(vr=!1,h=g):h=e,f.eq(10))return e==null&&(vr=!0),DC(m,h);if(h+=d,m.precision=h,t=_l(p),r=t.charAt(0),s=oi(f),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)f=f.times(n),t=_l(f.d),r=t.charAt(0),u++;s=oi(f),r>1?(f=new m("0."+t),s++):f=new m(r+"."+t.slice(1))}else return o=DC(m,h+2,g).times(s+""),f=Yv(new m(r+"."+t.slice(1)),h-d).plus(o),m.precision=g,e==null?(vr=!0,Yn(f,g)):f;for(a=l=f=Ic(f.minus(_o),f.plus(_o),h),c=Yn(f.times(f),h),i=3;;){if(l=Yn(l.times(c),h),o=a.plus(Ic(l,new m(i),h)),_l(o.d).slice(0,h)===_l(a.d).slice(0,h))return a=a.times(2),s!==0&&(a=a.plus(DC(m,h+2,g).times(s+""))),a=Ic(a,new m(u),h),m.precision=g,e==null?(vr=!0,Yn(a,g)):a;a=o,i+=2}}function i3(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=_g(t/or),n.d=[],r=(t+1)%or,t<0&&(r+=or),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=or;r<i;)n.d.push(+e.slice(r,r+=or));e=e.slice(r),r=or-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),vr&&(n.e>sb||n.e<-sb))throw Error(iR+t)}else n.s=0,n.e=0,n.d=[0];return n}function Yn(n,e,t){var r,i,s,l,a,o,h,c,u=n.d;for(l=1,s=u[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=or,i=e,h=u[c=0];else{if(c=Math.ceil((r+1)/or),s=u.length,c>=s)return n;for(h=s=u[c],l=1;s>=10;s/=10)l++;r%=or,i=r-or+l}if(t!==void 0&&(s=_d(10,l-i-1),a=h/s%10|0,o=e<0||u[c+1]!==void 0||h%s,o=t<4?(a||o)&&(t==0||t==(n.s<0?3:2)):a>5||a==5&&(t==4||o||t==6&&(r>0?i>0?h/_d(10,l-i):0:u[c-1])%10&1||t==(n.s<0?8:7))),e<1||!u[0])return o?(s=oi(n),u.length=1,e=e-s-1,u[0]=_d(10,(or-e%or)%or),n.e=_g(-e/or)||0):(u.length=1,u[0]=n.e=n.s=0),n;if(r==0?(u.length=c,s=1,c--):(u.length=c+1,s=_d(10,or-r),u[c]=i>0?(h/_d(10,l-i)%_d(10,i)|0)*s:0),o)for(;;)if(c==0){(u[0]+=s)==Pi&&(u[0]=1,++n.e);break}else{if(u[c]+=s,u[c]!=Pi)break;u[c--]=0,s=1}for(r=u.length;u[--r]===0;)u.pop();if(vr&&(n.e>sb||n.e<-sb))throw Error(iR+oi(n));return n}function iH(n,e){var t,r,i,s,l,a,o,h,c,u,d=n.constructor,f=d.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new d(n),vr?Yn(e,f):e;if(o=n.d,u=e.d,r=e.e,h=n.e,o=o.slice(),l=h-r,l){for(c=l<0,c?(t=o,l=-l,a=u.length):(t=u,r=h,a=o.length),i=Math.max(Math.ceil(f/or),a)+2,l>i&&(l=i,t.length=1),t.reverse(),i=l;i--;)t.push(0);t.reverse()}else{for(i=o.length,a=u.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(o[i]!=u[i]){c=o[i]<u[i];break}l=0}for(c&&(t=o,o=u,u=t,e.s=-e.s),a=o.length,i=u.length-a;i>0;--i)o[a++]=0;for(i=u.length;i>l;){if(o[--i]<u[i]){for(s=i;s&&o[--s]===0;)o[s]=Pi-1;--o[s],o[i]+=Pi}o[i]-=u[i]}for(;o[--a]===0;)o.pop();for(;o[0]===0;o.shift())--r;return o[0]?(e.d=o,e.e=r,vr?Yn(e,f):e):new d(0)}function Yd(n,e,t){var r,i=oi(n),s=_l(n.d),l=s.length;return e?(t&&(r=t-l)>0?s=s.charAt(0)+"."+s.slice(1)+Gu(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Gu(-i-1)+s,t&&(r=t-l)>0&&(s+=Gu(r))):i>=l?(s+=Gu(i+1-l),t&&(r=t-i-1)>0&&(s=s+"."+Gu(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-l)>0&&(i+1===l&&(s+="."),s+=Gu(r))),n.s<0?"-"+s:s}function s3(n,e){if(n.length>e)return n.length=e,!0}function sH(n){var e,t,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ud+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return i3(l,s.toString())}else if(typeof s!="string")throw Error(Ud+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Mpe.test(s))i3(l,s);else throw Error(Ud+s)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sH,i.config=i.set=Tpe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function Tpe(n){if(!n||typeof n!="object")throw Error(oa+"Object expected");var e,t,r,i=["precision",1,xg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(_g(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(Ud+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(Ud+t+": "+r);return this}var sR=sH(Epe);_o=new sR(1);const Un=sR;var Ape=n=>n,oH={},aH=n=>n===oH,o3=n=>function e(){return arguments.length===0||arguments.length===1&&aH(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},lH=(n,e)=>n===1?e:o3(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(l=>l!==oH).length;return s>=n?e(...r):lH(n-s,o3(function(){for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];var h=r.map(c=>aH(c)?a.shift():c);return e(...h,...a)}))}),pw=n=>lH(n.length,n),oT=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},kpe=pw((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),Rpe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Ape;var i=t.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((a,o)=>o(a),s(...arguments))}},aT=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join(""),cH=n=>{var e=null,t=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((l,a)=>{var o;return l===((o=e)===null||o===void 0?void 0:o[a])})||(e=i,t=n(...i)),t}};function uH(n){var e;return n===0?e=1:e=Math.floor(new Un(n).abs().log(10).toNumber())+1,e}function hH(n,e,t){for(var r=new Un(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}pw((n,e,t)=>{var r=+n,i=+e;return r+t*(i-r)});pw((n,e,t)=>{var r=e-+n;return r=r||1/0,(t-n)/r});pw((n,e,t)=>{var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});var dH=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},fH=(n,e,t)=>{if(n.lte(0))return new Un(0);var r=uH(n.toNumber()),i=new Un(10).pow(r),s=n.div(i),l=r!==1?.05:.1,a=new Un(Math.ceil(s.div(l).toNumber())).add(t).mul(l),o=a.mul(i);return e?new Un(o.toNumber()):new Un(Math.ceil(o.toNumber()))},Lpe=(n,e,t)=>{var r=new Un(1),i=new Un(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Un(10).pow(uH(n)-1),i=new Un(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Un(Math.floor(n)))}else n===0?i=new Un(Math.floor((e-1)/2)):t||(i=new Un(Math.floor(n)));var l=Math.floor((e-1)/2),a=Rpe(kpe(o=>i.add(new Un(o-l).mul(r)).toNumber()),oT);return a(0,e)},pH=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var l=fH(new Un(t).sub(e).div(r-1),i,s),a;e<=0&&t>=0?a=new Un(0):(a=new Un(e).add(t).div(2),a=a.sub(new Un(a).mod(l)));var o=Math.ceil(a.sub(e).div(l).toNumber()),h=Math.ceil(new Un(t).sub(a).div(l).toNumber()),c=o+h+1;return c>r?pH(e,t,r,i,s+1):(c<r&&(h=t>0?h+(r-c):h,o=t>0?o:o+(r-c)),{step:l,tickMin:a.sub(new Un(o).mul(l)),tickMax:a.add(new Un(h).mul(l))})};function Ppe(n){var[e,t]=n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,a]=dH([e,t]);if(l===-1/0||a===1/0){var o=a===1/0?[l,...oT(0,r-1).map(()=>1/0)]:[...oT(0,r-1).map(()=>-1/0),a];return e>t?aT(o):o}if(l===a)return Lpe(l,r,i);var{step:h,tickMin:c,tickMax:u}=pH(l,a,s,i,0),d=hH(c,u.add(new Un(.1).mul(h)),h);return e>t?aT(d):d}function Ope(n,e){var[t,r]=n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=dH([t,r]);if(s===-1/0||l===1/0)return[t,r];if(s===l)return[s];var a=Math.max(e,2),o=fH(new Un(l).sub(s).div(a-1),i,0),h=[...hH(new Un(s),new Un(l),o),l];return i===!1&&(h=h.map(c=>Math.round(c))),t>r?aT(h):h}var Ipe=cH(Ppe),Dpe=cH(Ope),gH=n=>n.rootProps.maxBarSize,Npe=n=>n.rootProps.barGap,mH=n=>n.rootProps.barCategoryGap,Bpe=n=>n.rootProps.barSize,Iy=n=>n.rootProps.stackOffset,oR=n=>n.options.chartName,aR=n=>n.rootProps.syncId,vH=n=>n.rootProps.syncMethod,lR=n=>n.options.eventEmitter,Mc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gw=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},Fpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mc.angleAxisId,includeHidden:!1,name:void 0,reversed:Mc.reversed,scale:Mc.scale,tick:Mc.tick,tickCount:void 0,ticks:void 0,type:Mc.type,unit:void 0},$pe={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:xo.type,unit:void 0},zpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mc.scale,tick:Mc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Upe={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:"category",unit:void 0},cR=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?zpe:Fpe,uR=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?Upe:$pe,mw=n=>n.polarOptions,hR=De([Xc,Yc,bi],XU),yH=De([mw,hR],(n,e)=>{if(n!=null)return ds(n.innerRadius,e,0)}),xH=De([mw,hR],(n,e)=>{if(n!=null)return ds(n.outerRadius,e,e*.8)}),jpe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},_H=De([mw],jpe);De([cR,_H],gw);var bH=De([hR,yH,xH],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});De([uR,bH],gw);var wH=De([Ln,mw,yH,xH,Xc,Yc],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:l,cy:a,startAngle:o,endAngle:h}=e;return{cx:ds(l,i,i/2),cy:ds(a,s,s/2),innerRadius:t,outerRadius:r,startAngle:o,endAngle:h,clockWise:!1}}}),xr=(n,e)=>e,Dy=(n,e,t)=>t;function dR(n){return n?.id}var Si=n=>{var e=Ln(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},bg=n=>n.tooltip.settings.axisId,Ci=n=>{var e=Si(n),t=bg(n);return Ny(n,e,t)},SH=De([Ci],n=>n?.dataKey);function CH(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,l=new Map;return n.forEach(a=>{var o,h=(o=a.data)!==null&&o!==void 0?o:r;if(!(h==null||h.length===0)){var c=dR(a);h.forEach((u,d)=>{var f=s==null||i?d:String(Rr(u,s,null)),p=Rr(u,a.dataKey,0),m;l.has(f)?m=l.get(f):m={},Object.assign(m,{[c]:p}),l.set(f,m)})}}),Array.from(l.values())}function vw(n){return n.stackId!=null&&n.dataKey!=null}var yw=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function xw(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function a3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ob(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(t),!0).forEach(function(r){Hpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hpe(n,e,t){return(e=Wpe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wpe(n){var e=Vpe(n,"string");return typeof e=="symbol"?e:e+""}function Vpe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lT=[0,"auto"],vo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},EH=(n,e)=>n.cartesianAxis.xAxis[e],Jc=(n,e)=>{var t=EH(n,e);return t??vo},yo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ky},MH=(n,e)=>n.cartesianAxis.yAxis[e],Qc=(n,e)=>{var t=MH(n,e);return t??yo},Gpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fR=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??Gpe},Pr=(n,e,t)=>{switch(e){case"xAxis":return Jc(n,t);case"yAxis":return Qc(n,t);case"zAxis":return fR(n,t);case"angleAxis":return cR(n,t);case"radiusAxis":return uR(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Kpe=(n,e,t)=>{switch(e){case"xAxis":return Jc(n,t);case"yAxis":return Qc(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Ny=(n,e,t)=>{switch(e){case"xAxis":return Jc(n,t);case"yAxis":return Qc(n,t);case"angleAxis":return cR(n,t);case"radiusAxis":return uR(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},TH=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function pR(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var gR=n=>n.graphicalItems.cartesianItems,qpe=De([xr,Dy],pR),mR=(n,e,t)=>n.filter(t).filter(r=>e?.includeHidden===!0?!0:!r.hide),By=De([gR,Pr,qpe],mR,{memoizeOptions:{resultEqualityCheck:xw}}),AH=De([By],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(vw)),kH=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),Xpe=De([By],kH),vR=n=>n.map(e=>e.data).filter(Boolean).flat(1),Ype=De([By],vR,{memoizeOptions:{resultEqualityCheck:xw}}),yR=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},xR=De([Ype,rR],yR),_R=(n,e,t)=>e?.dataKey!=null?n.map(r=>({value:Rr(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Rr(i,r)}))):n.map(r=>({value:r})),_w=De([xR,Pr,By],_R);function RH(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function d_(n){if(Al(n)||n instanceof Date){var e=Number(n);if(fs(e))return e}}function l3(n){if(Array.isArray(n)){var e=[d_(n[0]),d_(n[1])];return Xd(e)?e:void 0}var t=d_(n);if(t!=null)return[t,t]}function wg(n){return n.map(d_).filter(fhe)}function Zpe(n,e,t){return!t||typeof e!="number"||ia(e)?[]:t.length?wg(t.flatMap(r=>{var i=Rr(n,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!fs(s)||!fs(l)))return[e-s,e+l]})):[]}var Jpe=De([AH,rR,Ci],CH),LH=(n,e,t)=>{var r={},i=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,a]=s,o=a.map(dR);return[l,{stackedData:Nce(n,o,t),graphicalItems:a}]}))},cT=De([Jpe,AH,Iy],LH),PH=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var l=Uce(n,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Qpe=De([Pr],n=>n.allowDataOverflow),bR=n=>{var e;if(n==null||!("domain"in n))return lT;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=wg(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n?.domain)!==null&&e!==void 0?e:lT},wR=De([Pr],bR),SR=De([wR,Qpe],eH),ege=De([cT,xh,xr,SR],PH,{memoizeOptions:{resultEqualityCheck:yw}}),bw=n=>n.errorBars,tge=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>RH(t,r)),ab=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),a=Math.max(...s);return[l,a]}},CR=(n,e,t,r,i)=>{var s,l;if(t.length>0&&n.forEach(a=>{t.forEach(o=>{var h,c,u=(h=r[o.id])===null||h===void 0?void 0:h.filter(v=>RH(i,v)),d=Rr(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey),f=Zpe(a,d,u);if(f.length>=2){var p=Math.min(...f),m=Math.max(...f);(s==null||p<s)&&(s=p),(l==null||m>l)&&(l=m)}var g=l3(d);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),l=l==null?g[1]:Math.max(l,g[1]))})}),e?.dataKey!=null&&n.forEach(a=>{var o=l3(Rr(a,e.dataKey));o!=null&&(s=s==null?o[0]:Math.min(s,o[0]),l=l==null?o[1]:Math.max(l,o[1]))}),fs(s)&&fs(l))return[s,l]},nge=De([xR,Pr,Xpe,bw,xr],CR,{memoizeOptions:{resultEqualityCheck:yw}});function rge(n){var{value:e}=n;if(Al(e)||e instanceof Date)return e}var ige=(n,e,t)=>{var r=n.map(rge).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&oU(r))?xj(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},OH=n=>n.referenceElements.dots,Sg=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),sge=De([OH,xr,Dy],Sg),IH=n=>n.referenceElements.areas,oge=De([IH,xr,Dy],Sg),DH=n=>n.referenceElements.lines,age=De([DH,xr,Dy],Sg),NH=(n,e)=>{var t=wg(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},lge=De(sge,xr,NH),BH=(n,e)=>{var t=wg(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},cge=De([oge,xr],BH),FH=(n,e)=>{var t=wg(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},uge=De(age,xr,FH),hge=De(lge,uge,cge,(n,e,t)=>ab(n,t,e)),ER=(n,e,t,r,i,s,l,a)=>{if(t!=null)return t;var o=l==="vertical"&&a==="xAxis"||l==="horizontal"&&a==="yAxis",h=o?ab(r,s,i):ab(s,i);return Cpe(e,h,n.allowDataOverflow)},dge=De([Pr,wR,SR,ege,nge,hge,Ln,xr],ER,{memoizeOptions:{resultEqualityCheck:yw}}),fge=[0,1],MR=(n,e,t,r,i,s,l)=>{if(!((n==null||t==null||t.length===0)&&l===void 0)){var{dataKey:a,type:o}=n,h=sf(e,s);return h&&a==null?xj(0,t.length):o==="category"?ige(r,n,h):i==="expand"?fge:l}},TR=De([Pr,Ln,xR,_w,Iy,xr,dge],MR),$H=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:l}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(Ey(s));return a in Ym?a:"point"}}},Cg=De([Pr,Ln,TH,oR,xr],$H);function pge(n){if(n!=null){if(n in Ym)return Ym[n]();var e="scale".concat(Ey(n));if(e in Ym)return Ym[e]()}}function AR(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=pge(e);if(i!=null){var s=i.domain(t).range(r);return Lce(s),s}}}var kR=(n,e,t)=>{var r=bR(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xd(n))return Ipe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xd(n))return Dpe(n,e.tickCount,e.allowDecimals)}},RR=De([TR,Ny,Cg],kR),LR=(n,e,t,r)=>{if(r!=="angleAxis"&&n?.type==="number"&&Xd(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],l=e[1],a=t[t.length-1];return[Math.min(i,s),Math.max(l,a)]}return e},gge=De([Pr,TR,RR,xr],LR),mge=De(_w,Pr,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(wg(n.map(a=>a.value))).sort((a,o)=>a-o);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];t=Math.min(t,l)}return t/i}}),zH=De(mge,Ln,mH,bi,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!fs(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var l=ds(t,n*s),a=n*s/2;return a-l-(a-l)/s*l}return 0}),vge=(n,e)=>{var t=Jc(n,e);return t==null||typeof t.padding!="string"?0:zH(n,"xAxis",e,t.padding)},yge=(n,e)=>{var t=Qc(n,e);return t==null||typeof t.padding!="string"?0:zH(n,"yAxis",e,t.padding)},xge=De(Jc,vge,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),_ge=De(Qc,yge,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),bge=De([bi,xge,nw,tw,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),wge=De([bi,Ln,_ge,nw,tw,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),Fy=(n,e,t,r)=>{var i;switch(e){case"xAxis":return bge(n,t,r);case"yAxis":return wge(n,t,r);case"zAxis":return(i=fR(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return _H(n);case"radiusAxis":return bH(n,t);default:return}},UH=De([Pr,Fy],gw),Eg=De([Pr,Cg,gge,UH],AR);De([By,bw,xr],tge);function jH(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var ww=(n,e)=>e,Sw=(n,e,t)=>t,Sge=De(Qb,ww,Sw,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(jH)),Cge=De(ew,ww,Sw,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(jH)),HH=(n,e)=>({width:n.width,height:e.height}),Ege=(n,e)=>{var t=typeof e.width=="number"?e.width:ky;return{width:t,height:n.height}},WH=De(bi,Jc,HH),Mge=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},Tge=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},Age=De(Yc,bi,Sge,ww,Sw,(n,e,t,r,i)=>{var s={},l;return t.forEach(a=>{var o=HH(e,a);l==null&&(l=Mge(e,r,n));var h=r==="top"&&!i||r==="bottom"&&i;s[a.id]=l-Number(h)*o.height,l+=(h?-1:1)*o.height}),s}),kge=De(Xc,bi,Cge,ww,Sw,(n,e,t,r,i)=>{var s={},l;return t.forEach(a=>{var o=Ege(e,a);l==null&&(l=Tge(e,r,n));var h=r==="left"&&!i||r==="right"&&i;s[a.id]=l-Number(h)*o.width,l+=(h?-1:1)*o.width}),s}),Rge=(n,e)=>{var t=Jc(n,e);if(t!=null)return Age(n,t.orientation,t.mirror)},Lge=De([bi,Jc,Rge,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t?.[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),Pge=(n,e)=>{var t=Qc(n,e);if(t!=null)return kge(n,t.orientation,t.mirror)},Oge=De([bi,Qc,Pge,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t?.[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),VH=De(bi,Qc,(n,e)=>{var t=typeof e.width=="number"?e.width:ky;return{width:t,height:n.height}}),c3=(n,e,t)=>{switch(e){case"xAxis":return WH(n,t).width;case"yAxis":return VH(n,t).height;default:return}},GH=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=t,a=sf(n,r),o=e.map(h=>h.value);if(l&&a&&s==="category"&&i&&oU(o))return o}},PR=De([Ln,_w,Pr,xr],GH),KH=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,l=sf(n,r);if(l&&(i==="number"||s!=="auto"))return e.map(a=>a.value)}},OR=De([Ln,_w,Ny,xr],KH),u3=De([Ln,Kpe,Cg,Eg,PR,OR,Fy,RR,xr],(n,e,t,r,i,s,l,a,o)=>{if(e==null)return null;var h=sf(n,o);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:o,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:a,range:l,realScaleType:t,scale:r}}),Ige=(n,e,t,r,i,s,l,a,o)=>{if(!(e==null||r==null)){var h=sf(n,o),{type:c,ticks:u,tickCount:d}=e,f=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;p=o==="angleAxis"&&s!=null&&s.length>=2?Oi(s[0]-s[1])*2*p:p;var m=u||i;if(m){var g=m.map((v,y)=>{var _=l?l.indexOf(v):v;return{index:y,coordinate:r(_)+p,value:v,offset:p}});return g.filter(v=>!ia(v.coordinate))}return h&&a?a.map((v,y)=>({coordinate:r(v)+p,value:v,index:y,offset:p})):r.ticks?r.ticks(d).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,y)=>({coordinate:r(v)+p,value:l?l[v]:v,index:y,offset:p}))}},qH=De([Ln,Ny,Cg,Eg,RR,Fy,PR,OR,xr],Ige),Dge=(n,e,t,r,i,s,l)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var a=sf(n,l),{tickCount:o}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Oi(r[0]-r[1])*2*h:h,a&&s?s.map((c,u)=>({coordinate:t(c)+h,value:c,index:u,offset:h})):t.ticks?t.ticks(o).map(c=>({coordinate:t(c)+h,value:c,offset:h})):t.domain().map((c,u)=>({coordinate:t(c)+h,value:i?i[c]:c,index:u,offset:h}))}},rg=De([Ln,Ny,Eg,Fy,PR,OR,xr],Dge),ig=De(Pr,Eg,(n,e)=>{if(!(n==null||e==null))return ob(ob({},n),{},{scale:e})}),Nge=De([Pr,Cg,TR,UH],AR);De((n,e,t)=>fR(n,t),Nge,(n,e)=>{if(!(n==null||e==null))return ob(ob({},n),{},{scale:e})});var Bge=De([Ln,Qb,ew],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),XH=n=>n.options.defaultTooltipEventType,YH=n=>n.options.validateTooltipEventTypes;function ZH(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function IR(n,e){var t=XH(n),r=YH(n);return ZH(e,t,r)}function Fge(n){return Rt(e=>IR(e,n))}var JH=(n,e)=>{var t,r=Number(e);if(!(ia(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},$ge=n=>n.tooltip.settings,Xu={active:!1,index:null,dataKey:void 0,coordinate:void 0},zge={itemInteraction:{click:Xu,hover:Xu},axisInteraction:{click:Xu,hover:Xu},keyboardInteraction:Xu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QH=Mo({name:"tooltip",initialState:zge,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:As()},removeTooltipEntrySettings:{reducer(n,e){var t=Oc(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:As()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Uge,removeTooltipEntrySettings:jge,setTooltipSettingsState:Hge,setActiveMouseOverItemIndex:eW,mouseLeaveItem:Wge,mouseLeaveChart:tW,setActiveClickItemIndex:Vge,setMouseOverAxisIndex:nW,setMouseClickAxisIndex:Gge,setSyncInteraction:uT,setKeyboardInteraction:hT}=QH.actions,Kge=QH.reducer;function h3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(t),!0).forEach(function(r){qge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qge(n,e,t){return(e=Xge(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xge(n){var e=Yge(n,"string");return typeof e=="symbol"?e:e+""}function Yge(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zge(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function Jge(n){return n.index!=null}var rW=(n,e,t,r)=>{if(e==null)return Xu;var i=Zge(n,e,t);if(i==null)return Xu;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(Jge(i)){if(s)return jx(jx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jx(jx({},Xu),{},{coordinate:i.coordinate})},DR=(n,e)=>{var t=n?.index;if(t==null)return null;var r=Number(t);if(!fs(r))return t;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},iW=(n,e,t,r,i,s,l,a)=>{if(!(s==null||a==null)){var o=l[0],h=o==null?void 0:a(o.positions,s);if(h!=null)return h;var c=i?.[Number(s)];if(c)switch(t){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:c.coordinate}}}},sW=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},$y=n=>n.options.tooltipPayloadSearcher,Mg=n=>n.tooltip;function d3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function f3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(t),!0).forEach(function(r){Qge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qge(n,e,t){return(e=eme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eme(n){var e=tme(n,"string");return typeof e=="symbol"?e:e+""}function tme(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nme(n,e){return n??e}var oW=(n,e,t,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:a,computedData:o,dataStartIndex:h,dataEndIndex:c}=t,u=[];return n.reduce((d,f)=>{var p,{dataDefinedOnItem:m,settings:g}=f,v=nme(m,a),y=Array.isArray(v)?YU(v,h,c):v,_=(p=g?.dataKey)!==null&&p!==void 0?p:r,w=g?.nameKey,C;if(r&&Array.isArray(y)&&!Array.isArray(y[0])&&l==="axis"?C=uae(y,r,i):C=s(y,e,o,w),Array.isArray(C))C.forEach(T=>{var A=f3(f3({},g),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});d.push(UD({tooltipEntrySettings:A,dataKey:T.dataKey,payload:T.payload,value:Rr(T.payload,T.dataKey),name:T.name}))});else{var b;d.push(UD({tooltipEntrySettings:g,dataKey:_,payload:C,value:Rr(C,_),name:(b=Rr(C,w))!==null&&b!==void 0?b:g?.name}))}return d},u)}},NR=De([Ci,Ln,TH,oR,Si],$H),rme=De([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),ime=De([Si,bg],pR),zy=De([rme,Ci,ime],mR,{memoizeOptions:{resultEqualityCheck:xw}}),sme=De([zy],n=>n.filter(vw)),ome=De([zy],vR,{memoizeOptions:{resultEqualityCheck:xw}}),Tg=De([ome,xh],yR),ame=De([sme,xh,Ci],CH),BR=De([Tg,Ci,zy],_R),aW=De([Ci],bR),lme=De([Ci],n=>n.allowDataOverflow),lW=De([aW,lme],eH),cme=De([zy],n=>n.filter(vw)),ume=De([ame,cme,Iy],LH),hme=De([ume,xh,Si,lW],PH),dme=De([zy],kH),fme=De([Tg,Ci,dme,bw,Si],CR,{memoizeOptions:{resultEqualityCheck:yw}}),pme=De([OH,Si,bg],Sg),gme=De([pme,Si],NH),mme=De([IH,Si,bg],Sg),vme=De([mme,Si],BH),yme=De([DH,Si,bg],Sg),xme=De([yme,Si],FH),_me=De([gme,xme,vme],ab),bme=De([Ci,aW,lW,hme,fme,_me,Ln,Si],ER),cW=De([Ci,Ln,Tg,BR,Iy,Si,bme],MR),wme=De([cW,Ci,NR],kR),Sme=De([Ci,cW,wme,Si],LR),uW=n=>{var e=Si(n),t=bg(n),r=!1;return Fy(n,e,t,r)},hW=De([Ci,uW],gw),dW=De([Ci,NR,Sme,hW],AR),Cme=De([Ln,BR,Ci,Si],GH),Eme=De([Ln,BR,Ci,Si],KH),Mme=(n,e,t,r,i,s,l,a)=>{if(e){var{type:o}=e,h=sf(n,a);if(r){var c=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,u=o==="category"&&r.bandwidth?r.bandwidth()/c:0;return u=a==="angleAxis"&&i!=null&&i?.length>=2?Oi(i[0]-i[1])*2*u:u,h&&l?l.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}}},eu=De([Ln,Ci,NR,dW,uW,Cme,Eme,Si],Mme),FR=De([XH,YH,$ge],(n,e,t)=>ZH(t.shared,n,e)),fW=n=>n.tooltip.settings.trigger,$R=n=>n.tooltip.settings.defaultIndex,Cw=De([Mg,FR,fW,$R],rW),Zd=De([Cw,Tg],DR),pW=De([eu,Zd],JH),gW=De([Cw],n=>{if(n)return n.dataKey}),mW=De([Mg,FR,fW,$R],sW),Tme=De([Xc,Yc,Ln,bi,eu,$R,mW,$y],iW),Ame=De([Cw,Tme],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),kme=De([Cw],n=>n.active),Rme=De([mW,Zd,xh,SH,pW,$y,FR],oW);De([Rme],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function p3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function g3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(t),!0).forEach(function(r){Lme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lme(n,e,t){return(e=Pme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pme(n){var e=Ome(n,"string");return typeof e=="symbol"?e:e+""}function Ome(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ime=()=>Rt(Ci),Dme=()=>{var n=Ime(),e=Rt(eu),t=Rt(dW);return Mk(g3(g3({},n),{},{scale:t}),e)},Nme=()=>Rt(oR),zR=(n,e)=>e,vW=(n,e,t)=>t,UR=(n,e,t,r)=>r,Bme=De(eu,n=>Gb(n,e=>e.coordinate)),jR=De([Mg,zR,vW,UR],rW),yW=De([jR,Tg],DR),Fme=(n,e,t)=>{if(e!=null){var r=Mg(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},xW=De([Mg,zR,vW,UR],sW),lb=De([Xc,Yc,Ln,bi,eu,UR,xW,$y],iW),$me=De([jR,lb],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),_W=De(eu,yW,JH),zme=De([xW,yW,xh,SH,_W,$y,zR],oW),Ume=De([jR],n=>({isActive:n.active,activeIndex:n.index})),jme=(n,e,t,r,i,s,l,a)=>{if(!(!n||!e||!r||!i||!s)){var o=jce(n.chartX,n.chartY,e,t,a);if(o){var h=Wce(o,e),c=kce(h,l,s,r,i),u=Hce(e,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}};function dT(){return dT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dT.apply(null,arguments)}function m3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(t),!0).forEach(function(r){Hme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hme(n,e,t){return(e=Wme(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wme(n){var e=Vme(n,"string");return typeof e=="symbol"?e:e+""}function Vme(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gme(n){var{coordinate:e,payload:t,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:a,tooltipEventType:o,chartName:h}=n,c=e,u=t,d=r;if(!a||!c||h!=="ScatterChart"&&o!=="axis")return null;var f,p;if(h==="ScatterChart")f=c,p=ohe;else if(h==="BarChart")f=ahe(l,c,i,s),p=gj;else if(l==="radial"){var{cx:m,cy:g,radius:v,startAngle:y,endAngle:_}=mj(c);f={cx:m,cy:g,startAngle:y,endAngle:_,innerRadius:v,outerRadius:v},p=yj}else f={points:Whe(l,c,i)},p=uj;var w=typeof a=="object"&&"className"in a?a.className:void 0,C=Hx(Hx(Hx(Hx({stroke:"#ccc",pointerEvents:"none"},i),f),zv(a)),{},{payload:u,payloadIndex:d,className:Hn("recharts-tooltip-cursor",w)});return G.isValidElement(a)?G.cloneElement(a,C):G.createElement(p,C)}function Kme(n){var e=Dme(),t=sj(),r=Lk(),i=Nme();return G.createElement(Gme,dT({},n,{coordinate:n.coordinate,index:n.index,payload:n.payload,offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var bW=G.createContext(null),qme=()=>G.useContext(bW),NC={exports:{}},v3;function Xme(){return v3||(v3=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(o,h,c){this.fn=o,this.context=h,this.once=c||!1}function s(o,h,c,u,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,u||o,d),p=t?t+h:h;return o._events[p]?o._events[p].fn?o._events[p]=[o._events[p],f]:o._events[p].push(f):(o._events[p]=f,o._eventsCount++),o}function l(o,h){--o._eventsCount===0?o._events=new r:delete o._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],c,u;if(this._eventsCount===0)return h;for(u in c=this._events)e.call(c,u)&&h.push(t?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},a.prototype.listeners=function(h){var c=t?t+h:h,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,p=new Array(f);d<f;d++)p[d]=u[d].fn;return p},a.prototype.listenerCount=function(h){var c=t?t+h:h,u=this._events[c];return u?u.fn?1:u.length:0},a.prototype.emit=function(h,c,u,d,f,p){var m=t?t+h:h;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,_;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,u),!0;case 4:return g.fn.call(g.context,c,u,d),!0;case 5:return g.fn.call(g.context,c,u,d,f),!0;case 6:return g.fn.call(g.context,c,u,d,f,p),!0}for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];g.fn.apply(g.context,y)}else{var w=g.length,C;for(_=0;_<w;_++)switch(g[_].once&&this.removeListener(h,g[_].fn,void 0,!0),v){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,c);break;case 3:g[_].fn.call(g[_].context,c,u);break;case 4:g[_].fn.call(g[_].context,c,u,d);break;default:if(!y)for(C=1,y=new Array(v-1);C<v;C++)y[C-1]=arguments[C];g[_].fn.apply(g[_].context,y)}}return!0},a.prototype.on=function(h,c,u){return s(this,h,c,u,!1)},a.prototype.once=function(h,c,u){return s(this,h,c,u,!0)},a.prototype.removeListener=function(h,c,u,d){var f=t?t+h:h;if(!this._events[f])return this;if(!c)return l(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!u||p.context===u)&&l(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||u&&p[m].context!==u)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:l(this,f)}return this},a.prototype.removeAllListeners=function(h){var c;return h?(c=t?t+h:h,this._events[c]&&l(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(NC)),NC.exports}var Yme=Xme();const Zme=aa(Yme);var Zv=new Zme,fT="recharts.syncEvent.tooltip",y3="recharts.syncEvent.brush";function wW(n,e){if(e){var t=Number.parseInt(e,10);if(!ia(t))return n?.[t]}}var Jme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},SW=Mo({name:"options",initialState:Jme,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qme=SW.reducer,{createEventEmitter:eve}=SW.actions;function tve(n){return n.tooltip.syncInteraction}var nve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},CW=Mo({name:"chartData",initialState:nve,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:x3,setDataStartEndIndexes:rve,setComputedData:zSe}=CW.actions,ive=CW.reducer,sve=["x","y"];function _3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(t),!0).forEach(function(r){ove(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ove(n,e,t){return(e=ave(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ave(n){var e=lve(n,"string");return typeof e=="symbol"?e:e+""}function lve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cve(n,e){if(n==null)return{};var t,r,i=uve(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function uve(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var EW=()=>{};function hve(){var n=Rt(aR),e=Rt(lR),t=yr(),r=Rt(vH),i=Rt(eu),s=Lk(),l=rw(),a=Rt(o=>o.rootProps.className);G.useEffect(()=>{if(n==null)return EW;var o=(h,c,u)=>{if(e!==u&&n===h){if(r==="index"){var d;if(l&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate&&c.payload.sourceViewBox){var f=c.payload.coordinate,{x:p,y:m}=f,g=cve(f,sve),{x:v,y,width:_,height:w}=c.payload.sourceViewBox,C=Sp(Sp({},g),{},{x:l.x+(_?(p-v)/_:0)*l.width,y:l.y+(w?(m-y)/w:0)*l.height});t(Sp(Sp({},c),{},{payload:Sp(Sp({},c.payload),{},{coordinate:C})}))}else t(c);return}if(i!=null){var b;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=r(i,T);b=i[A]}else r==="value"&&(b=i.find(F=>String(F.value)===c.payload.label));var{coordinate:k}=c.payload;if(b==null||c.payload.active===!1||k==null||l==null){t(uT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:N}=k,D=Math.min(P,l.x+l.width),L=Math.min(N,l.y+l.height),I={x:s==="horizontal"?b.coordinate:D,y:s==="horizontal"?L:b.coordinate},O=uT({active:c.payload.active,coordinate:I,dataKey:c.payload.dataKey,index:String(b.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox});t(O)}}};return Zv.on(fT,o),()=>{Zv.off(fT,o)}},[a,t,e,n,r,i,s,l])}function dve(){var n=Rt(aR),e=Rt(lR),t=yr();G.useEffect(()=>{if(n==null)return EW;var r=(i,s,l)=>{e!==l&&n===i&&t(rve(s))};return Zv.on(y3,r),()=>{Zv.off(y3,r)}},[t,e,n])}function fve(){var n=yr();G.useEffect(()=>{n(eve())},[n]),hve(),dve()}function pve(n,e,t,r,i,s){var l=Rt(f=>Fme(f,n,e)),a=Rt(lR),o=Rt(aR),h=Rt(vH),c=Rt(tve),u=c?.active,d=rw();G.useEffect(()=>{if(!u&&o!=null&&a!=null){var f=uT({active:s,coordinate:t,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:d});Zv.emit(fT,o,f,a)}},[u,t,l,i,r,a,o,h,s,d])}function b3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(t),!0).forEach(function(r){gve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gve(n,e,t){return(e=mve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mve(n){var e=vve(n,"string");return typeof e=="symbol"?e:e+""}function vve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yve(n){return n.dataKey}function xve(n,e){return G.isValidElement(n)?G.cloneElement(n,e):typeof n=="function"?G.createElement(n,e):G.createElement(Fue,e)}var S3=[],_ve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!of.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function C3(n){var e=Is(n,_ve),{active:t,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:a,isAnimationActive:o,offset:h,payloadUniqBy:c,position:u,reverseDirection:d,useTranslate3d:f,wrapperStyle:p,cursor:m,shared:g,trigger:v,defaultIndex:y,portal:_,axisId:w}=e,C=yr(),b=typeof y=="number"?String(y):y;G.useEffect(()=>{C(Hge({shared:g,trigger:v,axisId:w,active:t,defaultIndex:b}))},[C,g,v,w,t,b]);var T=rw(),A=cj(),k=Fge(g),{activeIndex:P,isActive:N}=Rt(re=>Ume(re,k,v,b)),D=Rt(re=>zme(re,k,v,b)),L=Rt(re=>_W(re,k,v,b)),I=Rt(re=>$me(re,k,v,b)),O=D,F=qme(),H=t??N,[j,z]=wU([O,H]),W=k==="axis"?L:void 0;pve(k,v,I,W,P,H);var K=_??F;if(K==null)return null;var X=O??S3;H||(X=S3),a&&X.length&&(X=vU(O.filter(re=>re.value!=null&&(re.hide!==!0||e.includeHidden)),c,yve));var J=X.length>0,te=G.createElement(Vue,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:o,active:H,coordinate:I,hasPayload:J,offset:h,position:u,reverseDirection:d,useTranslate3d:f,viewBox:T,wrapperStyle:p,lastBoundingBox:j,innerRef:z,hasPortalFromProps:!!_},xve(l,w3(w3({},e),{},{payload:X,label:W,active:H,coordinate:I,accessibilityLayer:A})));return G.createElement(G.Fragment,null,aF.createPortal(te,K),H&&G.createElement(Kme,{cursor:m,tooltipEventType:k,coordinate:I,payload:O,index:P}))}var Uy=n=>null;Uy.displayName="Cell";function bve(n,e,t){return(e=wve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wve(n){var e=Sve(n,"string");return typeof e=="symbol"?e:e+""}function Sve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Cve{constructor(e){bve(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function E3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Eve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(t),!0).forEach(function(r){Mve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mve(n,e,t){return(e=Tve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tve(n){var e=Ave(n,"string");return typeof e=="symbol"?e:e+""}function Ave(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var kve={cacheSize:2e3,enableCache:!0},MW=Eve({},kve),M3=new Cve(MW.cacheSize),Rve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T3="recharts_measurement_span";function Lve(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",a=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(a)}var A3=(n,e)=>{try{var t=document.getElementById(T3);t||(t=document.createElement("span"),t.setAttribute("id",T3),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,Rve,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||of.isSsr)return{width:0,height:0};if(!MW.enableCache)return A3(e,t);var r=Lve(e,t),i=M3.get(r);if(i)return i;var s=A3(e,t);return M3.set(r,s),s},k3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ove=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ive=Object.keys(TW),Bp="NaN";function Dve(n,e){return n*TW[e]}class Xs{static parse(e){var t,[,r,i]=(t=Ove.exec(e))!==null&&t!==void 0?t:[];return new Xs(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ia(e)&&(this.unit=""),t!==""&&!Pve.test(t)&&(this.num=NaN,this.unit=""),Ive.includes(t)&&(this.num=Dve(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Xs(NaN,""):new Xs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xs(NaN,""):new Xs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xs(NaN,""):new Xs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xs(NaN,""):new Xs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ia(this.num)}}function AW(n){if(n.includes(Bp))return Bp;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=k3.exec(e))!==null&&t!==void 0?t:[],l=Xs.parse(r??""),a=Xs.parse(s??""),o=i==="*"?l.multiply(a):l.divide(a);if(o.isNaN())return Bp;e=e.replace(k3,o.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,c,u,d]=(h=R3.exec(e))!==null&&h!==void 0?h:[],f=Xs.parse(c??""),p=Xs.parse(d??""),m=u==="+"?f.add(p):f.subtract(p);if(m.isNaN())return Bp;e=e.replace(R3,m.toString())}return e}var L3=/\(([^()]*)\)/;function Nve(n){for(var e=n,t;(t=L3.exec(e))!=null;){var[,r]=t;e=e.replace(L3,AW(r))}return e}function Bve(n){var e=n.replace(/\s+/g,"");return e=Nve(e),e=AW(e),e}function Fve(n){try{return Bve(n)}catch{return Bp}}function BC(n){var e=Fve(n.slice(5,-1));return e===Bp?"":e}var $ve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zve=["dx","dy","angle","className","breakAll"];function pT(){return pT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pT.apply(null,arguments)}function P3(n,e){if(n==null)return{};var t,r,i=Uve(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Uve(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var kW=/[ \f\n\r\t\v\u2028\u2029]+/,RW=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];Ii(e)||(t?i=e.toString().split(""):i=e.toString().split(kW));var s=i.map(a=>({word:a,width:fv(a,r).width})),l=t?0:fv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},jve=(n,e,t,r,i)=>{var{maxLines:s,children:l,style:a,breakAll:o}=n,h=Pt(s),c=l,u=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((D,L)=>{var{word:I,width:O}=L,F=D[D.length-1];if(F&&(r==null||i||F.width+O+t<Number(r)))F.words.push(I),F.width+=O+t;else{var H={words:[I],width:O};D.push(H)}return D},[])},d=u(e),f=P=>P.reduce((N,D)=>N.width>D.width?N:D);if(!h||i)return d;var p=d.length>s||f(d).width>Number(r);if(!p)return d;for(var m="",g=P=>{var N=c.slice(0,P),D=RW({breakAll:o,style:a,children:N+m}).wordsWithComputedWidth,L=u(D),I=L.length>s||f(L).width>Number(r);return[I,L]},v=0,y=c.length-1,_=0,w;v<=y&&_<=c.length-1;){var C=Math.floor((v+y)/2),b=C-1,[T,A]=g(b),[k]=g(C);if(!T&&!k&&(v=C+1),T&&k&&(y=C-1),!T&&k){w=A;break}_++}return w||d},O3=n=>{var e=Ii(n)?[]:n.toString().split(kW);return[{words:e}]},Hve=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:l}=n;if((e||t)&&!of.isSsr){var a,o,h=RW({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:c,spaceWidth:u}=h;a=c,o=u}else return O3(r);return jve({breakAll:s,children:r,maxLines:l,style:i},a,o,e,t)}return O3(r)},I3="#808080",Ew=G.forwardRef((n,e)=>{var{x:t=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:a="start",verticalAnchor:o="end",fill:h=I3}=n,c=P3(n,$ve),u=G.useMemo(()=>Hve({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:l,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,l,c.style,c.width]),{dx:d,dy:f,angle:p,className:m,breakAll:g}=c,v=P3(c,zve);if(!Al(t)||!Al(r)||u.length===0)return null;var y=t+(Pt(d)?d:0),_=r+(Pt(f)?f:0),w;switch(o){case"start":w=BC("calc(".concat(s,")"));break;case"middle":w=BC("calc(".concat((u.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:w=BC("calc(".concat(u.length-1," * -").concat(i,")"));break}var C=[];if(l){var b=u[0].width,{width:T}=c;C.push("scale(".concat(Pt(T)?T/b:1,")"))}return p&&C.push("rotate(".concat(p,", ").concat(y,", ").concat(_,")")),C.length&&(v.transform=C.join(" ")),G.createElement("text",pT({},ra(v),{ref:e,x:y,y:_,className:Hn("recharts-text",m),textAnchor:a,fill:h.includes("url")?I3:h}),u.map((A,k)=>{var P=A.words.join(g?"":" ");return G.createElement("tspan",{x:y,dy:k===0?w:i,key:"".concat(P,"-").concat(k)},P)}))});Ew.displayName="Text";var Wve=["labelRef"];function Vve(n,e){if(n==null)return{};var t,r,i=Gve(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Gve(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function D3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(t),!0).forEach(function(r){Kve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kve(n,e,t){return(e=qve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qve(n){var e=Xve(n,"string");return typeof e=="symbol"?e:e+""}function Xve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tc.apply(null,arguments)}var LW=G.createContext(null),Yve=n=>{var{x:e,y:t,width:r,height:i,children:s}=n,l=G.useMemo(()=>({x:e,y:t,width:r,height:i}),[e,t,r,i]);return G.createElement(LW.Provider,{value:l},s)},PW=()=>{var n=G.useContext(LW),e=rw();return n||e},Zve=G.createContext(null),Jve=()=>{var n=G.useContext(Zve),e=Rt(wH);return n||e},Qve=n=>{var{value:e,formatter:t}=n,r=Ii(n.children)?e:n.children;return typeof t=="function"?t(r):r},HR=n=>n!=null&&typeof n=="function",eye=(n,e)=>{var t=Oi(e-n),r=Math.min(Math.abs(e-n),360);return t*r},tye=(n,e,t,r,i)=>{var{offset:s,className:l}=n,{cx:a,cy:o,innerRadius:h,outerRadius:c,startAngle:u,endAngle:d,clockWise:f}=i,p=(h+c)/2,m=eye(u,d),g=m>=0?1:-1,v,y;switch(e){case"insideStart":v=u+g*s,y=f;break;case"insideEnd":v=d-g*s,y=!f;break;case"end":v=d+g*s,y=f;break;default:throw new Error("Unsupported position ".concat(e))}y=m<=0?y:!y;var _=ii(a,o,p,v),w=ii(a,o,p,v+(y?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(w.x,",").concat(w.y),b=Ii(n.id)?Uv("recharts-radial-line-"):n.id;return G.createElement("text",Tc({},r,{dominantBaseline:"central",className:Hn("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:b,d:C})),G.createElement("textPath",{xlinkHref:"#".concat(b)},t))},nye=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:a,endAngle:o}=n,h=(a+o)/2;if(t==="outside"){var{x:c,y:u}=ii(r,i,l+e,h);return{x:c,y:u,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(s+l)/2,{x:f,y:p}=ii(r,i,d,h);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}},OW=n=>"cx"in n&&Pt(n.cx),rye=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!OW(t)&&(s=t);var{x:l,y:a,width:o,height:h}=e,c=h>=0?1:-1,u=c*r,d=c>0?"end":"start",f=c>0?"start":"end",p=o>=0?1:-1,m=p*r,g=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var y={x:l+o/2,y:a-c*r,textAnchor:"middle",verticalAnchor:d};return Wr(Wr({},y),s?{height:Math.max(a-s.y,0),width:o}:{})}if(i==="bottom"){var _={x:l+o/2,y:a+h+u,textAnchor:"middle",verticalAnchor:f};return Wr(Wr({},_),s?{height:Math.max(s.y+s.height-(a+h),0),width:o}:{})}if(i==="left"){var w={x:l-m,y:a+h/2,textAnchor:g,verticalAnchor:"middle"};return Wr(Wr({},w),s?{width:Math.max(w.x-s.x,0),height:h}:{})}if(i==="right"){var C={x:l+o+m,y:a+h/2,textAnchor:v,verticalAnchor:"middle"};return Wr(Wr({},C),s?{width:Math.max(s.x+s.width-C.x,0),height:h}:{})}var b=s?{width:o,height:h}:{};return i==="insideLeft"?Wr({x:l+m,y:a+h/2,textAnchor:v,verticalAnchor:"middle"},b):i==="insideRight"?Wr({x:l+o-m,y:a+h/2,textAnchor:g,verticalAnchor:"middle"},b):i==="insideTop"?Wr({x:l+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},b):i==="insideBottom"?Wr({x:l+o/2,y:a+h-u,textAnchor:"middle",verticalAnchor:d},b):i==="insideTopLeft"?Wr({x:l+m,y:a+u,textAnchor:v,verticalAnchor:f},b):i==="insideTopRight"?Wr({x:l+o-m,y:a+u,textAnchor:g,verticalAnchor:f},b):i==="insideBottomLeft"?Wr({x:l+m,y:a+h-u,textAnchor:v,verticalAnchor:d},b):i==="insideBottomRight"?Wr({x:l+o-m,y:a+h-u,textAnchor:g,verticalAnchor:d},b):i&&typeof i=="object"&&(Pt(i.x)||Uc(i.x))&&(Pt(i.y)||Uc(i.y))?Wr({x:l+ds(i.x,o),y:a+ds(i.y,h),textAnchor:"end",verticalAnchor:"end"},b):Wr({x:l+o/2,y:a+h/2,textAnchor:"middle",verticalAnchor:"middle"},b)},iye={offset:5};function Ku(n){var e=Is(n,iye),{viewBox:t,position:r,value:i,children:s,content:l,className:a="",textBreakAll:o,labelRef:h}=e,c=Jve(),u=PW(),d=r==="center"?u:c??u,f=t||d;if(!f||Ii(i)&&Ii(s)&&!G.isValidElement(l)&&typeof l!="function")return null;var p=Wr(Wr({},e),{},{viewBox:f});if(G.isValidElement(l)){var{labelRef:m}=p,g=Vve(p,Wve);return G.cloneElement(l,g)}var v;if(typeof l=="function"){if(v=G.createElement(l,p),G.isValidElement(v))return v}else v=Qve(e);var y=OW(f),_=ra(e);if(y&&(r==="insideStart"||r==="insideEnd"||r==="end"))return tye(e,r,v,_,f);var w=y?nye(f,e.offset,e.position):rye(e,f);return G.createElement(Ew,Tc({ref:h,className:Hn("recharts-label",a)},_,w,{breakAll:o}),v)}Ku.displayName="Label";var sye=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?G.createElement(Ku,Tc({key:"label-implicit"},r)):Al(n)?G.createElement(Ku,Tc({key:"label-implicit",value:n},r)):G.isValidElement(n)?n.type===Ku?G.cloneElement(n,Wr({key:"label-implicit"},r)):G.createElement(Ku,Tc({key:"label-implicit",content:n},r)):HR(n)?G.createElement(Ku,Tc({key:"label-implicit",content:n},r)):n&&typeof n=="object"?G.createElement(Ku,Tc({},n,{key:"label-implicit"},r)):null};function oye(n){var{label:e,labelRef:t}=n,r=PW();return sye(e,r,t)||null}var FC={},$C={},N3;function aye(){return N3||(N3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})($C)),$C}var zC={},B3;function lye(){return B3||(B3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(zC)),zC}var F3;function cye(){return F3||(F3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=aye(),t=lye(),r=xk();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(FC)),FC}var UC,$3;function uye(){return $3||($3=1,UC=cye().last),UC}var hye=uye();const dye=aa(hye);var fye=["valueAccessor"],pye=["dataKey","clockWise","id","textBreakAll"];function cb(){return cb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cb.apply(null,arguments)}function z3(n,e){if(n==null)return{};var t,r,i=gye(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gye(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var mye=n=>Array.isArray(n.value)?dye(n.value):n.value,IW=G.createContext(void 0),vye=IW.Provider,DW=G.createContext(void 0),yye=DW.Provider;function xye(){return G.useContext(IW)}function _ye(){return G.useContext(DW)}function f_(n){var{valueAccessor:e=mye}=n,t=z3(n,fye),{dataKey:r,clockWise:i,id:s,textBreakAll:l}=t,a=z3(t,pye),o=xye(),h=_ye(),c=o||h;return!c||!c.length?null:G.createElement(eo,{className:"recharts-label-list"},c.map((u,d)=>{var f,p=Ii(r)?e(u,d):Rr(u&&u.payload,r),m=Ii(s)?{}:{id:"".concat(s,"-").concat(d)};return G.createElement(Ku,cb({key:"label-".concat(d)},ra(u),a,m,{fill:(f=t.fill)!==null&&f!==void 0?f:u.fill,parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:u.viewBox,index:d}))}))}f_.displayName="LabelList";function NW(n){var{label:e}=n;return e?e===!0?G.createElement(f_,{key:"labelList-implicit"}):G.isValidElement(e)||HR(e)?G.createElement(f_,{key:"labelList-implicit",content:e}):typeof e=="object"?G.createElement(f_,cb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var BW=n=>n.graphicalItems.polarItems,bye=De([xr,Dy],pR),Mw=De([BW,Pr,bye],mR),wye=De([Mw],vR),Tw=De([wye,nR],yR),Sye=De([Tw,Pr,Mw],_R);De([Tw,Pr,Mw],(n,e,t)=>t.length>0?n.flatMap(r=>t.flatMap(i=>{var s,l=Rr(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?n.map(r=>({value:Rr(r,e.dataKey),errorDomain:[]})):n.map(r=>({value:r,errorDomain:[]})));var U3=()=>{},Cye=De([Tw,Pr,Mw,bw,xr],CR),Eye=De([Pr,wR,SR,U3,Cye,U3,Ln,xr],ER),FW=De([Pr,Ln,Tw,Sye,Iy,xr,Eye],MR),Mye=De([FW,Pr,Cg],kR);De([Pr,FW,Mye,xr],LR);var Tye={radiusAxis:{},angleAxis:{}},$W=Mo({name:"polarAxis",initialState:Tye,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:USe,removeRadiusAxis:jSe,addAngleAxis:HSe,removeAngleAxis:WSe}=$W.actions,Aye=$W.reducer;function j3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function H3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(t),!0).forEach(function(r){kye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kye(n,e,t){return(e=Rye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rye(n){var e=Lye(n,"string");return typeof e=="symbol"?e:e+""}function Lye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Pye=(n,e)=>e,WR=De([BW,Pye],(n,e)=>n.filter(t=>t.type==="pie").find(t=>t.id===e)),Oye=[],VR=(n,e,t)=>t?.length===0?Oye:t,zW=De([nR,WR,VR],(n,e,t)=>{var{chartData:r}=n;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&t!=null&&(i=t.map(s=>H3(H3({},e.presentationProps),s.props))),i!=null)return i}}),Iye=De([zW,WR,VR],(n,e,t)=>{if(!(n==null||e==null))return n.map((r,i)=>{var s,l=Rr(r,e.nameKey,e.name),a;return t!=null&&(s=t[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=t[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:Jb(l,e.dataKey),color:a,payload:r,type:e.legendType}})}),Dye=De([zW,WR,VR,bi],(n,e,t,r)=>{if(!(e==null||n==null))return B0e({offset:r,pieSettings:e,displayedData:n,cells:t})}),jC={exports:{}},Kn={};var W3;function Nye(){if(W3)return Kn;W3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function p(m){if(typeof m=="object"&&m!==null){var g=m.$$typeof;switch(g){case n:switch(m=m.type,m){case t:case i:case r:case o:case h:case d:return m;default:switch(m=m&&m.$$typeof,m){case l:case a:case u:case c:return m;case s:return m;default:return g}}case e:return g}}}return Kn.ContextConsumer=s,Kn.ContextProvider=l,Kn.Element=n,Kn.ForwardRef=a,Kn.Fragment=t,Kn.Lazy=u,Kn.Memo=c,Kn.Portal=e,Kn.Profiler=i,Kn.StrictMode=r,Kn.Suspense=o,Kn.SuspenseList=h,Kn.isContextConsumer=function(m){return p(m)===s},Kn.isContextProvider=function(m){return p(m)===l},Kn.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===n},Kn.isForwardRef=function(m){return p(m)===a},Kn.isFragment=function(m){return p(m)===t},Kn.isLazy=function(m){return p(m)===u},Kn.isMemo=function(m){return p(m)===c},Kn.isPortal=function(m){return p(m)===e},Kn.isProfiler=function(m){return p(m)===i},Kn.isStrictMode=function(m){return p(m)===r},Kn.isSuspense=function(m){return p(m)===o},Kn.isSuspenseList=function(m){return p(m)===h},Kn.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===t||m===i||m===r||m===o||m===h||typeof m=="object"&&m!==null&&(m.$$typeof===u||m.$$typeof===c||m.$$typeof===l||m.$$typeof===s||m.$$typeof===a||m.$$typeof===f||m.getModuleId!==void 0)},Kn.typeOf=p,Kn}var V3;function Bye(){return V3||(V3=1,jC.exports=Nye()),jC.exports}var Fye=Bye(),G3=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",K3=null,HC=null,UW=n=>{if(n===K3&&Array.isArray(HC))return HC;var e=[];return G.Children.forEach(n,t=>{Ii(t)||(Fye.isFragment(t)?e=e.concat(UW(t.props.children)):e.push(t))}),HC=e,K3=n,e};function GR(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>G3(i)):r=[G3(e)],UW(n).forEach(i=>{var s=Gd(i,"type.displayName")||Gd(i,"type.name");r.indexOf(s)!==-1&&t.push(i)}),t}var WC={},q3;function $ye(){return q3||(q3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${i}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(WC)),WC}var VC,X3;function zye(){return X3||(X3=1,VC=$ye().isPlainObject),VC}var Uye=zye();const jye=aa(Uye);function Y3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Z3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(t),!0).forEach(function(r){Hye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hye(n,e,t){return(e=Wye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wye(n){var e=Vye(n,"string");return typeof e=="symbol"?e:e+""}function Vye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ub(){return ub=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ub.apply(null,arguments)}var J3=(n,e,t,r,i)=>{var s=t-r,l;return l="M ".concat(n,",").concat(e),l+="L ".concat(n+t,",").concat(e),l+="L ".concat(n+t-s/2,",").concat(e+i),l+="L ".concat(n+t-s/2-r,",").concat(e+i),l+="L ".concat(n,",").concat(e," Z"),l},Gye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kye=n=>{var e=Is(n,Gye),{x:t,y:r,upperWidth:i,lowerWidth:s,height:l,className:a}=e,{animationEasing:o,animationDuration:h,animationBegin:c,isUpdateAnimationActive:u}=e,d=G.useRef(null),[f,p]=G.useState(-1),m=G.useRef(i),g=G.useRef(s),v=G.useRef(l),y=G.useRef(t),_=G.useRef(r),w=aw(n,"trapezoid-");if(G.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var I=d.current.getTotalLength();I&&p(I)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var C=Hn("recharts-trapezoid",a);if(!u)return G.createElement("g",null,G.createElement("path",ub({},ra(e),{className:C,d:J3(t,r,i,s,l)})));var b=m.current,T=g.current,A=v.current,k=y.current,P=_.current,N="0px ".concat(f===-1?1:f,"px"),D="".concat(f,"px 0px"),L=hj(["strokeDasharray"],h,o);return G.createElement(ow,{animationId:w,key:w,canBegin:f>0,duration:h,easing:o,isActive:u,begin:c},I=>{var O=Yi(b,i,I),F=Yi(T,s,I),H=Yi(A,l,I),j=Yi(k,t,I),z=Yi(P,r,I);d.current&&(m.current=O,g.current=F,v.current=H,y.current=j,_.current=z);var W=I>0?{transition:L,strokeDasharray:D}:{strokeDasharray:N};return G.createElement("path",ub({},ra(e),{className:C,d:J3(j,z,O,F,H),ref:d,style:Z3(Z3({},W),e.style)}))})},qye=["option","shapeType","propTransformer","activeClassName","isActive"];function Xye(n,e){if(n==null)return{};var t,r,i=Yye(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Yye(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Q3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(t),!0).forEach(function(r){Zye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zye(n,e,t){return(e=Jye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jye(n){var e=Qye(n,"string");return typeof e=="symbol"?e:e+""}function Qye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function e0e(n,e){return hb(hb({},e),n)}function t0e(n,e){return n==="symbols"}function eB(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return G.createElement(gj,t);case"trapezoid":return G.createElement(Kye,t);case"sector":return G.createElement(yj,t);case"symbols":if(t0e(e))return G.createElement(mk,t);break;default:return null}}function n0e(n){return G.isValidElement(n)?n.props:n}function jW(n){var{option:e,shapeType:t,propTransformer:r=e0e,activeClassName:i="recharts-active-shape",isActive:s}=n,l=Xye(n,qye),a;if(G.isValidElement(e))a=G.cloneElement(e,hb(hb({},l),n0e(e)));else if(typeof e=="function")a=e(l);else if(jye(e)&&typeof e!="boolean"){var o=r(e,l);a=G.createElement(eB,{shapeType:t,elementProps:o})}else{var h=l;a=G.createElement(eB,{shapeType:t,elementProps:h})}return s?G.createElement(eo,{className:i},a):a}var KR=(n,e)=>{var t=yr();return(r,i)=>s=>{n?.(r,i,s),t(eW({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},qR=n=>{var e=yr();return(t,r)=>i=>{n?.(t,r,i),e(Wge())}},XR=(n,e)=>{var t=yr();return(r,i)=>s=>{n?.(r,i,s),t(Vge({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function HW(n){var{fn:e,args:t}=n,r=yr(),i=To();return G.useLayoutEffect(()=>{if(!i){var s=e(t);return r(Uge(s)),()=>{r(jge(s))}}},[e,t,r,i]),null}var WW=()=>{};function r0e(n){var{legendPayload:e}=n,t=yr(),r=To();return G.useLayoutEffect(()=>r?WW:(t(aj(e)),()=>{t(lj(e))}),[t,r,e]),null}function i0e(n){var{legendPayload:e}=n,t=yr(),r=Rt(Ln);return G.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?WW:(t(aj(e)),()=>{t(lj(e))}),[t,r,e]),null}var GC,s0e=()=>{var[n]=G.useState(()=>Uv("uid-"));return n},o0e=(GC=_8.useId)!==null&&GC!==void 0?GC:s0e;function a0e(n,e){var t=o0e();return e||(n?"".concat(n,"-").concat(t):t)}var l0e=G.createContext(void 0),VW=n=>{var{id:e,type:t,children:r}=n,i=a0e("recharts-".concat(t),e);return G.createElement(l0e.Provider,{value:i},r(i))},c0e={cartesianItems:[],polarItems:[]},GW=Mo({name:"graphicalItems",initialState:c0e,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:As()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Oc(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:As()},removeCartesianGraphicalItem:{reducer(n,e){var t=Oc(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:As()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:As()},removePolarGraphicalItem:{reducer(n,e){var t=Oc(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:As()}}}),{addCartesianGraphicalItem:u0e,replaceCartesianGraphicalItem:h0e,removeCartesianGraphicalItem:d0e,addPolarGraphicalItem:f0e,removePolarGraphicalItem:p0e}=GW.actions,g0e=GW.reducer;function m0e(n){var e=yr(),t=G.useRef(null);return G.useLayoutEffect(()=>{t.current===null?e(u0e(n)):t.current!==n&&e(h0e({prev:t.current,next:n})),t.current=n},[e,n]),G.useLayoutEffect(()=>()=>{t.current&&(e(d0e(t.current)),t.current=null)},[e]),null}function v0e(n){var e=yr();return G.useLayoutEffect(()=>(e(f0e(n)),()=>{e(p0e(n))}),[e,n]),null}var y0e=["onMouseEnter","onClick","onMouseLeave"],x0e=["id"],_0e=["id"];function YR(n,e){if(n==null)return{};var t,r,i=b0e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function b0e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function tB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(t),!0).forEach(function(r){w0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w0e(n,e,t){return(e=S0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function S0e(n){var e=C0e(n,"string");return typeof e=="symbol"?e:e+""}function C0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ch(){return ch=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ch.apply(null,arguments)}function E0e(n){var e=G.useMemo(()=>GR(n.children,Uy),[n.children]),t=Rt(r=>Iye(r,n.id,e));return t==null?null:G.createElement(i0e,{legendPayload:t})}function M0e(n){var{dataKey:e,nameKey:t,sectors:r,stroke:i,strokeWidth:s,fill:l,name:a,hide:o,tooltipType:h}=n;return{dataDefinedOnItem:r.map(c=>c.tooltipPayload),positions:r.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:t,name:Jb(a,e),hide:o,type:h,color:l,unit:""}}}var T0e=(n,e)=>n>e?"start":n<e?"end":"middle",A0e=(n,e,t)=>ds(typeof e=="function"?e(n):e,t,t*.8),k0e=(n,e,t)=>{var{top:r,left:i,width:s,height:l}=e,a=XU(s,l),o=i+ds(n.cx,s,s/2),h=r+ds(n.cy,l,l/2),c=ds(n.innerRadius,a,0),u=A0e(t,n.outerRadius,a),d=n.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:o,cy:h,innerRadius:c,outerRadius:u,maxRadius:d}},R0e=(n,e)=>{var t=Oi(e-n),r=Math.min(Math.abs(e-n),360);return t*r};function L0e(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var P0e=(n,e)=>{if(G.isValidElement(n))return G.cloneElement(n,e);if(typeof n=="function")return n(e);var t=Hn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(uj,ch({},e,{type:"linear",className:t}))},O0e=(n,e,t)=>{if(G.isValidElement(n))return G.cloneElement(n,e);var r=t;if(typeof n=="function"&&(r=n(e),G.isValidElement(r)))return r;var i=Hn("recharts-pie-label-text",L0e(n));return G.createElement(Ew,ch({},e,{alignmentBaseline:"middle",className:i}),r)};function I0e(n){var{sectors:e,props:t,showLabels:r}=n,{label:i,labelLine:s,dataKey:l}=t;if(!r||!i||!e)return null;var a=Ka(t),o=zv(i),h=zv(s),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,u=e.map((d,f)=>{var p=(d.startAngle+d.endAngle)/2,m=ii(d.cx,d.cy,d.outerRadius+c,p),g=gr(gr(gr(gr({},a),d),{},{stroke:"none"},o),{},{index:f,textAnchor:T0e(m.x,d.cx)},m),v=gr(gr(gr(gr({},a),d),{},{fill:"none",stroke:d.fill},h),{},{index:f,points:[ii(d.cx,d.cy,d.outerRadius,p),m],key:"line"});return G.createElement(eo,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(f)},s&&P0e(s,v),O0e(i,g,Rr(d,l)))});return G.createElement(eo,{className:"recharts-pie-labels"},u)}function D0e(n){var{sectors:e,props:t,showLabels:r}=n,{label:i}=t;return typeof i=="object"&&i!=null&&"position"in i?G.createElement(NW,{label:i}):G.createElement(I0e,{sectors:e,props:t,showLabels:r})}function N0e(n){var{sectors:e,activeShape:t,inactiveShape:r,allOtherPieProps:i}=n,s=Rt(Zd),{onMouseEnter:l,onClick:a,onMouseLeave:o}=i,h=YR(i,y0e),c=KR(l,i.dataKey),u=qR(o),d=XR(a,i.dataKey);return e==null||e.length===0?null:G.createElement(G.Fragment,null,e.map((f,p)=>{if(f?.startAngle===0&&f?.endAngle===0&&e.length!==1)return null;var m=t&&String(p)===s,g=s?r:null,v=m?t:g,y=gr(gr({},f),{},{stroke:f.stroke,tabIndex:-1,[ej]:p,[tj]:i.dataKey});return G.createElement(eo,ch({key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p),tabIndex:-1,className:"recharts-pie-sector"},My(h,f,p),{onMouseEnter:c(f,p),onMouseLeave:u(f,p),onClick:d(f,p)}),G.createElement(jW,ch({option:v,isActive:m,shapeType:"sector"},y)))}))}function B0e(n){var e,{pieSettings:t,displayedData:r,cells:i,offset:s}=n,{cornerRadius:l,startAngle:a,endAngle:o,dataKey:h,nameKey:c,tooltipType:u}=t,d=Math.abs(t.minAngle),f=R0e(a,o),p=Math.abs(f),m=r.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,g=r.filter(b=>Rr(b,h,0)!==0).length,v=(p>=360?g:g-1)*m,y=p-g*d-v,_=r.reduce((b,T)=>{var A=Rr(T,h,0);return b+(Pt(A)?A:0)},0),w;if(_>0){var C;w=r.map((b,T)=>{var A=Rr(b,h,0),k=Rr(b,c,T),P=k0e(t,s,b),N=(Pt(A)?A:0)/_,D,L=gr(gr({},b),i&&i[T]&&i[T].props);T?D=C.endAngle+Oi(f)*m*(A!==0?1:0):D=a;var I=D+Oi(f)*((A!==0?d:0)+N*y),O=(D+I)/2,F=(P.innerRadius+P.outerRadius)/2,H=[{name:k,value:A,payload:L,dataKey:h,type:u}],j=ii(P.cx,P.cy,F,O);return C=gr(gr(gr(gr({},t.presentationProps),{},{percent:N,cornerRadius:l,name:k,tooltipPayload:H,midAngle:O,middleRadius:F,tooltipPosition:j},L),P),{},{value:A,startAngle:D,endAngle:I,payload:L,paddingAngle:Oi(f)*m}),C})}return w}function F0e(n){var{showLabels:e,sectors:t,children:r}=n,i=G.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return G.createElement(yye,{value:e?i:void 0},r)}function $0e(n){var{props:e,previousSectorsRef:t}=n,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:a,activeShape:o,inactiveShape:h,onAnimationStart:c,onAnimationEnd:u}=e,d=aw(e,"recharts-pie-"),f=t.current,[p,m]=G.useState(!1),g=G.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),v=G.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return G.createElement(F0e,{showLabels:!p,sectors:r},G.createElement(ow,{animationId:d,begin:s,duration:l,isActive:i,easing:a,onAnimationStart:v,onAnimationEnd:g,key:d},y=>{var _=[],w=r&&r[0],C=w?.startAngle;return r?.forEach((b,T)=>{var A=f&&f[T],k=T>0?Gd(b,"paddingAngle",0):0;if(A){var P=Yi(A.endAngle-A.startAngle,b.endAngle-b.startAngle,y),N=gr(gr({},b),{},{startAngle:C+k,endAngle:C+P+k});_.push(N),C=N.endAngle}else{var{endAngle:D,startAngle:L}=b,I=Yi(0,D-L,y),O=gr(gr({},b),{},{startAngle:C+k,endAngle:C+I+k});_.push(O),C=O.endAngle}}),t.current=_,G.createElement(eo,null,G.createElement(N0e,{sectors:_,activeShape:o,inactiveShape:h,allOtherPieProps:e}))}),G.createElement(D0e,{showLabels:!p,sectors:r,props:e}),e.children)}var z0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!of.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function U0e(n){var{id:e}=n,t=YR(n,x0e),{hide:r,className:i,rootTabIndex:s}=n,l=G.useMemo(()=>GR(n.children,Uy),[n.children]),a=Rt(c=>Dye(c,e,l)),o=G.useRef(null),h=Hn("recharts-pie",i);return r||a==null?(o.current=null,G.createElement(eo,{tabIndex:s,className:h})):G.createElement(G.Fragment,null,G.createElement(HW,{fn:M0e,args:gr(gr({},n),{},{sectors:a})}),G.createElement(eo,{tabIndex:s,className:h},G.createElement($0e,{props:gr(gr({},t),{},{sectors:a}),previousSectorsRef:o})))}function KW(n){var e=Is(n,z0e),{id:t}=e,r=YR(e,_0e),i=Ka(r);return G.createElement(VW,{id:t,type:"pie"},s=>G.createElement(G.Fragment,null,G.createElement(v0e,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),G.createElement(E0e,ch({},r,{id:s})),G.createElement(U0e,ch({},r,{id:s}))))}KW.displayName="Pie";function nB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(t),!0).forEach(function(r){j0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function j0e(n,e,t){return(e=H0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H0e(n){var e=W0e(n,"string");return typeof e=="symbol"?e:e+""}function W0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var V0e={xAxis:{},yAxis:{},zAxis:{}},qW=Mo({name:"cartesianAxis",initialState:V0e,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:As()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:As()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:As()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:As()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:As()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:As()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);n.yAxis[t]=rB(rB({},n.yAxis[t]),{},{width:r,widthHistory:l})}}}}),{addXAxis:G0e,removeXAxis:K0e,addYAxis:q0e,removeYAxis:X0e,addZAxis:VSe,removeZAxis:GSe,updateYAxisWidth:Y0e}=qW.actions,Z0e=qW.reducer,J0e=De([bi],n=>{if(n)return{top:n.top,bottom:n.bottom,left:n.left,right:n.right}}),Q0e=De([J0e,Xc,Yc],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),XW=()=>Rt(Q0e),exe="Invariant failed";function txe(n,e){throw new Error(exe)}var nxe=["x","y"];function gT(){return gT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gT.apply(null,arguments)}function iB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(t),!0).forEach(function(r){rxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rxe(n,e,t){return(e=ixe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ixe(n){var e=sxe(n,"string");return typeof e=="symbol"?e:e+""}function sxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oxe(n,e){if(n==null)return{};var t,r,i=axe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function axe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function lxe(n,e){var{x:t,y:r}=n,i=oxe(n,nxe),s="".concat(t),l=parseInt(s,10),a="".concat(r),o=parseInt(a,10),h="".concat(e.height||i.height),c=parseInt(h,10),u="".concat(e.width||i.width),d=parseInt(u,10);return Hm(Hm(Hm(Hm(Hm({},e),i),l?{x:l}:{}),o?{y:o}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function ZR(n){return G.createElement(jW,gT({shapeType:"rectangle",propTransformer:lxe,activeClassName:"recharts-active-bar"},n))}var cxe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pt(e))return e;var s=Pt(r)||Ii(r);return s?e(r,i):(s||txe(),t)}},uxe={},YW=Mo({name:"errorBars",initialState:uxe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:KSe,replaceErrorBar:qSe,removeErrorBar:XSe}=YW.actions,hxe=YW.reducer,dxe=["children"];function fxe(n,e){if(n==null)return{};var t,r,i=pxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function pxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var gxe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mxe=G.createContext(gxe);function vxe(n){var{children:e}=n,t=fxe(n,dxe);return G.createElement(mxe.Provider,{value:t},e)}function ZW(n,e){var t,r,i=Rt(h=>Jc(h,n)),s=Rt(h=>Qc(h,e)),l=(t=i?.allowDataOverflow)!==null&&t!==void 0?t:vo.allowDataOverflow,a=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:yo.allowDataOverflow,o=l||a;return{needClip:o,needClipX:l,needClipY:a}}function yxe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=XW(),{needClipX:s,needClipY:l,needClip:a}=ZW(e,t);if(!a)return null;var{x:o,y:h,width:c,height:u}=i;return G.createElement("clipPath",{id:"clipPath-".concat(r)},G.createElement("rect",{x:s?o:o-c/2,y:l?h:h-u/2,width:s?c:c*2,height:l?u:u*2}))}var xxe=["onMouseEnter","onMouseLeave","onClick"],_xe=["value","background","tooltipPosition"],bxe=["id"],wxe=["onMouseEnter","onClick","onMouseLeave"];function uh(){return uh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uh.apply(null,arguments)}function sB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ks(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(t),!0).forEach(function(r){Sxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Sxe(n,e,t){return(e=Cxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cxe(n){var e=Exe(n,"string");return typeof e=="symbol"?e:e+""}function Exe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function db(n,e){if(n==null)return{};var t,r,i=Mxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Mxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Txe=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:Jb(t,e),payload:n}]};function Axe(n){var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:l,unit:a}=n;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Jb(s,e),hide:l,type:n.tooltipType,color:n.fill,unit:a}}}function kxe(n){var e=Rt(Zd),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:l,onMouseLeave:a,onClick:o}=s,h=db(s,xxe),c=KR(l,r),u=qR(a),d=XR(o,r);if(!i||t==null)return null;var f=zv(i);return G.createElement(G.Fragment,null,t.map((p,m)=>{var{value:g,background:v,tooltipPosition:y}=p,_=db(p,_xe);if(!v)return null;var w=c(p,m),C=u(p,m),b=d(p,m),T=ks(ks(ks(ks(ks({option:i,isActive:String(m)===e},_),{},{fill:"#eee"},v),f),My(h,p,m)),{},{onMouseEnter:w,onMouseLeave:C,onClick:b,dataKey:r,index:m,className:"recharts-bar-background-rectangle"});return G.createElement(ZR,uh({key:"background-bar-".concat(m)},T))}))}function Rxe(n){var{showLabels:e,children:t,rects:r}=n,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return ks(ks({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return G.createElement(vye,{value:e?i:void 0},t)}function Lxe(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:l}=n,a=Rt(Zd),o=Rt(gW),h=t&&String(s)===a&&(o==null||l===o),c=h?t:e;return G.createElement(ZR,uh({},r,{name:String(r.name)},i,{isActive:h,option:c,index:s,dataKey:l}))}function Pxe(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return G.createElement(ZR,uh({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Oxe(n){var{data:e,props:t}=n,r=Ka(t),{id:i}=r,s=db(r,bxe),{shape:l,dataKey:a,activeBar:o}=t,{onMouseEnter:h,onClick:c,onMouseLeave:u}=t,d=db(t,wxe),f=KR(h,a),p=qR(u),m=XR(c,a);return e?G.createElement(G.Fragment,null,e.map((g,v)=>G.createElement(eo,uh({key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(v),className:"recharts-bar-rectangle"},My(d,g,v),{onMouseEnter:f(g,v),onMouseLeave:p(g,v),onClick:m(g,v)}),o?G.createElement(Lxe,{shape:l,activeBar:o,baseProps:s,entry:g,index:v,dataKey:a}):G.createElement(Pxe,{shape:l,baseProps:s,entry:g,index:v,dataKey:a})))):null}function Ixe(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:a,animationEasing:o,onAnimationEnd:h,onAnimationStart:c}=e,u=t.current,d=aw(e,"recharts-bar-"),[f,p]=G.useState(!1),m=!f,g=G.useCallback(()=>{typeof h=="function"&&h(),p(!1)},[h]),v=G.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return G.createElement(Rxe,{showLabels:m,rects:r},G.createElement(ow,{animationId:d,begin:l,duration:a,isActive:s,easing:o,onAnimationEnd:g,onAnimationStart:v,key:d},y=>{var _=y===1?r:r?.map((w,C)=>{var b=u&&u[C];if(b)return ks(ks({},w),{},{x:Yi(b.x,w.x,y),y:Yi(b.y,w.y,y),width:Yi(b.width,w.width,y),height:Yi(b.height,w.height,y)});if(i==="horizontal"){var T=Yi(0,w.height,y);return ks(ks({},w),{},{y:w.y+w.height-T,height:T})}var A=Yi(0,w.width,y);return ks(ks({},w),{},{width:A})});return y>0&&(t.current=_??null),_==null?null:G.createElement(eo,null,G.createElement(Oxe,{props:e,data:_}))}),G.createElement(NW,{label:e.label}),e.children)}function Dxe(n){var e=G.useRef(null);return G.createElement(Ixe,{previousRectanglesRef:e,props:n})}var JW=0,Nxe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Rr(n,e)}};class Bxe extends G.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:a,background:o,id:h}=this.props;if(e||t==null)return null;var c=Hn("recharts-bar",i),u=h;return G.createElement(eo,{className:c,id:h},a&&G.createElement("defs",null,G.createElement(yxe,{clipPathId:u,xAxisId:s,yAxisId:l})),G.createElement(eo,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(u,")"):void 0},G.createElement(kxe,{data:t,dataKey:r,background:o,allOtherBarProps:this.props}),G.createElement(Dxe,this.props)))}}var Fxe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!of.isSsr,legendType:"rect",minPointSize:JW,xAxisId:0,yAxisId:0};function $xe(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:a,animationDuration:o,animationEasing:h,isAnimationActive:c}=n,{needClip:u}=ZW(e,t),d=Lk(),f=To(),p=GR(n.children,Uy),m=Rt(y=>f_e(y,e,t,f,n.id,p));if(d!=="vertical"&&d!=="horizontal")return null;var g,v=m?.[0];return v==null||v.height==null||v.width==null?g=0:g=d==="vertical"?v.height/2:v.width/2,G.createElement(vxe,{xAxisId:e,yAxisId:t,data:m,dataPointFormatter:Nxe,errorBarOffset:g},G.createElement(Bxe,uh({},n,{layout:d,needClip:u,data:m,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:a,animationDuration:o,animationEasing:h,isAnimationActive:c})))}function zxe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:a,xAxisTicks:o,yAxisTicks:h,stackedData:c,displayedData:u,offset:d,cells:f,parentViewBox:p}=n,m=e==="horizontal"?a:l,g=c?m.scale.domain():null,v=Fce({numericAxis:m});return u.map((y,_)=>{var w,C,b,T,A,k;c?w=Pce(c[_],g):(w=Rr(y,t),Array.isArray(w)||(w=[v,w]));var P=cxe(r,JW)(w[1],_);if(e==="horizontal"){var N,[D,L]=[a.scale(w[0]),a.scale(w[1])];C=FD({axis:l,ticks:o,bandSize:s,offset:i.offset,entry:y,index:_}),b=(N=L??D)!==null&&N!==void 0?N:void 0,T=i.size;var I=D-L;if(A=ia(I)?0:I,k={x:C,y:d.top,width:T,height:d.height},Math.abs(P)>0&&Math.abs(A)<Math.abs(P)){var O=Oi(A||P)*(Math.abs(P)-Math.abs(A));b-=O,A+=O}}else{var[F,H]=[l.scale(w[0]),l.scale(w[1])];if(C=F,b=FD({axis:a,ticks:h,bandSize:s,offset:i.offset,entry:y,index:_}),T=H-F,A=i.size,k={x:d.left,y:b,width:d.width,height:A},Math.abs(P)>0&&Math.abs(T)<Math.abs(P)){var j=Oi(T||P)*(Math.abs(P)-Math.abs(T));T+=j}}if(C==null||b==null||T==null||A==null)return null;var z=ks(ks({},y),{},{x:C,y:b,width:T,height:A,value:c?w:w[1],payload:y,background:k,tooltipPosition:{x:C+T/2,y:b+A/2},parentViewBox:p},f&&f[_]&&f[_].props);return z}).filter(Boolean)}function Uxe(n){var e=Is(n,Fxe),t=To();return G.createElement(VW,{id:e.id,type:"bar"},r=>G.createElement(G.Fragment,null,G.createElement(r0e,{legendPayload:Txe(e)}),G.createElement(HW,{fn:Axe,args:e}),G.createElement(m0e,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Bce(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),G.createElement($xe,uh({},e,{id:r}))))}var QW=G.memo(Uxe);QW.displayName="Bar";function oB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(t),!0).forEach(function(r){jxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jxe(n,e,t){return(e=Hxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hxe(n){var e=Wxe(n,"string");return typeof e=="symbol"?e:e+""}function Wxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vxe=(n,e)=>e,Gxe=(n,e,t)=>t,Kxe=(n,e,t,r)=>r,qxe=(n,e,t,r,i)=>i,jy=De([gR,qxe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),Xxe=De([jy],n=>n?.maxBarSize),Yxe=(n,e,t,r,i,s)=>s,aB=(n,e,t)=>{var r=t??n;if(!Ii(r))return ds(r,e,0)},Zxe=De([Ln,gR,Vxe,Gxe,Kxe],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Jxe=(n,e,t,r)=>{var i=Ln(n);return i==="horizontal"?cT(n,"yAxis",t,r):cT(n,"xAxis",e,r)},Qxe=(n,e,t)=>{var r=Ln(n);return r==="horizontal"?c3(n,"xAxis",e):c3(n,"yAxis",t)},e_e=(n,e,t)=>{var r={},i=n.filter(vw),s=n.filter(h=>h.stackId==null),l=i.reduce((h,c)=>(h[c.stackId]||(h[c.stackId]=[]),h[c.stackId].push(c),h),r),a=Object.entries(l).map(h=>{var[c,u]=h,d=u.map(p=>p.dataKey),f=aB(e,t,u[0].barSize);return{stackId:c,dataKeys:d,barSize:f}}),o=s.map(h=>{var c=[h.dataKey].filter(d=>d!=null),u=aB(e,t,h.barSize);return{stackId:void 0,dataKeys:c,barSize:u}});return[...a,...o]},t_e=De([Zxe,Bpe,Qxe],e_e),n_e=(n,e,t,r,i)=>{var s,l,a=jy(n,e,t,r,i);if(a!=null){var o=Ln(n),h=gH(n),{maxBarSize:c}=a,u=Ii(c)?h:c,d,f;return o==="horizontal"?(d=ig(n,"xAxis",e,r),f=rg(n,"xAxis",e,r)):(d=ig(n,"yAxis",t,r),f=rg(n,"yAxis",t,r)),(s=(l=Mk(d,f,!0))!==null&&l!==void 0?l:u)!==null&&s!==void 0?s:0}},e6=(n,e,t,r)=>{var i=Ln(n),s,l;return i==="horizontal"?(s=ig(n,"xAxis",e,r),l=rg(n,"xAxis",e,r)):(s=ig(n,"yAxis",t,r),l=rg(n,"yAxis",t,r)),Mk(s,l)};function r_e(n,e,t,r,i){var s=r.length;if(!(s<1)){var l=ds(n,t,0,!0),a,o=[];if(fs(r[0].barSize)){var h=!1,c=t/s,u=r.reduce((v,y)=>v+(y.barSize||0),0);u+=(s-1)*l,u>=t&&(u-=(s-1)*l,l=0),u>=t&&c>0&&(h=!0,c*=.9,u=s*c);var d=(t-u)/2>>0,f={offset:d-l,size:0};a=r.reduce((v,y)=>{var _,w={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:f.offset+f.size+l,size:h?c:(_=y.barSize)!==null&&_!==void 0?_:0}},C=[...v,w];return f=C[C.length-1].position,C},o)}else{var p=ds(e,t,0,!0);t-2*p-(s-1)*l<=0&&(l=0);var m=(t-2*p-(s-1)*l)/s;m>1&&(m>>=0);var g=fs(i)?Math.min(m,i):m;a=r.reduce((v,y,_)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(m+l)*_+(m-g)/2,size:g}}],o)}return a}}var i_e=(n,e,t,r,i,s,l)=>{var a=Ii(l)?e:l,o=r_e(t,r,i!==s?i:s,n,a);return i!==s&&o!=null&&(o=o.map(h=>Wx(Wx({},h),{},{position:Wx(Wx({},h.position),{},{offset:h.position.offset-i/2})}))),o},s_e=De([t_e,gH,Npe,mH,n_e,e6,Xxe],i_e),o_e=(n,e,t,r)=>ig(n,"xAxis",e,r),a_e=(n,e,t,r)=>ig(n,"yAxis",t,r),l_e=(n,e,t,r)=>rg(n,"xAxis",e,r),c_e=(n,e,t,r)=>rg(n,"yAxis",t,r),u_e=De([s_e,jy],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),h_e=(n,e)=>{var t=dR(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===t)}}}},d_e=De([Jxe,jy],h_e),f_e=De([bi,Tk,o_e,a_e,l_e,c_e,u_e,Ln,rR,e6,d_e,jy,Yxe],(n,e,t,r,i,s,l,a,o,h,c,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=o;if(!(u==null||l==null||e==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||i==null||s==null||h==null)){var{data:g}=u,v;if(g!=null&&g.length>0?v=g:v=f?.slice(p,m+1),v!=null)return zxe({layout:a,barSettings:u,pos:l,parentViewBox:e,bandSize:h,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:c,displayedData:v,offset:n,cells:d})}}),t6=n=>{var{chartData:e}=n,t=yr(),r=To();return G.useEffect(()=>r?()=>{}:(t(x3(e)),()=>{t(x3(void 0))}),[e,t,r]),null},lB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},n6=Mo({name:"brush",initialState:lB,reducers:{setBrushSettings(n,e){return e.payload==null?lB:e.payload}}}),{setBrushSettings:YSe}=n6.actions,p_e=n6.reducer;function g_e(n,e,t){return(e=m_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m_e(n){var e=v_e(n,"string");return typeof e=="symbol"?e:e+""}function v_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class JR{static create(e){return new JR(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}g_e(JR,"EPS",1e-4);function y_e(n){return(n%180+180)%180}var x_e=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=y_e(i),l=s*Math.PI/180,a=Math.atan(r/t),o=l>a&&l<Math.PI-a?r/Math.sin(l):t/Math.cos(l);return Math.abs(o)},__e={dots:[],areas:[],lines:[]},r6=Mo({name:"referenceElements",initialState:__e,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Oc(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Oc(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Oc(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:ZSe,removeDot:JSe,addArea:QSe,removeArea:eCe,addLine:tCe,removeLine:nCe}=r6.actions,b_e=r6.reducer,w_e=G.createContext(void 0),S_e=n=>{var{children:e}=n,[t]=G.useState("".concat(Uv("recharts"),"-clip")),r=XW();if(r==null)return null;var{x:i,y:s,width:l,height:a}=r;return G.createElement(w_e.Provider,{value:t},G.createElement("defs",null,G.createElement("clipPath",{id:t},G.createElement("rect",{x:i,y:s,height:a,width:l}))),e)};function sg(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function i6(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function C_e(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return x_e(r,t)}function E_e(n,e,t){var r=t==="width",{x:i,y:s,width:l,height:a}=n;return e===1?{start:r?i:s,end:r?i+l:s+a}:{start:r?i+l:s+a,end:r?i:s}}function fb(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function M_e(n,e){return i6(n,e+1)}function T_e(n,e,t,r,i){for(var s=(r||[]).slice(),{start:l,end:a}=e,o=0,h=1,c=l,u=function(){var p=r?.[o];if(p===void 0)return{v:i6(r,h)};var m=o,g,v=()=>(g===void 0&&(g=t(p,m)),g),y=p.coordinate,_=o===0||fb(n,y,v,c,a);_||(o=0,c=l,h+=1),_&&(c=y+n*(v()/2+i),o+=h)},d;h<=s.length;)if(d=u(),d)return d.v;return[]}function cB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function as(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(t),!0).forEach(function(r){A_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function A_e(n,e,t){return(e=k_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k_e(n){var e=R_e(n,"string");return typeof e=="symbol"?e:e+""}function R_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function L_e(n,e,t,r,i){for(var s=(r||[]).slice(),l=s.length,{start:a}=e,{end:o}=e,h=function(d){var f=s[d],p,m=()=>(p===void 0&&(p=t(f,d)),p);if(d===l-1){var g=n*(f.coordinate+n*m()/2-o);s[d]=f=as(as({},f),{},{tickCoord:g>0?f.coordinate-g*n:f.coordinate})}else s[d]=f=as(as({},f),{},{tickCoord:f.coordinate});var v=fb(n,f.tickCoord,m,a,o);v&&(o=f.tickCoord-n*(m()/2+i),s[d]=as(as({},f),{},{isShow:!0}))},c=l-1;c>=0;c--)h(c);return s}function P_e(n,e,t,r,i,s){var l=(r||[]).slice(),a=l.length,{start:o,end:h}=e;if(s){var c=r[a-1],u=t(c,a-1),d=n*(c.coordinate+n*u/2-h);l[a-1]=c=as(as({},c),{},{tickCoord:d>0?c.coordinate-d*n:c.coordinate});var f=fb(n,c.tickCoord,()=>u,o,h);f&&(h=c.tickCoord-n*(u/2+i),l[a-1]=as(as({},c),{},{isShow:!0}))}for(var p=s?a-1:a,m=function(y){var _=l[y],w,C=()=>(w===void 0&&(w=t(_,y)),w);if(y===0){var b=n*(_.coordinate-n*C()/2-o);l[y]=_=as(as({},_),{},{tickCoord:b<0?_.coordinate-b*n:_.coordinate})}else l[y]=_=as(as({},_),{},{tickCoord:_.coordinate});var T=fb(n,_.tickCoord,C,o,h);T&&(o=_.tickCoord+n*(C()/2+i),l[y]=as(as({},_),{},{isShow:!0}))},g=0;g<p;g++)m(g);return l}function QR(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:a,interval:o,tickFormatter:h,unit:c,angle:u}=n;if(!i||!i.length||!r)return[];if(Pt(o)||of.isSsr){var d;return(d=M_e(i,Pt(o)?o:0))!==null&&d!==void 0?d:[]}var f=[],p=a==="top"||a==="bottom"?"width":"height",m=c&&p==="width"?fv(c,{fontSize:e,letterSpacing:t}):{width:0,height:0},g=(_,w)=>{var C=typeof h=="function"?h(_.value,w):_.value;return p==="width"?C_e(fv(C,{fontSize:e,letterSpacing:t}),m,u):fv(C,{fontSize:e,letterSpacing:t})[p]},v=i.length>=2?Oi(i[1].coordinate-i[0].coordinate):1,y=E_e(s,v,p);return o==="equidistantPreserveStart"?T_e(v,y,g,i,l):(o==="preserveStart"||o==="preserveStartEnd"?f=P_e(v,y,g,i,l,o==="preserveStartEnd"):f=L_e(v,y,g,i,l),f.filter(_=>_.isShow))}var O_e=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,l=0;if(e){Array.from(e).forEach(c=>{if(c){var u=c.getBoundingClientRect();u.width>l&&(l=u.width)}});var a=t?t.getBoundingClientRect().width:0,o=i+s,h=l+o+a+(t?r:0);return Math.round(h)}return 0},I_e=["axisLine","width","height","className","hide","ticks"],D_e=["viewBox"],N_e=["viewBox"];function mT(n,e){if(n==null)return{};var t,r,i=B_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function B_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Jd(){return Jd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jd.apply(null,arguments)}function uB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(t),!0).forEach(function(r){F_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function F_e(n,e,t){return(e=$_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $_e(n){var e=z_e(n,"string");return typeof e=="symbol"?e:e+""}function z_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var e2={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function U_e(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:l,axisLine:a,otherSvgProps:o}=n;if(!a)return null;var h=yi(yi(yi({},o),Ka(a)),{},{fill:"none"});if(s==="top"||s==="bottom"){var c=+(s==="top"&&!l||s==="bottom"&&l);h=yi(yi({},h),{},{x1:e,y1:t+c*i,x2:e+r,y2:t+c*i})}else{var u=+(s==="left"&&!l||s==="right"&&l);h=yi(yi({},h),{},{x1:e+u*r,y1:t,x2:e+u*r,y2:t+i})}return G.createElement("line",Jd({},h,{className:Hn("recharts-cartesian-axis-line",Gd(a,"className"))}))}function j_e(n,e,t,r,i,s,l,a,o){var h,c,u,d,f,p,m=a?-1:1,g=n.tickSize||l,v=Pt(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":h=c=n.coordinate,d=t+ +!a*i,u=d-m*g,p=u-m*o,f=v;break;case"left":u=d=n.coordinate,c=e+ +!a*r,h=c-m*g,f=h-m*o,p=v;break;case"right":u=d=n.coordinate,c=e+ +a*r,h=c+m*g,f=h+m*o,p=v;break;default:h=c=n.coordinate,d=t+ +a*i,u=d+m*g,p=u+m*o,f=v;break}return{line:{x1:h,y1:u,x2:c,y2:d},tick:{x:f,y:p}}}function H_e(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function W_e(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function V_e(n){var{option:e,tickProps:t,value:r}=n,i,s=Hn(t.className,"recharts-cartesian-axis-tick-value");if(G.isValidElement(e))i=G.cloneElement(e,yi(yi({},t),{},{className:s}));else if(typeof e=="function")i=e(yi(yi({},t),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Hn(l,e?.className)),i=G.createElement(Ew,Jd({},t,{className:l}),r)}return i}function G_e(n){var{ticks:e=[],tick:t,tickLine:r,stroke:i,tickFormatter:s,unit:l,padding:a,tickTextProps:o,orientation:h,mirror:c,x:u,y:d,width:f,height:p,tickSize:m,tickMargin:g,fontSize:v,letterSpacing:y,getTicksConfig:_,events:w}=n,C=QR(yi(yi({},_),{},{ticks:e}),v,y),b=H_e(h,c),T=W_e(h,c),A=Ka(_),k=zv(t),P={};typeof r=="object"&&(P=r);var N=yi(yi({},A),{},{fill:"none"},P),D=C.map((L,I)=>{var{line:O,tick:F}=j_e(L,u,d,f,p,h,m,c,g),H=yi(yi(yi(yi({textAnchor:b,verticalAnchor:T},A),{},{stroke:"none",fill:i},k),F),{},{index:I,payload:L,visibleTicksCount:C.length,tickFormatter:s,padding:a},o);return G.createElement(eo,Jd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},My(w,L,I)),r&&G.createElement("line",Jd({},N,O,{className:Hn("recharts-cartesian-axis-tick-line",Gd(r,"className"))})),t&&G.createElement(V_e,{option:t,tickProps:H,value:"".concat(typeof s=="function"?s(L.value,I):L.value).concat(l||"")}))});return D.length>0?G.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var K_e=G.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:l,ticks:a}=n,o=mT(n,I_e),[h,c]=G.useState(""),[u,d]=G.useState(""),f=G.useRef(null);G.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var m;return O_e({ticks:f.current,label:(m=n.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var p=G.useCallback(m=>{if(m){var g=m.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=g;var v=g[0];if(v){var y=window.getComputedStyle(v),_=y.fontSize,w=y.letterSpacing;(_!==h||w!==u)&&(c(_),d(w))}}},[h,u]);return l||r!=null&&r<=0||i!=null&&i<=0?null:G.createElement(eo,{className:Hn("recharts-cartesian-axis",s),ref:p},G.createElement(U_e,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Ka(n)}),G.createElement(G_e,{ticks:a,tick:n.tick,tickLine:n.tickLine,stroke:n.stroke,tickFormatter:n.tickFormatter,unit:n.unit,padding:n.padding,tickTextProps:n.tickTextProps,orientation:n.orientation,mirror:n.mirror,x:n.x,y:n.y,width:n.width,height:n.height,tickSize:n.tickSize,tickMargin:n.tickMargin,fontSize:h,letterSpacing:u,getTicksConfig:n,events:o}),G.createElement(Yve,{x:n.x,y:n.y,width:n.width,height:n.height},G.createElement(oye,{label:n.label,labelRef:n.labelRef}),n.children))}),q_e=G.memo(K_e,(n,e)=>{var{viewBox:t}=n,r=mT(n,D_e),{viewBox:i}=e,s=mT(e,N_e);return sg(t,i)&&sg(r,s)}),t2=G.forwardRef((n,e)=>{var t=Is(n,e2);return G.createElement(q_e,Jd({},t,{ref:e}))});t2.displayName="CartesianAxis";var X_e=["x1","y1","x2","y2","key"],Y_e=["offset"],Z_e=["xAxisId","yAxisId"],J_e=["xAxisId","yAxisId"];function hB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ls(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(t),!0).forEach(function(r){Q_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Q_e(n,e,t){return(e=ebe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ebe(n){var e=tbe(n,"string");return typeof e=="symbol"?e:e+""}function tbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ld.apply(null,arguments)}function pb(n,e){if(n==null)return{};var t,r,i=nbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function nbe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var rbe=n=>{var{fill:e}=n;if(!e||e==="none")return null;var{fillOpacity:t,x:r,y:i,width:s,height:l,ry:a}=n;return G.createElement("rect",{x:r,y:i,ry:a,width:s,height:l,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function s6(n,e){var t;if(G.isValidElement(n))t=G.cloneElement(n,e);else if(typeof n=="function")t=n(e);else{var{x1:r,y1:i,x2:s,y2:l,key:a}=e,o=pb(e,X_e),h=Ka(o),{offset:c}=h,u=pb(h,Y_e);t=G.createElement("line",Ld({},u,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:a}))}return t}function ibe(n){var{x:e,width:t,horizontal:r=!0,horizontalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=n,a=pb(n,Z_e),o=i.map((h,c)=>{var u=ls(ls({},a),{},{x1:e,y1:h,x2:e+t,y2:h,key:"line-".concat(c),index:c});return s6(r,u)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function sbe(n){var{y:e,height:t,vertical:r=!0,verticalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=n,a=pb(n,J_e),o=i.map((h,c)=>{var u=ls(ls({},a),{},{x1:h,y1:e,x2:h,y2:e+t,key:"line-".concat(c),index:c});return s6(r,u)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function obe(n){var{horizontalFill:e,fillOpacity:t,x:r,y:i,width:s,height:l,horizontalPoints:a,horizontal:o=!0}=n;if(!o||!e||!e.length)return null;var h=a.map(u=>Math.round(u+i-i)).sort((u,d)=>u-d);i!==h[0]&&h.unshift(0);var c=h.map((u,d)=>{var f=!h[d+1],p=f?i+l-u:h[d+1]-u;if(p<=0)return null;var m=d%e.length;return G.createElement("rect",{key:"react-".concat(d),y:u,x:r,height:p,width:s,stroke:"none",fill:e[m],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function abe(n){var{vertical:e=!0,verticalFill:t,fillOpacity:r,x:i,y:s,width:l,height:a,verticalPoints:o}=n;if(!e||!t||!t.length)return null;var h=o.map(u=>Math.round(u+i-i)).sort((u,d)=>u-d);i!==h[0]&&h.unshift(0);var c=h.map((u,d)=>{var f=!h[d+1],p=f?i+l-u:h[d+1]-u;if(p<=0)return null;var m=d%t.length;return G.createElement("rect",{key:"react-".concat(d),x:u,y:s,width:p,height:a,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var lbe=(n,e)=>{var{xAxis:t,width:r,height:i,offset:s}=n;return ZU(QR(ls(ls(ls({},e2),t),{},{ticks:JU(t),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},cbe=(n,e)=>{var{yAxis:t,width:r,height:i,offset:s}=n;return ZU(QR(ls(ls(ls({},e2),t),{},{ticks:JU(t),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},ube={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function o6(n){var e=kk(),t=Rk(),r=sj(),i=ls(ls({},Is(n,ube)),{},{x:Pt(n.x)?n.x:r.left,y:Pt(n.y)?n.y:r.top,width:Pt(n.width)?n.width:r.width,height:Pt(n.height)?n.height:r.height}),{xAxisId:s,yAxisId:l,x:a,y:o,width:h,height:c,syncWithTicks:u,horizontalValues:d,verticalValues:f}=i,p=To(),m=Rt(k=>u3(k,"xAxis",s,p)),g=Rt(k=>u3(k,"yAxis",l,p));if(!Pt(h)||h<=0||!Pt(c)||c<=0||!Pt(a)||a!==+a||!Pt(o)||o!==+o)return null;var v=i.verticalCoordinatesGenerator||lbe,y=i.horizontalCoordinatesGenerator||cbe,{horizontalPoints:_,verticalPoints:w}=i;if((!_||!_.length)&&typeof y=="function"){var C=d&&d.length,b=y({yAxis:g?ls(ls({},g),{},{ticks:C?d:g.ticks}):void 0,width:e,height:t,offset:r},C?!0:u);G_(Array.isArray(b),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof b,"]")),Array.isArray(b)&&(_=b)}if((!w||!w.length)&&typeof v=="function"){var T=f&&f.length,A=v({xAxis:m?ls(ls({},m),{},{ticks:T?f:m.ticks}):void 0,width:e,height:t,offset:r},T?!0:u);G_(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(rbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),G.createElement(obe,Ld({},i,{horizontalPoints:_})),G.createElement(abe,Ld({},i,{verticalPoints:w})),G.createElement(ibe,Ld({},i,{offset:r,horizontalPoints:_,xAxis:m,yAxis:g})),G.createElement(sbe,Ld({},i,{offset:r,verticalPoints:w,xAxis:m,yAxis:g})))}o6.displayName="CartesianGrid";var hbe=["dangerouslySetInnerHTML","ticks"],dbe=["id"],fbe=["domain"],pbe=["domain"];function vT(){return vT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vT.apply(null,arguments)}function gb(n,e){if(n==null)return{};var t,r,i=gbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gbe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function mbe(n){var e=yr();return G.useLayoutEffect(()=>(e(G0e(n)),()=>{e(K0e(n))}),[n,e]),null}var vbe=n=>{var{xAxisId:e,className:t}=n,r=Rt(Tk),i=To(),s="xAxis",l=Rt(g=>Eg(g,s,e,i)),a=Rt(g=>qH(g,s,e,i)),o=Rt(g=>WH(g,e)),h=Rt(g=>Lge(g,e)),c=Rt(g=>EH(g,e));if(o==null||h==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:d}=n,f=gb(n,hbe),{id:p}=c,m=gb(c,dbe);return G.createElement(t2,vT({},f,m,{scale:l,x:h.x,y:h.y,width:o.width,height:o.height,className:Hn("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:a}))},ybe={allowDataOverflow:vo.allowDataOverflow,allowDecimals:vo.allowDecimals,allowDuplicatedCategory:vo.allowDuplicatedCategory,height:vo.height,hide:!1,mirror:vo.mirror,orientation:vo.orientation,padding:vo.padding,reversed:vo.reversed,scale:vo.scale,tickCount:vo.tickCount,type:vo.type,xAxisId:0},xbe=n=>{var e,t,r,i,s,l=Is(n,ybe);return G.createElement(G.Fragment,null,G.createElement(mbe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(t=l.includeHidden)!==null&&t!==void 0?t:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),G.createElement(vbe,l))},_be=(n,e)=>{var{domain:t}=n,r=gb(n,fbe),{domain:i}=e,s=gb(e,pbe);return sg(r,s)?Array.isArray(t)&&t.length===2&&Array.isArray(i)&&i.length===2?t[0]===i[0]&&t[1]===i[1]:sg({domain:t},{domain:i}):!1},a6=G.memo(xbe,_be);a6.displayName="XAxis";var bbe=["dangerouslySetInnerHTML","ticks"],wbe=["id"],Sbe=["domain"],Cbe=["domain"];function yT(){return yT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yT.apply(null,arguments)}function mb(n,e){if(n==null)return{};var t,r,i=Ebe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Ebe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Mbe(n){var e=yr();return G.useLayoutEffect(()=>(e(q0e(n)),()=>{e(X0e(n))}),[n,e]),null}var Tbe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=G.useRef(null),l=G.useRef(null),a=Rt(Tk),o=To(),h=yr(),c="yAxis",u=Rt(C=>Eg(C,c,e,o)),d=Rt(C=>VH(C,e)),f=Rt(C=>Oge(C,e)),p=Rt(C=>qH(C,c,e,o)),m=Rt(C=>MH(C,e));if(G.useLayoutEffect(()=>{if(!(r!=="auto"||!d||HR(i)||G.isValidElement(i)||m==null)){var C=s.current;if(C){var b=C.getCalculatedWidth();Math.round(d.width)!==Math.round(b)&&h(Y0e({id:e,width:b}))}}},[p,d,h,i,e,r,m]),d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=n,y=mb(n,bbe),{id:_}=m,w=mb(m,wbe);return G.createElement(t2,yT({},y,w,{ref:s,labelRef:l,scale:u,x:f.x,y:f.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:Hn("recharts-".concat(c," ").concat(c),t),viewBox:a,ticks:p}))},Abe={allowDataOverflow:yo.allowDataOverflow,allowDecimals:yo.allowDecimals,allowDuplicatedCategory:yo.allowDuplicatedCategory,hide:!1,mirror:yo.mirror,orientation:yo.orientation,padding:yo.padding,reversed:yo.reversed,scale:yo.scale,tickCount:yo.tickCount,type:yo.type,width:yo.width,yAxisId:0},kbe=n=>{var e,t,r,i,s,l=Is(n,Abe);return G.createElement(G.Fragment,null,G.createElement(Mbe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(t=l.includeHidden)!==null&&t!==void 0?t:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),G.createElement(Tbe,l))},Rbe=(n,e)=>{var{domain:t}=n,r=mb(n,Sbe),{domain:i}=e,s=mb(e,Cbe);return sg(r,s)?Array.isArray(t)&&t.length===2&&Array.isArray(i)&&i.length===2?t[0]===i[0]&&t[1]===i[1]:sg({domain:t},{domain:i}):!1},l6=G.memo(kbe,Rbe);l6.displayName="YAxis";var KC={exports:{}},qC={};var dB;function Lbe(){if(dB)return qC;dB=1;var n=Ll();function e(o,h){return o===h&&(o!==0||1/o===1/h)||o!==o&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,l=n.useMemo,a=n.useDebugValue;return qC.useSyncExternalStoreWithSelector=function(o,h,c,u,d){var f=i(null);if(f.current===null){var p={hasValue:!1,value:null};f.current=p}else p=f.current;f=l(function(){function g(C){if(!v){if(v=!0,y=C,C=u(C),d!==void 0&&p.hasValue){var b=p.value;if(d(b,C))return _=b}return _=C}if(b=_,t(y,C))return b;var T=u(C);return d!==void 0&&d(b,T)?(y=C,b):(y=C,_=T)}var v=!1,y,_,w=c===void 0?null:c;return[function(){return g(h())},w===null?void 0:function(){return g(w())}]},[h,c,u,d]);var m=r(o,f[0],f[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},qC}var fB;function Pbe(){return fB||(fB=1,KC.exports=Lbe()),KC.exports}Pbe();function Obe(n){n()}function Ibe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Obe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var pB={notify(){},get:()=>[]};function Dbe(n,e){let t,r=pB,i=0,s=!1;function l(m){c();const g=r.subscribe(m);let v=!1;return()=>{v||(v=!0,g(),u())}}function a(){r.notify()}function o(){p.onStateChange&&p.onStateChange()}function h(){return s}function c(){i++,t||(t=n.subscribe(o),r=Ibe())}function u(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=pB)}function d(){s||(s=!0,c())}function f(){s&&(s=!1,u())}const p={addNestedSub:l,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:h,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>r};return p}var Nbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bbe=Nbe(),Fbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$be=Fbe(),zbe=()=>Bbe||$be?G.useLayoutEffect:G.useEffect,Ube=zbe(),jbe=Symbol.for("react-redux-context"),Hbe=typeof globalThis<"u"?globalThis:{};function Wbe(){if(!G.createContext)return{};const n=Hbe[jbe]??=new Map;let e=n.get(G.createContext);return e||(e=G.createContext(null),n.set(G.createContext,e)),e}var Vbe=Wbe();function Gbe(n){const{children:e,context:t,serverState:r,store:i}=n,s=G.useMemo(()=>{const o=Dbe(i);return{store:i,subscription:o,getServerState:r?()=>r:void 0}},[i,r]),l=G.useMemo(()=>i.getState(),[i]);Ube(()=>{const{subscription:o}=s;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),l!==i.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[s,l]);const a=t||Vbe;return G.createElement(a.Provider,{value:s},e)}var Kbe=Gbe,qbe=(n,e)=>e,n2=De([qbe,Ln,wH,Si,hW,eu,Bme,bi],jme),r2=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},c6=sa("mouseClick"),u6=Ay();u6.startListening({actionCreator:c6,effect:(n,e)=>{var t=n.payload,r=n2(e.getState(),r2(t));r?.activeIndex!=null&&e.dispatch(Gge({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var xT=sa("mouseMove"),h6=Ay();h6.startListening({actionCreator:xT,effect:(n,e)=>{var t=n.payload,r=e.getState(),i=IR(r,r.tooltip.settings.shared),s=n2(r,r2(t));i==="axis"&&(s?.activeIndex!=null?e.dispatch(nW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(tW()))}});var gB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},d6=Mo({name:"rootProps",initialState:gB,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:gB.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className}}}),Xbe=d6.reducer,{updateOptions:Ybe}=d6.actions,f6=Mo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:Zbe}=f6.actions,Jbe=f6.reducer,p6=sa("keyDown"),g6=sa("focus"),i2=Ay();i2.startListening({actionCreator:p6,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(DR(i,Tg(t))),a=eu(t);if(s==="Enter"){var o=lb(t,"axis","hover",String(i.index));e.dispatch(hT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:o}));return}var h=Bge(t),c=h==="left-to-right"?1:-1,u=s==="ArrowRight"?1:-1,d=l+u*c;if(!(a==null||d>=a.length||d<0)){var f=lb(t,"axis","hover",String(d));e.dispatch(hT({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});i2.startListening({actionCreator:g6,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",l=lb(t,"axis","hover",String(s));e.dispatch(hT({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var qo=sa("externalEvent"),m6=Ay();m6.startListening({actionCreator:qo,effect:(n,e)=>{if(n.payload.handler!=null){var t=e.getState(),r={activeCoordinate:Ame(t),activeDataKey:gW(t),activeIndex:Zd(t),activeLabel:pW(t),activeTooltipIndex:Zd(t),isTooltipActive:kme(t)};n.payload.handler(r,n.payload.reactEvent)}}});var Qbe=De([Mg],n=>n.tooltipItemPayloads),ewe=De([Qbe,$y,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,t);return l}}}),v6=sa("touchMove"),y6=Ay();y6.startListening({actionCreator:v6,effect:(n,e)=>{var t=n.payload,r=e.getState(),i=IR(r,r.tooltip.settings.shared);if(i==="axis"){var s=n2(r,r2({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(nW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,a=t.touches[0],o=document.elementFromPoint(a.clientX,a.clientY);if(!o||!o.getAttribute)return;var h=o.getAttribute(ej),c=(l=o.getAttribute(tj))!==null&&l!==void 0?l:void 0,u=ewe(e.getState(),h,c);e.dispatch(eW({activeDataKey:c,activeIndex:h,activeCoordinate:u}))}}});var twe=CU({brush:p_e,cartesianAxis:Z0e,chartData:ive,errorBars:hxe,graphicalItems:g0e,layout:mce,legend:wue,options:Qme,polarAxis:Aye,polarOptions:Jbe,referenceElements:b_e,rootProps:Xbe,tooltip:Kge}),nwe=function(e){return zle({reducer:twe,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([u6.middleware,h6.middleware,i2.middleware,m6.middleware,y6.middleware]),enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(NU({type:"raf"}))},devTools:of.devToolsEnabled})};function x6(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=To(),s=G.useRef(null);if(i)return t;s.current==null&&(s.current=nwe(e));var l=_k;return G.createElement(Kbe,{context:l,store:s.current},t)}function _6(n){var{layout:e,margin:t}=n,r=yr(),i=To();return G.useEffect(()=>{i||(r(fce(e)),r(dce(t)))},[r,i,e,t]),null}function b6(n){var e=yr();return G.useEffect(()=>{e(Ybe(n))},[e,n]),null}var rwe=["children"];function iwe(n,e){if(n==null)return{};var t,r,i=swe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function swe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function vb(){return vb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vb.apply(null,arguments)}var owe={width:"100%",height:"100%",display:"block"},awe=G.forwardRef((n,e)=>{var t=kk(),r=Rk(),i=cj();if(!Jp(t)||!Jp(r))return null;var{children:s,otherAttributes:l,title:a,desc:o}=n,h,c;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?c=l.role:c=i?"application":void 0,G.createElement(ck,vb({},l,{title:a,desc:o,role:c,tabIndex:h,width:t,height:r,style:owe,ref:e}),s)}),lwe=n=>{var{children:e}=n,t=Rt(nw);if(!t)return null;var{width:r,height:i,y:s,x:l}=t;return G.createElement(ck,{width:r,height:i,x:l,y:s},e)},mB=G.forwardRef((n,e)=>{var{children:t}=n,r=iwe(n,rwe),i=To();return i?G.createElement(lwe,null,t):G.createElement(awe,vb({ref:e},r),t)});function cwe(){var n=yr(),[e,t]=G.useState(null),r=Rt(Vce);return G.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;fs(s)&&s!==r&&n(gce(s))}},[e,n,r]),t}function vB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uwe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(t),!0).forEach(function(r){hwe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hwe(n,e,t){return(e=dwe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dwe(n){var e=fwe(n,"string");return typeof e=="symbol"?e:e+""}function fwe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qd.apply(null,arguments)}var pwe=()=>(fve(),null);function yb(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var gwe=G.forwardRef((n,e)=>{var t,r,i=G.useRef(null),[s,l]=G.useState({containerWidth:yb((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:yb((r=n.style)===null||r===void 0?void 0:r.height)}),a=G.useCallback((h,c)=>{l(u=>{var d=Math.round(h),f=Math.round(c);return u.containerWidth===d&&u.containerHeight===f?u:{containerWidth:d,containerHeight:f}})},[]),o=G.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:c,height:u}=h.getBoundingClientRect();a(c,u);var d=p=>{var{width:m,height:g}=p[0].contentRect;a(m,g)},f=new ResizeObserver(d);f.observe(h),i.current=f}},[e,a]);return G.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[a]),G.createElement(G.Fragment,null,G.createElement(iw,{width:s.containerWidth,height:s.containerHeight}),G.createElement("div",Qd({ref:o},n)))}),mwe=G.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=G.useState({containerWidth:yb(t),containerHeight:yb(r)}),l=G.useCallback((o,h)=>{s(c=>{var u=Math.round(o),d=Math.round(h);return c.containerWidth===u&&c.containerHeight===d?c:{containerWidth:u,containerHeight:d}})},[]),a=G.useCallback(o=>{if(typeof e=="function"&&e(o),o!=null){var{width:h,height:c}=o.getBoundingClientRect();l(h,c)}},[e,l]);return G.createElement(G.Fragment,null,G.createElement(iw,{width:i.containerWidth,height:i.containerHeight}),G.createElement("div",Qd({ref:a},n)))}),vwe=G.forwardRef((n,e)=>{var{width:t,height:r}=n;return G.createElement(G.Fragment,null,G.createElement(iw,{width:t,height:r}),G.createElement("div",Qd({ref:e},n)))}),ywe=G.forwardRef((n,e)=>{var{width:t,height:r}=n;return Uc(t)||Uc(r)?G.createElement(mwe,Qd({},n,{ref:e})):G.createElement(vwe,Qd({},n,{ref:e}))});function xwe(n){return n===!0?gwe:ywe}var _we=G.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:a,onMouseDown:o,onMouseEnter:h,onMouseLeave:c,onMouseMove:u,onMouseUp:d,onTouchEnd:f,onTouchMove:p,onTouchStart:m,style:g,width:v,responsive:y,dispatchTouchEvents:_=!0}=n,w=G.useRef(null),C=yr(),[b,T]=G.useState(null),[A,k]=G.useState(null),P=cwe(),N=Ak(),D=N?.width>0?N.width:v,L=N?.height>0?N.height:i,I=G.useCallback(se=>{P(se),typeof e=="function"&&e(se),T(se),k(se),se!=null&&(w.current=se)},[P,e,T,k]),O=G.useCallback(se=>{C(c6(se)),C(qo({handler:s,reactEvent:se}))},[C,s]),F=G.useCallback(se=>{C(xT(se)),C(qo({handler:h,reactEvent:se}))},[C,h]),H=G.useCallback(se=>{C(tW()),C(qo({handler:c,reactEvent:se}))},[C,c]),j=G.useCallback(se=>{C(xT(se)),C(qo({handler:u,reactEvent:se}))},[C,u]),z=G.useCallback(()=>{C(g6())},[C]),W=G.useCallback(se=>{C(p6(se.key))},[C]),K=G.useCallback(se=>{C(qo({handler:l,reactEvent:se}))},[C,l]),X=G.useCallback(se=>{C(qo({handler:a,reactEvent:se}))},[C,a]),J=G.useCallback(se=>{C(qo({handler:o,reactEvent:se}))},[C,o]),te=G.useCallback(se=>{C(qo({handler:d,reactEvent:se}))},[C,d]),re=G.useCallback(se=>{C(qo({handler:m,reactEvent:se}))},[C,m]),ae=G.useCallback(se=>{_&&C(v6(se)),C(qo({handler:p,reactEvent:se}))},[C,_,p]),ie=G.useCallback(se=>{C(qo({handler:f,reactEvent:se}))},[C,f]),Q=xwe(y);return G.createElement(bW.Provider,{value:b},G.createElement(j5.Provider,{value:A},G.createElement(Q,{width:D??g?.width,height:L??g?.height,className:Hn("recharts-wrapper",r),style:uwe({position:"relative",cursor:"default",width:D,height:L},g),onClick:O,onContextMenu:K,onDoubleClick:X,onFocus:z,onKeyDown:W,onMouseDown:J,onMouseEnter:F,onMouseLeave:H,onMouseMove:j,onMouseUp:te,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:I},G.createElement(pwe,null),t)))}),bwe=["width","height","responsive","children","className","style","compact","title","desc"];function wwe(n,e){if(n==null)return{};var t,r,i=Swe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Swe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var w6=G.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:l,style:a,compact:o,title:h,desc:c}=n,u=wwe(n,bwe),d=Ka(u);return o?G.createElement(G.Fragment,null,G.createElement(iw,{width:t,height:r}),G.createElement(mB,{otherAttributes:d,title:h,desc:c},s)):G.createElement(_we,{className:l,style:a,width:t,height:r,responsive:i,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},G.createElement(mB,{otherAttributes:d,title:h,desc:c,ref:e},G.createElement(S_e,null,s)))});function _T(){return _T=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_T.apply(null,arguments)}var Cwe={top:5,right:5,bottom:5,left:5},Ewe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cwe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Mwe=G.forwardRef(function(e,t){var r,i=Is(e.categoricalChartProps,Ewe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:a,tooltipPayloadSearcher:o,categoricalChartProps:h}=e,c={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:a,tooltipPayloadSearcher:o,eventEmitter:void 0};return G.createElement(x6,{preloadedState:{options:c},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},G.createElement(t6,{chartData:h.data}),G.createElement(_6,{layout:i.layout,margin:i.margin}),G.createElement(b6,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),G.createElement(w6,_T({},i,{ref:t})))}),Twe=["axis","item"],Awe=G.forwardRef((n,e)=>G.createElement(Mwe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Twe,tooltipPayloadSearcher:wW,categoricalChartProps:n,ref:e}));function kwe(n){var e=yr();return G.useEffect(()=>{e(Zbe(n))},[e,n]),null}var Rwe=["layout"];function bT(){return bT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bT.apply(null,arguments)}function Lwe(n,e){if(n==null)return{};var t,r,i=Pwe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Pwe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Owe={top:5,right:5,bottom:5,left:5},Iwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Owe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Dwe=G.forwardRef(function(e,t){var r,i=Is(e.categoricalChartProps,Iwe),{layout:s}=i,l=Lwe(i,Rwe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:h,tooltipPayloadSearcher:c}=e,u={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:h,tooltipPayloadSearcher:c,eventEmitter:void 0};return G.createElement(x6,{preloadedState:{options:u},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},G.createElement(t6,{chartData:i.data}),G.createElement(_6,{layout:s,margin:i.margin}),G.createElement(b6,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),G.createElement(kwe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),G.createElement(w6,bT({},l,{ref:t})))}),Nwe=["item"],Bwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Fwe=G.forwardRef((n,e)=>{var t=Is(n,Bwe);return G.createElement(Dwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nwe,tooltipPayloadSearcher:wW,categoricalChartProps:t,ref:e})});const Zn="http://16.170.212.41.nip.io:3000/api",Zm="http://16.170.212.41.nip.io:3000",S6=G.createContext(),$we=({children:n})=>{const[e,t]=G.useState(null),[r,i]=G.useState(!0),s=Il(),l=async()=>{try{const o=await fetch(`${Zn}/user/get-profile`,{method:"GET",credentials:"include"});if(o.ok){const h=await o.json();t(h.user)}else t(null)}catch{t(null)}finally{i(!1)}};G.useEffect(()=>{l()},[]);const a=async()=>{try{await fetch(`${Zn}/user/logout`,{method:"POST",credentials:"include"}),s("/")}catch{}t(null)};return U.jsx(S6.Provider,{value:{user:e,setUser:t,loading:r,logout:a,fetchUser:l},children:n})},tu=()=>G.useContext(S6),zwe=({projects:n})=>{const[e,t]=G.useState([]);return G.useEffect(()=>{const r={};n.forEach(s=>{s.conceptsLearned&&Array.isArray(s.conceptsLearned)&&s.conceptsLearned.forEach(l=>{r[l]=(r[l]||0)+1})});const i=Object.entries(r).map(([s,l])=>({concept:s,count:l}));t(i)},[n]),e.length===0?null:U.jsxs("div",{className:"mb-10",children:[U.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[U.jsx(A5,{className:"text-cyan-400",size:24}),U.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:"Concepts Mastered"})]}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((r,i)=>U.jsxs("div",{className:"bg-[#111827] border border-[#374151] rounded-lg p-4 hover:shadow-cyan-500/20 transition",children:[U.jsxs("div",{className:"flex items-center justify-between mb-2",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(x5,{size:16,className:"text-yellow-400"}),U.jsx("h3",{className:"text-sm font-semibold text-white",children:r.concept})]}),U.jsxs("span",{className:"text-xs bg-cyan-500/20 text-cyan-400 px-2 py-1 rounded-full",children:[r.count," project",r.count>1?"s":""]})]}),U.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:U.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-purple-500 h-full transition-all duration-500",style:{width:`${Math.min(r.count/n.length*100,100)}%`}})})]},i))})]})},Uwe=()=>{const{user:n,loading:e}=tu(),[t,r]=G.useState([]),[i,s]=G.useState(!0),l=async()=>{try{const c=await fetch(`${Zn}/user-projects`,{method:"GET",credentials:"include"});if(c.ok){const u=await c.json();r(u)}}catch(c){console.error("Error fetching projects",c)}finally{s(!1)}};G.useEffect(()=>{l()},[]);const a=({className:c})=>U.jsx("div",{className:`animate-pulse bg-gray-700/40 rounded-md ${c}`});if(e||i)return U.jsxs("div",{className:"p-8 py-20 min-h-screen bg-[#0A0F1C] text-[#F9FAFB]",children:[U.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[U.jsx(a,{className:"w-12 h-12 rounded-full"}),U.jsxs("div",{children:[U.jsx(a,{className:"w-40 h-6 mb-2"}),U.jsx(a,{className:"w-64 h-4"})]})]}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:Array(3).fill().map((c,u)=>U.jsxs("div",{className:"bg-[#111827] border border-[#374151] shadow-xl p-4 rounded-lg",children:[U.jsx(a,{className:"w-32 h-5 mb-3"}),U.jsx(a,{className:"w-16 h-8"})]},u))}),U.jsx("div",{className:"overflow-x-auto mb-10",children:U.jsxs("table",{className:"table w-full bg-[#111827] border border-[#374151] shadow-xl rounded-lg",children:[U.jsx("thead",{className:"bg-gradient-to-r from-cyan-900 via-indigo-700 to-pink-900",children:U.jsxs("tr",{className:"text-cyan-300",children:[U.jsx("th",{children:"S.No"}),U.jsx("th",{children:"Project Name"}),U.jsx("th",{children:"Difficulty"}),U.jsx("th",{children:"Status"})]})}),U.jsx("tbody",{children:Array(5).fill().map((c,u)=>U.jsxs("tr",{className:"hover:bg-[#1f2937]/50",children:[U.jsx("td",{children:U.jsx(a,{className:"w-6 h-4"})}),U.jsx("td",{children:U.jsx(a,{className:"w-32 h-4"})}),U.jsx("td",{children:U.jsx(a,{className:"w-20 h-4"})}),U.jsx("td",{children:U.jsx(a,{className:"w-24 h-4"})})]},u))})]})}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array(2).fill().map((c,u)=>U.jsxs("div",{className:"bg-[#111827] border border-[#374151] shadow-xl p-4 rounded-lg",children:[U.jsx(a,{className:"w-48 h-5 mb-3"}),U.jsx(a,{className:"w-full h-[300px]"})]},u))})]});const o=[{name:"easy",value:t.filter(c=>c.project.difficulty==="easy").length},{name:"medium",value:t.filter(c=>c.project.difficulty==="medium").length},{name:"hard",value:t.filter(c=>c.project.difficulty==="hard").length}],h=["#22C55E","#EAB308","#EF4444"];return U.jsxs("div",{className:"p-8 py-20 min-h-screen bg-[#0A0F1C] text-[#F9FAFB]",children:[U.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[n.avatar?U.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-400"}):U.jsx("span",{className:"text-3xl",children:""}),U.jsxs("div",{children:[U.jsx("h1",{className:"text-4xl font-bold mb-1 bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent drop-shadow-md",children:"Dashboard"}),U.jsxs("p",{className:"text-lg",children:["Welcome,"," ",U.jsx("span",{className:"font-semibold text-pink-400",children:n.name||n.username})," ","| ",U.jsx("span",{className:"text-gray-400",children:n.email})]})]})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[U.jsxs("div",{className:"card bg-[#111827] border border-[#374151] shadow-xl p-4 hover:shadow-cyan-500/30 transition",children:[U.jsx("h2",{className:"font-bold text-xl mb-2 text-cyan-400",children:"Total Projects"}),U.jsx("p",{className:"text-3xl",children:t.length})]}),U.jsxs("div",{className:"card bg-[#111827] border border-[#374151] shadow-xl p-4 hover:shadow-purple-500/30 transition",children:[U.jsx("h2",{className:"font-bold text-xl mb-2 text-purple-400",children:"Completed"}),U.jsx("p",{className:"text-3xl",children:t.filter(c=>c.status==="completed").length})]}),U.jsxs("div",{className:"card bg-[#111827] border border-[#374151] shadow-xl p-4 hover:shadow-pink-500/30 transition",children:[U.jsx("h2",{className:"font-bold text-xl mb-2 text-pink-400",children:"In Progress"}),U.jsx("p",{className:"text-3xl",children:t.filter(c=>c.status!=="completed").length})]})]}),U.jsx(zwe,{projects:t}),U.jsx("div",{className:"overflow-x-auto mb-10",children:U.jsxs("table",{className:"table w-full bg-[#111827] border border-[#374151] shadow-xl rounded-lg",children:[U.jsx("thead",{className:"bg-gradient-to-r from-cyan-900 via-indigo-700 to-pink-900",children:U.jsxs("tr",{className:"text-cyan-300",children:[U.jsx("th",{children:"S.No"}),U.jsx("th",{children:"Project Name"}),U.jsx("th",{children:"Difficulty"}),U.jsx("th",{children:"Tasks Progress"}),U.jsx("th",{children:"Concepts"}),U.jsx("th",{children:"Status"})]})}),U.jsx("tbody",{children:t.map((c,u)=>U.jsxs("tr",{className:"hover:bg-[#1f2937]/50",children:[U.jsx("td",{children:u+1}),U.jsx("td",{children:U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{children:c.project.title}),c.status==="completed"&&U.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#1e3a1e] border border-[#2d5a2d] rounded text-[10px] text-[#4caf50]",children:[U.jsx(TM,{size:10}),"Done"]})]})}),U.jsx("td",{children:U.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${c.project.difficulty==="easy"?"bg-green-600/30 text-green-400":c.project.difficulty==="medium"?"bg-yellow-600/30 text-yellow-400":"bg-red-600/30 text-red-400"}`,children:c.project.difficulty})}),U.jsx("td",{children:U.jsxs("div",{className:"flex flex-col gap-1",children:[U.jsxs("span",{className:"text-xs text-gray-400",children:[c.completedTasks?.length||0,"/",c.project.tasks?.length||8," tasks"]}),U.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:U.jsx("div",{className:"bg-cyan-500 h-full transition-all",style:{width:`${(c.completedTasks?.length||0)/(c.project.tasks?.length||1)*100}%`}})})]})}),U.jsx("td",{children:U.jsxs("span",{className:"text-sm text-purple-400",children:[c.conceptsLearned?.length||0," learned"]})}),U.jsx("td",{children:U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.status==="completed"?"#4caf50":"#ff9800"}}),U.jsx("span",{style:{textTransform:"capitalize"},children:c.status})]})})]},c._id))})]})}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"card bg-[#111827] border border-[#374151] shadow-xl p-4",children:[U.jsx("h2",{className:"font-bold text-xl mb-2 text-purple-400",children:"Completion Bar Chart"}),U.jsx(XD,{width:"100%",height:300,children:U.jsxs(Awe,{data:t.map((c,u)=>({id:u+1,completion:c.progress||(c.status==="completed"?100:0)})),children:[U.jsx(o6,{strokeDasharray:"3 3",stroke:"#374151"}),U.jsx(a6,{dataKey:"id"}),U.jsx(l6,{stroke:"#D1D5DB"}),U.jsx(C3,{contentStyle:{backgroundColor:"#111827",border:"1px solid #374151",color:"#F9FAFB"}}),U.jsx(QW,{dataKey:"completion",fill:"#06B6D4",radius:[6,6,0,0]})]})})]}),U.jsxs("div",{className:"card bg-[#111827] border border-[#374151] shadow-xl p-4",children:[U.jsx("h2",{className:"font-bold text-xl mb-2 text-cyan-400",children:"Projects by Difficulty"}),U.jsx(XD,{width:"100%",height:300,children:U.jsxs(Fwe,{children:[U.jsx(KW,{data:o,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:o.map((c,u)=>U.jsx(Uy,{fill:h[u]},`cell-${u}`))}),U.jsx(C3,{contentStyle:{backgroundColor:"white",border:"1px solid #374151",color:"#111827"}}),U.jsx(sw,{})]})})]})]})]})},jwe=()=>{const[n,e]=G.useState({email:"",password:""}),[t,r]=G.useState(!1),[i,s]=G.useState(!1),l=Il(),{setUser:a,user:o}=tu(),h=G.useRef(null);G.useEffect(()=>{o&&l("/")},[o,l]);const c=f=>{const{name:p,value:m}=f.target;e(g=>({...g,[p]:m}))},u=async f=>{f.preventDefault(),r(!0);try{const m=await fetch(`${Zn}${i?"/admin/login":"/user/login"}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),g=await m.json();m.ok?(en.success(" Login successful!"),a(g.user),setTimeout(()=>l("/"),1e3)):en.error(g.message||"Invalid credentials.")}catch(p){console.error("Login error:",p),en.error("Something went wrong. Please try again.")}finally{r(!1)}},d=()=>{window.location.href=`${Zn}/auth/google`};return U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#050B1A] via-[#0A0F1C] to-[#111827] px-4 py-24",children:U.jsxs("form",{onSubmit:u,className:"w-full max-w-md bg-[#0D1528]/80 backdrop-blur-xl border border-[#24324B] shadow-[0_0_40px_rgba(0,255,255,0.1)] rounded-3xl p-6 sm:p-8 text-gray-100 transition-transform duration-500 hover:scale-[1.02]","aria-describedby":"statusMessage",children:[U.jsxs("p",{className:"text-center text-gray-400 mb-6",children:["Admin?"," ",U.jsx(vi,{to:"/AdminLogin",className:"text-pink-400 hover:underline font-semibold",children:"Login here"})]}),U.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 drop-shadow-[0_0_10px_rgba(0,255,255,0.3)]",children:"Welcome Back "}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"email",className:"block text-sm text-gray-400 mb-2",children:"Email"}),U.jsx("input",{id:"email",type:"email",name:"email",value:n.email,onChange:c,placeholder:"Enter your email",autoComplete:"email",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400",required:!0,autoFocus:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{htmlFor:"password",className:"block text-sm text-gray-400 mb-2",children:"Password"}),U.jsx("input",{id:"password",type:"password",name:"password",value:n.password,onChange:c,placeholder:"Enter your password",autoComplete:"current-password",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400",required:!0})]}),U.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 rounded-xl font-semibold text-lg shadow-md transition-all duration-300 flex items-center justify-center ${t?"bg-gradient-to-r from-cyan-300 to-blue-300 text-black cursor-not-allowed":i?"bg-gradient-to-r from-purple-500 to-pink-500 hover:shadow-[0_0_25px_rgba(255,0,255,0.5)] text-white":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:shadow-[0_0_25px_rgba(0,255,255,0.5)] text-black"}`,children:t?i?"Logging in as Admin...":"Logging in...":i?"Admin Login":"Login"}),U.jsx("p",{id:"statusMessage",ref:h,className:"sr-only","aria-live":"polite",children:t?"Logging in...":""}),U.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",U.jsx(vi,{to:"/signup",className:"text-cyan-400 hover:underline",children:"Sign up"})]}),U.jsxs("div",{className:"relative my-6",children:[U.jsx("div",{className:"absolute inset-0 flex items-center",children:U.jsx("div",{className:"w-full border-t border-gray-700"})}),U.jsx("div",{className:"relative flex justify-center text-sm",children:U.jsx("span",{className:"bg-[#0D1528] px-2 text-gray-400",children:"OR"})})]}),U.jsxs("button",{type:"button",onClick:d,className:"w-full py-3 bg-white hover:bg-gray-100 text-black rounded-xl font-semibold text-lg shadow-md transition-all duration-300 flex items-center justify-center gap-2 hover:shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:[U.jsxs("svg",{className:"w-5 h-5","aria-hidden":"true",viewBox:"0 0 488 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[U.jsx("path",{d:"M488 261.8c0-17.8-1.6-35.6-4.9-52.8H249v99.9h134.7c-5.8 31.3-23.6 57.9-50.1 75.6v62h80.9c47.3-43.6 74.5-107.8 74.5-184.7z"}),U.jsx("path",{d:"M249 492c67 0 123.4-22.1 164.5-60.2l-80.9-62c-22.5 15-51.2 23.9-83.6 23.9-64.2 0-118.7-43.4-138.3-101.6H25v63.7C66.6 426.4 151.3 492 249 492z"}),U.jsx("path",{d:"M110.7 291.1c-4.7-13.9-7.4-28.7-7.4-44s2.7-30.1 7.4-44v-63.7H25C9 170.3 0 208 0 247.1s9 76.8 25 108.8l85.7-64.8z"}),U.jsx("path",{d:"M249 97.5c36.4 0 69 12.5 94.7 36.9l71.1-71.1C372.4 28.1 316 0 249 0 151.3 0 66.6 65.6 25 165.1l85.7 64.8C130.3 140.9 184.8 97.5 249 97.5z"})]}),U.jsx("span",{children:"Login with Google"})]})]})})},Hwe=()=>{const[n,e]=G.useState({username:"",email:"",password:""}),[t,r]=G.useState(!1),[i,s]=G.useState(""),[l,a]=G.useState(!1),[o,h]=G.useState(""),[c,u]=G.useState(!1),d=Il(),{setUser:f,user:p}=tu();G.useEffect(()=>{p&&d("/")},[p,d]);const m=w=>{const{name:C,value:b}=w.target;e(T=>({...T,[C]:b}))},g=async w=>{w.preventDefault(),r(!0),s("Signing up...");try{const b=await fetch(`${Zn}${c?"/admin/signup":"/user/signup"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),T=await b.json();b.ok?(en.success(" Signup successful! Check your email for OTP."),a(!0)):en.error(T.message||" Signup failed.")}catch(C){console.error("Signup error:",C),en.error(" Error signing up. Please try again.")}finally{r(!1)}},v=async()=>{if(!o)return s("Enter OTP");r(!0),s("Verifying OTP...");try{const C=await fetch(`${Zn}${c?"/admin/verifyOTP":"/user/verifyOTP"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,otp:o})}),b=await C.json();C.ok?(en.success(" Email verified! You can now log in."),a(!1),h(""),e({username:"",email:"",password:""}),d("/login")):en.error(b.message||" Invalid OTP.")}catch(w){console.error("OTP verification error:",w),en.error(" Error verifying OTP.")}finally{r(!1)}},y=async()=>{r(!0),s("Resending OTP...");try{const C=await fetch(`${Zn}${c?"/admin/resendOTP":"/user/resendOTP"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email})}),b=await C.json();C.ok?en.success(" OTP resent to your email."):en.error(b.message||" Error resending OTP.")}catch(w){console.error("Resend OTP error:",w),en.error(" Failed to resend OTP.")}finally{r(!1)}},_=()=>{window.location.href=`${Zn}/auth/google`};return U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#050B1A] via-[#0A0F1C] to-[#111827] px-4 py-24",children:U.jsxs("form",{onSubmit:g,className:"w-full max-w-md bg-[#0D1528]/80 backdrop-blur-xl border border-[#24324B] shadow-[0_0_40px_rgba(0,255,255,0.1)] rounded-3xl p-6 sm:p-8 text-gray-100 transition-transform duration-500 hover:scale-[1.02]",children:[U.jsxs("p",{className:"text-center text-gray-400 mb-6",children:["Admin?"," ",U.jsx(vi,{to:"/adminsignup",className:"text-pink-400 hover:underline font-semibold",children:"Create admin account"})]}),U.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 drop-shadow-[0_0_10px_rgba(0,255,255,0.3)]",children:"Create Account "}),l?U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Enter OTP"}),U.jsx("input",{type:"text",value:o,onChange:w=>h(w.target.value),placeholder:"Enter 6-digit OTP",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400"}),U.jsx("button",{onClick:v,disabled:t,className:"mt-3 w-full py-3 bg-green-500 hover:bg-green-600 rounded-xl font-semibold text-black shadow-md transition",children:"Verify OTP"}),U.jsx("button",{onClick:y,disabled:t,className:"mt-2 w-full py-3 bg-yellow-500 hover:bg-yellow-600 rounded-xl font-semibold text-black shadow-md transition",children:"Resend OTP"})]}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Username"}),U.jsx("input",{type:"text",name:"username",value:n.username,onChange:m,placeholder:"Enter your username",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400",required:!0})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),U.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,placeholder:"Enter your email",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400",required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Password"}),U.jsx("input",{type:"password",name:"password",value:n.password,onChange:m,placeholder:"Enter your password",className:"w-full px-4 py-3 rounded-xl bg-[#0B1220] border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none placeholder-gray-500 transition-all duration-200 hover:border-cyan-400",required:!0})]}),U.jsx("button",{onClick:g,disabled:t,className:`w-full py-3 rounded-xl font-semibold text-lg shadow-md transition-all duration-300 flex items-center justify-center ${t?"bg-gradient-to-r from-cyan-300 to-blue-300 text-black cursor-not-allowed":c?"bg-gradient-to-r from-purple-500 to-pink-500 hover:shadow-[0_0_25px_rgba(255,0,255,0.5)] text-white":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:shadow-[0_0_25px_rgba(0,255,255,0.5)] text-black"}`,children:t?c?"Creating Admin...":"Signing up...":c?"Admin Sign Up":"Sign Up"})]}),i&&U.jsx("p",{className:"mt-4 text-center text-sm text-gray-300",children:i}),U.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Already have an account?"," ",U.jsx(vi,{to:"/login",className:"text-cyan-400 hover:underline",children:"Login"})]}),U.jsxs("div",{className:"relative my-6",children:[U.jsx("div",{className:"absolute inset-0 flex items-center",children:U.jsx("div",{className:"w-full border-t border-gray-700"})}),U.jsx("div",{className:"relative flex justify-center text-sm",children:U.jsx("span",{className:"bg-[#0D1528] px-2 text-gray-400",children:"OR"})})]}),U.jsxs("button",{type:"button",onClick:_,className:"w-full py-3 bg-white hover:bg-gray-100 text-black rounded-xl font-semibold text-lg shadow-md transition-all duration-300 flex items-center justify-center gap-2 hover:shadow-[0_0_20px_rgba(255,255,255,0.2)]",children:[U.jsxs("svg",{className:"w-5 h-5","aria-hidden":"true",viewBox:"0 0 488 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[U.jsx("path",{d:"M488 261.8c0-17.8-1.6-35.6-4.9-52.8H249v99.9h134.7c-5.8 31.3-23.6 57.9-50.1 75.6v62h80.9c47.3-43.6 74.5-107.8 74.5-184.7z"}),U.jsx("path",{d:"M249 492c67 0 123.4-22.1 164.5-60.2l-80.9-62c-22.5 15-51.2 23.9-83.6 23.9-64.2 0-118.7-43.4-138.3-101.6H25v63.7C66.6 426.4 151.3 492 249 492z"}),U.jsx("path",{d:"M110.7 291.1c-4.7-13.9-7.4-28.7-7.4-44s2.7-30.1 7.4-44v-63.7H25C9 170.3 0 208 0 247.1s9 76.8 25 108.8l85.7-64.8z"}),U.jsx("path",{d:"M249 97.5c36.4 0 69 12.5 94.7 36.9l71.1-71.1C372.4 28.1 316 0 249 0 151.3 0 66.6 65.6 25 165.1l85.7 64.8C130.3 140.9 184.8 97.5 249 97.5z"})]}),U.jsx("span",{children:"Sign Up with Google"})]})]})})},Jm="/assets/man-Bdlv9pSa.png",C6="/assets/girl-DYwGuz46.png",E6="/assets/boy-B_Qoniu-.png",M6="/assets/hacker-DIKbfIgK.png",Wwe=()=>U.jsxs("div",{className:"bg-gray-950 text-gray-300",children:[U.jsxs("section",{className:"relative text-center py-24 px-6 overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-indigo-500/10 to-pink-500/10 blur-3xl"}),U.jsxs(Yo.h1,{initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},transition:{duration:1},className:"text-5xl md:text-6xl font-extrabold bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:["About ",U.jsx("span",{className:"text-white",children:"DevForge"})]}),U.jsxs(Yo.p,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:1},className:"mt-6 max-w-3xl mx-auto text-lg text-gray-400",children:["DevForge is an AI-powered project builder crafted for CSE students. We help you ",U.jsx("span",{className:"text-cyan-400",children:"learn by building"}),"  guided by AI, enhanced with modern tools, and optimized for your success."]})]}),U.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-20 grid md:grid-cols-2 gap-16",children:[U.jsxs(Yo.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:1},className:"space-y-6",children:[U.jsx("h2",{className:"text-3xl font-bold text-white",children:" Our Mission"}),U.jsx("p",{className:"text-gray-400 leading-relaxed",children:"To empower students with hands-on learning through real projects, blending AI guidance with creativity. DevForge is your companion in building projects that matter."})]}),U.jsxs(Yo.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:1},className:"space-y-6",children:[U.jsx("h2",{className:"text-3xl font-bold text-white",children:" Our Vision"}),U.jsx("p",{className:"text-gray-400 leading-relaxed",children:"To become the ultimate AI-driven project ecosystem where every CSE student builds confidently, learns faster, and achieves greatness."})]})]}),U.jsx("section",{className:"bg-gray-900 py-16",children:U.jsx("div",{className:"max-w-6xl mx-auto px-6 grid sm:grid-cols-2 md:grid-cols-4 gap-10 text-center",children:[{icon:U.jsx(eoe,{size:36}),value:"5k+",label:"Students"},{icon:U.jsx(Ose,{size:36}),value:"500+",label:"Projects Built"},{icon:U.jsx(x5,{size:36}),value:"20+",label:"Awards"},{icon:U.jsx(R5,{size:36}),value:"99%",label:"Satisfaction"}].map((n,e)=>U.jsxs(Yo.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:1,delay:e*.2},className:"p-6 bg-gray-800 rounded-2xl shadow-lg hover:shadow-cyan-500/20 transition",children:[U.jsx("div",{className:"text-cyan-400 mb-4 flex justify-center",children:n.icon}),U.jsx("h3",{className:"text-2xl font-bold text-white",children:n.value}),U.jsx("p",{className:"text-gray-400",children:n.label})]},e))})}),U.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-20",children:[U.jsx(Yo.h2,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:1},className:"text-4xl font-extrabold text-center mb-12 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"Meet Our Team"}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10",children:[{name:"Gourav Tandan",role:"Developer",img:Jm},{name:"Vaibhav Jha",role:"Developer",img:Jm},{name:"Om Singh Mehta",role:"Developer",img:Jm},{name:"Sagar Kumar",role:"Developer",img:Jm}].map((n,e)=>U.jsxs(Yo.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8,delay:e*.2},className:"bg-gray-900 p-6 rounded-2xl shadow-lg hover:shadow-pink-500/20 transition group",children:[U.jsx("div",{className:"w-28 h-28 mx-auto rounded-full overflow-hidden border-2 border-cyan-400 group-hover:scale-110 transform transition duration-500",children:U.jsx("img",{src:n.img,alt:n.name,className:"w-full h-full object-cover"})}),U.jsx("h3",{className:"mt-4 text-xl font-bold text-white text-center",children:n.name}),U.jsx("p",{className:"text-gray-400 text-center",children:n.role})]},e))})]}),U.jsxs("section",{className:"bg-gray-900 py-20 relative overflow-hidden",children:[U.jsx(Yo.h2,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:1},className:"text-4xl font-extrabold text-center mb-12 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"What Students Say"}),U.jsx("div",{className:"relative max-w-5xl mx-auto overflow-hidden",children:U.jsx("div",{className:"flex animate-slide space-x-8",children:[{name:"Ravi Kumar",text:"DevForge helped me build my first AI chatbot project and I landed an internship!",img:E6},{name:"Ananya Sharma",text:"Step-by-step tasks and AI mentor made learning so easy and fun.",img:C6},{name:"Vikram Patel",text:"The AI auto-checker saved me hours of debugging. Amazing experience!",img:M6}].map((n,e)=>U.jsxs(Yo.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:1,delay:e*.2},className:"min-w-[300px] bg-gray-800 rounded-2xl shadow-lg p-6 flex flex-col items-center hover:shadow-indigo-500/20 transition",children:[U.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-pink-500 mb-4",children:U.jsx("img",{src:n.img,alt:n.name,className:"w-full h-full object-cover"})}),U.jsxs("p",{className:"text-gray-300 italic mb-4 text-center",children:["",n.text,""]}),U.jsx("h3",{className:"text-lg font-semibold text-white",children:n.name})]},e))})})]})]}),yB=({tasks:n,setTasks:e,learningObjectives:t,setLearningObjectives:r})=>{const[i,s]=G.useState(!1),[l,a]=G.useState(null),[o,h]=G.useState({id:1,title:"",description:"",concept:"",hints:["","",""],resources:[{title:"",url:""}]}),c=()=>{if(!o.title||!o.description||!o.concept){alert("Please fill in title, description, and concept");return}if(l!==null){const v=[...n];v[l]={...o,id:l+1},e(v),a(null)}else e([...n,{...o,id:n.length+1}]);h({id:n.length+2,title:"",description:"",concept:"",hints:["","",""],resources:[{title:"",url:""}]}),s(!1)},u=v=>{h(n[v]),a(v),s(!0)},d=v=>{e(n.filter((y,_)=>_!==v))},f=(v,y)=>{const _=[...o.hints];_[v]=y,h({...o,hints:_})},p=(v,y,_)=>{const w=[...o.resources];w[v][y]=_,h({...o,resources:w})},m=()=>{h({...o,resources:[...o.resources,{title:"",url:""}]})},g=v=>{h({...o,resources:o.resources.filter((y,_)=>_!==v)})};return U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Learning Objectives (comma separated)"}),U.jsx("input",{type:"text",value:t.join(", "),onChange:v=>r(v.target.value.split(",").map(y=>y.trim()).filter(Boolean)),placeholder:"DOM Manipulation, Event Handling, API Integration",className:"input input-bordered w-full bg-transparent border-[#374151] focus:border-[#06B6D4] text-gray-100"})]}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsxs("label",{className:"block text-sm font-semibold text-gray-300",children:["Tasks (",n.length,")"]}),U.jsx("button",{type:"button",onClick:()=>s(!i),className:"btn btn-sm bg-cyan-600 hover:bg-cyan-700 border-none text-white",children:i?"Cancel":"+ Add Task"})]}),U.jsx("div",{className:"space-y-2 mb-4",children:n.map((v,y)=>U.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex justify-between items-start",children:[U.jsxs("div",{className:"flex-1",children:[U.jsxs("div",{className:"font-semibold text-white",children:[y+1,". ",v.title]}),U.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Concept: ",v.concept]})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{type:"button",onClick:()=>u(y),className:"text-blue-400 hover:text-blue-300",children:U.jsx(M5,{size:16})}),U.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-400 hover:text-red-300",children:U.jsx(k5,{size:16})})]})]},y))}),i&&U.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-3 border border-gray-700",children:[U.jsx("h4",{className:"font-semibold text-white",children:l!==null?"Edit Task":"New Task"}),U.jsx("input",{type:"text",placeholder:"Task Title",value:o.title,onChange:v=>h({...o,title:v.target.value}),className:"input input-bordered w-full bg-gray-900 border-gray-700 text-white"}),U.jsx("textarea",{placeholder:"Task Description",value:o.description,onChange:v=>h({...o,description:v.target.value}),className:"textarea textarea-bordered w-full bg-gray-900 border-gray-700 text-white",rows:"2"}),U.jsx("input",{type:"text",placeholder:"Concept (e.g., DOM Manipulation)",value:o.concept,onChange:v=>h({...o,concept:v.target.value}),className:"input input-bordered w-full bg-gray-900 border-gray-700 text-white"}),U.jsxs("div",{children:[U.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Hints (3 levels)"}),[0,1,2].map(v=>U.jsx("input",{type:"text",placeholder:`Hint ${v+1}`,value:o.hints[v],onChange:y=>f(v,y.target.value),className:"input input-bordered w-full bg-gray-900 border-gray-700 text-white mb-2"},v))]}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex justify-between items-center mb-1",children:[U.jsx("label",{className:"text-sm text-gray-400",children:"Resources"}),U.jsx("button",{type:"button",onClick:m,className:"text-xs text-cyan-400 hover:text-cyan-300",children:"+ Add Resource"})]}),o.resources.map((v,y)=>U.jsxs("div",{className:"flex gap-2 mb-2",children:[U.jsx("input",{type:"text",placeholder:"Title (e.g., MDN: Arrays)",value:v.title,onChange:_=>p(y,"title",_.target.value),className:"input input-bordered flex-1 bg-gray-900 border-gray-700 text-white"}),U.jsx("input",{type:"url",placeholder:"URL",value:v.url,onChange:_=>p(y,"url",_.target.value),className:"input input-bordered flex-1 bg-gray-900 border-gray-700 text-white"}),o.resources.length>1&&U.jsx("button",{type:"button",onClick:()=>g(y),className:"btn btn-sm btn-error",children:U.jsx(ok,{size:16})})]},y))]}),U.jsxs("div",{className:"flex gap-2 justify-end",children:[U.jsx("button",{type:"button",onClick:()=>{s(!1),a(null),h({id:n.length+1,title:"",description:"",concept:"",hints:["","",""],resources:[{title:"",url:""}]})},className:"btn btn-sm bg-gray-700 hover:bg-gray-600 border-none text-white",children:"Cancel"}),U.jsxs("button",{type:"button",onClick:c,className:"btn btn-sm bg-green-600 hover:bg-green-700 border-none text-white",children:[l!==null?"Update":"Add"," Task"]})]})]})]})]})},Vwe=()=>{const[n,e]=G.useState("easy"),[t,r]=G.useState([]),[i,s]=G.useState(!0),[l,a]=G.useState(null),[o,h]=G.useState(!1),[c,u]=G.useState(null),[d,f]=G.useState({}),[p,m]=G.useState([]),[g,v]=G.useState([]),[y,_]=G.useState([]),[w,C]=G.useState([]),{user:b}=tu(),T=Il(),A=async()=>{try{const H=await fetch(`${Zn}/projects`,{method:"GET",credentials:"include"});if(!H.ok)throw new Error("Failed to fetch projects");const j=await H.json();r(j)}catch(H){console.error(H),r([])}finally{s(!1)}};G.useEffect(()=>{A()},[]);const k=t.filter(H=>H.difficulty.toLowerCase()===n),P=H=>{a(H),h(!0)},N=async()=>{try{if(!(await fetch(`${Zn}/projects/${l}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete project");r(t.filter(j=>j._id!==l)),h(!1),a(null)}catch(H){console.error("Error deleting project:",H)}},D=H=>{c===H._id?u(null):(u(H._id),f(H),v(H.learningObjectives||[]),m(H.tasks||[]))},L=async H=>{try{const j={...d,learningObjectives:g,tasks:p},z=await fetch(`${Zn}/projects/${H}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(j)});if(!z.ok)throw new Error("Failed to update project");const W=await z.json();r(K=>K.map(X=>X._id===H?W:X)),u(null)}catch(j){console.error("Error updating project:",j)}},I=(H,j)=>{f({...d,[j]:H.target.value})},O=async H=>{H.preventDefault();const j=new FormData(H.target),z={title:j.get("title"),description:j.get("description"),techStack:j.get("techStack").split(",").map(W=>W.trim()),difficulty:j.get("difficulty"),templateRepo:j.get("templateRepo")||"",learningObjectives:w,tasks:y};try{const W=await fetch(`${Zn}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)});if(!W.ok)throw new Error("Failed to create project");const K=await W.json();r(X=>[...X,K]),_([]),C([]),document.getElementById("addProjectModal").close()}catch(W){console.error("Error creating project:",W)}},F=()=>U.jsxs("div",{className:"bg-[#111827] border border-[#374151] rounded-2xl shadow-lg p-6 animate-pulse",children:[U.jsx("div",{className:"h-6 bg-gray-700 rounded w-3/4 mb-4"}),U.jsxs("div",{className:"space-y-3 mb-5",children:[U.jsx("div",{className:"h-4 bg-gray-700 rounded w-full"}),U.jsx("div",{className:"h-4 bg-gray-700 rounded w-5/6"}),U.jsx("div",{className:"h-4 bg-gray-700 rounded w-2/3"})]}),U.jsx("div",{className:"h-6 bg-gray-700 rounded w-20"})]});return U.jsxs("div",{className:"p-8 py-24 min-h-screen bg-gradient-to-br from-[#0A0F1C] via-[#111827] to-[#1f2937] text-[#F9FAFB]",children:[U.jsxs("div",{className:`flex ${b?.role==="admin"?"justify-between":"justify-center"} mb-10`,children:[U.jsx("div",{className:"flex gap-6",children:["easy","medium","hard"].map(H=>U.jsx("button",{onClick:()=>e(H),className:`px-6 py-2 rounded-full font-semibold transition-all shadow-md
                ${n===H?H==="easy"?"bg-green-500 text-black":H==="medium"?"bg-yellow-400 text-black":"bg-red-500 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-600"}`,children:H.charAt(0).toUpperCase()+H.slice(1)},H))}),b?.role==="admin"&&U.jsx("button",{className:"px-5 py-2 bg-[#06B6D4] hover:bg-[#9333EA] rounded-full font-semibold shadow-md",onClick:()=>document.getElementById("addProjectModal").showModal(),children:"+ Add Project"})]}),b?.role==="admin"&&U.jsx("dialog",{id:"addProjectModal",className:"modal",children:U.jsxs("div",{className:"modal-box bg-[#111827] text-white border border-[#374151]",children:[U.jsx("h3",{className:"text-2xl font-bold text-[#06B6D4] mb-4",children:"Create Project"}),U.jsxs("form",{method:"dialog",onSubmit:O,children:[U.jsx("label",{className:"font-semibold",children:"Title"}),U.jsx("input",{name:"title",className:"input input-bordered w-full bg-transparent mb-4",required:!0}),U.jsx("label",{className:"font-semibold",children:"Description"}),U.jsx("textarea",{name:"description",className:"textarea textarea-bordered w-full bg-transparent mb-4",required:!0}),U.jsx("label",{className:"font-semibold",children:"Tech Stack"}),U.jsx("input",{name:"techStack",placeholder:"React, Node.js",className:"input input-bordered w-full bg-transparent mb-4",required:!0}),U.jsx("label",{className:"font-semibold",children:"Difficulty"}),U.jsxs("select",{name:"difficulty",className:"select select-bordered w-full bg-transparent mb-4",children:[U.jsx("option",{value:"easy",children:"Easy"}),U.jsx("option",{value:"medium",children:"Medium"}),U.jsx("option",{value:"hard",children:"Hard"})]}),U.jsx("label",{className:"font-semibold",children:"Template Repo (optional)"}),U.jsx("input",{name:"templateRepo",className:"input input-bordered w-full bg-transparent mb-4"}),U.jsx(yB,{tasks:y,setTasks:_,learningObjectives:w,setLearningObjectives:C}),U.jsxs("div",{className:"modal-action",children:[U.jsx("button",{className:"btn bg-[#06B6D4]",children:"Create"}),U.jsx("button",{type:"button",onClick:()=>document.getElementById("addProjectModal").close(),className:"btn bg-gray-600",children:"Cancel"})]})]})]})}),U.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:i?Array(6).fill(0).map((H,j)=>U.jsx(F,{},j)):k.map(H=>{const j=c===H._id;return U.jsxs("div",{className:"bg-[#111827] border border-[#374151] rounded-2xl shadow-lg p-6 hover:shadow-cyan-500/40",children:[U.jsxs("div",{className:"flex justify-between mb-3",children:[j?U.jsx("input",{value:d.title,onChange:z=>I(z,"title"),className:"input input-sm bg-transparent border-[#374151] text-cyan-400"}):U.jsx(vi,{to:`/editor/${H._id}/${H.title.replace(/\s+/g,"-")}`,className:"text-2xl font-bold text-cyan-400 hover:text-cyan-300",children:H.title}),b?.role==="admin"&&U.jsxs("div",{className:"flex gap-2",children:[j?U.jsx("button",{onClick:()=>L(H._id),className:"p-2 rounded-full hover:bg-green-500/20",children:U.jsx(P_,{className:"text-green-400",size:20})}):U.jsx("button",{onClick:()=>D(H),className:"p-2 rounded-full hover:bg-purple-500/20",children:U.jsx(M5,{className:"text-purple-400",size:20})}),U.jsx("button",{onClick:()=>P(H._id),className:"p-2 rounded-full hover:bg-red-500/20",children:U.jsx(k5,{className:"text-red-400",size:20})})]})]}),o&&U.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",children:U.jsxs("div",{className:"bg-[#1f2937] p-8 rounded-xl border border-gray-600",children:[U.jsx("h2",{className:"text-xl mb-4 font-semibold",children:"Confirm Delete"}),U.jsx("p",{className:"text-gray-300 mb-4",children:"This action cannot be undone."}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:N,className:"px-6 py-2 bg-red-500 text-white rounded",children:"Delete"}),U.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-gray-600 text-white rounded",children:"Cancel"})]})]})}),j?U.jsx("textarea",{value:d.description,onChange:z=>I(z,"description"),className:"textarea textarea-bordered w-full bg-transparent border-[#374151] text-gray-300 mb-4"}):U.jsx("p",{className:"text-gray-300 mb-6 cursor-pointer line-clamp-3",onClick:()=>b?.role==="student"&&T(`/editor/${H.title.replace(/\s+/g,"-")}`),children:H.description}),j?U.jsxs("select",{value:d.difficulty,onChange:z=>I(z,"difficulty"),className:"select select-sm bg-transparent border-[#374151] text-white",children:[U.jsx("option",{value:"easy",children:"Easy"}),U.jsx("option",{value:"medium",children:"Medium"}),U.jsx("option",{value:"hard",children:"Hard"})]}):U.jsx("span",{className:`px-4 py-1 text-sm rounded-full font-semibold ${H.difficulty==="easy"?"bg-green-600/30 text-green-400":H.difficulty==="medium"?"bg-yellow-600/30 text-yellow-400":"bg-red-600/30 text-red-400"}`,children:H.difficulty}),j&&U.jsx("div",{className:"mt-4",children:U.jsx(yB,{tasks:p,setTasks:m,learningObjectives:g,setLearningObjectives:v})})]},H._id)})})]})},Gwe="/assets/human-Dvg8F2pi.png",Kwe="/assets/woman-BWEgOnii.png",qwe=[E6,Kwe,M6,C6,Jm,Gwe],wc=({className:n})=>U.jsx("div",{className:`animate-pulse bg-gray-700 rounded-md ${n}`}),Xwe=()=>{const{user:n,loading:e,fetchUser:t}=tu(),[r,i]=G.useState({name:"",email:"",company:"",role:"",bio:"",avatar:""}),[s,l]=G.useState(!1),[a,o]=G.useState(!0);G.useEffect(()=>{n&&(i({name:n.username||n.name||"",email:n.email||"",company:n.preferences?.company||"",role:n.preferences?.role||"",bio:n.preferences?.bio||"",avatar:n.avatar||""}),o(!1))},[n]);const h=d=>i({...r,[d.target.name]:d.target.value}),c=d=>i(f=>({...f,avatar:d})),u=async d=>{d.preventDefault();try{(await fetch(`${Zn}/user/update-profile`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.name,avatar:r.avatar,preferences:{company:r.company,role:r.role,bio:r.bio}})})).ok?(await t(),l(!1)):console.error("Failed to save profile")}catch(f){console.error("Error updating profile:",f)}};return e||a?U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 text-white px-6 py-20",children:U.jsxs("div",{className:"max-w-4xl w-full bg-gray-900 rounded-2xl shadow-lg p-8 animate-pulse space-y-6",children:[U.jsxs("div",{className:"flex items-center gap-6",children:[U.jsx(wc,{className:"w-24 h-24 rounded-full"}),U.jsxs("div",{className:"flex-1 space-y-3",children:[U.jsx(wc,{className:"w-1/3 h-6"}),U.jsx(wc,{className:"w-1/4 h-5"}),U.jsx(wc,{className:"w-1/2 h-4"})]})]}),U.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[U.jsx(wc,{className:"w-full h-10"}),U.jsx(wc,{className:"w-full h-10"}),U.jsx(wc,{className:"w-full h-10"}),U.jsx(wc,{className:"w-full h-10"})]}),U.jsx(wc,{className:"w-full h-24 mt-6"})]})}):U.jsx("div",{className:"bg-gray-950 min-h-screen text-gray-300 px-4 sm:px-6 py-24 sm:py-20",children:U.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-900 rounded-2xl shadow-lg p-6 sm:p-10",children:[U.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 text-center md:text-left",children:[U.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full overflow-hidden border-4 border-cyan-400 flex items-center justify-center bg-gray-800 shrink-0",children:r.avatar?U.jsx("img",{src:r.avatar,alt:"Profile",className:"w-full h-full object-cover"}):U.jsx("span",{className:"text-gray-400 text-3xl",children:""})}),U.jsxs("div",{className:"space-y-1",children:[U.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white break-words",children:r.name}),U.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:r.role}),U.jsx("p",{className:"text-cyan-400 text-sm sm:text-base",children:r.company}),U.jsxs("p",{className:"mt-2 text-xs sm:text-sm text-gray-500 break-words",children:[" ",r.email]})]})]}),!s&&U.jsx("div",{className:"mt-6 text-center md:text-right",children:U.jsx("button",{onClick:()=>l(!0),className:"px-4 sm:px-5 py-2 rounded-lg border border-cyan-400 text-cyan-400 hover:bg-cyan-400/10 transition text-sm sm:text-base",children:"Edit Profile"})}),s&&U.jsxs(Yo.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:u,className:"mt-8 space-y-6",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Select an Avatar"}),U.jsx("div",{className:"flex flex-wrap gap-4 mt-3",children:qwe.map((d,f)=>U.jsx("button",{type:"button",onClick:()=>c(d),className:`w-16 h-16 rounded-full overflow-hidden border-2 ${r.avatar===d?"border-cyan-400":"border-gray-700"}`,children:U.jsx("img",{src:d,alt:`Avatar ${f+1}`,className:"w-full h-full object-cover"})},f))})]}),["name","company","role","bio"].map(d=>U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-400 capitalize",children:d}),d==="bio"?U.jsx("textarea",{name:d,value:r[d],onChange:h,rows:"3",className:"mt-1 w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-700 focus:border-cyan-400 focus:ring focus:ring-cyan-500/40 outline-none text-sm sm:text-base"}):U.jsx("input",{type:"text",name:d,value:r[d],onChange:h,className:"mt-1 w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-700 focus:border-cyan-400 focus:ring focus:ring-cyan-500/40 outline-none text-sm sm:text-base"})]},d)),U.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[U.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 sm:px-5 py-2 rounded-lg border border-gray-500 text-gray-400 hover:bg-gray-700 transition text-sm sm:text-base",children:"Cancel"}),U.jsx("button",{type:"submit",className:"px-4 sm:px-5 py-2 rounded-lg bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 text-white hover:opacity-90 transition text-sm sm:text-base",children:"Save Changes"})]})]}),!s&&U.jsx("p",{className:"mt-8 text-gray-400 leading-relaxed text-sm sm:text-base break-words",children:r.bio})]})})},Ywe=()=>{const[n,e]=G.useState({email:"",password:"",adminPassKey:""}),[t,r]=G.useState(!1),i=Il(),{setUser:s,user:l}=tu(),a=G.useRef(null);G.useEffect(()=>{l&&i("/")},[l,i]);const o=c=>{const{name:u,value:d}=c.target;e(f=>({...f,[u]:d}))},h=async c=>{c.preventDefault(),r(!0);try{const u=await fetch(`${Zn}/user/adminlogin`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),d=await u.json();u.ok?(en.success(" Login successful!"),s(d.user),setTimeout(()=>i("/"),1e3)):en.error(d.message||"Invalid credentials.")}catch(u){console.error("Login error:",u),en.error("Something went wrong. Please try again.")}finally{r(!1)}};return U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0A0F1C] px-4 py-24",children:U.jsxs("form",{onSubmit:h,className:"w-full max-w-md bg-[#111827] border border-[#374151] shadow-2xl rounded-2xl p-6 sm:p-8 text-gray-100","aria-describedby":"statusMessage",children:[U.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-cyan-400",children:"Welcome Back "}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{htmlFor:"email",className:"block text-sm text-gray-400 mb-2",children:"Email"}),U.jsx("input",{id:"email",type:"email",name:"email",value:n.email,onChange:o,placeholder:"Enter your email",autoComplete:"email",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0,autoFocus:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{htmlFor:"password",className:"block text-sm text-gray-400 mb-2",children:"Password"}),U.jsx("input",{id:"password",type:"password",name:"password",value:n.password,onChange:o,placeholder:"Enter your password",autoComplete:"current-password",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{htmlFor:"adminPassKey",className:"block text-sm text-gray-400 mb-2",children:"Admin PassKey"}),U.jsx("input",{id:"adminPassKey",type:"password",name:"adminPassKey",value:n.adminPassKey,onChange:o,placeholder:"Enter Admin Passkey",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 rounded-xl font-semibold text-lg shadow-md transition flex items-center justify-center ${t?"bg-cyan-300 text-black cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-black"}`,children:t?"Logging in...":"Admin Login"}),U.jsx("p",{id:"statusMessage",ref:a,className:"sr-only","aria-live":"polite",children:t?"Logging in...":""}),U.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",U.jsx(vi,{to:"/adminsignup",className:"text-cyan-400 hover:underline",children:"Admin Sign up"})]})]})})},Zwe=()=>{const[n,e]=G.useState({username:"",email:"",password:"",adminPassKey:""}),[t,r]=G.useState(!1),[i,s]=G.useState(""),[l,a]=G.useState(!1),[o,h]=G.useState(""),c=Il(),{setUser:u,user:d}=tu();G.useEffect(()=>{d&&c("/")},[d,c]);const f=v=>{const{name:y,value:_}=v.target;e(w=>({...w,[y]:_}))},p=async v=>{v.preventDefault(),r(!0),s("Signing up...");try{const y=await fetch(`${Zn}/user/adminsignup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),_=await y.json();y.ok?(en.success(" Signup successful! Check email for OTP."),a(!0)):en.error(_.message||" Signup failed.")}catch(y){console.error("Signup error:",y),en.error(" Error signing up. Please try again.")}finally{r(!1)}},m=async()=>{if(!o)return s("Enter OTP");r(!0),s("Verifying OTP...");try{const v=await fetch(`${Zn}/user/verifyOTP`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,otp:o})}),y=await v.json();v.ok?(en.success(" Email verified! You can now log in."),a(!1),h(""),e({username:"",email:"",password:""}),c("/login")):en.error(y.message||" Invalid OTP.")}catch(v){console.error("OTP verification error:",v),en.error(" Error verifying OTP.")}finally{r(!1)}},g=async()=>{r(!0),s("Resending OTP...");try{const v=await fetch(`${Zn}/user/resendOTP`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email})}),y=await v.json();v.ok?en.success(" OTP resent to your email."):en.error(y.message||" Error resending OTP.")}catch(v){console.error("Resend OTP error:",v),en.error(" Failed to resend OTP.")}finally{r(!1)}};return U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0A0F1C] text-gray-100 px-4 py-24",children:U.jsxs("form",{className:"w-full max-w-md bg-[#111827] border border-[#374151] shadow-xl rounded-2xl p-6 sm:p-8",children:[U.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center text-cyan-400",children:"Create Account "}),l?U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Enter OTP"}),U.jsx("input",{type:"text",value:o,onChange:v=>h(v.target.value),placeholder:"Enter 6-digit OTP",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none"}),U.jsx("button",{onClick:m,disabled:t,className:"mt-3 w-full py-3 bg-green-500 hover:bg-green-600 rounded-xl font-semibold text-black shadow-md transition",children:"Verify OTP"}),U.jsx("button",{onClick:g,disabled:t,className:"mt-2 w-full py-3 bg-yellow-500 hover:bg-yellow-600 rounded-xl font-semibold text-black shadow-md transition",children:"Resend OTP"})]}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Username"}),U.jsx("input",{type:"text",name:"username",value:n.username,onChange:f,placeholder:"Enter your username",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),U.jsx("input",{type:"email",name:"email",value:n.email,onChange:f,placeholder:"Enter your email",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Password"}),U.jsx("input",{type:"password",name:"password",value:n.password,onChange:f,placeholder:"Enter your password",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Admin PassKey"}),U.jsx("input",{type:"password",name:"adminPassKey",value:n.adminPassKey,onChange:f,placeholder:"Enter Admin PassKey",className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 text-gray-100 focus:ring-2 focus:ring-cyan-400 outline-none",required:!0})]}),U.jsx("button",{onClick:p,disabled:t,className:"w-full py-3 bg-cyan-500 hover:bg-cyan-600 rounded-xl font-semibold text-lg text-black shadow-md transition flex items-center justify-center",children:t?"Signing up...":"Admin Sign Up"})]}),i&&U.jsx("p",{className:"mt-4 text-center text-sm text-gray-300",children:i}),U.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Already have an account?"," ",U.jsx(vi,{to:"/adminlogin",className:"text-cyan-400 hover:underline",children:"Admin Login"})]})]})})},Jwe=()=>{const{pathname:n}=Gc();return G.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[n]),G.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"}),setTimeout(()=>window.scrollTo(0,0),100)},[]),null};var XC={exports:{}},xB;function Qwe(){return xB||(xB=1,(function(n,e){(function(t,r){n.exports=r()})(globalThis,(()=>(()=>{var t={4567:function(l,a,o){var h=this&&this.__decorate||function(y,_,w,C){var b,T=arguments.length,A=T<3?_:C===null?C=Object.getOwnPropertyDescriptor(_,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,_,w,C);else for(var k=y.length-1;k>=0;k--)(b=y[k])&&(A=(T<3?b(A):T>3?b(_,w,A):b(_,w))||A);return T>3&&A&&Object.defineProperty(_,w,A),A},c=this&&this.__param||function(y,_){return function(w,C){_(w,C,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const u=o(9042),d=o(9924),f=o(844),p=o(4725),m=o(2585),g=o(3656);let v=a.AccessibilityManager=class extends f.Disposable{constructor(y,_,w,C){super(),this._terminal=y,this._coreBrowserService=w,this._renderService=C,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let b=0;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);if(this._topBoundaryFocusListener=b=>this._handleBoundaryFocus(b,0),this._bottomBoundaryFocusListener=b=>this._handleBoundaryFocus(b,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new d.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((b=>this._handleResize(b.rows)))),this.register(this._terminal.onRender((b=>this._refreshRows(b.start,b.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((b=>this._handleChar(b)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((b=>this._handleTab(b)))),this.register(this._terminal.onKey((b=>this._handleKey(b.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,g.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,f.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(y){for(let _=0;_<y;_++)this._handleChar(" ")}_handleChar(y){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==y&&(this._charsToAnnounce+=y):this._charsToAnnounce+=y,y===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(y){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(y)||this._charsToConsume.push(y)}_refreshRows(y,_){this._liveRegionDebouncer.refresh(y,_,this._terminal.rows)}_renderRows(y,_){const w=this._terminal.buffer,C=w.lines.length.toString();for(let b=y;b<=_;b++){const T=w.lines.get(w.ydisp+b),A=[],k=T?.translateToString(!0,void 0,void 0,A)||"",P=(w.ydisp+b+1).toString(),N=this._rowElements[b];N&&(k.length===0?(N.innerText="",this._rowColumns.set(N,[0,1])):(N.textContent=k,this._rowColumns.set(N,A)),N.setAttribute("aria-posinset",P),N.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(y,_){const w=y.target,C=this._rowElements[_===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||y.relatedTarget!==C)return;let b,T;if(_===0?(b=w,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(b=this._rowElements.shift(),T=w,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),y.preventDefault(),y.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const y=document.getSelection();if(!y)return;if(y.isCollapsed)return void(this._rowContainer.contains(y.anchorNode)&&this._terminal.clearSelection());if(!y.anchorNode||!y.focusNode)return void console.error("anchorNode and/or focusNode are null");let _={node:y.anchorNode,offset:y.anchorOffset},w={node:y.focusNode,offset:y.focusOffset};if((_.node.compareDocumentPosition(w.node)&Node.DOCUMENT_POSITION_PRECEDING||_.node===w.node&&_.offset>w.offset)&&([_,w]=[w,_]),_.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(_={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(_.node))return;const C=this._rowElements.slice(-1)[0];if(w.node.compareDocumentPosition(C)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(w={node:C,offset:C.textContent?.length??0}),!this._rowContainer.contains(w.node))return;const b=({node:k,offset:P})=>{const N=k instanceof Text?k.parentNode:k;let D=parseInt(N?.getAttribute("aria-posinset"),10)-1;if(isNaN(D))return console.warn("row is invalid. Race condition?"),null;const L=this._rowColumns.get(N);if(!L)return console.warn("columns is null. Race condition?"),null;let I=P<L.length?L[P]:L.slice(-1)[0]+1;return I>=this._terminal.cols&&(++D,I=0),{row:D,column:I}},T=b(_),A=b(w);if(T&&A){if(T.row>A.row||T.row===A.row&&T.column>=A.column)throw new Error("invalid range");this._terminal.select(T.column,T.row,(A.row-T.row)*this._terminal.cols-T.column+A.column)}}_handleResize(y){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>y;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const y=this._coreBrowserService.mainDocument.createElement("div");return y.setAttribute("role","listitem"),y.tabIndex=-1,this._refreshRowDimensions(y),y}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let y=0;y<this._terminal.rows;y++)this._refreshRowDimensions(this._rowElements[y])}}_refreshRowDimensions(y){y.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=v=h([c(1,m.IInstantiationService),c(2,p.ICoreBrowserService),c(3,p.IRenderService)],v)},3614:(l,a)=>{function o(d){return d.replace(/\r?\n/g,"\r")}function h(d,f){return f?"\x1B[200~"+d+"\x1B[201~":d}function c(d,f,p,m){d=h(d=o(d),p.decPrivateModes.bracketedPasteMode&&m.rawOptions.ignoreBracketedPasteMode!==!0),p.triggerDataEvent(d,!0),f.value=""}function u(d,f,p){const m=p.getBoundingClientRect(),g=d.clientX-m.left-10,v=d.clientY-m.top-10;f.style.width="20px",f.style.height="20px",f.style.left=`${g}px`,f.style.top=`${v}px`,f.style.zIndex="1000",f.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=o,a.bracketTextForPaste=h,a.copyHandler=function(d,f){d.clipboardData&&d.clipboardData.setData("text/plain",f.selectionText),d.preventDefault()},a.handlePasteEvent=function(d,f,p,m){d.stopPropagation(),d.clipboardData&&c(d.clipboardData.getData("text/plain"),f,p,m)},a.paste=c,a.moveTextAreaUnderMouseCursor=u,a.rightClickHandler=function(d,f,p,m,g){u(d,f,p),g&&m.rightClickSelect(d),f.value=m.selectionText,f.select()}},7239:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const h=o(1505);a.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(c,u,d){this._css.set(c,u,d)}getCss(c,u){return this._css.get(c,u)}setColor(c,u,d){this._color.set(c,u,d)}getColor(c,u){return this._color.get(c,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(o,h,c,u){o.addEventListener(h,c,u);let d=!1;return{dispose:()=>{d||(d=!0,o.removeEventListener(h,c,u))}}}},3551:function(l,a,o){var h=this&&this.__decorate||function(v,y,_,w){var C,b=arguments.length,T=b<3?y:w===null?w=Object.getOwnPropertyDescriptor(y,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(v,y,_,w);else for(var A=v.length-1;A>=0;A--)(C=v[A])&&(T=(b<3?C(T):b>3?C(y,_,T):C(y,_))||T);return b>3&&T&&Object.defineProperty(y,_,T),T},c=this&&this.__param||function(v,y){return function(_,w){y(_,w,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier=void 0;const u=o(3656),d=o(8460),f=o(844),p=o(2585),m=o(4725);let g=a.Linkifier=class extends f.Disposable{get currentLink(){return this._currentLink}constructor(v,y,_,w,C){super(),this._element=v,this._mouseService=y,this._renderService=_,this._bufferService=w,this._linkProviderService=C,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new d.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new d.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,f.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,f.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(v){this._lastMouseEvent=v;const y=this._positionFromMouseEvent(v,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const _=v.composedPath();for(let w=0;w<_.length;w++){const C=_[w];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(v){if(this._activeLine!==v.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(v,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,v)||(this._clearCurrentLink(),this._askForLink(v,!0))}_askForLink(v,y){this._activeProviderReplies&&y||(this._activeProviderReplies?.forEach((w=>{w?.forEach((C=>{C.link.dispose&&C.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=v.y);let _=!1;for(const[w,C]of this._linkProviderService.linkProviders.entries())y?this._activeProviderReplies?.get(w)&&(_=this._checkLinkProviderResult(w,v,_)):C.provideLinks(v.y,(b=>{if(this._isMouseOut)return;const T=b?.map((A=>({link:A})));this._activeProviderReplies?.set(w,T),_=this._checkLinkProviderResult(w,v,_),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(v.y,this._activeProviderReplies)}))}_removeIntersectingLinks(v,y){const _=new Set;for(let w=0;w<y.size;w++){const C=y.get(w);if(C)for(let b=0;b<C.length;b++){const T=C[b],A=T.link.range.start.y<v?0:T.link.range.start.x,k=T.link.range.end.y>v?this._bufferService.cols:T.link.range.end.x;for(let P=A;P<=k;P++){if(_.has(P)){C.splice(b--,1);break}_.add(P)}}}}_checkLinkProviderResult(v,y,_){if(!this._activeProviderReplies)return _;const w=this._activeProviderReplies.get(v);let C=!1;for(let b=0;b<v;b++)this._activeProviderReplies.has(b)&&!this._activeProviderReplies.get(b)||(C=!0);if(!C&&w){const b=w.find((T=>this._linkAtPosition(T.link,y)));b&&(_=!0,this._handleNewLink(b))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!_)for(let b=0;b<this._activeProviderReplies.size;b++){const T=this._activeProviderReplies.get(b)?.find((A=>this._linkAtPosition(A.link,y)));if(T){_=!0,this._handleNewLink(T);break}}return _}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(v){if(!this._currentLink)return;const y=this._positionFromMouseEvent(v,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(v,this._currentLink.link.text)}_clearCurrentLink(v,y){this._currentLink&&this._lastMouseEvent&&(!v||!y||this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,f.disposeArray)(this._linkCacheDisposables))}_handleNewLink(v){if(!this._lastMouseEvent)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(v.link,y)&&(this._currentLink=v,this._currentLink.state={decorations:{underline:v.link.decorations===void 0||v.link.decorations.underline,pointerCursor:v.link.decorations===void 0||v.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,v.link,this._lastMouseEvent),v.link.decorations={},Object.defineProperties(v.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:_=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==_&&(this._currentLink.state.decorations.pointerCursor=_,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",_))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:_=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==_&&(this._currentLink.state.decorations.underline=_,this._currentLink.state.isHovered&&this._fireUnderlineEvent(v.link,_))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((_=>{if(!this._currentLink)return;const w=_.start===0?0:_.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+_.end;if(this._currentLink.link.range.start.y>=w&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(w,C),this._lastMouseEvent)){const b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._askForLink(b,!1)}}))))}_linkHover(v,y,_){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&v.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(_,y.text)}_fireUnderlineEvent(v,y){const _=v.range,w=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(_.start.x-1,_.start.y-w-1,_.end.x,_.end.y-w-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(v,y,_){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&v.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(_,y.text)}_linkAtPosition(v,y){const _=v.range.start.y*this._bufferService.cols+v.range.start.x,w=v.range.end.y*this._bufferService.cols+v.range.end.x,C=y.y*this._bufferService.cols+y.x;return _<=C&&C<=w}_positionFromMouseEvent(v,y,_){const w=_.getCoords(v,y,this._bufferService.cols,this._bufferService.rows);if(w)return{x:w[0],y:w[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(v,y,_,w,C){return{x1:v,y1:y,x2:_,y2:w,cols:this._bufferService.cols,fg:C}}};a.Linkifier=g=h([c(1,m.IMouseService),c(2,m.IRenderService),c(3,p.IBufferService),c(4,m.ILinkProviderService)],g)},9042:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,a,o){var h=this&&this.__decorate||function(m,g,v,y){var _,w=arguments.length,C=w<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,g,v,y);else for(var b=m.length-1;b>=0;b--)(_=m[b])&&(C=(w<3?_(C):w>3?_(g,v,C):_(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},c=this&&this.__param||function(m,g){return function(v,y){g(v,y,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const u=o(511),d=o(2585);let f=a.OscLinkProvider=class{constructor(m,g,v){this._bufferService=m,this._optionsService=g,this._oscLinkService=v}provideLinks(m,g){const v=this._bufferService.buffer.lines.get(m-1);if(!v)return void g(void 0);const y=[],_=this._optionsService.rawOptions.linkHandler,w=new u.CellData,C=v.getTrimmedLength();let b=-1,T=-1,A=!1;for(let k=0;k<C;k++)if(T!==-1||v.hasContent(k)){if(v.loadCell(k,w),w.hasExtendedAttrs()&&w.extended.urlId){if(T===-1){T=k,b=w.extended.urlId;continue}A=w.extended.urlId!==b}else T!==-1&&(A=!0);if(A||T!==-1&&k===C-1){const P=this._oscLinkService.getLinkData(b)?.uri;if(P){const N={start:{x:T+1,y:m},end:{x:k+(A||k!==C-1?0:1),y:m}};let D=!1;if(!_?.allowNonHttpProtocols)try{const L=new URL(P);["http:","https:"].includes(L.protocol)||(D=!0)}catch{D=!0}D||y.push({text:P,range:N,activate:(L,I)=>_?_.activate(L,I,N):p(0,I),hover:(L,I)=>_?.hover?.(L,I,N),leave:(L,I)=>_?.leave?.(L,I,N)})}A=!1,w.hasExtendedAttrs()&&w.extended.urlId?(T=k,b=w.extended.urlId):(T=-1,b=-1)}}g(y)}};function p(m,g){if(confirm(`Do you want to navigate to ${g}?

WARNING: This link could potentially be dangerous`)){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=g}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=f=h([c(0,d.IBufferService),c(1,d.IOptionsService),c(2,d.IOscLinkService)],f)},6193:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(o,h){this._renderCallback=o,this._coreBrowserService=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(o,h,c){this._rowCount=c,o=o!==void 0?o:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},3236:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const h=o(3614),c=o(3656),u=o(3551),d=o(9042),f=o(3730),p=o(1680),m=o(3107),g=o(5744),v=o(2950),y=o(1296),_=o(428),w=o(4269),C=o(5114),b=o(8934),T=o(3230),A=o(9312),k=o(4725),P=o(6731),N=o(8055),D=o(8969),L=o(8460),I=o(844),O=o(6114),F=o(8437),H=o(2584),j=o(7399),z=o(5941),W=o(9074),K=o(2585),X=o(5435),J=o(4567),te=o(779);class re extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(ie={}){super(ie),this.browser=O,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new I.MutableDisposable),this._onCursorMove=this.register(new L.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new L.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new L.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new L.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new L.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new L.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new L.EventEmitter),this._onBlur=this.register(new L.EventEmitter),this._onA11yCharEmitter=this.register(new L.EventEmitter),this._onA11yTabEmitter=this.register(new L.EventEmitter),this._onWillOpen=this.register(new L.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(W.DecorationService),this._instantiationService.setService(K.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(te.LinkProviderService),this._instantiationService.setService(k.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(f.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((Q,se)=>this.refresh(Q,se)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((Q=>this._reportWindowsOptions(Q)))),this.register(this._inputHandler.onColor((Q=>this._handleColorEvent(Q)))),this.register((0,L.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,L.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,L.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,L.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((Q=>this._afterResize(Q.cols,Q.rows)))),this.register((0,I.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(ie){if(this._themeService)for(const Q of ie){let se,de="";switch(Q.index){case 256:se="foreground",de="10";break;case 257:se="background",de="11";break;case 258:se="cursor",de="12";break;default:se="ansi",de="4;"+Q.index}switch(Q.type){case 0:const xe=N.color.toColorRGB(se==="ansi"?this._themeService.colors.ansi[Q.index]:this._themeService.colors[se]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${de};${(0,z.toRgbString)(xe)}${H.C1_ESCAPED.ST}`);break;case 1:if(se==="ansi")this._themeService.modifyColors((ne=>ne.ansi[Q.index]=N.channels.toColor(...Q.color)));else{const ne=se;this._themeService.modifyColors((ye=>ye[ne]=N.channels.toColor(...Q.color)))}break;case 2:this._themeService.restoreColor(Q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(ie){ie?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(ie){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const ie=this.buffer.ybase+this.buffer.y,Q=this.buffer.lines.get(ie);if(!Q)return;const se=Math.min(this.buffer.x,this.cols-1),de=this._renderService.dimensions.css.cell.height,xe=Q.getWidth(se),ne=this._renderService.dimensions.css.cell.width*xe,ye=this.buffer.y*this._renderService.dimensions.css.cell.height,_e=se*this._renderService.dimensions.css.cell.width;this.textarea.style.left=_e+"px",this.textarea.style.top=ye+"px",this.textarea.style.width=ne+"px",this.textarea.style.height=de+"px",this.textarea.style.lineHeight=de+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,c.addDisposableDomListener)(this.element,"copy",(Q=>{this.hasSelection()&&(0,h.copyHandler)(Q,this._selectionService)})));const ie=Q=>(0,h.handlePasteEvent)(Q,this.textarea,this.coreService,this.optionsService);this.register((0,c.addDisposableDomListener)(this.textarea,"paste",ie)),this.register((0,c.addDisposableDomListener)(this.element,"paste",ie)),O.isFirefox?this.register((0,c.addDisposableDomListener)(this.element,"mousedown",(Q=>{Q.button===2&&(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,c.addDisposableDomListener)(this.element,"contextmenu",(Q=>{(0,h.rightClickHandler)(Q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),O.isLinux&&this.register((0,c.addDisposableDomListener)(this.element,"auxclick",(Q=>{Q.button===1&&(0,h.moveTextAreaUnderMouseCursor)(Q,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,c.addDisposableDomListener)(this.textarea,"keyup",(ie=>this._keyUp(ie)),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keydown",(ie=>this._keyDown(ie)),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"keypress",(ie=>this._keyPress(ie)),!0)),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionupdate",(ie=>this._compositionHelper.compositionupdate(ie)))),this.register((0,c.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,c.addDisposableDomListener)(this.textarea,"input",(ie=>this._inputEvent(ie)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(ie){if(!ie)throw new Error("Terminal requires a parent element.");if(ie.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=ie.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),ie.appendChild(this.element);const Q=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,c.addDisposableDomListener)(this.screenElement,"mousemove",(se=>this.updateCursorStyle(se)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",d.promptLabel),O.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,ie.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,c.addDisposableDomListener)(this.textarea,"focus",(se=>this._handleTextAreaFocus(se)))),this.register((0,c.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(P.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(w.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(T.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((se=>this._onRender.fire(se)))),this.onResize((se=>this._renderService.resize(se.cols,se.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(v.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(b.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(u.Linkifier,this.screenElement)),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(p.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((se=>this.scrollLines(se.amount,se.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(A.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((se=>this.scrollLines(se.amount,se.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((se=>this._renderService.handleSelectionChanged(se.start,se.end,se.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((se=>{this.textarea.value=se,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((se=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(m.BufferDecorationRenderer,this.screenElement)),this.register((0,c.addDisposableDomListener)(this.element,"mousedown",(se=>this._selectionService.handleMouseDown(se)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(J.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(se=>this._handleScreenReaderModeOptionChange(se)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(g.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(se=>{!this._overviewRulerRenderer&&se&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(g.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(y.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const ie=this,Q=this.element;function se(ne){const ye=ie._mouseService.getMouseReportCoords(ne,ie.screenElement);if(!ye)return!1;let _e,Ae;switch(ne.overrideType||ne.type){case"mousemove":Ae=32,ne.buttons===void 0?(_e=3,ne.button!==void 0&&(_e=ne.button<3?ne.button:3)):_e=1&ne.buttons?0:4&ne.buttons?1:2&ne.buttons?2:3;break;case"mouseup":Ae=0,_e=ne.button<3?ne.button:3;break;case"mousedown":Ae=1,_e=ne.button<3?ne.button:3;break;case"wheel":if(ie._customWheelEventHandler&&ie._customWheelEventHandler(ne)===!1||ie.viewport.getLinesScrolled(ne)===0)return!1;Ae=ne.deltaY<0?0:1,_e=4;break;default:return!1}return!(Ae===void 0||_e===void 0||_e>4)&&ie.coreMouseService.triggerMouseEvent({col:ye.col,row:ye.row,x:ye.x,y:ye.y,button:_e,action:Ae,ctrl:ne.ctrlKey,alt:ne.altKey,shift:ne.shiftKey})}const de={mouseup:null,wheel:null,mousedrag:null,mousemove:null},xe={mouseup:ne=>(se(ne),ne.buttons||(this._document.removeEventListener("mouseup",de.mouseup),de.mousedrag&&this._document.removeEventListener("mousemove",de.mousedrag)),this.cancel(ne)),wheel:ne=>(se(ne),this.cancel(ne,!0)),mousedrag:ne=>{ne.buttons&&se(ne)},mousemove:ne=>{ne.buttons||se(ne)}};this.register(this.coreMouseService.onProtocolChange((ne=>{ne?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ne)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ne?de.mousemove||(Q.addEventListener("mousemove",xe.mousemove),de.mousemove=xe.mousemove):(Q.removeEventListener("mousemove",de.mousemove),de.mousemove=null),16&ne?de.wheel||(Q.addEventListener("wheel",xe.wheel,{passive:!1}),de.wheel=xe.wheel):(Q.removeEventListener("wheel",de.wheel),de.wheel=null),2&ne?de.mouseup||(de.mouseup=xe.mouseup):(this._document.removeEventListener("mouseup",de.mouseup),de.mouseup=null),4&ne?de.mousedrag||(de.mousedrag=xe.mousedrag):(this._document.removeEventListener("mousemove",de.mousedrag),de.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,c.addDisposableDomListener)(Q,"mousedown",(ne=>{if(ne.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ne))return se(ne),de.mouseup&&this._document.addEventListener("mouseup",de.mouseup),de.mousedrag&&this._document.addEventListener("mousemove",de.mousedrag),this.cancel(ne)}))),this.register((0,c.addDisposableDomListener)(Q,"wheel",(ne=>{if(!de.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(ne)===!1)return!1;if(!this.buffer.hasScrollback){const ye=this.viewport.getLinesScrolled(ne);if(ye===0)return;const _e=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ne.deltaY<0?"A":"B");let Ae="";for(let Te=0;Te<Math.abs(ye);Te++)Ae+=_e;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(ne,!0)}return this.viewport.handleWheel(ne)?this.cancel(ne):void 0}}),{passive:!1})),this.register((0,c.addDisposableDomListener)(Q,"touchstart",(ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ne),this.cancel(ne)}),{passive:!0})),this.register((0,c.addDisposableDomListener)(Q,"touchmove",(ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ne)?void 0:this.cancel(ne)}),{passive:!1}))}refresh(ie,Q){this._renderService?.refreshRows(ie,Q)}updateCursorStyle(ie){this._selectionService?.shouldColumnSelect(ie)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(ie,Q,se=0){se===1?(super.scrollLines(ie,Q,se),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(ie)}paste(ie){(0,h.paste)(ie,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(ie){this._customKeyEventHandler=ie}attachCustomWheelEventHandler(ie){this._customWheelEventHandler=ie}registerLinkProvider(ie){return this._linkProviderService.registerLinkProvider(ie)}registerCharacterJoiner(ie){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Q=this._characterJoinerService.register(ie);return this.refresh(0,this.rows-1),Q}deregisterCharacterJoiner(ie){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(ie)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(ie){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+ie)}registerDecoration(ie){return this._decorationService.registerDecoration(ie)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(ie,Q,se){this._selectionService.setSelection(ie,Q,se)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(ie,Q){this._selectionService?.selectLines(ie,Q)}_keyDown(ie){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(ie)===!1)return!1;const Q=this.browser.isMac&&this.options.macOptionIsMeta&&ie.altKey;if(!Q&&!this._compositionHelper.keydown(ie))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Q||ie.key!=="Dead"&&ie.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const se=(0,j.evaluateKeyboardEvent)(ie,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(ie),se.type===3||se.type===2){const de=this.rows-1;return this.scrollLines(se.type===2?-de:de),this.cancel(ie,!0)}return se.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,ie)||(se.cancel&&this.cancel(ie,!0),!se.key||!!(ie.key&&!ie.ctrlKey&&!ie.altKey&&!ie.metaKey&&ie.key.length===1&&ie.key.charCodeAt(0)>=65&&ie.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(se.key!==H.C0.ETX&&se.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:se.key,domEvent:ie}),this._showCursor(),this.coreService.triggerDataEvent(se.key,!0),!this.optionsService.rawOptions.screenReaderMode||ie.altKey||ie.ctrlKey?this.cancel(ie,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(ie,Q){const se=ie.isMac&&!this.options.macOptionIsMeta&&Q.altKey&&!Q.ctrlKey&&!Q.metaKey||ie.isWindows&&Q.altKey&&Q.ctrlKey&&!Q.metaKey||ie.isWindows&&Q.getModifierState("AltGraph");return Q.type==="keypress"?se:se&&(!Q.keyCode||Q.keyCode>47)}_keyUp(ie){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(ie)===!1||((function(Q){return Q.keyCode===16||Q.keyCode===17||Q.keyCode===18})(ie)||this.focus(),this.updateCursorStyle(ie),this._keyPressHandled=!1)}_keyPress(ie){let Q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(ie)===!1)return!1;if(this.cancel(ie),ie.charCode)Q=ie.charCode;else if(ie.which===null||ie.which===void 0)Q=ie.keyCode;else{if(ie.which===0||ie.charCode===0)return!1;Q=ie.which}return!(!Q||(ie.altKey||ie.ctrlKey||ie.metaKey)&&!this._isThirdLevelShift(this.browser,ie)||(Q=String.fromCharCode(Q),this._onKey.fire({key:Q,domEvent:ie}),this._showCursor(),this.coreService.triggerDataEvent(Q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(ie){if(ie.data&&ie.inputType==="insertText"&&(!ie.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Q=ie.data;return this.coreService.triggerDataEvent(Q,!0),this.cancel(ie),!0}return!1}resize(ie,Q){ie!==this.cols||Q!==this.rows?super.resize(ie,Q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(ie,Q){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let ie=1;ie<this.rows;ie++)this.buffer.lines.push(this.buffer.getBlankLine(F.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const ie=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=ie,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions(ie){if(this._renderService)switch(ie){case X.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Q=this._renderService.dimensions.css.canvas.width.toFixed(0),se=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${se};${Q}t`);break;case X.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const de=this._renderService.dimensions.css.cell.width.toFixed(0),xe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${xe};${de}t`)}}cancel(ie,Q){if(this.options.cancelEvents||Q)return ie.preventDefault(),ie.stopPropagation(),!1}}a.Terminal=re},9924:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(o,h=1e3){this._renderCallback=o,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,h,c){this._rowCount=c,o=o!==void 0?o:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const d=u-this._lastRefreshMs,f=this._debounceThresholdMS-d;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),f)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,h)}}},1680:function(l,a,o){var h=this&&this.__decorate||function(v,y,_,w){var C,b=arguments.length,T=b<3?y:w===null?w=Object.getOwnPropertyDescriptor(y,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(v,y,_,w);else for(var A=v.length-1;A>=0;A--)(C=v[A])&&(T=(b<3?C(T):b>3?C(y,_,T):C(y,_))||T);return b>3&&T&&Object.defineProperty(y,_,T),T},c=this&&this.__param||function(v,y){return function(_,w){y(_,w,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const u=o(3656),d=o(4725),f=o(8460),p=o(844),m=o(2585);let g=a.Viewport=class extends p.Disposable{constructor(v,y,_,w,C,b,T,A){super(),this._viewportElement=v,this._scrollArea=y,this._bufferService=_,this._optionsService=w,this._charSizeService=C,this._renderService=b,this._coreBrowserService=T,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((k=>this._activeBuffer=k.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((k=>this._renderDimensions=k))),this._handleThemeChange(A.colors),this.register(A.onChangeColors((k=>this._handleThemeChange(k)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(v){this._viewportElement.style.backgroundColor=v.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(v){if(v)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const y=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==y&&(this._lastRecordedBufferHeight=y,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const v=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==v&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=v),this._refreshAnimationFrame=null}syncScrollArea(v=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(v);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(v)}_handleScroll(v){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const y=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const v=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(v*(this._smoothScrollState.target-this._smoothScrollState.origin)),v<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(v,y){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(y<0&&this._viewportElement.scrollTop!==0||y>0&&_<this._lastRecordedBufferHeight)||(v.cancelable&&v.preventDefault(),!1)}handleWheel(v){const y=this._getPixelsScrolled(v);return y!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+y:this._smoothScrollState.target+=y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=y,this._bubbleScroll(v,y))}scrollLines(v){if(v!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const y=v*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:v,suppressScrollEvent:!1})}_getPixelsScrolled(v){if(v.deltaY===0||v.shiftKey)return 0;let y=this._applyScrollModifier(v.deltaY,v);return v.deltaMode===WheelEvent.DOM_DELTA_LINE?y*=this._currentRowHeight:v.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._currentRowHeight*this._bufferService.rows),y}getBufferElements(v,y){let _,w="";const C=[],b=y??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let A=v;A<b;A++){const k=T.get(A);if(!k)continue;const P=T.get(A+1)?.isWrapped;if(w+=k.translateToString(!P),!P||A===T.length-1){const N=document.createElement("div");N.textContent=w,C.push(N),w.length>0&&(_=N),w=""}}return{bufferElements:C,cursorElement:_}}getLinesScrolled(v){if(v.deltaY===0||v.shiftKey)return 0;let y=this._applyScrollModifier(v.deltaY,v);return v.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(y/=this._currentRowHeight+0,this._wheelPartialScroll+=y,y=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):v.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._bufferService.rows),y}_applyScrollModifier(v,y){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&y.altKey||_==="ctrl"&&y.ctrlKey||_==="shift"&&y.shiftKey?v*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:v*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(v){this._lastTouchY=v.touches[0].pageY}handleTouchMove(v){const y=this._lastTouchY-v.touches[0].pageY;return this._lastTouchY=v.touches[0].pageY,y!==0&&(this._viewportElement.scrollTop+=y,this._bubbleScroll(v,y))}};a.Viewport=g=h([c(2,m.IBufferService),c(3,m.IOptionsService),c(4,d.ICharSizeService),c(5,d.IRenderService),c(6,d.ICoreBrowserService),c(7,d.IThemeService)],g)},3107:function(l,a,o){var h=this&&this.__decorate||function(m,g,v,y){var _,w=arguments.length,C=w<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,g,v,y);else for(var b=m.length-1;b>=0;b--)(_=m[b])&&(C=(w<3?_(C):w>3?_(g,v,C):_(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},c=this&&this.__param||function(m,g){return function(v,y){g(v,y,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const u=o(4725),d=o(844),f=o(2585);let p=a.BufferDecorationRenderer=class extends d.Disposable{constructor(m,g,v,y,_){super(),this._screenElement=m,this._bufferService=g,this._coreBrowserService=v,this._decorationService=y,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((w=>this._removeDecoration(w)))),this.register((0,d.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){const g=this._coreBrowserService.mainDocument.createElement("div");g.classList.add("xterm-decoration"),g.classList.toggle("xterm-decoration-top-layer",m?.options?.layer==="top"),g.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,g.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",g.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",g.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=m.options.x??0;return v&&v>this._bufferService.cols&&(g.style.display="none"),this._refreshXPosition(m,g),g}_refreshStyle(m){const g=m.marker.line-this._bufferService.buffers.active.ydisp;if(g<0||g>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let v=this._decorationElements.get(m);v||(v=this._createElement(m),m.element=v,this._decorationElements.set(m,v),this._container.appendChild(v),m.onDispose((()=>{this._decorationElements.delete(m),v.remove()}))),v.style.top=g*this._renderService.dimensions.css.cell.height+"px",v.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(v)}}_refreshXPosition(m,g=m.element){if(!g)return;const v=m.options.x??0;(m.options.anchor||"left")==="right"?g.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":g.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){this._decorationElements.get(m)?.remove(),this._decorationElements.delete(m),m.dispose()}};a.BufferDecorationRenderer=p=h([c(1,f.IBufferService),c(2,u.ICoreBrowserService),c(3,f.IDecorationService),c(4,u.IRenderService)],p)},5871:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const h of this._zones)if(h.color===o.options.overviewRulerOptions.color&&h.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,o.marker.line))return;if(this._lineAdjacentToZone(h,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(h,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,h){return h>=o.startBufferLine&&h<=o.endBufferLine}_lineAdjacentToZone(o,h,c){return h>=o.startBufferLine-this._linePadding[c||"full"]&&h<=o.endBufferLine+this._linePadding[c||"full"]}_addLineToZone(o,h){o.startBufferLine=Math.min(o.startBufferLine,h),o.endBufferLine=Math.max(o.endBufferLine,h)}}},5744:function(l,a,o){var h=this&&this.__decorate||function(_,w,C,b){var T,A=arguments.length,k=A<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,C):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,w,C,b);else for(var P=_.length-1;P>=0;P--)(T=_[P])&&(k=(A<3?T(k):A>3?T(w,C,k):T(w,C))||k);return A>3&&k&&Object.defineProperty(w,C,k),k},c=this&&this.__param||function(_,w){return function(C,b){w(C,b,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const u=o(5871),d=o(4725),f=o(844),p=o(2585),m={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0};let y=a.OverviewRulerRenderer=class extends f.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,w,C,b,T,A,k){super(),this._viewportElement=_,this._screenElement=w,this._bufferService=C,this._decorationService=b,this._renderService=T,this._optionsService=A,this._coreBrowserService=k,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,f.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);g.full=this._canvas.width,g.left=_,g.center=w,g.right=_,this._refreshDrawHeightConstants(),v.full=0,v.left=0,v.center=g.left,v.right=g.left+g.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowserService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowserService.dpr);m.left=w,m.center=w,m.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const w of _)w.position!=="full"&&this._renderColorZone(w);for(const w of _)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(v[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-m[_.position||"full"]/2),g[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[_.position||"full"]))}_queueRefresh(_,w){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};a.OverviewRulerRenderer=y=h([c(2,p.IBufferService),c(3,p.IDecorationService),c(4,d.IRenderService),c(5,p.IOptionsService),c(6,d.ICoreBrowserService)],y)},2950:function(l,a,o){var h=this&&this.__decorate||function(m,g,v,y){var _,w=arguments.length,C=w<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,g,v,y);else for(var b=m.length-1;b>=0;b--)(_=m[b])&&(C=(w<3?_(C):w>3?_(g,v,C):_(g,v))||C);return w>3&&C&&Object.defineProperty(g,v,C),C},c=this&&this.__param||function(m,g){return function(v,y){g(v,y,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const u=o(4725),d=o(2585),f=o(2584);let p=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(m,g,v,y,_,w){this._textarea=m,this._compositionView=g,this._bufferService=v,this._optionsService=y,this._coreService=_,this._renderService=w,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const g={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let v;this._isSendingComposition=!1,g.start+=this._dataAlreadySent.length,v=this._isComposing?this._textarea.value.substring(g.start,g.end):this._textarea.value.substring(g.start),v.length>0&&this._coreService.triggerDataEvent(v,!0)}}),0)}else{this._isSendingComposition=!1;const g=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(g,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const g=this._textarea.value,v=g.replace(m,"");this._dataAlreadySent=v,g.length>m.length?this._coreService.triggerDataEvent(v,!0):g.length<m.length?this._coreService.triggerDataEvent(`${f.C0.DEL}`,!0):g.length===m.length&&g!==m&&this._coreService.triggerDataEvent(g,!0)}}),0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const g=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),v=this._renderService.dimensions.css.cell.height,y=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=g*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=y+"px",this._compositionView.style.height=v+"px",this._compositionView.style.lineHeight=v+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const w=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=y+"px",this._textarea.style.width=Math.max(w.width,1)+"px",this._textarea.style.height=Math.max(w.height,1)+"px",this._textarea.style.lineHeight=w.height+"px"}m||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};a.CompositionHelper=p=h([c(2,d.IBufferService),c(3,d.IOptionsService),c(4,d.ICoreService),c(5,u.IRenderService)],p)},9806:(l,a)=>{function o(h,c,u){const d=u.getBoundingClientRect(),f=h.getComputedStyle(u),p=parseInt(f.getPropertyValue("padding-left")),m=parseInt(f.getPropertyValue("padding-top"));return[c.clientX-d.left-p,c.clientY-d.top-m]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=o,a.getCoords=function(h,c,u,d,f,p,m,g,v){if(!p)return;const y=o(h,c,u);return y?(y[0]=Math.ceil((y[0]+(v?m/2:0))/m),y[1]=Math.ceil(y[1]/g),y[0]=Math.min(Math.max(y[0],1),d+(v?1:0)),y[1]=Math.min(Math.max(y[1],1),f),y):void 0}},9504:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const h=o(2584);function c(g,v,y,_){const w=g-u(g,y),C=v-u(v,y),b=Math.abs(w-C)-(function(T,A,k){let P=0;const N=T-u(T,k),D=A-u(A,k);for(let L=0;L<Math.abs(N-D);L++){const I=d(T,A)==="A"?-1:1;k.buffer.lines.get(N+I*L)?.isWrapped&&P++}return P})(g,v,y);return m(b,p(d(g,v),_))}function u(g,v){let y=0,_=v.buffer.lines.get(g),w=_?.isWrapped;for(;w&&g>=0&&g<v.rows;)y++,_=v.buffer.lines.get(--g),w=_?.isWrapped;return y}function d(g,v){return g>v?"A":"B"}function f(g,v,y,_,w,C){let b=g,T=v,A="";for(;b!==y||T!==_;)b+=w?1:-1,w&&b>C.cols-1?(A+=C.buffer.translateBufferLineToString(T,!1,g,b),b=0,g=0,T++):!w&&b<0&&(A+=C.buffer.translateBufferLineToString(T,!1,0,g+1),b=C.cols-1,g=b,T--);return A+C.buffer.translateBufferLineToString(T,!1,g,b)}function p(g,v){const y=v?"O":"[";return h.C0.ESC+y+g}function m(g,v){g=Math.floor(g);let y="";for(let _=0;_<g;_++)y+=v;return y}a.moveToCellSequence=function(g,v,y,_){const w=y.buffer.x,C=y.buffer.y;if(!y.buffer.hasScrollback)return(function(A,k,P,N,D,L){return c(k,N,D,L).length===0?"":m(f(A,k,A,k-u(k,D),!1,D).length,p("D",L))})(w,C,0,v,y,_)+c(C,v,y,_)+(function(A,k,P,N,D,L){let I;I=c(k,N,D,L).length>0?N-u(N,D):k;const O=N,F=(function(H,j,z,W,K,X){let J;return J=c(z,W,K,X).length>0?W-u(W,K):j,H<z&&J<=W||H>=z&&J<W?"C":"D"})(A,k,P,N,D,L);return m(f(A,I,P,O,F==="C",D).length,p(F,L))})(w,C,g,v,y,_);let b;if(C===v)return b=w>g?"D":"C",m(Math.abs(w-g),p(b,_));b=C>v?"D":"C";const T=Math.abs(C-v);return m((function(A,k){return k.cols-A})(C>v?g:w,y)+(T-1)*y.cols+1+((C>v?w:g)-1),p(b,_))}},1296:function(l,a,o){var h=this&&this.__decorate||function(L,I,O,F){var H,j=arguments.length,z=j<3?I:F===null?F=Object.getOwnPropertyDescriptor(I,O):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(L,I,O,F);else for(var W=L.length-1;W>=0;W--)(H=L[W])&&(z=(j<3?H(z):j>3?H(I,O,z):H(I,O))||z);return j>3&&z&&Object.defineProperty(I,O,z),z},c=this&&this.__param||function(L,I){return function(O,F){I(O,F,L)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const u=o(3787),d=o(2550),f=o(2223),p=o(6171),m=o(6052),g=o(4725),v=o(8055),y=o(8460),_=o(844),w=o(2585),C="xterm-dom-renderer-owner-",b="xterm-rows",T="xterm-fg-",A="xterm-bg-",k="xterm-focus",P="xterm-selection";let N=1,D=a.DomRenderer=class extends _.Disposable{constructor(L,I,O,F,H,j,z,W,K,X,J,te,re){super(),this._terminal=L,this._document=I,this._element=O,this._screenElement=F,this._viewportElement=H,this._helperContainer=j,this._linkifier2=z,this._charSizeService=K,this._optionsService=X,this._bufferService=J,this._coreBrowserService=te,this._themeService=re,this._terminalClass=N++,this._rowElements=[],this._selectionRenderModel=(0,m.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(b),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(P),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,p.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((ae=>this._injectCss(ae)))),this._injectCss(this._themeService.colors),this._rowFactory=W.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((ae=>this._handleLinkHover(ae)))),this.register(this._linkifier2.onHideLinkUnderline((ae=>this._handleLinkLeave(ae)))),this.register((0,_.toDisposable)((()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new d.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const L=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*L,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*L),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/L),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/L),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const O of this._rowElements)O.style.width=`${this.dimensions.css.canvas.width}px`,O.style.height=`${this.dimensions.css.cell.height}px`,O.style.lineHeight=`${this.dimensions.css.cell.height}px`,O.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const I=`${this._terminalSelector} .${b} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=I,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(L){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let I=`${this._terminalSelector} .${b} { color: ${L.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;I+=`${this._terminalSelector} .${b} .xterm-dim { color: ${v.color.multiplyOpacity(L.foreground,.5).css};}`,I+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const O=`blink_underline_${this._terminalClass}`,F=`blink_bar_${this._terminalClass}`,H=`blink_block_${this._terminalClass}`;I+=`@keyframes ${O} { 50% {  border-bottom-style: hidden; }}`,I+=`@keyframes ${F} { 50% {  box-shadow: none; }}`,I+=`@keyframes ${H} { 0% {  background-color: ${L.cursor.css};  color: ${L.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${L.cursor.css}; }}`,I+=`${this._terminalSelector} .${b}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${O} 1s step-end infinite;}${this._terminalSelector} .${b}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${F} 1s step-end infinite;}${this._terminalSelector} .${b}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${H} 1s step-end infinite;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-block { background-color: ${L.cursor.css}; color: ${L.cursorAccent.css};}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${L.cursor.css} !important; color: ${L.cursorAccent.css} !important;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${L.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${L.cursor.css} inset;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${L.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,I+=`${this._terminalSelector} .${P} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${P} div { position: absolute; background-color: ${L.selectionBackgroundOpaque.css};}${this._terminalSelector} .${P} div { position: absolute; background-color: ${L.selectionInactiveBackgroundOpaque.css};}`;for(const[j,z]of L.ansi.entries())I+=`${this._terminalSelector} .${T}${j} { color: ${z.css}; }${this._terminalSelector} .${T}${j}.xterm-dim { color: ${v.color.multiplyOpacity(z,.5).css}; }${this._terminalSelector} .${A}${j} { background-color: ${z.css}; }`;I+=`${this._terminalSelector} .${T}${f.INVERTED_DEFAULT_COLOR} { color: ${v.color.opaque(L.background).css}; }${this._terminalSelector} .${T}${f.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${v.color.multiplyOpacity(v.color.opaque(L.background),.5).css}; }${this._terminalSelector} .${A}${f.INVERTED_DEFAULT_COLOR} { background-color: ${L.foreground.css}; }`,this._themeStyleElement.textContent=I}_setDefaultSpacing(){const L=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${L}px`,this._rowFactory.defaultSpacing=L}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(L,I){for(let O=this._rowElements.length;O<=I;O++){const F=this._document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(L,I){this._refreshRowElements(L,I),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(k),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(k),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(L,I,O){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(L,I,O),this.renderRows(0,this._bufferService.rows-1),!L||!I)return;this._selectionRenderModel.update(this._terminal,L,I,O);const F=this._selectionRenderModel.viewportStartRow,H=this._selectionRenderModel.viewportEndRow,j=this._selectionRenderModel.viewportCappedStartRow,z=this._selectionRenderModel.viewportCappedEndRow;if(j>=this._bufferService.rows||z<0)return;const W=this._document.createDocumentFragment();if(O){const K=L[0]>I[0];W.appendChild(this._createSelectionElement(j,K?I[0]:L[0],K?L[0]:I[0],z-j+1))}else{const K=F===j?L[0]:0,X=j===H?I[0]:this._bufferService.cols;W.appendChild(this._createSelectionElement(j,K,X));const J=z-j-1;if(W.appendChild(this._createSelectionElement(j+1,0,this._bufferService.cols,J)),j!==z){const te=H===z?I[0]:this._bufferService.cols;W.appendChild(this._createSelectionElement(z,0,te))}}this._selectionContainer.appendChild(W)}_createSelectionElement(L,I,O,F=1){const H=this._document.createElement("div"),j=I*this.dimensions.css.cell.width;let z=this.dimensions.css.cell.width*(O-I);return j+z>this.dimensions.css.canvas.width&&(z=this.dimensions.css.canvas.width-j),H.style.height=F*this.dimensions.css.cell.height+"px",H.style.top=L*this.dimensions.css.cell.height+"px",H.style.left=`${j}px`,H.style.width=`${z}px`,H}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const L of this._rowElements)L.replaceChildren()}renderRows(L,I){const O=this._bufferService.buffer,F=O.ybase+O.y,H=Math.min(O.x,this._bufferService.cols-1),j=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,W=this._optionsService.rawOptions.cursorInactiveStyle;for(let K=L;K<=I;K++){const X=K+O.ydisp,J=this._rowElements[K],te=O.lines.get(X);if(!J||!te)break;J.replaceChildren(...this._rowFactory.createRow(te,X,X===F,z,W,H,j,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!0)}_handleLinkLeave(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!1)}_setCellUnderline(L,I,O,F,H,j){O<0&&(L=0),F<0&&(I=0);const z=this._bufferService.rows-1;O=Math.max(Math.min(O,z),0),F=Math.max(Math.min(F,z),0),H=Math.min(H,this._bufferService.cols);const W=this._bufferService.buffer,K=W.ybase+W.y,X=Math.min(W.x,H-1),J=this._optionsService.rawOptions.cursorBlink,te=this._optionsService.rawOptions.cursorStyle,re=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=O;ae<=F;++ae){const ie=ae+W.ydisp,Q=this._rowElements[ae],se=W.lines.get(ie);if(!Q||!se)break;Q.replaceChildren(...this._rowFactory.createRow(se,ie,ie===K,te,re,X,J,this.dimensions.css.cell.width,this._widthCache,j?ae===O?L:0:-1,j?(ae===F?I:H)-1:-1))}}};a.DomRenderer=D=h([c(7,w.IInstantiationService),c(8,g.ICharSizeService),c(9,w.IOptionsService),c(10,w.IBufferService),c(11,g.ICoreBrowserService),c(12,g.IThemeService)],D)},3787:function(l,a,o){var h=this&&this.__decorate||function(b,T,A,k){var P,N=arguments.length,D=N<3?T:k===null?k=Object.getOwnPropertyDescriptor(T,A):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(b,T,A,k);else for(var L=b.length-1;L>=0;L--)(P=b[L])&&(D=(N<3?P(D):N>3?P(T,A,D):P(T,A))||D);return N>3&&D&&Object.defineProperty(T,A,D),D},c=this&&this.__param||function(b,T){return function(A,k){T(A,k,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const u=o(2223),d=o(643),f=o(511),p=o(2585),m=o(8055),g=o(4725),v=o(4269),y=o(6171),_=o(3734);let w=a.DomRendererRowFactory=class{constructor(b,T,A,k,P,N,D){this._document=b,this._characterJoinerService=T,this._optionsService=A,this._coreBrowserService=k,this._coreService=P,this._decorationService=N,this._themeService=D,this._workCell=new f.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(b,T,A){this._selectionStart=b,this._selectionEnd=T,this._columnSelectMode=A}createRow(b,T,A,k,P,N,D,L,I,O,F){const H=[],j=this._characterJoinerService.getJoinedCharacters(T),z=this._themeService.colors;let W,K=b.getNoBgTrimmedLength();A&&K<N+1&&(K=N+1);let X=0,J="",te=0,re=0,ae=0,ie=!1,Q=0,se=!1,de=0;const xe=[],ne=O!==-1&&F!==-1;for(let ye=0;ye<K;ye++){b.loadCell(ye,this._workCell);let _e=this._workCell.getWidth();if(_e===0)continue;let Ae=!1,Te=ye,ze=this._workCell;if(j.length>0&&ye===j[0][0]){Ae=!0;const st=j.shift();ze=new v.JoinedCellData(this._workCell,b.translateToString(!0,st[0],st[1]),st[1]-st[0]),Te=st[1]-1,_e=ze.getWidth()}const tt=this._isCellInSelection(ye,T),at=A&&ye===N,_t=ne&&ye>=O&&ye<=F;let It=!1;this._decorationService.forEachDecorationAtCell(ye,T,void 0,(st=>{It=!0}));let ln=ze.getChars()||d.WHITESPACE_CELL_CHAR;if(ln===" "&&(ze.isUnderline()||ze.isOverline())&&(ln=""),de=_e*L-I.get(ln,ze.isBold(),ze.isItalic()),W){if(X&&(tt&&se||!tt&&!se&&ze.bg===te)&&(tt&&se&&z.selectionForeground||ze.fg===re)&&ze.extended.ext===ae&&_t===ie&&de===Q&&!at&&!Ae&&!It){ze.isInvisible()?J+=d.WHITESPACE_CELL_CHAR:J+=ln,X++;continue}X&&(W.textContent=J),W=this._document.createElement("span"),X=0,J=""}else W=this._document.createElement("span");if(te=ze.bg,re=ze.fg,ae=ze.extended.ext,ie=_t,Q=de,se=tt,Ae&&N>=ye&&N<=Te&&(N=ye),!this._coreService.isCursorHidden&&at&&this._coreService.isCursorInitialized){if(xe.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&xe.push("xterm-cursor-blink"),xe.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(P)switch(P){case"outline":xe.push("xterm-cursor-outline");break;case"block":xe.push("xterm-cursor-block");break;case"bar":xe.push("xterm-cursor-bar");break;case"underline":xe.push("xterm-cursor-underline")}}if(ze.isBold()&&xe.push("xterm-bold"),ze.isItalic()&&xe.push("xterm-italic"),ze.isDim()&&xe.push("xterm-dim"),J=ze.isInvisible()?d.WHITESPACE_CELL_CHAR:ze.getChars()||d.WHITESPACE_CELL_CHAR,ze.isUnderline()&&(xe.push(`xterm-underline-${ze.extended.underlineStyle}`),J===" "&&(J=""),!ze.isUnderlineColorDefault()))if(ze.isUnderlineColorRGB())W.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(ze.getUnderlineColor()).join(",")})`;else{let st=ze.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ze.isBold()&&st<8&&(st+=8),W.style.textDecorationColor=z.ansi[st].css}ze.isOverline()&&(xe.push("xterm-overline"),J===" "&&(J="")),ze.isStrikethrough()&&xe.push("xterm-strikethrough"),_t&&(W.style.textDecoration="underline");let pe=ze.getFgColor(),ce=ze.getFgColorMode(),Ne=ze.getBgColor(),Ye=ze.getBgColorMode();const Ke=!!ze.isInverse();if(Ke){const st=pe;pe=Ne,Ne=st;const St=ce;ce=Ye,Ye=St}let et,dt,Xe,Fe=!1;switch(this._decorationService.forEachDecorationAtCell(ye,T,void 0,(st=>{st.options.layer!=="top"&&Fe||(st.backgroundColorRGB&&(Ye=50331648,Ne=st.backgroundColorRGB.rgba>>8&16777215,et=st.backgroundColorRGB),st.foregroundColorRGB&&(ce=50331648,pe=st.foregroundColorRGB.rgba>>8&16777215,dt=st.foregroundColorRGB),Fe=st.options.layer==="top")})),!Fe&&tt&&(et=this._coreBrowserService.isFocused?z.selectionBackgroundOpaque:z.selectionInactiveBackgroundOpaque,Ne=et.rgba>>8&16777215,Ye=50331648,Fe=!0,z.selectionForeground&&(ce=50331648,pe=z.selectionForeground.rgba>>8&16777215,dt=z.selectionForeground)),Fe&&xe.push("xterm-decoration-top"),Ye){case 16777216:case 33554432:Xe=z.ansi[Ne],xe.push(`xterm-bg-${Ne}`);break;case 50331648:Xe=m.channels.toColor(Ne>>16,Ne>>8&255,255&Ne),this._addStyle(W,`background-color:#${C((Ne>>>0).toString(16),"0",6)}`);break;default:Ke?(Xe=z.foreground,xe.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):Xe=z.background}switch(et||ze.isDim()&&(et=m.color.multiplyOpacity(Xe,.5)),ce){case 16777216:case 33554432:ze.isBold()&&pe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(pe+=8),this._applyMinimumContrast(W,Xe,z.ansi[pe],ze,et,void 0)||xe.push(`xterm-fg-${pe}`);break;case 50331648:const st=m.channels.toColor(pe>>16&255,pe>>8&255,255&pe);this._applyMinimumContrast(W,Xe,st,ze,et,dt)||this._addStyle(W,`color:#${C(pe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(W,Xe,z.foreground,ze,et,dt)||Ke&&xe.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}xe.length&&(W.className=xe.join(" "),xe.length=0),at||Ae||It?W.textContent=J:X++,de!==this.defaultSpacing&&(W.style.letterSpacing=`${de}px`),H.push(W),ye=Te}return W&&X&&(W.textContent=J),H}_applyMinimumContrast(b,T,A,k,P,N){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,y.treatGlyphAsBackgroundColor)(k.getCode()))return!1;const D=this._getContrastCache(k);let L;if(P||N||(L=D.getColor(T.rgba,A.rgba)),L===void 0){const I=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);L=m.color.ensureContrastRatio(P||T,N||A,I),D.setColor((P||T).rgba,(N||A).rgba,L??null)}return!!L&&(this._addStyle(b,`color:${L.css}`),!0)}_getContrastCache(b){return b.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(b,T){b.setAttribute("style",`${b.getAttribute("style")||""}${T};`)}_isCellInSelection(b,T){const A=this._selectionStart,k=this._selectionEnd;return!(!A||!k)&&(this._columnSelectMode?A[0]<=k[0]?b>=A[0]&&T>=A[1]&&b<k[0]&&T<=k[1]:b<A[0]&&T>=A[1]&&b>=k[0]&&T<=k[1]:T>A[1]&&T<k[1]||A[1]===k[1]&&T===A[1]&&b>=A[0]&&b<k[0]||A[1]<k[1]&&T===k[1]&&b<k[0]||A[1]<k[1]&&T===A[1]&&b>=A[0])}};function C(b,T,A){for(;b.length<A;)b=T+b;return b}a.DomRendererRowFactory=w=h([c(1,g.ICharacterJoinerService),c(2,p.IOptionsService),c(3,g.ICoreBrowserService),c(4,p.ICoreService),c(5,p.IDecorationService),c(6,g.IThemeService)],w)},2550:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(o,h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=o.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=o.createElement("span");c.classList.add("xterm-char-measure-element");const u=o.createElement("span");u.classList.add("xterm-char-measure-element"),u.style.fontWeight="bold";const d=o.createElement("span");d.classList.add("xterm-char-measure-element"),d.style.fontStyle="italic";const f=o.createElement("span");f.classList.add("xterm-char-measure-element"),f.style.fontWeight="bold",f.style.fontStyle="italic",this._measureElements=[c,u,d,f],this._container.appendChild(c),this._container.appendChild(u),this._container.appendChild(d),this._container.appendChild(f),h.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(o,h,c,u){o===this._font&&h===this._fontSize&&c===this._weight&&u===this._weightBold||(this._font=o,this._fontSize=h,this._weight=c,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${c}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${c}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(o,h,c){let u=0;if(!h&&!c&&o.length===1&&(u=o.charCodeAt(0))<256){if(this._flat[u]!==-9999)return this._flat[u];const p=this._measure(o,0);return p>0&&(this._flat[u]=p),p}let d=o;h&&(d+="B"),c&&(d+="I");let f=this._holey.get(d);if(f===void 0){let p=0;h&&(p|=1),c&&(p|=2),f=this._measure(o,p),f>0&&this._holey.set(d,f)}return f}_measure(o,h){const c=this._measureElements[h];return c.textContent=o.repeat(32),c.offsetWidth/32}}},2223:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const h=o(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(l,a)=>{function o(c){return 57508<=c&&c<=57558}function h(c){return c>=128512&&c<=128591||c>=127744&&c<=128511||c>=128640&&c<=128767||c>=9728&&c<=9983||c>=9984&&c<=10175||c>=65024&&c<=65039||c>=129280&&c<=129535||c>=127462&&c<=127487}Object.defineProperty(a,"__esModule",{value:!0}),a.computeNextVariantOffset=a.createRenderDimensions=a.treatGlyphAsBackgroundColor=a.allowRescaling=a.isEmoji=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},a.isPowerlineGlyph=o,a.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},a.isEmoji=h,a.allowRescaling=function(c,u,d,f){return u===1&&d>Math.ceil(1.5*f)&&c!==void 0&&c>255&&!h(c)&&!o(c)&&!(function(p){return 57344<=p&&p<=63743})(c)},a.treatGlyphAsBackgroundColor=function(c){return o(c)||(function(u){return 9472<=u&&u<=9631})(c)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},a.computeNextVariantOffset=function(c,u,d=0){return(c-(2*Math.round(u)-d))%(2*Math.round(u))}},6052:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createSelectionRenderModel=void 0;class o{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(c,u,d,f=!1){if(this.selectionStart=u,this.selectionEnd=d,!u||!d||u[0]===d[0]&&u[1]===d[1])return void this.clear();const p=c.buffers.active.ydisp,m=u[1]-p,g=d[1]-p,v=Math.max(m,0),y=Math.min(g,c.rows-1);v>=c.rows||y<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=f,this.viewportStartRow=m,this.viewportEndRow=g,this.viewportCappedStartRow=v,this.viewportCappedEndRow=y,this.startCol=u[0],this.endCol=d[0])}isCellSelected(c,u,d){return!!this.hasSelection&&(d-=c.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?u>=this.startCol&&d>=this.viewportCappedStartRow&&u<this.endCol&&d<=this.viewportCappedEndRow:u<this.startCol&&d>=this.viewportCappedStartRow&&u>=this.endCol&&d<=this.viewportCappedEndRow:d>this.viewportStartRow&&d<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&d===this.viewportStartRow&&u>=this.startCol&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&d===this.viewportEndRow&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&d===this.viewportStartRow&&u>=this.startCol)}}a.createSelectionRenderModel=function(){return new o}},456:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,h=this.selectionEnd;return!(!o||!h)&&(o[1]>h[1]||o[1]===h[1]&&o[0]>h[0])}handleTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,a,o){var h=this&&this.__decorate||function(y,_,w,C){var b,T=arguments.length,A=T<3?_:C===null?C=Object.getOwnPropertyDescriptor(_,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,_,w,C);else for(var k=y.length-1;k>=0;k--)(b=y[k])&&(A=(T<3?b(A):T>3?b(_,w,A):b(_,w))||A);return T>3&&A&&Object.defineProperty(_,w,A),A},c=this&&this.__param||function(y,_){return function(w,C){_(w,C,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const u=o(2585),d=o(8460),f=o(844);let p=a.CharSizeService=class extends f.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(y,_,w){super(),this._optionsService=w,this.width=0,this.height=0,this._onCharSizeChange=this.register(new d.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new v(this._optionsService))}catch{this._measureStrategy=this.register(new g(y,_,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const y=this._measureStrategy.measure();y.width===this.width&&y.height===this.height||(this.width=y.width,this.height=y.height,this._onCharSizeChange.fire())}};a.CharSizeService=p=h([c(2,u.IOptionsService)],p);class m extends f.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(_,w){_!==void 0&&_>0&&w!==void 0&&w>0&&(this._result.width=_,this._result.height=w)}}class g extends m{constructor(_,w,C){super(),this._document=_,this._parentElement=w,this._optionsService=C,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class v extends m{constructor(_){super(),this._optionsService=_,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const w=this._ctx.measureText("W");if(!("width"in w&&"fontBoundingBoxAscent"in w&&"fontBoundingBoxDescent"in w))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const _=this._ctx.measureText("W");return this._validateAndSet(_.width,_.fontBoundingBoxAscent+_.fontBoundingBoxDescent),this._result}}},4269:function(l,a,o){var h=this&&this.__decorate||function(v,y,_,w){var C,b=arguments.length,T=b<3?y:w===null?w=Object.getOwnPropertyDescriptor(y,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(v,y,_,w);else for(var A=v.length-1;A>=0;A--)(C=v[A])&&(T=(b<3?C(T):b>3?C(y,_,T):C(y,_))||T);return b>3&&T&&Object.defineProperty(y,_,T),T},c=this&&this.__param||function(v,y){return function(_,w){y(_,w,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const u=o(3734),d=o(643),f=o(511),p=o(2585);class m extends u.AttributeData{constructor(y,_,w){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=_,this._width=w}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=m;let g=a.CharacterJoinerService=class T6{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new f.CellData}register(y){const _={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(_),_.id}deregister(y){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===y)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(y){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(y);if(!_||_.length===0)return[];const w=[],C=_.translateToString(!0);let b=0,T=0,A=0,k=_.getFg(0),P=_.getBg(0);for(let N=0;N<_.getTrimmedLength();N++)if(_.loadCell(N,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==P){if(N-b>1){const D=this._getJoinedRanges(C,A,T,_,b);for(let L=0;L<D.length;L++)w.push(D[L])}b=N,A=T,k=this._workCell.fg,P=this._workCell.bg}T+=this._workCell.getChars().length||d.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-b>1){const N=this._getJoinedRanges(C,A,T,_,b);for(let D=0;D<N.length;D++)w.push(N[D])}return w}_getJoinedRanges(y,_,w,C,b){const T=y.substring(_,w);let A=[];try{A=this._characterJoiners[0].handler(T)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const P=this._characterJoiners[k].handler(T);for(let N=0;N<P.length;N++)T6._mergeRanges(A,P[N])}catch(P){console.error(P)}return this._stringRangesToCellRanges(A,C,b),A}_stringRangesToCellRanges(y,_,w){let C=0,b=!1,T=0,A=y[C];if(A){for(let k=w;k<this._bufferService.cols;k++){const P=_.getWidth(k),N=_.getString(k).length||d.WHITESPACE_CELL_CHAR.length;if(P!==0){if(!b&&A[0]<=T&&(A[0]=k,b=!0),A[1]<=T){if(A[1]=k,A=y[++C],!A)break;A[0]<=T?(A[0]=k,b=!0):b=!1}T+=N}}A&&(A[1]=this._bufferService.cols)}}static _mergeRanges(y,_){let w=!1;for(let C=0;C<y.length;C++){const b=y[C];if(w){if(_[1]<=b[0])return y[C-1][1]=_[1],y;if(_[1]<=b[1])return y[C-1][1]=Math.max(_[1],b[1]),y.splice(C,1),y;y.splice(C,1),C--}else{if(_[1]<=b[0])return y.splice(C,0,_),y;if(_[1]<=b[1])return b[0]=Math.min(_[0],b[0]),y;_[0]<b[1]&&(b[0]=Math.min(_[0],b[0]),w=!0)}}return w?y[y.length-1][1]=_[1]:y.push(_),y}};a.CharacterJoinerService=g=h([c(0,p.IBufferService)],g)},5114:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0;const h=o(844),c=o(8460),u=o(3656);class d extends h.Disposable{constructor(m,g,v){super(),this._textarea=m,this._window=g,this.mainDocument=v,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new f(this._window),this._onDprChange=this.register(new c.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new c.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((y=>this._screenDprMonitor.setWindow(y)))),this.register((0,c.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(m){this._window!==m&&(this._window=m,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}a.CoreBrowserService=d;class f extends h.Disposable{constructor(m){super(),this._parentWindow=m,this._windowResizeListener=this.register(new h.MutableDisposable),this._onDprChange=this.register(new c.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,h.toDisposable)((()=>this.clearListener())))}setWindow(m){this._parentWindow=m,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,u.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LinkProviderService=void 0;const h=o(844);class c extends h.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,h.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(d){return this.linkProviders.push(d),{dispose:()=>{const f=this.linkProviders.indexOf(d);f!==-1&&this.linkProviders.splice(f,1)}}}}a.LinkProviderService=c},8934:function(l,a,o){var h=this&&this.__decorate||function(p,m,g,v){var y,_=arguments.length,w=_<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(p,m,g,v);else for(var C=p.length-1;C>=0;C--)(y=p[C])&&(w=(_<3?y(w):_>3?y(m,g,w):y(m,g))||w);return _>3&&w&&Object.defineProperty(m,g,w),w},c=this&&this.__param||function(p,m){return function(g,v){m(g,v,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const u=o(4725),d=o(9806);let f=a.MouseService=class{constructor(p,m){this._renderService=p,this._charSizeService=m}getCoords(p,m,g,v,y){return(0,d.getCoords)(window,p,m,g,v,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,y)}getMouseReportCoords(p,m){const g=(0,d.getCoordsRelativeToElement)(window,p,m);if(this._charSizeService.hasValidSize)return g[0]=Math.min(Math.max(g[0],0),this._renderService.dimensions.css.canvas.width-1),g[1]=Math.min(Math.max(g[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(g[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(g[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(g[0]),y:Math.floor(g[1])}}};a.MouseService=f=h([c(0,u.IRenderService),c(1,u.ICharSizeService)],f)},3230:function(l,a,o){var h=this&&this.__decorate||function(y,_,w,C){var b,T=arguments.length,A=T<3?_:C===null?C=Object.getOwnPropertyDescriptor(_,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,_,w,C);else for(var k=y.length-1;k>=0;k--)(b=y[k])&&(A=(T<3?b(A):T>3?b(_,w,A):b(_,w))||A);return T>3&&A&&Object.defineProperty(_,w,A),A},c=this&&this.__param||function(y,_){return function(w,C){_(w,C,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const u=o(6193),d=o(4725),f=o(8460),p=o(844),m=o(7226),g=o(2585);let v=a.RenderService=class extends p.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,_,w,C,b,T,A,k){super(),this._rowCount=y,this._charSizeService=C,this._renderer=this.register(new p.MutableDisposable),this._pausedResizeTask=new m.DebouncedIdleTask,this._observerDisposable=this.register(new p.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new f.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new f.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new f.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new f.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new u.RenderDebouncer(((P,N)=>this._renderRows(P,N)),A),this.register(this._renderDebouncer),this.register(A.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(T.onResize((()=>this._fullRefresh()))),this.register(T.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(w.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(b.onDecorationRegistered((()=>this._fullRefresh()))),this.register(b.onDecorationRemoved((()=>this._fullRefresh()))),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()}))),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(T.buffer.y,T.buffer.y,!0)))),this.register(k.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(A.window,_),this.register(A.onWindowChange((P=>this._registerIntersectionObserver(P,_))))}_registerIntersectionObserver(y,_){if("IntersectionObserver"in y){const w=new y.IntersectionObserver((C=>this._handleIntersectionChange(C[C.length-1])),{threshold:0});w.observe(_),this._observerDisposable.value=(0,p.toDisposable)((()=>w.disconnect()))}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,_,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,_,this._rowCount))}_renderRows(y,_){this._renderer.value&&(y=Math.min(y,this._rowCount-1),_=Math.min(_,this._rowCount-1),this._renderer.value.renderRows(y,_),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:_}),this._onRender.fire({start:y,end:_}),this._isNextRenderRedrawOnly=!0)}resize(y,_){this._rowCount=_,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value&&(this._renderer.value.onRequestRedraw((_=>this.refreshRows(_.start,_.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,_){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(y,_))):this._renderer.value.handleResize(y,_),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(y,_,w){this._selectionState.start=y,this._selectionState.end=_,this._selectionState.columnSelectMode=w,this._renderer.value?.handleSelectionChanged(y,_,w)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};a.RenderService=v=h([c(2,g.IOptionsService),c(3,d.ICharSizeService),c(4,g.IDecorationService),c(5,g.IBufferService),c(6,d.ICoreBrowserService),c(7,d.IThemeService)],v)},9312:function(l,a,o){var h=this&&this.__decorate||function(A,k,P,N){var D,L=arguments.length,I=L<3?k:N===null?N=Object.getOwnPropertyDescriptor(k,P):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(A,k,P,N);else for(var O=A.length-1;O>=0;O--)(D=A[O])&&(I=(L<3?D(I):L>3?D(k,P,I):D(k,P))||I);return L>3&&I&&Object.defineProperty(k,P,I),I},c=this&&this.__param||function(A,k){return function(P,N){k(P,N,A)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const u=o(9806),d=o(9504),f=o(456),p=o(4725),m=o(8460),g=o(844),v=o(6114),y=o(4841),_=o(511),w=o(2585),C="",b=new RegExp(C,"g");let T=a.SelectionService=class extends g.Disposable{constructor(A,k,P,N,D,L,I,O,F){super(),this._element=A,this._screenElement=k,this._linkifier=P,this._bufferService=N,this._coreService=D,this._mouseService=L,this._optionsService=I,this._renderService=O,this._coreBrowserService=F,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new m.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new m.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((H=>this._handleTrim(H))),this.register(this._bufferService.buffers.onBufferActivate((H=>this._handleBufferActivate(H)))),this.enable(),this._model=new f.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,g.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const A=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!A||!k||A[0]===k[0]&&A[1]===k[1])}get selectionText(){const A=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!A||!k)return"";const P=this._bufferService.buffer,N=[];if(this._activeSelectionMode===3){if(A[0]===k[0])return"";const D=A[0]<k[0]?A[0]:k[0],L=A[0]<k[0]?k[0]:A[0];for(let I=A[1];I<=k[1];I++){const O=P.translateBufferLineToString(I,!0,D,L);N.push(O)}}else{const D=A[1]===k[1]?k[0]:void 0;N.push(P.translateBufferLineToString(A[1],!0,A[0],D));for(let L=A[1]+1;L<=k[1]-1;L++){const I=P.lines.get(L),O=P.translateBufferLineToString(L,!0);I?.isWrapped?N[N.length-1]+=O:N.push(O)}if(A[1]!==k[1]){const L=P.lines.get(k[1]),I=P.translateBufferLineToString(k[1],!0,0,k[0]);L&&L.isWrapped?N[N.length-1]+=I:N.push(I)}}return N.map((D=>D.replace(b," "))).join(v.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(A){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),v.isLinux&&A&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(A){const k=this._getMouseBufferCoords(A),P=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(P&&N&&k)&&this._areCoordsInSelection(k,P,N)}isCellInSelection(A,k){const P=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!P||!N)&&this._areCoordsInSelection([A,k],P,N)}_areCoordsInSelection(A,k,P){return A[1]>k[1]&&A[1]<P[1]||k[1]===P[1]&&A[1]===k[1]&&A[0]>=k[0]&&A[0]<P[0]||k[1]<P[1]&&A[1]===P[1]&&A[0]<P[0]||k[1]<P[1]&&A[1]===k[1]&&A[0]>=k[0]}_selectWordAtCursor(A,k){const P=this._linkifier.currentLink?.link?.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const N=this._getMouseBufferCoords(A);return!!N&&(this._selectWordAt(N,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(A,k){this._model.clearSelection(),A=Math.max(A,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,A],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(A){this._model.handleTrim(A)&&this.refresh()}_getMouseBufferCoords(A){const k=this._mouseService.getCoords(A,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(A){let k=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,A,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=P?0:(k>P&&(k-=P),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(A){return v.isMac?A.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:A.shiftKey}handleMouseDown(A){if(this._mouseDownTimeStamp=A.timeStamp,(A.button!==2||!this.hasSelection)&&A.button===0){if(!this._enabled){if(!this.shouldForceSelection(A))return;A.stopPropagation()}A.preventDefault(),this._dragScrollAmount=0,this._enabled&&A.shiftKey?this._handleIncrementalClick(A):A.detail===1?this._handleSingleClick(A):A.detail===2?this._handleDoubleClick(A):A.detail===3&&this._handleTripleClick(A),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(A){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(A))}_handleSingleClick(A){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(A)?3:0,this._model.selectionStart=this._getMouseBufferCoords(A),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(A){this._selectWordAtCursor(A,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(A){const k=this._getMouseBufferCoords(A);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(A){return A.altKey&&!(v.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(A){if(A.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(A),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(A),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const N=P.lines.get(this._model.selectionEnd[1]);N&&N.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const A=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(A.ydisp+this._bufferService.rows,A.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=A.ydisp),this.refresh()}}_handleMouseUp(A){const k=A.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&A.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(A,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&P[0]!==void 0&&P[1]!==void 0){const N=(0,d.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const A=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,P=!(!A||!k||A[0]===k[0]&&A[1]===k[1]);P?A&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&A[0]===this._oldSelectionStart[0]&&A[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(A,k,P)):this._oldHasSelection&&this._fireOnSelectionChange(A,k,P)}_fireOnSelectionChange(A,k,P){this._oldSelectionStart=A,this._oldSelectionEnd=k,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(A){this.clearSelection(),this._trimListener.dispose(),this._trimListener=A.activeBuffer.lines.onTrim((k=>this._handleTrim(k)))}_convertViewportColToCharacterIndex(A,k){let P=k;for(let N=0;k>=N;N++){const D=A.loadCell(N,this._workCell).getChars().length;this._workCell.getWidth()===0?P--:D>1&&k!==N&&(P+=D-1)}return P}setSelection(A,k,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[A,k],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(A){this._isClickInSelection(A)||(this._selectWordAtCursor(A,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(A,k,P=!0,N=!0){if(A[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,L=D.lines.get(A[1]);if(!L)return;const I=D.translateBufferLineToString(A[1],!1);let O=this._convertViewportColToCharacterIndex(L,A[0]),F=O;const H=A[0]-O;let j=0,z=0,W=0,K=0;if(I.charAt(O)===" "){for(;O>0&&I.charAt(O-1)===" ";)O--;for(;F<I.length&&I.charAt(F+1)===" ";)F++}else{let te=A[0],re=A[0];L.getWidth(te)===0&&(j++,te--),L.getWidth(re)===2&&(z++,re++);const ae=L.getString(re).length;for(ae>1&&(K+=ae-1,F+=ae-1);te>0&&O>0&&!this._isCharWordSeparator(L.loadCell(te-1,this._workCell));){L.loadCell(te-1,this._workCell);const ie=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,te--):ie>1&&(W+=ie-1,O-=ie-1),O--,te--}for(;re<L.length&&F+1<I.length&&!this._isCharWordSeparator(L.loadCell(re+1,this._workCell));){L.loadCell(re+1,this._workCell);const ie=this._workCell.getChars().length;this._workCell.getWidth()===2?(z++,re++):ie>1&&(K+=ie-1,F+=ie-1),F++,re++}}F++;let X=O+H-j+W,J=Math.min(this._bufferService.cols,F-O+j+z-W-K);if(k||I.slice(O,F).trim()!==""){if(P&&X===0&&L.getCodePoint(0)!==32){const te=D.lines.get(A[1]-1);if(te&&L.isWrapped&&te.getCodePoint(this._bufferService.cols-1)!==32){const re=this._getWordAt([this._bufferService.cols-1,A[1]-1],!1,!0,!1);if(re){const ae=this._bufferService.cols-re.start;X-=ae,J+=ae}}}if(N&&X+J===this._bufferService.cols&&L.getCodePoint(this._bufferService.cols-1)!==32){const te=D.lines.get(A[1]+1);if(te?.isWrapped&&te.getCodePoint(0)!==32){const re=this._getWordAt([0,A[1]+1],!1,!1,!0);re&&(J+=re.length)}}return{start:X,length:J}}}_selectWordAt(A,k){const P=this._getWordAt(A,k);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,A[1]--;this._model.selectionStart=[P.start,A[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(A){const k=this._getWordAt(A,!0);if(k){let P=A[1];for(;k.start<0;)k.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,P]}}_isCharWordSeparator(A){return A.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(A.getChars())>=0}_selectLineAt(A){const k=this._bufferService.buffer.getWrappedRangeForLine(A),P={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(P,this._bufferService.cols)}};a.SelectionService=T=h([c(3,w.IBufferService),c(4,w.ICoreService),c(5,p.IMouseService),c(6,w.IOptionsService),c(7,p.IRenderService),c(8,p.ICoreBrowserService)],T)},4725:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ILinkProviderService=a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const h=o(8343);a.ICharSizeService=(0,h.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),a.IMouseService=(0,h.createDecorator)("MouseService"),a.IRenderService=(0,h.createDecorator)("RenderService"),a.ISelectionService=(0,h.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,h.createDecorator)("ThemeService"),a.ILinkProviderService=(0,h.createDecorator)("LinkProviderService")},6731:function(l,a,o){var h=this&&this.__decorate||function(T,A,k,P){var N,D=arguments.length,L=D<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,k):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(T,A,k,P);else for(var I=T.length-1;I>=0;I--)(N=T[I])&&(L=(D<3?N(L):D>3?N(A,k,L):N(A,k))||L);return D>3&&L&&Object.defineProperty(A,k,L),L},c=this&&this.__param||function(T,A){return function(k,P){A(k,P,T)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const u=o(7239),d=o(8055),f=o(8460),p=o(844),m=o(2585),g=d.css.toColor("#ffffff"),v=d.css.toColor("#000000"),y=d.css.toColor("#ffffff"),_=d.css.toColor("#000000"),w={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const T=[d.css.toColor("#2e3436"),d.css.toColor("#cc0000"),d.css.toColor("#4e9a06"),d.css.toColor("#c4a000"),d.css.toColor("#3465a4"),d.css.toColor("#75507b"),d.css.toColor("#06989a"),d.css.toColor("#d3d7cf"),d.css.toColor("#555753"),d.css.toColor("#ef2929"),d.css.toColor("#8ae234"),d.css.toColor("#fce94f"),d.css.toColor("#729fcf"),d.css.toColor("#ad7fa8"),d.css.toColor("#34e2e2"),d.css.toColor("#eeeeec")],A=[0,95,135,175,215,255];for(let k=0;k<216;k++){const P=A[k/36%6|0],N=A[k/6%6|0],D=A[k%6];T.push({css:d.channels.toCss(P,N,D),rgba:d.channels.toRgba(P,N,D)})}for(let k=0;k<24;k++){const P=8+10*k;T.push({css:d.channels.toCss(P,P,P),rgba:d.channels.toRgba(P,P,P)})}return T})());let C=a.ThemeService=class extends p.Disposable{get colors(){return this._colors}constructor(T){super(),this._optionsService=T,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new f.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:g,background:v,cursor:y,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:w,selectionBackgroundOpaque:d.color.blend(v,w),selectionInactiveBackgroundTransparent:w,selectionInactiveBackgroundOpaque:d.color.blend(v,w),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(T={}){const A=this._colors;if(A.foreground=b(T.foreground,g),A.background=b(T.background,v),A.cursor=b(T.cursor,y),A.cursorAccent=b(T.cursorAccent,_),A.selectionBackgroundTransparent=b(T.selectionBackground,w),A.selectionBackgroundOpaque=d.color.blend(A.background,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundTransparent=b(T.selectionInactiveBackground,A.selectionBackgroundTransparent),A.selectionInactiveBackgroundOpaque=d.color.blend(A.background,A.selectionInactiveBackgroundTransparent),A.selectionForeground=T.selectionForeground?b(T.selectionForeground,d.NULL_COLOR):void 0,A.selectionForeground===d.NULL_COLOR&&(A.selectionForeground=void 0),d.color.isOpaque(A.selectionBackgroundTransparent)&&(A.selectionBackgroundTransparent=d.color.opacity(A.selectionBackgroundTransparent,.3)),d.color.isOpaque(A.selectionInactiveBackgroundTransparent)&&(A.selectionInactiveBackgroundTransparent=d.color.opacity(A.selectionInactiveBackgroundTransparent,.3)),A.ansi=a.DEFAULT_ANSI_COLORS.slice(),A.ansi[0]=b(T.black,a.DEFAULT_ANSI_COLORS[0]),A.ansi[1]=b(T.red,a.DEFAULT_ANSI_COLORS[1]),A.ansi[2]=b(T.green,a.DEFAULT_ANSI_COLORS[2]),A.ansi[3]=b(T.yellow,a.DEFAULT_ANSI_COLORS[3]),A.ansi[4]=b(T.blue,a.DEFAULT_ANSI_COLORS[4]),A.ansi[5]=b(T.magenta,a.DEFAULT_ANSI_COLORS[5]),A.ansi[6]=b(T.cyan,a.DEFAULT_ANSI_COLORS[6]),A.ansi[7]=b(T.white,a.DEFAULT_ANSI_COLORS[7]),A.ansi[8]=b(T.brightBlack,a.DEFAULT_ANSI_COLORS[8]),A.ansi[9]=b(T.brightRed,a.DEFAULT_ANSI_COLORS[9]),A.ansi[10]=b(T.brightGreen,a.DEFAULT_ANSI_COLORS[10]),A.ansi[11]=b(T.brightYellow,a.DEFAULT_ANSI_COLORS[11]),A.ansi[12]=b(T.brightBlue,a.DEFAULT_ANSI_COLORS[12]),A.ansi[13]=b(T.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),A.ansi[14]=b(T.brightCyan,a.DEFAULT_ANSI_COLORS[14]),A.ansi[15]=b(T.brightWhite,a.DEFAULT_ANSI_COLORS[15]),T.extendedAnsi){const k=Math.min(A.ansi.length-16,T.extendedAnsi.length);for(let P=0;P<k;P++)A.ansi[P+16]=b(T.extendedAnsi[P],a.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(T){this._restoreColor(T),this._onChangeColors.fire(this.colors)}_restoreColor(T){if(T!==void 0)switch(T){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[T]=this._restoreColors.ansi[T]}else for(let A=0;A<this._restoreColors.ansi.length;++A)this._colors.ansi[A]=this._restoreColors.ansi[A]}modifyColors(T){T(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function b(T,A){if(T!==void 0)try{return d.css.toColor(T)}catch{}return A}a.ThemeService=C=h([c(0,m.IOptionsService)],C)},6349:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const h=o(8460),c=o(844);class u extends c.Disposable{constructor(f){super(),this._maxLength=f,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(f){if(this._maxLength===f)return;const p=new Array(f);for(let m=0;m<Math.min(f,this.length);m++)p[m]=this._array[this._getCyclicIndex(m)];this._array=p,this._maxLength=f,this._startIndex=0}get length(){return this._length}set length(f){if(f>this._length)for(let p=this._length;p<f;p++)this._array[p]=void 0;this._length=f}get(f){return this._array[this._getCyclicIndex(f)]}set(f,p){this._array[this._getCyclicIndex(f)]=p}push(f){this._array[this._getCyclicIndex(this._length)]=f,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(f,p,...m){if(p){for(let g=f;g<this._length-p;g++)this._array[this._getCyclicIndex(g)]=this._array[this._getCyclicIndex(g+p)];this._length-=p,this.onDeleteEmitter.fire({index:f,amount:p})}for(let g=this._length-1;g>=f;g--)this._array[this._getCyclicIndex(g+m.length)]=this._array[this._getCyclicIndex(g)];for(let g=0;g<m.length;g++)this._array[this._getCyclicIndex(f+g)]=m[g];if(m.length&&this.onInsertEmitter.fire({index:f,amount:m.length}),this._length+m.length>this._maxLength){const g=this._length+m.length-this._maxLength;this._startIndex+=g,this._length=this._maxLength,this.onTrimEmitter.fire(g)}else this._length+=m.length}trimStart(f){f>this._length&&(f=this._length),this._startIndex+=f,this._length-=f,this.onTrimEmitter.fire(f)}shiftElements(f,p,m){if(!(p<=0)){if(f<0||f>=this._length)throw new Error("start argument out of range");if(f+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let v=p-1;v>=0;v--)this.set(f+v+m,this.get(f+v));const g=f+p+m-this._length;if(g>0)for(this._length+=g;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let g=0;g<p;g++)this.set(f+g+m,this.get(f+g))}}_getCyclicIndex(f){return(this._startIndex+f)%this._maxLength}}a.CircularList=u},1439:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function o(h,c=5){if(typeof h!="object")return h;const u=Array.isArray(h)?[]:{};for(const d in h)u[d]=c<=1?h[d]:h[d]&&o(h[d],c-1);return u}},8055:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;let o=0,h=0,c=0,u=0;var d,f,p,m,g;function v(_){const w=_.toString(16);return w.length<2?"0"+w:w}function y(_,w){return _<w?(w+.05)/(_+.05):(_+.05)/(w+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},(function(_){_.toCss=function(w,C,b,T){return T!==void 0?`#${v(w)}${v(C)}${v(b)}${v(T)}`:`#${v(w)}${v(C)}${v(b)}`},_.toRgba=function(w,C,b,T=255){return(w<<24|C<<16|b<<8|T)>>>0},_.toColor=function(w,C,b,T){return{css:_.toCss(w,C,b,T),rgba:_.toRgba(w,C,b,T)}}})(d||(a.channels=d={})),(function(_){function w(C,b){return u=Math.round(255*b),[o,h,c]=g.toChannels(C.rgba),{css:d.toCss(o,h,c,u),rgba:d.toRgba(o,h,c,u)}}_.blend=function(C,b){if(u=(255&b.rgba)/255,u===1)return{css:b.css,rgba:b.rgba};const T=b.rgba>>24&255,A=b.rgba>>16&255,k=b.rgba>>8&255,P=C.rgba>>24&255,N=C.rgba>>16&255,D=C.rgba>>8&255;return o=P+Math.round((T-P)*u),h=N+Math.round((A-N)*u),c=D+Math.round((k-D)*u),{css:d.toCss(o,h,c),rgba:d.toRgba(o,h,c)}},_.isOpaque=function(C){return(255&C.rgba)==255},_.ensureContrastRatio=function(C,b,T){const A=g.ensureContrastRatio(C.rgba,b.rgba,T);if(A)return d.toColor(A>>24&255,A>>16&255,A>>8&255)},_.opaque=function(C){const b=(255|C.rgba)>>>0;return[o,h,c]=g.toChannels(b),{css:d.toCss(o,h,c),rgba:b}},_.opacity=w,_.multiplyOpacity=function(C,b){return u=255&C.rgba,w(C,u*b/255)},_.toColorRGB=function(C){return[C.rgba>>24&255,C.rgba>>16&255,C.rgba>>8&255]}})(f||(a.color=f={})),(function(_){let w,C;try{const b=document.createElement("canvas");b.width=1,b.height=1;const T=b.getContext("2d",{willReadFrequently:!0});T&&(w=T,w.globalCompositeOperation="copy",C=w.createLinearGradient(0,0,1,1))}catch{}_.toColor=function(b){if(b.match(/#[\da-f]{3,8}/i))switch(b.length){case 4:return o=parseInt(b.slice(1,2).repeat(2),16),h=parseInt(b.slice(2,3).repeat(2),16),c=parseInt(b.slice(3,4).repeat(2),16),d.toColor(o,h,c);case 5:return o=parseInt(b.slice(1,2).repeat(2),16),h=parseInt(b.slice(2,3).repeat(2),16),c=parseInt(b.slice(3,4).repeat(2),16),u=parseInt(b.slice(4,5).repeat(2),16),d.toColor(o,h,c,u);case 7:return{css:b,rgba:(parseInt(b.slice(1),16)<<8|255)>>>0};case 9:return{css:b,rgba:parseInt(b.slice(1),16)>>>0}}const T=b.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return o=parseInt(T[1]),h=parseInt(T[2]),c=parseInt(T[3]),u=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),d.toColor(o,h,c,u);if(!w||!C)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=C,w.fillStyle=b,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[o,h,c,u]=w.getImageData(0,0,1,1).data,u!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:d.toRgba(o,h,c,u),css:b}}})(p||(a.css=p={})),(function(_){function w(C,b,T){const A=C/255,k=b/255,P=T/255;return .2126*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}_.relativeLuminance=function(C){return w(C>>16&255,C>>8&255,255&C)},_.relativeLuminance2=w})(m||(a.rgb=m={})),(function(_){function w(b,T,A){const k=b>>24&255,P=b>>16&255,N=b>>8&255;let D=T>>24&255,L=T>>16&255,I=T>>8&255,O=y(m.relativeLuminance2(D,L,I),m.relativeLuminance2(k,P,N));for(;O<A&&(D>0||L>0||I>0);)D-=Math.max(0,Math.ceil(.1*D)),L-=Math.max(0,Math.ceil(.1*L)),I-=Math.max(0,Math.ceil(.1*I)),O=y(m.relativeLuminance2(D,L,I),m.relativeLuminance2(k,P,N));return(D<<24|L<<16|I<<8|255)>>>0}function C(b,T,A){const k=b>>24&255,P=b>>16&255,N=b>>8&255;let D=T>>24&255,L=T>>16&255,I=T>>8&255,O=y(m.relativeLuminance2(D,L,I),m.relativeLuminance2(k,P,N));for(;O<A&&(D<255||L<255||I<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),L=Math.min(255,L+Math.ceil(.1*(255-L))),I=Math.min(255,I+Math.ceil(.1*(255-I))),O=y(m.relativeLuminance2(D,L,I),m.relativeLuminance2(k,P,N));return(D<<24|L<<16|I<<8|255)>>>0}_.blend=function(b,T){if(u=(255&T)/255,u===1)return T;const A=T>>24&255,k=T>>16&255,P=T>>8&255,N=b>>24&255,D=b>>16&255,L=b>>8&255;return o=N+Math.round((A-N)*u),h=D+Math.round((k-D)*u),c=L+Math.round((P-L)*u),d.toRgba(o,h,c)},_.ensureContrastRatio=function(b,T,A){const k=m.relativeLuminance(b>>8),P=m.relativeLuminance(T>>8);if(y(k,P)<A){if(P<k){const L=w(b,T,A),I=y(k,m.relativeLuminance(L>>8));if(I<A){const O=C(b,T,A);return I>y(k,m.relativeLuminance(O>>8))?L:O}return L}const N=C(b,T,A),D=y(k,m.relativeLuminance(N>>8));if(D<A){const L=w(b,T,A);return D>y(k,m.relativeLuminance(L>>8))?N:L}return N}},_.reduceLuminance=w,_.increaseLuminance=C,_.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]}})(g||(a.rgba=g={})),a.toPaddedHex=v,a.contrastRatio=y},8969:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const h=o(844),c=o(2585),u=o(4348),d=o(7866),f=o(744),p=o(7302),m=o(6975),g=o(8460),v=o(1753),y=o(1480),_=o(7994),w=o(9282),C=o(5435),b=o(5981),T=o(2660);let A=!1;class k extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new g.EventEmitter),this._onScroll.event((N=>{this._onScrollApi?.fire(N.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const D in N)this.optionsService.options[D]=N[D]}constructor(N){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new g.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new g.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new g.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new g.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new p.OptionsService(N)),this._instantiationService.setService(c.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(f.BufferService)),this._instantiationService.setService(c.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(d.LogService)),this._instantiationService.setService(c.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(c.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(v.CoreMouseService)),this._instantiationService.setService(c.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(y.UnicodeService)),this._instantiationService.setService(c.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(c.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(T.OscLinkService),this._instantiationService.setService(c.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,g.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,g.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,g.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,g.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new b.WriteBuffer(((D,L)=>this._inputHandler.parse(D,L)))),this.register((0,g.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(N,D){this._writeBuffer.write(N,D)}writeSync(N,D){this._logService.logLevel<=c.LogLevelEnum.WARN&&!A&&(this._logService.warn("writeSync is unreliable and will be removed soon."),A=!0),this._writeBuffer.writeSync(N,D)}input(N,D=!0){this.coreService.triggerDataEvent(N,D)}resize(N,D){isNaN(N)||isNaN(D)||(N=Math.max(N,f.MINIMUM_COLS),D=Math.max(D,f.MINIMUM_ROWS),this._bufferService.resize(N,D))}scroll(N,D=!1){this._bufferService.scroll(N,D)}scrollLines(N,D,L){this._bufferService.scrollLines(N,D,L)}scrollPages(N){this.scrollLines(N*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(N){const D=N-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(N,D){return this._inputHandler.registerEscHandler(N,D)}registerDcsHandler(N,D){return this._inputHandler.registerDcsHandler(N,D)}registerCsiHandler(N,D){return this._inputHandler.registerCsiHandler(N,D)}registerOscHandler(N,D){return this._inputHandler.registerOscHandler(N,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let N=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?N=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(N=!0),N?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const N=[];N.push(this.onLineFeed(w.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},(()=>((0,w.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)((()=>{for(const D of N)D.dispose()}))}}}a.CoreTerminal=k},8460:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===o)return void this._listeners.splice(h,1)}}})),this._event}fire(o,h){const c=[];for(let u=0;u<this._listeners.length;u++)c.push(this._listeners[u]);for(let u=0;u<c.length;u++)c[u].call(void 0,o,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(o,h){return o((c=>h.fire(c)))},a.runAndSubscribe=function(o,h){return h(void 0),o((c=>h(c)))}},5435:function(l,a,o){var h=this&&this.__decorate||function(j,z,W,K){var X,J=arguments.length,te=J<3?z:K===null?K=Object.getOwnPropertyDescriptor(z,W):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(j,z,W,K);else for(var re=j.length-1;re>=0;re--)(X=j[re])&&(te=(J<3?X(te):J>3?X(z,W,te):X(z,W))||te);return J>3&&te&&Object.defineProperty(z,W,te),te},c=this&&this.__param||function(j,z){return function(W,K){z(W,K,j)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const u=o(2584),d=o(7116),f=o(2015),p=o(844),m=o(482),g=o(8437),v=o(8460),y=o(643),_=o(511),w=o(3734),C=o(2585),b=o(1480),T=o(6242),A=o(6351),k=o(5941),P={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function D(j,z){if(j>24)return z.setWinLines||!1;switch(j){case 1:return!!z.restoreWin;case 2:return!!z.minimizeWin;case 3:return!!z.setWinPosition;case 4:return!!z.setWinSizePixels;case 5:return!!z.raiseWin;case 6:return!!z.lowerWin;case 7:return!!z.refreshWin;case 8:return!!z.setWinSizeChars;case 9:return!!z.maximizeWin;case 10:return!!z.fullscreenWin;case 11:return!!z.getWinState;case 13:return!!z.getWinPosition;case 14:return!!z.getWinSizePixels;case 15:return!!z.getScreenSizePixels;case 16:return!!z.getCellSizePixels;case 18:return!!z.getWinSizeChars;case 19:return!!z.getScreenSizeChars;case 20:return!!z.getIconTitle;case 21:return!!z.getWinTitle;case 22:return!!z.pushTitle;case 23:return!!z.popTitle;case 24:return!!z.setWinLines}return!1}var L;(function(j){j[j.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",j[j.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(L||(a.WindowsOptionsReportType=L={}));let I=0;class O extends p.Disposable{getAttrData(){return this._curAttrData}constructor(z,W,K,X,J,te,re,ae,ie=new f.EscapeSequenceParser){super(),this._bufferService=z,this._charsetService=W,this._coreService=K,this._logService=X,this._optionsService=J,this._oscLinkService=te,this._coreMouseService=re,this._unicodeService=ae,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new v.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new v.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new v.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new v.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new v.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new v.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new v.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new v.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new v.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new v.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new v.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new v.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((Q=>this._activeBuffer=Q.activeBuffer))),this._parser.setCsiHandlerFallback(((Q,se)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(Q),params:se.toArray()})})),this._parser.setEscHandlerFallback((Q=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(Q)})})),this._parser.setExecuteHandlerFallback((Q=>{this._logService.debug("Unknown EXECUTE code: ",{code:Q})})),this._parser.setOscHandlerFallback(((Q,se,de)=>{this._logService.debug("Unknown OSC code: ",{identifier:Q,action:se,data:de})})),this._parser.setDcsHandlerFallback(((Q,se,de)=>{se==="HOOK"&&(de=de.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(Q),action:se,payload:de})})),this._parser.setPrintHandler(((Q,se,de)=>this.print(Q,se,de))),this._parser.registerCsiHandler({final:"@"},(Q=>this.insertChars(Q))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(Q=>this.scrollLeft(Q))),this._parser.registerCsiHandler({final:"A"},(Q=>this.cursorUp(Q))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(Q=>this.scrollRight(Q))),this._parser.registerCsiHandler({final:"B"},(Q=>this.cursorDown(Q))),this._parser.registerCsiHandler({final:"C"},(Q=>this.cursorForward(Q))),this._parser.registerCsiHandler({final:"D"},(Q=>this.cursorBackward(Q))),this._parser.registerCsiHandler({final:"E"},(Q=>this.cursorNextLine(Q))),this._parser.registerCsiHandler({final:"F"},(Q=>this.cursorPrecedingLine(Q))),this._parser.registerCsiHandler({final:"G"},(Q=>this.cursorCharAbsolute(Q))),this._parser.registerCsiHandler({final:"H"},(Q=>this.cursorPosition(Q))),this._parser.registerCsiHandler({final:"I"},(Q=>this.cursorForwardTab(Q))),this._parser.registerCsiHandler({final:"J"},(Q=>this.eraseInDisplay(Q,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(Q=>this.eraseInDisplay(Q,!0))),this._parser.registerCsiHandler({final:"K"},(Q=>this.eraseInLine(Q,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(Q=>this.eraseInLine(Q,!0))),this._parser.registerCsiHandler({final:"L"},(Q=>this.insertLines(Q))),this._parser.registerCsiHandler({final:"M"},(Q=>this.deleteLines(Q))),this._parser.registerCsiHandler({final:"P"},(Q=>this.deleteChars(Q))),this._parser.registerCsiHandler({final:"S"},(Q=>this.scrollUp(Q))),this._parser.registerCsiHandler({final:"T"},(Q=>this.scrollDown(Q))),this._parser.registerCsiHandler({final:"X"},(Q=>this.eraseChars(Q))),this._parser.registerCsiHandler({final:"Z"},(Q=>this.cursorBackwardTab(Q))),this._parser.registerCsiHandler({final:"`"},(Q=>this.charPosAbsolute(Q))),this._parser.registerCsiHandler({final:"a"},(Q=>this.hPositionRelative(Q))),this._parser.registerCsiHandler({final:"b"},(Q=>this.repeatPrecedingCharacter(Q))),this._parser.registerCsiHandler({final:"c"},(Q=>this.sendDeviceAttributesPrimary(Q))),this._parser.registerCsiHandler({prefix:">",final:"c"},(Q=>this.sendDeviceAttributesSecondary(Q))),this._parser.registerCsiHandler({final:"d"},(Q=>this.linePosAbsolute(Q))),this._parser.registerCsiHandler({final:"e"},(Q=>this.vPositionRelative(Q))),this._parser.registerCsiHandler({final:"f"},(Q=>this.hVPosition(Q))),this._parser.registerCsiHandler({final:"g"},(Q=>this.tabClear(Q))),this._parser.registerCsiHandler({final:"h"},(Q=>this.setMode(Q))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(Q=>this.setModePrivate(Q))),this._parser.registerCsiHandler({final:"l"},(Q=>this.resetMode(Q))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(Q=>this.resetModePrivate(Q))),this._parser.registerCsiHandler({final:"m"},(Q=>this.charAttributes(Q))),this._parser.registerCsiHandler({final:"n"},(Q=>this.deviceStatus(Q))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(Q=>this.deviceStatusPrivate(Q))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(Q=>this.softReset(Q))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(Q=>this.setCursorStyle(Q))),this._parser.registerCsiHandler({final:"r"},(Q=>this.setScrollRegion(Q))),this._parser.registerCsiHandler({final:"s"},(Q=>this.saveCursor(Q))),this._parser.registerCsiHandler({final:"t"},(Q=>this.windowOptions(Q))),this._parser.registerCsiHandler({final:"u"},(Q=>this.restoreCursor(Q))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(Q=>this.insertColumns(Q))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(Q=>this.deleteColumns(Q))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(Q=>this.selectProtected(Q))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(Q=>this.requestMode(Q,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(Q=>this.requestMode(Q,!1))),this._parser.setExecuteHandler(u.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(u.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(u.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(u.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(u.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(u.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(u.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(u.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(u.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(u.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(u.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(u.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new T.OscHandler((Q=>(this.setTitle(Q),this.setIconName(Q),!0)))),this._parser.registerOscHandler(1,new T.OscHandler((Q=>this.setIconName(Q)))),this._parser.registerOscHandler(2,new T.OscHandler((Q=>this.setTitle(Q)))),this._parser.registerOscHandler(4,new T.OscHandler((Q=>this.setOrReportIndexedColor(Q)))),this._parser.registerOscHandler(8,new T.OscHandler((Q=>this.setHyperlink(Q)))),this._parser.registerOscHandler(10,new T.OscHandler((Q=>this.setOrReportFgColor(Q)))),this._parser.registerOscHandler(11,new T.OscHandler((Q=>this.setOrReportBgColor(Q)))),this._parser.registerOscHandler(12,new T.OscHandler((Q=>this.setOrReportCursorColor(Q)))),this._parser.registerOscHandler(104,new T.OscHandler((Q=>this.restoreIndexedColor(Q)))),this._parser.registerOscHandler(110,new T.OscHandler((Q=>this.restoreFgColor(Q)))),this._parser.registerOscHandler(111,new T.OscHandler((Q=>this.restoreBgColor(Q)))),this._parser.registerOscHandler(112,new T.OscHandler((Q=>this.restoreCursorColor(Q)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const Q in d.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:Q},(()=>this.selectCharset("("+Q))),this._parser.registerEscHandler({intermediates:")",final:Q},(()=>this.selectCharset(")"+Q))),this._parser.registerEscHandler({intermediates:"*",final:Q},(()=>this.selectCharset("*"+Q))),this._parser.registerEscHandler({intermediates:"+",final:Q},(()=>this.selectCharset("+"+Q))),this._parser.registerEscHandler({intermediates:"-",final:Q},(()=>this.selectCharset("-"+Q))),this._parser.registerEscHandler({intermediates:".",final:Q},(()=>this.selectCharset("."+Q))),this._parser.registerEscHandler({intermediates:"/",final:Q},(()=>this.selectCharset("/"+Q)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((Q=>(this._logService.error("Parsing error: ",Q),Q))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new A.DcsHandler(((Q,se)=>this.requestStatusString(Q,se))))}_preserveStack(z,W,K,X){this._parseStack.paused=!0,this._parseStack.cursorStartX=z,this._parseStack.cursorStartY=W,this._parseStack.decodedLength=K,this._parseStack.position=X}_logSlowResolvingAsync(z){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([z,new Promise(((W,K)=>setTimeout((()=>K("#SLOW_TIMEOUT")),5e3)))]).catch((W=>{if(W!=="#SLOW_TIMEOUT")throw W;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(z,W){let K,X=this._activeBuffer.x,J=this._activeBuffer.y,te=0;const re=this._parseStack.paused;if(re){if(K=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,W))return this._logSlowResolvingAsync(K),K;X=this._parseStack.cursorStartX,J=this._parseStack.cursorStartY,this._parseStack.paused=!1,z.length>N&&(te=this._parseStack.position+N)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof z=="string"?` "${z}"`:` "${Array.prototype.map.call(z,(Q=>String.fromCharCode(Q))).join("")}"`),typeof z=="string"?z.split("").map((Q=>Q.charCodeAt(0))):z),this._parseBuffer.length<z.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(z.length,N))),re||this._dirtyRowTracker.clearRange(),z.length>N)for(let Q=te;Q<z.length;Q+=N){const se=Q+N<z.length?Q+N:z.length,de=typeof z=="string"?this._stringDecoder.decode(z.substring(Q,se),this._parseBuffer):this._utf8Decoder.decode(z.subarray(Q,se),this._parseBuffer);if(K=this._parser.parse(this._parseBuffer,de))return this._preserveStack(X,J,de,Q),this._logSlowResolvingAsync(K),K}else if(!re){const Q=typeof z=="string"?this._stringDecoder.decode(z,this._parseBuffer):this._utf8Decoder.decode(z,this._parseBuffer);if(K=this._parser.parse(this._parseBuffer,Q))return this._preserveStack(X,J,Q,0),this._logSlowResolvingAsync(K),K}this._activeBuffer.x===X&&this._activeBuffer.y===J||this._onCursorMove.fire();const ae=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),ie=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);ie<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(ie,this._bufferService.rows-1),Math.min(ae,this._bufferService.rows-1))}print(z,W,K){let X,J;const te=this._charsetService.charset,re=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,Q=this._coreService.modes.insertMode,se=this._curAttrData;let de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&K-W>0&&de.getWidth(this._activeBuffer.x-1)===2&&de.setCellFromCodepoint(this._activeBuffer.x-1,0,1,se);let xe=this._parser.precedingJoinState;for(let ne=W;ne<K;++ne){if(X=z[ne],X<127&&te){const Te=te[String.fromCharCode(X)];Te&&(X=Te.charCodeAt(0))}const ye=this._unicodeService.charProperties(X,xe);J=b.UnicodeService.extractWidth(ye);const _e=b.UnicodeService.extractShouldJoin(ye),Ae=_e?b.UnicodeService.extractWidth(xe):0;if(xe=ye,re&&this._onA11yChar.fire((0,m.stringFromCodePoint)(X)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+J-Ae>ae){if(ie){const Te=de;let ze=this._activeBuffer.x-Ae;for(this._activeBuffer.x=Ae,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ae>0&&de instanceof g.BufferLine&&de.copyCellsFrom(Te,ze,0,Ae,!1);ze<ae;)Te.setCellFromCodepoint(ze++,0,1,se)}else if(this._activeBuffer.x=ae-1,J===2)continue}if(_e&&this._activeBuffer.x){const Te=de.getWidth(this._activeBuffer.x-1)?1:2;de.addCodepointToCell(this._activeBuffer.x-Te,X,J);for(let ze=J-Ae;--ze>=0;)de.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}else if(Q&&(de.insertCells(this._activeBuffer.x,J-Ae,this._activeBuffer.getNullCell(se)),de.getWidth(ae-1)===2&&de.setCellFromCodepoint(ae-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,se)),de.setCellFromCodepoint(this._activeBuffer.x++,X,J,se),J>0)for(;--J;)de.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}this._parser.precedingJoinState=xe,this._activeBuffer.x<ae&&K-W>0&&de.getWidth(this._activeBuffer.x)===0&&!de.hasContent(this._activeBuffer.x)&&de.setCellFromCodepoint(this._activeBuffer.x,0,1,se),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(z,W){return z.final!=="t"||z.prefix||z.intermediates?this._parser.registerCsiHandler(z,W):this._parser.registerCsiHandler(z,(K=>!D(K.params[0],this._optionsService.rawOptions.windowOptions)||W(K)))}registerDcsHandler(z,W){return this._parser.registerDcsHandler(z,new A.DcsHandler(W))}registerEscHandler(z,W){return this._parser.registerEscHandler(z,W)}registerOscHandler(z,W){return this._parser.registerOscHandler(z,new T.OscHandler(W))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);z.hasWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const z=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-z),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(z=this._bufferService.cols-1){this._activeBuffer.x=Math.min(z,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(z,W){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=z,this._activeBuffer.y=this._activeBuffer.scrollTop+W):(this._activeBuffer.x=z,this._activeBuffer.y=W),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(z,W){this._restrictCursor(),this._setCursor(this._activeBuffer.x+z,this._activeBuffer.y+W)}cursorUp(z){const W=this._activeBuffer.y-this._activeBuffer.scrollTop;return W>=0?this._moveCursor(0,-Math.min(W,z.params[0]||1)):this._moveCursor(0,-(z.params[0]||1)),!0}cursorDown(z){const W=this._activeBuffer.scrollBottom-this._activeBuffer.y;return W>=0?this._moveCursor(0,Math.min(W,z.params[0]||1)):this._moveCursor(0,z.params[0]||1),!0}cursorForward(z){return this._moveCursor(z.params[0]||1,0),!0}cursorBackward(z){return this._moveCursor(-(z.params[0]||1),0),!0}cursorNextLine(z){return this.cursorDown(z),this._activeBuffer.x=0,!0}cursorPrecedingLine(z){return this.cursorUp(z),this._activeBuffer.x=0,!0}cursorCharAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(z){return this._setCursor(z.length>=2?(z.params[1]||1)-1:0,(z.params[0]||1)-1),!0}charPosAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(z){return this._moveCursor(z.params[0]||1,0),!0}linePosAbsolute(z){return this._setCursor(this._activeBuffer.x,(z.params[0]||1)-1),!0}vPositionRelative(z){return this._moveCursor(0,z.params[0]||1),!0}hVPosition(z){return this.cursorPosition(z),!0}tabClear(z){const W=z.params[0];return W===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:W===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let W=z.params[0]||1;for(;W--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let W=z.params[0]||1;for(;W--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(z){const W=z.params[0];return W===1&&(this._curAttrData.bg|=536870912),W!==2&&W!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(z,W,K,X=!1,J=!1){const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);te.replaceCells(W,K,this._activeBuffer.getNullCell(this._eraseAttrData()),J),X&&(te.isWrapped=!1)}_resetBufferLine(z,W=!1){const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);K&&(K.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),W),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+z),K.isWrapped=!1)}eraseInDisplay(z,W=!1){let K;switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:for(K=this._activeBuffer.y,this._dirtyRowTracker.markDirty(K),this._eraseInBufferLine(K++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,W);K<this._bufferService.rows;K++)this._resetBufferLine(K,W);this._dirtyRowTracker.markDirty(K);break;case 1:for(K=this._activeBuffer.y,this._dirtyRowTracker.markDirty(K),this._eraseInBufferLine(K,0,this._activeBuffer.x+1,!0,W),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(K+1).isWrapped=!1);K--;)this._resetBufferLine(K,W);this._dirtyRowTracker.markDirty(0);break;case 2:for(K=this._bufferService.rows,this._dirtyRowTracker.markDirty(K-1);K--;)this._resetBufferLine(K,W);this._dirtyRowTracker.markDirty(0);break;case 3:const X=this._activeBuffer.lines.length-this._bufferService.rows;X>0&&(this._activeBuffer.lines.trimStart(X),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-X,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-X,0),this._onScroll.fire(0))}return!0}eraseInLine(z,W=!1){switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,W);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,W);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,W)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(z){this._restrictCursor();let W=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=this._activeBuffer.ybase+this._activeBuffer.y,X=this._bufferService.rows-1-this._activeBuffer.scrollBottom,J=this._bufferService.rows-1+this._activeBuffer.ybase-X+1;for(;W--;)this._activeBuffer.lines.splice(J-1,1),this._activeBuffer.lines.splice(K,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(z){this._restrictCursor();let W=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=this._activeBuffer.ybase+this._activeBuffer.y;let X;for(X=this._bufferService.rows-1-this._activeBuffer.scrollBottom,X=this._bufferService.rows-1+this._activeBuffer.ybase-X;W--;)this._activeBuffer.lines.splice(K,1),this._activeBuffer.lines.splice(X,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(z){this._restrictCursor();const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return W&&(W.insertCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(z){this._restrictCursor();const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return W&&(W.deleteCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(z){let W=z.params[0]||1;for(;W--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(z){let W=z.params[0]||1;for(;W--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(g.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=z.params[0]||1;for(let K=this._activeBuffer.scrollTop;K<=this._activeBuffer.scrollBottom;++K){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);X.deleteCells(0,W,this._activeBuffer.getNullCell(this._eraseAttrData())),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=z.params[0]||1;for(let K=this._activeBuffer.scrollTop;K<=this._activeBuffer.scrollBottom;++K){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);X.insertCells(0,W,this._activeBuffer.getNullCell(this._eraseAttrData())),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=z.params[0]||1;for(let K=this._activeBuffer.scrollTop;K<=this._activeBuffer.scrollBottom;++K){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);X.insertCells(this._activeBuffer.x,W,this._activeBuffer.getNullCell(this._eraseAttrData())),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=z.params[0]||1;for(let K=this._activeBuffer.scrollTop;K<=this._activeBuffer.scrollBottom;++K){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);X.deleteCells(this._activeBuffer.x,W,this._activeBuffer.getNullCell(this._eraseAttrData())),X.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(z){this._restrictCursor();const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return W&&(W.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(z.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(z){const W=this._parser.precedingJoinState;if(!W)return!0;const K=z.params[0]||1,X=b.UnicodeService.extractWidth(W),J=this._activeBuffer.x-X,te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(J),re=new Uint32Array(te.length*K);let ae=0;for(let Q=0;Q<te.length;){const se=te.codePointAt(Q)||0;re[ae++]=se,Q+=se>65535?2:1}let ie=ae;for(let Q=1;Q<K;++Q)re.copyWithin(ie,0,ae),ie+=ae;return this.print(re,0,ie),!0}sendDeviceAttributesPrimary(z){return z.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(z){return z.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(z.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(z){return(this._optionsService.rawOptions.termName+"").indexOf(z)===0}setMode(z){for(let W=0;W<z.length;W++)switch(z.params[W]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(z){for(let W=0;W<z.length;W++)switch(z.params[W]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,d.DEFAULT_CHARSET),this._charsetService.setgCharset(1,d.DEFAULT_CHARSET),this._charsetService.setgCharset(2,d.DEFAULT_CHARSET),this._charsetService.setgCharset(3,d.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(z){for(let W=0;W<z.length;W++)switch(z.params[W]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(z){for(let W=0;W<z.length;W++)switch(z.params[W]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),z.params[W]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(z,W){const K=this._coreService.decPrivateModes,{activeProtocol:X,activeEncoding:J}=this._coreMouseService,te=this._coreService,{buffers:re,cols:ae}=this._bufferService,{active:ie,alt:Q}=re,se=this._optionsService.rawOptions,de=_e=>_e?1:2,xe=z.params[0];return ne=xe,ye=W?xe===2?4:xe===4?de(te.modes.insertMode):xe===12?3:xe===20?de(se.convertEol):0:xe===1?de(K.applicationCursorKeys):xe===3?se.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:xe===6?de(K.origin):xe===7?de(K.wraparound):xe===8?3:xe===9?de(X==="X10"):xe===12?de(se.cursorBlink):xe===25?de(!te.isCursorHidden):xe===45?de(K.reverseWraparound):xe===66?de(K.applicationKeypad):xe===67?4:xe===1e3?de(X==="VT200"):xe===1002?de(X==="DRAG"):xe===1003?de(X==="ANY"):xe===1004?de(K.sendFocus):xe===1005?4:xe===1006?de(J==="SGR"):xe===1015?4:xe===1016?de(J==="SGR_PIXELS"):xe===1048?1:xe===47||xe===1047||xe===1049?de(ie===Q):xe===2004?de(K.bracketedPasteMode):0,te.triggerDataEvent(`${u.C0.ESC}[${W?"":"?"}${ne};${ye}$y`),!0;var ne,ye}_updateAttrColor(z,W,K,X,J){return W===2?(z|=50331648,z&=-16777216,z|=w.AttributeData.fromColorRGB([K,X,J])):W===5&&(z&=-50331904,z|=33554432|255&K),z}_extractColor(z,W,K){const X=[0,0,-1,0,0,0];let J=0,te=0;do{if(X[te+J]=z.params[W+te],z.hasSubParams(W+te)){const re=z.getSubParams(W+te);let ae=0;do X[1]===5&&(J=1),X[te+ae+1+J]=re[ae];while(++ae<re.length&&ae+te+1+J<X.length);break}if(X[1]===5&&te+J>=2||X[1]===2&&te+J>=5)break;X[1]&&(J=1)}while(++te+W<z.length&&te+J<X.length);for(let re=2;re<X.length;++re)X[re]===-1&&(X[re]=0);switch(X[0]){case 38:K.fg=this._updateAttrColor(K.fg,X[1],X[3],X[4],X[5]);break;case 48:K.bg=this._updateAttrColor(K.bg,X[1],X[3],X[4],X[5]);break;case 58:K.extended=K.extended.clone(),K.extended.underlineColor=this._updateAttrColor(K.extended.underlineColor,X[1],X[3],X[4],X[5])}return te}_processUnderline(z,W){W.extended=W.extended.clone(),(!~z||z>5)&&(z=1),W.extended.underlineStyle=z,W.fg|=268435456,z===0&&(W.fg&=-268435457),W.updateExtended()}_processSGR0(z){z.fg=g.DEFAULT_ATTR_DATA.fg,z.bg=g.DEFAULT_ATTR_DATA.bg,z.extended=z.extended.clone(),z.extended.underlineStyle=0,z.extended.underlineColor&=-67108864,z.updateExtended()}charAttributes(z){if(z.length===1&&z.params[0]===0)return this._processSGR0(this._curAttrData),!0;const W=z.length;let K;const X=this._curAttrData;for(let J=0;J<W;J++)K=z.params[J],K>=30&&K<=37?(X.fg&=-50331904,X.fg|=16777216|K-30):K>=40&&K<=47?(X.bg&=-50331904,X.bg|=16777216|K-40):K>=90&&K<=97?(X.fg&=-50331904,X.fg|=16777224|K-90):K>=100&&K<=107?(X.bg&=-50331904,X.bg|=16777224|K-100):K===0?this._processSGR0(X):K===1?X.fg|=134217728:K===3?X.bg|=67108864:K===4?(X.fg|=268435456,this._processUnderline(z.hasSubParams(J)?z.getSubParams(J)[0]:1,X)):K===5?X.fg|=536870912:K===7?X.fg|=67108864:K===8?X.fg|=1073741824:K===9?X.fg|=2147483648:K===2?X.bg|=134217728:K===21?this._processUnderline(2,X):K===22?(X.fg&=-134217729,X.bg&=-134217729):K===23?X.bg&=-67108865:K===24?(X.fg&=-268435457,this._processUnderline(0,X)):K===25?X.fg&=-536870913:K===27?X.fg&=-67108865:K===28?X.fg&=-1073741825:K===29?X.fg&=2147483647:K===39?(X.fg&=-67108864,X.fg|=16777215&g.DEFAULT_ATTR_DATA.fg):K===49?(X.bg&=-67108864,X.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):K===38||K===48||K===58?J+=this._extractColor(z,J,X):K===53?X.bg|=1073741824:K===55?X.bg&=-1073741825:K===59?(X.extended=X.extended.clone(),X.extended.underlineColor=-1,X.updateExtended()):K===100?(X.fg&=-67108864,X.fg|=16777215&g.DEFAULT_ATTR_DATA.fg,X.bg&=-67108864,X.bg|=16777215&g.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",K);return!0}deviceStatus(z){switch(z.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const W=this._activeBuffer.y+1,K=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${W};${K}R`)}return!0}deviceStatusPrivate(z){if(z.params[0]===6){const W=this._activeBuffer.y+1,K=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${W};${K}R`)}return!0}softReset(z){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(z){const W=z.params[0]||1;switch(W){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const K=W%2==1;return this._optionsService.options.cursorBlink=K,!0}setScrollRegion(z){const W=z.params[0]||1;let K;return(z.length<2||(K=z.params[1])>this._bufferService.rows||K===0)&&(K=this._bufferService.rows),K>W&&(this._activeBuffer.scrollTop=W-1,this._activeBuffer.scrollBottom=K-1,this._setCursor(0,0)),!0}windowOptions(z){if(!D(z.params[0],this._optionsService.rawOptions.windowOptions))return!0;const W=z.length>1?z.params[1]:0;switch(z.params[0]){case 14:W!==2&&this._onRequestWindowsOptionsReport.fire(L.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(L.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:W!==0&&W!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),W!==0&&W!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:W!==0&&W!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),W!==0&&W!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(z){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(z){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(z){return this._windowTitle=z,this._onTitleChange.fire(z),!0}setIconName(z){return this._iconName=z,!0}setOrReportIndexedColor(z){const W=[],K=z.split(";");for(;K.length>1;){const X=K.shift(),J=K.shift();if(/^\d+$/.exec(X)){const te=parseInt(X);if(H(te))if(J==="?")W.push({type:0,index:te});else{const re=(0,k.parseColor)(J);re&&W.push({type:1,index:te,color:re})}}}return W.length&&this._onColor.fire(W),!0}setHyperlink(z){const W=z.split(";");return!(W.length<2)&&(W[1]?this._createHyperlink(W[0],W[1]):!W[0]&&this._finishHyperlink())}_createHyperlink(z,W){this._getCurrentLinkId()&&this._finishHyperlink();const K=z.split(":");let X;const J=K.findIndex((te=>te.startsWith("id=")));return J!==-1&&(X=K[J].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:X,uri:W}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(z,W){const K=z.split(";");for(let X=0;X<K.length&&!(W>=this._specialColors.length);++X,++W)if(K[X]==="?")this._onColor.fire([{type:0,index:this._specialColors[W]}]);else{const J=(0,k.parseColor)(K[X]);J&&this._onColor.fire([{type:1,index:this._specialColors[W],color:J}])}return!0}setOrReportFgColor(z){return this._setOrReportSpecialColor(z,0)}setOrReportBgColor(z){return this._setOrReportSpecialColor(z,1)}setOrReportCursorColor(z){return this._setOrReportSpecialColor(z,2)}restoreIndexedColor(z){if(!z)return this._onColor.fire([{type:2}]),!0;const W=[],K=z.split(";");for(let X=0;X<K.length;++X)if(/^\d+$/.exec(K[X])){const J=parseInt(K[X]);H(J)&&W.push({type:2,index:J})}return W.length&&this._onColor.fire(W),!0}restoreFgColor(z){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(z){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(z){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,d.DEFAULT_CHARSET),!0}selectCharset(z){return z.length!==2?(this.selectDefaultCharset(),!0):(z[0]==="/"||this._charsetService.setgCharset(P[z[0]],d.CHARSETS[z[1]]||d.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const z=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,z,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=g.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=g.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(z){return this._charsetService.setgLevel(z),!0}screenAlignmentPattern(){const z=new _.CellData;z.content=4194373,z.fg=this._curAttrData.fg,z.bg=this._curAttrData.bg,this._setCursor(0,0);for(let W=0;W<this._bufferService.rows;++W){const K=this._activeBuffer.ybase+this._activeBuffer.y+W,X=this._activeBuffer.lines.get(K);X&&(X.fill(z),X.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(z,W){const K=this._bufferService.buffer,X=this._optionsService.rawOptions;return(J=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${J}${u.C0.ESC}\\`),!0))(z==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:z==='"p'?'P1$r61;1"p':z==="r"?`P1$r${K.scrollTop+1};${K.scrollBottom+1}r`:z==="m"?"P1$r0m":z===" q"?`P1$r${{block:2,underline:4,bar:6}[X.cursorStyle]-(X.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(z,W){this._dirtyRowTracker.markRangeDirty(z,W)}}a.InputHandler=O;let F=class{constructor(j){this._bufferService=j,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(j){j<this.start?this.start=j:j>this.end&&(this.end=j)}markRangeDirty(j,z){j>z&&(I=j,j=z,z=I),j<this.start&&(this.start=j),z>this.end&&(this.end=z)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function H(j){return 0<=j&&j<256}F=h([c(0,C.IBufferService)],F)},844:(l,a)=>{function o(h){for(const c of h)c.dispose();h.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const c=this._disposables.indexOf(h);c!==-1&&this._disposables.splice(c,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){this._isDisposed||h===this._value||(this._value?.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},a.toDisposable=function(h){return{dispose:h}},a.disposeArray=o,a.getDisposeArrayDisposable=function(h){return{dispose:()=>o(h)}}},1505:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(c,u,d){this._data[c]||(this._data[c]={}),this._data[c][u]=d}get(c,u){return this._data[c]?this._data[c][u]:void 0}clear(){this._data={}}}a.TwoKeyMap=o,a.FourKeyMap=class{constructor(){this._data=new o}set(h,c,u,d,f){this._data.get(h,c)||this._data.set(h,c,new o),this._data.get(h,c).set(u,d,f)}get(h,c,u,d){return this._data.get(h,c)?.get(u,d)}clear(){this._data.clear()}}},6114:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof process<"u"&&"title"in process;const o=a.isNode?"node":navigator.userAgent,h=a.isNode?"node":navigator.platform;a.isFirefox=o.includes("Firefox"),a.isLegacyEdge=o.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(o),a.getSafariVersion=function(){if(!a.isSafari)return 0;const c=o.match(/Version\/(\d+)/);return c===null||c.length<2?0:parseInt(c[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),a.isIpad=h==="iPad",a.isIphone=h==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),a.isLinux=h.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(o)},6106:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let o=0;a.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(o=this._search(this._getKey(h)),this._array.splice(o,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const c=this._getKey(h);if(c===void 0||(o=this._search(c),o===-1)||this._getKey(this._array[o])!==c)return!1;do if(this._array[o]===h)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===c);return!1}*getKeyIterator(h){if(this._array.length!==0&&(o=this._search(h),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===h))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===h)}forEachByKey(h,c){if(this._array.length!==0&&(o=this._search(h),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===h))do c(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===h)}values(){return[...this._array].values()}_search(h){let c=0,u=this._array.length-1;for(;u>=c;){let d=c+u>>1;const f=this._getKey(this._array[d]);if(f>h)u=d-1;else{if(!(f<h)){for(;d>0&&this._getKey(this._array[d-1])===h;)d--;return d}c=d+1}}return c}}},7226:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const h=o(6114);class c{constructor(){this._tasks=[],this._i=0}enqueue(f){this._tasks.push(f),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(f){this._idleCallback=void 0;let p=0,m=0,g=f.timeRemaining(),v=0;for(;this._i<this._tasks.length;){if(p=Date.now(),this._tasks[this._i]()||this._i++,p=Math.max(1,Date.now()-p),m=Math.max(p,m),v=f.timeRemaining(),1.5*m>v)return g-p<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(g-p))}ms`),void this._start();g=v}this.clear()}}class u extends c{_requestCallback(f){return setTimeout((()=>f(this._createDeadline(16))))}_cancelCallback(f){clearTimeout(f)}_createDeadline(f){const p=Date.now()+f;return{timeRemaining:()=>Math.max(0,p-Date.now())}}}a.PriorityTaskQueue=u,a.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends c{_requestCallback(d){return requestIdleCallback(d)}_cancelCallback(d){cancelIdleCallback(d)}}:u,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(d){this._queue.clear(),this._queue.enqueue(d)}flush(){this._queue.flush()}}},9282:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const h=o(643);a.updateWindowsModeWrappedState=function(c){const u=c.buffer.lines.get(c.buffer.ybase+c.buffer.y-1),d=u?.get(c.cols-1),f=c.buffer.lines.get(c.buffer.ybase+c.buffer.y);f&&d&&(f.isWrapped=d[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&d[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new o;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}a.AttributeData=o;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}get underlineVariantOffset(){const u=(3758096384&this._ext)>>29;return u<0?4294967288^u:u}set underlineVariantOffset(u){this._ext&=536870911,this._ext|=u<<29&3758096384}constructor(u=0,d=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=d}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=h},9092:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const h=o(6349),c=o(7226),u=o(3734),d=o(8437),f=o(4634),p=o(511),m=o(643),g=o(4863),v=o(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(y,_,w){this._hasScrollback=y,this._optionsService=_,this._bufferService=w,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=d.DEFAULT_ATTR_DATA.clone(),this.savedCharset=v.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new c.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(y,_){return new d.BufferLine(this._bufferService.cols,this.getNullCell(y),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows}_getCorrectBufferLength(y){if(!this._hasScrollback)return y;const _=y+this._optionsService.rawOptions.scrollback;return _>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:_}fillViewportRows(y){if(this.lines.length===0){y===void 0&&(y=d.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(y))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(y,_){const w=this.getNullCell(d.DEFAULT_ATTR_DATA);let C=0;const b=this._getCorrectBufferLength(_);if(b>this.lines.maxLength&&(this.lines.maxLength=b),this.lines.length>0){if(this._cols<y)for(let A=0;A<this.lines.length;A++)C+=+this.lines.get(A).resize(y,w);let T=0;if(this._rows<_)for(let A=this._rows;A<_;A++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new d.BufferLine(y,w)):this.ybase>0&&this.lines.length<=this.ybase+this.y+T+1?(this.ybase--,T++,this.ydisp>0&&this.ydisp--):this.lines.push(new d.BufferLine(y,w)));else for(let A=this._rows;A>_;A--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(b<this.lines.maxLength){const A=this.lines.length-b;A>0&&(this.lines.trimStart(A),this.ybase=Math.max(this.ybase-A,0),this.ydisp=Math.max(this.ydisp-A,0),this.savedY=Math.max(this.savedY-A,0)),this.lines.maxLength=b}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,_-1),T&&(this.y+=T),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(y,_),this._cols>y))for(let T=0;T<this.lines.length;T++)C+=+this.lines.get(T).resize(y,w);this._cols=y,this._rows=_,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let y=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,y=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return y}get _isReflowEnabled(){const y=this._optionsService.rawOptions.windowsPty;return y&&y.buildNumber?this._hasScrollback&&y.backend==="conpty"&&y.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(y,_){this._cols!==y&&(y>this._cols?this._reflowLarger(y,_):this._reflowSmaller(y,_))}_reflowLarger(y,_){const w=(0,f.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(d.DEFAULT_ATTR_DATA));if(w.length>0){const C=(0,f.reflowLargerCreateNewLayout)(this.lines,w);(0,f.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(y,_,C.countRemoved)}}_reflowLargerAdjustViewport(y,_,w){const C=this.getNullCell(d.DEFAULT_ATTR_DATA);let b=w;for(;b-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new d.BufferLine(y,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-w,0)}_reflowSmaller(y,_){const w=this.getNullCell(d.DEFAULT_ATTR_DATA),C=[];let b=0;for(let T=this.lines.length-1;T>=0;T--){let A=this.lines.get(T);if(!A||!A.isWrapped&&A.getTrimmedLength()<=y)continue;const k=[A];for(;A.isWrapped&&T>0;)A=this.lines.get(--T),k.unshift(A);const P=this.ybase+this.y;if(P>=T&&P<T+k.length)continue;const N=k[k.length-1].getTrimmedLength(),D=(0,f.reflowSmallerGetNewLineLengths)(k,this._cols,y),L=D.length-k.length;let I;I=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+L):Math.max(0,this.lines.length-this.lines.maxLength+L);const O=[];for(let K=0;K<L;K++){const X=this.getBlankLine(d.DEFAULT_ATTR_DATA,!0);O.push(X)}O.length>0&&(C.push({start:T+k.length+b,newLines:O}),b+=O.length),k.push(...O);let F=D.length-1,H=D[F];H===0&&(F--,H=D[F]);let j=k.length-L-1,z=N;for(;j>=0;){const K=Math.min(z,H);if(k[F]===void 0)break;if(k[F].copyCellsFrom(k[j],z-K,H-K,K,!0),H-=K,H===0&&(F--,H=D[F]),z-=K,z===0){j--;const X=Math.max(j,0);z=(0,f.getWrappedLineTrimmedLength)(k,X,this._cols)}}for(let K=0;K<k.length;K++)D[K]<y&&k[K].setCell(D[K],w);let W=L-I;for(;W-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+b)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+L,this.ybase+_-1)}if(C.length>0){const T=[],A=[];for(let F=0;F<this.lines.length;F++)A.push(this.lines.get(F));const k=this.lines.length;let P=k-1,N=0,D=C[N];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+b);let L=0;for(let F=Math.min(this.lines.maxLength-1,k+b-1);F>=0;F--)if(D&&D.start>P+L){for(let H=D.newLines.length-1;H>=0;H--)this.lines.set(F--,D.newLines[H]);F++,T.push({index:P+1,amount:D.newLines.length}),L+=D.newLines.length,D=C[++N]}else this.lines.set(F,A[P--]);let I=0;for(let F=T.length-1;F>=0;F--)T[F].index+=I,this.lines.onInsertEmitter.fire(T[F]),I+=T[F].amount;const O=Math.max(0,k+b-this.lines.maxLength);O>0&&this.lines.onTrimEmitter.fire(O)}}translateBufferLineToString(y,_,w=0,C){const b=this.lines.get(y);return b?b.translateToString(_,w,C):""}getWrappedRangeForLine(y){let _=y,w=y;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;w+1<this.lines.length&&this.lines.get(w+1).isWrapped;)w++;return{first:_,last:w}}setupTabStops(y){for(y!=null?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0}prevStop(y){for(y==null&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y}nextStop(y){for(y==null&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y}clearMarkers(y){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===y&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1}addMarker(y){const _=new g.Marker(y);return this.markers.push(_),_.register(this.lines.onTrim((w=>{_.line-=w,_.line<0&&_.dispose()}))),_.register(this.lines.onInsert((w=>{_.line>=w.index&&(_.line+=w.amount)}))),_.register(this.lines.onDelete((w=>{_.line>=w.index&&_.line<w.index+w.amount&&_.dispose(),_.line>w.index&&(_.line-=w.amount)}))),_.register(_.onDispose((()=>this._removeMarker(_)))),_}_removeMarker(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)}}},8437:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const h=o(3734),c=o(511),u=o(643),d=o(482);a.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let f=0;class p{constructor(g,v,y=!1){this.isWrapped=y,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*g);const _=v||c.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let w=0;w<g;++w)this.setCell(w,_);this.length=g}get(g){const v=this._data[3*g+0],y=2097151&v;return[this._data[3*g+1],2097152&v?this._combined[g]:y?(0,d.stringFromCodePoint)(y):"",v>>22,2097152&v?this._combined[g].charCodeAt(this._combined[g].length-1):y]}set(g,v){this._data[3*g+1]=v[u.CHAR_DATA_ATTR_INDEX],v[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[g]=v[1],this._data[3*g+0]=2097152|g|v[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*g+0]=v[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(g){return this._data[3*g+0]>>22}hasWidth(g){return 12582912&this._data[3*g+0]}getFg(g){return this._data[3*g+1]}getBg(g){return this._data[3*g+2]}hasContent(g){return 4194303&this._data[3*g+0]}getCodePoint(g){const v=this._data[3*g+0];return 2097152&v?this._combined[g].charCodeAt(this._combined[g].length-1):2097151&v}isCombined(g){return 2097152&this._data[3*g+0]}getString(g){const v=this._data[3*g+0];return 2097152&v?this._combined[g]:2097151&v?(0,d.stringFromCodePoint)(2097151&v):""}isProtected(g){return 536870912&this._data[3*g+2]}loadCell(g,v){return f=3*g,v.content=this._data[f+0],v.fg=this._data[f+1],v.bg=this._data[f+2],2097152&v.content&&(v.combinedData=this._combined[g]),268435456&v.bg&&(v.extended=this._extendedAttrs[g]),v}setCell(g,v){2097152&v.content&&(this._combined[g]=v.combinedData),268435456&v.bg&&(this._extendedAttrs[g]=v.extended),this._data[3*g+0]=v.content,this._data[3*g+1]=v.fg,this._data[3*g+2]=v.bg}setCellFromCodepoint(g,v,y,_){268435456&_.bg&&(this._extendedAttrs[g]=_.extended),this._data[3*g+0]=v|y<<22,this._data[3*g+1]=_.fg,this._data[3*g+2]=_.bg}addCodepointToCell(g,v,y){let _=this._data[3*g+0];2097152&_?this._combined[g]+=(0,d.stringFromCodePoint)(v):2097151&_?(this._combined[g]=(0,d.stringFromCodePoint)(2097151&_)+(0,d.stringFromCodePoint)(v),_&=-2097152,_|=2097152):_=v|4194304,y&&(_&=-12582913,_|=y<<22),this._data[3*g+0]=_}insertCells(g,v,y){if((g%=this.length)&&this.getWidth(g-1)===2&&this.setCellFromCodepoint(g-1,0,1,y),v<this.length-g){const _=new c.CellData;for(let w=this.length-g-v-1;w>=0;--w)this.setCell(g+v+w,this.loadCell(g+w,_));for(let w=0;w<v;++w)this.setCell(g+w,y)}else for(let _=g;_<this.length;++_)this.setCell(_,y);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,y)}deleteCells(g,v,y){if(g%=this.length,v<this.length-g){const _=new c.CellData;for(let w=0;w<this.length-g-v;++w)this.setCell(g+w,this.loadCell(g+v+w,_));for(let w=this.length-v;w<this.length;++w)this.setCell(w,y)}else for(let _=g;_<this.length;++_)this.setCell(_,y);g&&this.getWidth(g-1)===2&&this.setCellFromCodepoint(g-1,0,1,y),this.getWidth(g)!==0||this.hasContent(g)||this.setCellFromCodepoint(g,0,1,y)}replaceCells(g,v,y,_=!1){if(_)for(g&&this.getWidth(g-1)===2&&!this.isProtected(g-1)&&this.setCellFromCodepoint(g-1,0,1,y),v<this.length&&this.getWidth(v-1)===2&&!this.isProtected(v)&&this.setCellFromCodepoint(v,0,1,y);g<v&&g<this.length;)this.isProtected(g)||this.setCell(g,y),g++;else for(g&&this.getWidth(g-1)===2&&this.setCellFromCodepoint(g-1,0,1,y),v<this.length&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v,0,1,y);g<v&&g<this.length;)this.setCell(g++,y)}resize(g,v){if(g===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const y=3*g;if(g>this.length){if(this._data.buffer.byteLength>=4*y)this._data=new Uint32Array(this._data.buffer,0,y);else{const _=new Uint32Array(y);_.set(this._data),this._data=_}for(let _=this.length;_<g;++_)this.setCell(_,v)}else{this._data=this._data.subarray(0,y);const _=Object.keys(this._combined);for(let C=0;C<_.length;C++){const b=parseInt(_[C],10);b>=g&&delete this._combined[b]}const w=Object.keys(this._extendedAttrs);for(let C=0;C<w.length;C++){const b=parseInt(w[C],10);b>=g&&delete this._extendedAttrs[b]}}return this.length=g,4*y*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const g=new Uint32Array(this._data.length);return g.set(this._data),this._data=g,1}return 0}fill(g,v=!1){if(v)for(let y=0;y<this.length;++y)this.isProtected(y)||this.setCell(y,g);else{this._combined={},this._extendedAttrs={};for(let y=0;y<this.length;++y)this.setCell(y,g)}}copyFrom(g){this.length!==g.length?this._data=new Uint32Array(g._data):this._data.set(g._data),this.length=g.length,this._combined={};for(const v in g._combined)this._combined[v]=g._combined[v];this._extendedAttrs={};for(const v in g._extendedAttrs)this._extendedAttrs[v]=g._extendedAttrs[v];this.isWrapped=g.isWrapped}clone(){const g=new p(0);g._data=new Uint32Array(this._data),g.length=this.length;for(const v in this._combined)g._combined[v]=this._combined[v];for(const v in this._extendedAttrs)g._extendedAttrs[v]=this._extendedAttrs[v];return g.isWrapped=this.isWrapped,g}getTrimmedLength(){for(let g=this.length-1;g>=0;--g)if(4194303&this._data[3*g+0])return g+(this._data[3*g+0]>>22);return 0}getNoBgTrimmedLength(){for(let g=this.length-1;g>=0;--g)if(4194303&this._data[3*g+0]||50331648&this._data[3*g+2])return g+(this._data[3*g+0]>>22);return 0}copyCellsFrom(g,v,y,_,w){const C=g._data;if(w)for(let T=_-1;T>=0;T--){for(let A=0;A<3;A++)this._data[3*(y+T)+A]=C[3*(v+T)+A];268435456&C[3*(v+T)+2]&&(this._extendedAttrs[y+T]=g._extendedAttrs[v+T])}else for(let T=0;T<_;T++){for(let A=0;A<3;A++)this._data[3*(y+T)+A]=C[3*(v+T)+A];268435456&C[3*(v+T)+2]&&(this._extendedAttrs[y+T]=g._extendedAttrs[v+T])}const b=Object.keys(g._combined);for(let T=0;T<b.length;T++){const A=parseInt(b[T],10);A>=v&&(this._combined[A-v+y]=g._combined[A])}}translateToString(g,v,y,_){v=v??0,y=y??this.length,g&&(y=Math.min(y,this.getTrimmedLength())),_&&(_.length=0);let w="";for(;v<y;){const C=this._data[3*v+0],b=2097151&C,T=2097152&C?this._combined[v]:b?(0,d.stringFromCodePoint)(b):u.WHITESPACE_CELL_CHAR;if(w+=T,_)for(let A=0;A<T.length;++A)_.push(v);v+=C>>22||1}return _&&_.push(v),w}}a.BufferLine=p},4841:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(o,h){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return h*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(l,a)=>{function o(h,c,u){if(c===h.length-1)return h[c].getTrimmedLength();const d=!h[c].hasContent(u-1)&&h[c].getWidth(u-1)===1,f=h[c+1].getWidth(0)===2;return d&&f?u-1:u}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(h,c,u,d,f){const p=[];for(let m=0;m<h.length-1;m++){let g=m,v=h.get(++g);if(!v.isWrapped)continue;const y=[h.get(m)];for(;g<h.length&&v.isWrapped;)y.push(v),v=h.get(++g);if(d>=m&&d<g){m+=y.length-1;continue}let _=0,w=o(y,_,c),C=1,b=0;for(;C<y.length;){const A=o(y,C,c),k=A-b,P=u-w,N=Math.min(k,P);y[_].copyCellsFrom(y[C],b,w,N,!1),w+=N,w===u&&(_++,w=0),b+=N,b===A&&(C++,b=0),w===0&&_!==0&&y[_-1].getWidth(u-1)===2&&(y[_].copyCellsFrom(y[_-1],u-1,w++,1,!1),y[_-1].setCell(u-1,f))}y[_].replaceCells(w,u,f);let T=0;for(let A=y.length-1;A>0&&(A>_||y[A].getTrimmedLength()===0);A--)T++;T>0&&(p.push(m+y.length-T),p.push(T)),m+=y.length-1}return p},a.reflowLargerCreateNewLayout=function(h,c){const u=[];let d=0,f=c[d],p=0;for(let m=0;m<h.length;m++)if(f===m){const g=c[++d];h.onDeleteEmitter.fire({index:m-p,amount:g}),m+=g-1,p+=g,f=c[++d]}else u.push(m);return{layout:u,countRemoved:p}},a.reflowLargerApplyNewLayout=function(h,c){const u=[];for(let d=0;d<c.length;d++)u.push(h.get(c[d]));for(let d=0;d<u.length;d++)h.set(d,u[d]);h.length=c.length},a.reflowSmallerGetNewLineLengths=function(h,c,u){const d=[],f=h.map(((v,y)=>o(h,y,c))).reduce(((v,y)=>v+y));let p=0,m=0,g=0;for(;g<f;){if(f-g<u){d.push(f-g);break}p+=u;const v=o(h,m,c);p>v&&(p-=v,m++);const y=h[m].getWidth(p-1)===2;y&&p--;const _=y?u-1:u;d.push(_),g+=_}return d},a.getWrappedLineTrimmedLength=o},5295:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const h=o(8460),c=o(844),u=o(9092);class d extends c.Disposable{constructor(p,m){super(),this._optionsService=p,this._bufferService=m,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(p){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(p),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(p,m){this._normal.resize(p,m),this._alt.resize(p,m),this.setupTabStops(p)}setupTabStops(p){this._normal.setupTabStops(p),this._alt.setupTabStops(p)}}a.BufferSet=d},511:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const h=o(482),c=o(643),u=o(3734);class d extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(p){const m=new d;return m.setFromCharData(p),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(p){this.fg=p[c.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(p[c.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(p[c.CHAR_DATA_CHAR_INDEX].length===2){const g=p[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=g&&g<=56319){const v=p[c.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=v&&v<=57343?this.content=1024*(g-55296)+v-56320+65536|p[c.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=p[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[c.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=p[c.CHAR_DATA_CHAR_INDEX],this.content=2097152|p[c.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=d},643:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const h=o(8460),c=o(844);class u{get id(){return this._id}constructor(f){this.line=f,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,c.disposeArray)(this._disposables),this._disposables.length=0)}register(f){return this._disposables.push(f),f}}a.Marker=u,u._nextId=1},7116:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(l,a)=>{var o,h,c;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,(function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""})(o||(a.C0=o={})),(function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""})(h||(a.C1=h={})),(function(u){u.ST=`${o.ESC}\\`})(c||(a.C1_ESCAPED=c={}))},7399:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const h=o(2584),c={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(u,d,f,p){const m={type:0,cancel:!1,key:void 0},g=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?m.key=d?h.C0.ESC+"OA":h.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?m.key=d?h.C0.ESC+"OD":h.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?m.key=d?h.C0.ESC+"OC":h.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(m.key=d?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:m.key=u.ctrlKey?"\b":h.C0.DEL,u.altKey&&(m.key=h.C0.ESC+m.key);break;case 9:if(u.shiftKey){m.key=h.C0.ESC+"[Z";break}m.key=h.C0.HT,m.cancel=!0;break;case 13:m.key=u.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,m.cancel=!0;break;case 27:m.key=h.C0.ESC,u.altKey&&(m.key=h.C0.ESC+h.C0.ESC),m.cancel=!0;break;case 37:if(u.metaKey)break;g?(m.key=h.C0.ESC+"[1;"+(g+1)+"D",m.key===h.C0.ESC+"[1;3D"&&(m.key=h.C0.ESC+(f?"b":"[1;5D"))):m.key=d?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(u.metaKey)break;g?(m.key=h.C0.ESC+"[1;"+(g+1)+"C",m.key===h.C0.ESC+"[1;3C"&&(m.key=h.C0.ESC+(f?"f":"[1;5C"))):m.key=d?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(u.metaKey)break;g?(m.key=h.C0.ESC+"[1;"+(g+1)+"A",f||m.key!==h.C0.ESC+"[1;3A"||(m.key=h.C0.ESC+"[1;5A")):m.key=d?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(u.metaKey)break;g?(m.key=h.C0.ESC+"[1;"+(g+1)+"B",f||m.key!==h.C0.ESC+"[1;3B"||(m.key=h.C0.ESC+"[1;5B")):m.key=d?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(m.key=h.C0.ESC+"[2~");break;case 46:m.key=g?h.C0.ESC+"[3;"+(g+1)+"~":h.C0.ESC+"[3~";break;case 36:m.key=g?h.C0.ESC+"[1;"+(g+1)+"H":d?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:m.key=g?h.C0.ESC+"[1;"+(g+1)+"F":d?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:u.shiftKey?m.type=2:u.ctrlKey?m.key=h.C0.ESC+"[5;"+(g+1)+"~":m.key=h.C0.ESC+"[5~";break;case 34:u.shiftKey?m.type=3:u.ctrlKey?m.key=h.C0.ESC+"[6;"+(g+1)+"~":m.key=h.C0.ESC+"[6~";break;case 112:m.key=g?h.C0.ESC+"[1;"+(g+1)+"P":h.C0.ESC+"OP";break;case 113:m.key=g?h.C0.ESC+"[1;"+(g+1)+"Q":h.C0.ESC+"OQ";break;case 114:m.key=g?h.C0.ESC+"[1;"+(g+1)+"R":h.C0.ESC+"OR";break;case 115:m.key=g?h.C0.ESC+"[1;"+(g+1)+"S":h.C0.ESC+"OS";break;case 116:m.key=g?h.C0.ESC+"[15;"+(g+1)+"~":h.C0.ESC+"[15~";break;case 117:m.key=g?h.C0.ESC+"[17;"+(g+1)+"~":h.C0.ESC+"[17~";break;case 118:m.key=g?h.C0.ESC+"[18;"+(g+1)+"~":h.C0.ESC+"[18~";break;case 119:m.key=g?h.C0.ESC+"[19;"+(g+1)+"~":h.C0.ESC+"[19~";break;case 120:m.key=g?h.C0.ESC+"[20;"+(g+1)+"~":h.C0.ESC+"[20~";break;case 121:m.key=g?h.C0.ESC+"[21;"+(g+1)+"~":h.C0.ESC+"[21~";break;case 122:m.key=g?h.C0.ESC+"[23;"+(g+1)+"~":h.C0.ESC+"[23~";break;case 123:m.key=g?h.C0.ESC+"[24;"+(g+1)+"~":h.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(f&&!p||!u.altKey||u.metaKey)!f||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?m.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(m.key=h.C0.US),u.key==="@"&&(m.key=h.C0.NUL)):u.keyCode===65&&(m.type=1);else{const v=c[u.keyCode],y=v?.[u.shiftKey?1:0];if(y)m.key=h.C0.ESC+y;else if(u.keyCode>=65&&u.keyCode<=90){const _=u.ctrlKey?u.keyCode-64:u.keyCode+32;let w=String.fromCharCode(_);u.shiftKey&&(w=w.toUpperCase()),m.key=h.C0.ESC+w}else if(u.keyCode===32)m.key=h.C0.ESC+(u.ctrlKey?h.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let _=u.code.slice(3,4);u.shiftKey||(_=_.toLowerCase()),m.key=h.C0.ESC+_,m.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?m.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?m.key=h.C0.NUL:u.keyCode>=51&&u.keyCode<=55?m.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?m.key=h.C0.DEL:u.keyCode===219?m.key=h.C0.ESC:u.keyCode===220?m.key=h.C0.FS:u.keyCode===221&&(m.key=h.C0.GS)}return m}},482:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},a.utf32ToString=function(o,h=0,c=o.length){let u="";for(let d=h;d<c;++d){let f=o[d];f>65535?(f-=65536,u+=String.fromCharCode(55296+(f>>10))+String.fromCharCode(f%1024+56320)):u+=String.fromCharCode(f)}return u},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,h){const c=o.length;if(!c)return 0;let u=0,d=0;if(this._interim){const f=o.charCodeAt(d++);56320<=f&&f<=57343?h[u++]=1024*(this._interim-55296)+f-56320+65536:(h[u++]=this._interim,h[u++]=f),this._interim=0}for(let f=d;f<c;++f){const p=o.charCodeAt(f);if(55296<=p&&p<=56319){if(++f>=c)return this._interim=p,u;const m=o.charCodeAt(f);56320<=m&&m<=57343?h[u++]=1024*(p-55296)+m-56320+65536:(h[u++]=p,h[u++]=m)}else p!==65279&&(h[u++]=p)}return u}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,h){const c=o.length;if(!c)return 0;let u,d,f,p,m=0,g=0,v=0;if(this.interim[0]){let w=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let b,T=0;for(;(b=63&this.interim[++T])&&T<4;)C<<=6,C|=b;const A=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=A-T;for(;v<k;){if(v>=c)return 0;if(b=o[v++],(192&b)!=128){v--,w=!0;break}this.interim[T++]=b,C<<=6,C|=63&b}w||(A===2?C<128?v--:h[m++]=C:A===3?C<2048||C>=55296&&C<=57343||C===65279||(h[m++]=C):C<65536||C>1114111||(h[m++]=C)),this.interim.fill(0)}const y=c-4;let _=v;for(;_<c;){for(;!(!(_<y)||128&(u=o[_])||128&(d=o[_+1])||128&(f=o[_+2])||128&(p=o[_+3]));)h[m++]=u,h[m++]=d,h[m++]=f,h[m++]=p,_+=4;if(u=o[_++],u<128)h[m++]=u;else if((224&u)==192){if(_>=c)return this.interim[0]=u,m;if(d=o[_++],(192&d)!=128){_--;continue}if(g=(31&u)<<6|63&d,g<128){_--;continue}h[m++]=g}else if((240&u)==224){if(_>=c)return this.interim[0]=u,m;if(d=o[_++],(192&d)!=128){_--;continue}if(_>=c)return this.interim[0]=u,this.interim[1]=d,m;if(f=o[_++],(192&f)!=128){_--;continue}if(g=(15&u)<<12|(63&d)<<6|63&f,g<2048||g>=55296&&g<=57343||g===65279)continue;h[m++]=g}else if((248&u)==240){if(_>=c)return this.interim[0]=u,m;if(d=o[_++],(192&d)!=128){_--;continue}if(_>=c)return this.interim[0]=u,this.interim[1]=d,m;if(f=o[_++],(192&f)!=128){_--;continue}if(_>=c)return this.interim[0]=u,this.interim[1]=d,this.interim[2]=f,m;if(p=o[_++],(192&p)!=128){_--;continue}if(g=(7&u)<<18|(63&d)<<12|(63&f)<<6|63&p,g<65536||g>1114111)continue;h[m++]=g}}return m}}},225:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const h=o(1480),c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let d;a.UnicodeV6=class{constructor(){if(this.version="6",!d){d=new Uint8Array(65536),d.fill(1),d[0]=0,d.fill(0,1,32),d.fill(0,127,160),d.fill(2,4352,4448),d[9001]=2,d[9002]=2,d.fill(2,11904,42192),d[12351]=1,d.fill(2,44032,55204),d.fill(2,63744,64256),d.fill(2,65040,65050),d.fill(2,65072,65136),d.fill(2,65280,65377),d.fill(2,65504,65511);for(let f=0;f<c.length;++f)d.fill(0,c[f][0],c[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?d[f]:(function(p,m){let g,v=0,y=m.length-1;if(p<m[0][0]||p>m[y][1])return!1;for(;y>=v;)if(g=v+y>>1,p>m[g][1])v=g+1;else{if(!(p<m[g][0]))return!0;y=g-1}return!1})(f,u)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}charProperties(f,p){let m=this.wcwidth(f),g=m===0&&p!==0;if(g){const v=h.UnicodeService.extractWidth(p);v===0?g=!1:v>m&&(m=v)}return h.UnicodeService.createPropertyValue(0,m,g)}}},5981:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const h=o(8460),c=o(844);class u extends c.Disposable{constructor(f){super(),this._action=f,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(f,p){if(p!==void 0&&this._syncCalls>p)return void(this._syncCalls=0);if(this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const g=this._callbacks.shift();g&&g()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(f,p){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(p),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=f.length,this._writeBuffer.push(f),this._callbacks.push(p)}_innerWrite(f=0,p=!0){const m=f||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const g=this._writeBuffer[this._bufferOffset],v=this._action(g,p);if(v){const _=w=>Date.now()-m>=12?setTimeout((()=>this._innerWrite(0,w))):this._innerWrite(m,w);return void v.catch((w=>(queueMicrotask((()=>{throw w})),Promise.resolve(!1)))).then(_)}const y=this._callbacks[this._bufferOffset];if(y&&y(),this._bufferOffset++,this._pendingData-=g.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=u},5941:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function c(u,d){const f=u.toString(16),p=f.length<2?"0"+f:f;switch(d){case 4:return f[0];case 8:return p;case 12:return(p+p).slice(0,3);default:return p+p}}a.parseColor=function(u){if(!u)return;let d=u.toLowerCase();if(d.indexOf("rgb:")===0){d=d.slice(4);const f=o.exec(d);if(f){const p=f[1]?15:f[4]?255:f[7]?4095:65535;return[Math.round(parseInt(f[1]||f[4]||f[7]||f[10],16)/p*255),Math.round(parseInt(f[2]||f[5]||f[8]||f[11],16)/p*255),Math.round(parseInt(f[3]||f[6]||f[9]||f[12],16)/p*255)]}}else if(d.indexOf("#")===0&&(d=d.slice(1),h.exec(d)&&[3,6,9,12].includes(d.length))){const f=d.length/3,p=[0,0,0];for(let m=0;m<3;++m){const g=parseInt(d.slice(f*m,f*m+f),16);p[m]=f===1?g<<4:f===2?g:f===3?g>>4:g>>8}return p}},a.toRgbString=function(u,d=16){const[f,p,m]=u;return`rgb:${c(f,d)}/${c(p,d)}/${c(m,d)}`}},5770:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const h=o(482),c=o(8742),u=o(5770),d=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=d,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}registerHandler(p,m){this._handlers[p]===void 0&&(this._handlers[p]=[]);const g=this._handlers[p];return g.push(m),{dispose:()=>{const v=g.indexOf(m);v!==-1&&g.splice(v,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}reset(){if(this._active.length)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].unhook(!1);this._stack.paused=!1,this._active=d,this._ident=0}hook(p,m){if(this.reset(),this._ident=p,this._active=this._handlers[p]||d,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(p,m,g){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(p,m,g);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(p,m,g))}unhook(p,m=!0){if(this._active.length){let g=!1,v=this._active.length-1,y=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,g=m,y=this._stack.fallThrough,this._stack.paused=!1),!y&&g===!1){for(;v>=0&&(g=this._active[v].unhook(p),g!==!0);v--)if(g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,g;v--}for(;v>=0;v--)if(g=this._active[v].unhook(!1),g instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,g}else this._handlerFb(this._ident,"UNHOOK",p);this._active=d,this._ident=0}};const f=new c.Params;f.addParam(0),a.DcsHandler=class{constructor(p){this._handler=p,this._data="",this._params=f,this._hitLimit=!1}hook(p){this._params=p.length>1||p.params[0]?p.clone():f,this._data="",this._hitLimit=!1}put(p,m,g){this._hitLimit||(this._data+=(0,h.utf32ToString)(p,m,g),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(p){let m=!1;if(this._hitLimit)m=!1;else if(p&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then((g=>(this._params=f,this._data="",this._hitLimit=!1,g)));return this._params=f,this._data="",this._hitLimit=!1,m}}},2015:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const h=o(844),c=o(8742),u=o(6242),d=o(6351);class f{constructor(v){this.table=new Uint8Array(v)}setDefault(v,y){this.table.fill(v<<4|y)}add(v,y,_,w){this.table[y<<8|v]=_<<4|w}addMany(v,y,_,w){for(let C=0;C<v.length;C++)this.table[y<<8|v[C]]=_<<4|w}}a.TransitionTable=f;const p=160;a.VT500_TRANSITION_TABLE=(function(){const g=new f(4095),v=Array.apply(null,Array(256)).map(((T,A)=>A)),y=(T,A)=>v.slice(T,A),_=y(32,127),w=y(0,24);w.push(25),w.push.apply(w,y(28,32));const C=y(0,14);let b;for(b in g.setDefault(1,0),g.addMany(_,0,2,0),C)g.addMany([24,26,153,154],b,3,0),g.addMany(y(128,144),b,3,0),g.addMany(y(144,152),b,3,0),g.add(156,b,0,0),g.add(27,b,11,1),g.add(157,b,4,8),g.addMany([152,158,159],b,0,7),g.add(155,b,11,3),g.add(144,b,11,9);return g.addMany(w,0,3,0),g.addMany(w,1,3,1),g.add(127,1,0,1),g.addMany(w,8,0,8),g.addMany(w,3,3,3),g.add(127,3,0,3),g.addMany(w,4,3,4),g.add(127,4,0,4),g.addMany(w,6,3,6),g.addMany(w,5,3,5),g.add(127,5,0,5),g.addMany(w,2,3,2),g.add(127,2,0,2),g.add(93,1,4,8),g.addMany(_,8,5,8),g.add(127,8,5,8),g.addMany([156,27,24,26,7],8,6,0),g.addMany(y(28,32),8,0,8),g.addMany([88,94,95],1,0,7),g.addMany(_,7,0,7),g.addMany(w,7,0,7),g.add(156,7,0,0),g.add(127,7,0,7),g.add(91,1,11,3),g.addMany(y(64,127),3,7,0),g.addMany(y(48,60),3,8,4),g.addMany([60,61,62,63],3,9,4),g.addMany(y(48,60),4,8,4),g.addMany(y(64,127),4,7,0),g.addMany([60,61,62,63],4,0,6),g.addMany(y(32,64),6,0,6),g.add(127,6,0,6),g.addMany(y(64,127),6,0,0),g.addMany(y(32,48),3,9,5),g.addMany(y(32,48),5,9,5),g.addMany(y(48,64),5,0,6),g.addMany(y(64,127),5,7,0),g.addMany(y(32,48),4,9,5),g.addMany(y(32,48),1,9,2),g.addMany(y(32,48),2,9,2),g.addMany(y(48,127),2,10,0),g.addMany(y(48,80),1,10,0),g.addMany(y(81,88),1,10,0),g.addMany([89,90,92],1,10,0),g.addMany(y(96,127),1,10,0),g.add(80,1,11,9),g.addMany(w,9,0,9),g.add(127,9,0,9),g.addMany(y(28,32),9,0,9),g.addMany(y(32,48),9,9,12),g.addMany(y(48,60),9,8,10),g.addMany([60,61,62,63],9,9,10),g.addMany(w,11,0,11),g.addMany(y(32,128),11,0,11),g.addMany(y(28,32),11,0,11),g.addMany(w,10,0,10),g.add(127,10,0,10),g.addMany(y(28,32),10,0,10),g.addMany(y(48,60),10,8,10),g.addMany([60,61,62,63],10,0,11),g.addMany(y(32,48),10,9,12),g.addMany(w,12,0,12),g.add(127,12,0,12),g.addMany(y(28,32),12,0,12),g.addMany(y(32,48),12,9,12),g.addMany(y(48,64),12,0,11),g.addMany(y(64,127),12,12,13),g.addMany(y(64,127),10,12,13),g.addMany(y(64,127),9,12,13),g.addMany(w,13,13,13),g.addMany(_,13,13,13),g.add(127,13,0,13),g.addMany([27,156,24,26],13,14,0),g.add(p,0,2,0),g.add(p,8,5,8),g.add(p,6,0,6),g.add(p,11,0,11),g.add(p,13,13,13),g})();class m extends h.Disposable{constructor(v=a.VT500_TRANSITION_TABLE){super(),this._transitions=v,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new c.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(y,_,w)=>{},this._executeHandlerFb=y=>{},this._csiHandlerFb=(y,_)=>{},this._escHandlerFb=y=>{},this._errorHandlerFb=y=>y,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new d.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(v,y=[64,126]){let _=0;if(v.prefix){if(v.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=v.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(v.intermediates){if(v.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<v.intermediates.length;++C){const b=v.intermediates.charCodeAt(C);if(32>b||b>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=b}}if(v.final.length!==1)throw new Error("final must be a single byte");const w=v.final.charCodeAt(0);if(y[0]>w||w>y[1])throw new Error(`final must be in range ${y[0]} .. ${y[1]}`);return _<<=8,_|=w,_}identToString(v){const y=[];for(;v;)y.push(String.fromCharCode(255&v)),v>>=8;return y.reverse().join("")}setPrintHandler(v){this._printHandler=v}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(v,y){const _=this._identifier(v,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const w=this._escHandlers[_];return w.push(y),{dispose:()=>{const C=w.indexOf(y);C!==-1&&w.splice(C,1)}}}clearEscHandler(v){this._escHandlers[this._identifier(v,[48,126])]&&delete this._escHandlers[this._identifier(v,[48,126])]}setEscHandlerFallback(v){this._escHandlerFb=v}setExecuteHandler(v,y){this._executeHandlers[v.charCodeAt(0)]=y}clearExecuteHandler(v){this._executeHandlers[v.charCodeAt(0)]&&delete this._executeHandlers[v.charCodeAt(0)]}setExecuteHandlerFallback(v){this._executeHandlerFb=v}registerCsiHandler(v,y){const _=this._identifier(v);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const w=this._csiHandlers[_];return w.push(y),{dispose:()=>{const C=w.indexOf(y);C!==-1&&w.splice(C,1)}}}clearCsiHandler(v){this._csiHandlers[this._identifier(v)]&&delete this._csiHandlers[this._identifier(v)]}setCsiHandlerFallback(v){this._csiHandlerFb=v}registerDcsHandler(v,y){return this._dcsParser.registerHandler(this._identifier(v),y)}clearDcsHandler(v){this._dcsParser.clearHandler(this._identifier(v))}setDcsHandlerFallback(v){this._dcsParser.setHandlerFallback(v)}registerOscHandler(v,y){return this._oscParser.registerHandler(v,y)}clearOscHandler(v){this._oscParser.clearHandler(v)}setOscHandlerFallback(v){this._oscParser.setHandlerFallback(v)}setErrorHandler(v){this._errorHandler=v}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(v,y,_,w,C){this._parseStack.state=v,this._parseStack.handlers=y,this._parseStack.handlerPos=_,this._parseStack.transition=w,this._parseStack.chunkPos=C}parse(v,y,_){let w,C=0,b=0,T=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,T=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const A=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&k>-1){for(;k>=0&&(w=A[k](this._params),w!==!0);k--)if(w instanceof Promise)return this._parseStack.handlerPos=k,w}this._parseStack.handlers=[];break;case 4:if(_===!1&&k>-1){for(;k>=0&&(w=A[k](),w!==!0);k--)if(w instanceof Promise)return this._parseStack.handlerPos=k,w}this._parseStack.handlers=[];break;case 6:if(C=v[this._parseStack.chunkPos],w=this._dcsParser.unhook(C!==24&&C!==26,_),w)return w;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=v[this._parseStack.chunkPos],w=this._oscParser.end(C!==24&&C!==26,_),w)return w;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,T=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let A=T;A<y;++A){switch(C=v[A],b=this._transitions.table[this.currentState<<8|(C<160?C:p)],b>>4){case 2:for(let L=A+1;;++L){if(L>=y||(C=v[L])<32||C>126&&C<p){this._printHandler(v,A,L),A=L-1;break}if(++L>=y||(C=v[L])<32||C>126&&C<p){this._printHandler(v,A,L),A=L-1;break}if(++L>=y||(C=v[L])<32||C>126&&C<p){this._printHandler(v,A,L),A=L-1;break}if(++L>=y||(C=v[L])<32||C>126&&C<p){this._printHandler(v,A,L),A=L-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:A,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|C];let P=k?k.length-1:-1;for(;P>=0&&(w=k[P](this._params),w!==!0);P--)if(w instanceof Promise)return this._preserveStack(3,k,P,b,A),w;P<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingJoinState=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++A<y&&(C=v[A])>47&&C<60);A--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const N=this._escHandlers[this._collect<<8|C];let D=N?N.length-1:-1;for(;D>=0&&(w=N[D](),w!==!0);D--)if(w instanceof Promise)return this._preserveStack(4,N,D,b,A),w;D<0&&this._escHandlerFb(this._collect<<8|C),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let L=A+1;;++L)if(L>=y||(C=v[L])===24||C===26||C===27||C>127&&C<p){this._dcsParser.put(v,A,L),A=L-1;break}break;case 14:if(w=this._dcsParser.unhook(C!==24&&C!==26),w)return this._preserveStack(6,[],0,b,A),w;C===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let L=A+1;;L++)if(L>=y||(C=v[L])<32||C>127&&C<p){this._oscParser.put(v,A,L),A=L-1;break}break;case 6:if(w=this._oscParser.end(C!==24&&C!==26),w)return this._preserveStack(5,[],0,b,A),w;C===27&&(b|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&b}}}a.EscapeSequenceParser=m},6242:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const h=o(5770),c=o(482),u=[];a.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(d,f){this._handlers[d]===void 0&&(this._handlers[d]=[]);const p=this._handlers[d];return p.push(f),{dispose:()=>{const m=p.indexOf(f);m!==-1&&p.splice(m,1)}}}clearHandler(d){this._handlers[d]&&delete this._handlers[d]}setHandlerFallback(d){this._handlerFb=d}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let d=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;d>=0;--d)this._active[d].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].start();else this._handlerFb(this._id,"START")}_put(d,f,p){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(d,f,p);else this._handlerFb(this._id,"PUT",(0,c.utf32ToString)(d,f,p))}start(){this.reset(),this._state=1}put(d,f,p){if(this._state!==3){if(this._state===1)for(;f<p;){const m=d[f++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&p-f>0&&this._put(d,f,p)}}end(d,f=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let p=!1,m=this._active.length-1,g=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,p=f,g=this._stack.fallThrough,this._stack.paused=!1),!g&&p===!1){for(;m>=0&&(p=this._active[m].end(d),p!==!0);m--)if(p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,p;m--}for(;m>=0;m--)if(p=this._active[m].end(!1),p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,p}else this._handlerFb(this._id,"END",d);this._active=u,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(d){this._handler=d,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(d,f,p){this._hitLimit||(this._data+=(0,c.utf32ToString)(d,f,p),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(d){let f=!1;if(this._hitLimit)f=!1;else if(d&&(f=this._handler(this._data),f instanceof Promise))return f.then((p=>(this._data="",this._hitLimit=!1,p)));return this._data="",this._hitLimit=!1,f}}},8742:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const o=2147483647;class h{static fromArray(u){const d=new h;if(!u.length)return d;for(let f=Array.isArray(u[0])?1:0;f<u.length;++f){const p=u[f];if(Array.isArray(p))for(let m=0;m<p.length;++m)d.addSubParam(p[m]);else d.addParam(p)}return d}constructor(u=32,d=32){if(this.maxLength=u,this.maxSubParamsLength=d,d>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(d),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new h(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let d=0;d<this.length;++d){u.push(this.params[d]);const f=this._subParamsIdx[d]>>8,p=255&this._subParamsIdx[d];p-f>0&&u.push(Array.prototype.slice.call(this._subParams,f,p))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>o?o:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>o?o:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const d=this._subParamsIdx[u]>>8,f=255&this._subParamsIdx[u];return f-d>0?this._subParams.subarray(d,f):null}getSubParamsAll(){const u={};for(let d=0;d<this.length;++d){const f=this._subParamsIdx[d]>>8,p=255&this._subParamsIdx[d];p-f>0&&(u[d]=this._subParams.slice(f,p))}return u}addDigit(u){let d;if(this._rejectDigits||!(d=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const f=this._digitIsSub?this._subParams:this.params,p=f[d-1];f[d-1]=~p?Math.min(10*p+u,o):u}}a.Params=h},5741:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,h){const c={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(c),h.dispose=()=>this._wrappedAddonDispose(c),h.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let h=-1;for(let c=0;c<this._addons.length;c++)if(this._addons[c]===o){h=c;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(h,1)}}},8771:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const h=o(3785),c=o(511);a.BufferApiView=class{constructor(u,d){this._buffer=u,this.type=d}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const d=this._buffer.lines.get(u);if(d)return new h.BufferLineApiView(d)}getNullCell(){return new c.CellData}}},3785:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const h=o(511);a.BufferLineApiView=class{constructor(c){this._line=c}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(c,u){if(!(c<0||c>=this._line.length))return u?(this._line.loadCell(c,u),u):this._line.loadCell(c,new h.CellData)}translateToString(c,u,d){return this._line.translateToString(c,u,d)}}},8285:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const h=o(8771),c=o(8460),u=o(844);class d extends u.Disposable{constructor(p){super(),this._core=p,this._onBufferChange=this.register(new c.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=d},7975:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,h){return this._core.registerCsiHandler(o,(c=>h(c.toArray())))}addCsiHandler(o,h){return this.registerCsiHandler(o,h)}registerDcsHandler(o,h){return this._core.registerDcsHandler(o,((c,u)=>h(c,u.toArray())))}addDcsHandler(o,h){return this.registerDcsHandler(o,h)}registerEscHandler(o,h){return this._core.registerEscHandler(o,h)}addEscHandler(o,h){return this.registerEscHandler(o,h)}registerOscHandler(o,h){return this._core.registerOscHandler(o,h)}addOscHandler(o,h){return this.registerOscHandler(o,h)}}},7090:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(l,a,o){var h=this&&this.__decorate||function(g,v,y,_){var w,C=arguments.length,b=C<3?v:_===null?_=Object.getOwnPropertyDescriptor(v,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(g,v,y,_);else for(var T=g.length-1;T>=0;T--)(w=g[T])&&(b=(C<3?w(b):C>3?w(v,y,b):w(v,y))||b);return C>3&&b&&Object.defineProperty(v,y,b),b},c=this&&this.__param||function(g,v){return function(y,_){v(y,_,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const u=o(8460),d=o(844),f=o(5295),p=o(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let m=a.BufferService=class extends d.Disposable{get buffer(){return this.buffers.active}constructor(g){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(g.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(g.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new f.BufferSet(g,this))}resize(g,v){this.cols=g,this.rows=v,this.buffers.resize(g,v),this._onResize.fire({cols:g,rows:v})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(g,v=!1){const y=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===g.fg&&_.getBg(0)===g.bg||(_=y.getBlankLine(g,v),this._cachedBlankLine=_),_.isWrapped=v;const w=y.ybase+y.scrollTop,C=y.ybase+y.scrollBottom;if(y.scrollTop===0){const b=y.lines.isFull;C===y.lines.length-1?b?y.lines.recycle().copyFrom(_):y.lines.push(_.clone()):y.lines.splice(C+1,0,_.clone()),b?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else{const b=C-w+1;y.lines.shiftElements(w+1,b-1,-1),y.lines.set(C,_.clone())}this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)}scrollLines(g,v,y){const _=this.buffer;if(g<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else g+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const w=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+g,_.ybase),0),w!==_.ydisp&&(v||this._onScroll.fire(_.ydisp))}};a.BufferService=m=h([c(0,p.IOptionsService)],m)},7994:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,h){this._charsets[o]=h,this.glevel===o&&(this.charset=h)}}},1753:function(l,a,o){var h=this&&this.__decorate||function(_,w,C,b){var T,A=arguments.length,k=A<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,C):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,w,C,b);else for(var P=_.length-1;P>=0;P--)(T=_[P])&&(k=(A<3?T(k):A>3?T(w,C,k):T(w,C))||k);return A>3&&k&&Object.defineProperty(w,C,k),k},c=this&&this.__param||function(_,w){return function(C,b){w(C,b,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const u=o(2585),d=o(8460),f=o(844),p={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function m(_,w){let C=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(C|=64,C|=_.action):(C|=3&_.button,4&_.button&&(C|=64),8&_.button&&(C|=128),_.action===32?C|=32:_.action!==0||w||(C|=3)),C}const g=String.fromCharCode,v={DEFAULT:_=>{const w=[m(_,!1)+32,_.col+32,_.row+32];return w[0]>255||w[1]>255||w[2]>255?"":`\x1B[M${g(w[0])}${g(w[1])}${g(w[2])}`},SGR:_=>{const w=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${m(_,!0)};${_.col};${_.row}${w}`},SGR_PIXELS:_=>{const w=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${m(_,!0)};${_.x};${_.y}${w}`}};let y=a.CoreMouseService=class extends f.Disposable{constructor(_,w){super(),this._bufferService=_,this._coreService=w,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new d.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(p))this.addProtocol(C,p[C]);for(const C of Object.keys(v))this.addEncoding(C,v[C]);this.reset()}addProtocol(_,w){this._protocols[_]=w}addEncoding(_,w){this._encodings[_]=w}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const w=this._encodings[this._activeEncoding](_);return w&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(w):this._coreService.triggerDataEvent(w,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,w,C){if(C){if(_.x!==w.x||_.y!==w.y)return!1}else if(_.col!==w.col||_.row!==w.row)return!1;return _.button===w.button&&_.action===w.action&&_.ctrl===w.ctrl&&_.alt===w.alt&&_.shift===w.shift}};a.CoreMouseService=y=h([c(0,u.IBufferService),c(1,u.ICoreService)],y)},6975:function(l,a,o){var h=this&&this.__decorate||function(y,_,w,C){var b,T=arguments.length,A=T<3?_:C===null?C=Object.getOwnPropertyDescriptor(_,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,_,w,C);else for(var k=y.length-1;k>=0;k--)(b=y[k])&&(A=(T<3?b(A):T>3?b(_,w,A):b(_,w))||A);return T>3&&A&&Object.defineProperty(_,w,A),A},c=this&&this.__param||function(y,_){return function(w,C){_(w,C,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const u=o(1439),d=o(8460),f=o(844),p=o(2585),m=Object.freeze({insertMode:!1}),g=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let v=a.CoreService=class extends f.Disposable{constructor(y,_,w){super(),this._bufferService=y,this._logService=_,this._optionsService=w,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new d.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new d.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(m),this.decPrivateModes=(0,u.clone)(g)}reset(){this.modes=(0,u.clone)(m),this.decPrivateModes=(0,u.clone)(g)}triggerDataEvent(y,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const w=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&w.ybase!==w.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${y}"`,(()=>y.split("").map((C=>C.charCodeAt(0))))),this._onData.fire(y)}triggerBinaryEvent(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${y}"`,(()=>y.split("").map((_=>_.charCodeAt(0))))),this._onBinary.fire(y))}};a.CoreService=v=h([c(0,p.IBufferService),c(1,p.ILogService),c(2,p.IOptionsService)],v)},9074:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const h=o(8055),c=o(8460),u=o(844),d=o(6106);let f=0,p=0;class m extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new d.SortedList((y=>y?.marker.line)),this._onDecorationRegistered=this.register(new c.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new c.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)((()=>this.reset())))}registerDecoration(y){if(y.marker.isDisposed)return;const _=new g(y);if(_){const w=_.marker.onDispose((()=>_.dispose()));_.onDispose((()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),w.dispose())})),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const y of this._decorations.values())y.dispose();this._decorations.clear()}*getDecorationsAtCell(y,_,w){let C=0,b=0;for(const T of this._decorations.getKeyIterator(_))C=T.options.x??0,b=C+(T.options.width??1),y>=C&&y<b&&(!w||(T.options.layer??"bottom")===w)&&(yield T)}forEachDecorationAtCell(y,_,w,C){this._decorations.forEachByKey(_,(b=>{f=b.options.x??0,p=f+(b.options.width??1),y>=f&&y<p&&(!w||(b.options.layer??"bottom")===w)&&C(b)}))}}a.DecorationService=m;class g extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(y){super(),this.options=y,this.onRenderEmitter=this.register(new c.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=y.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const h=o(2585),c=o(8343);class u{constructor(...f){this._entries=new Map;for(const[p,m]of f)this.set(p,m)}set(f,p){const m=this._entries.get(f);return this._entries.set(f,p),m}forEach(f){for(const[p,m]of this._entries.entries())f(p,m)}has(f){return this._entries.has(f)}get(f){return this._entries.get(f)}}a.ServiceCollection=u,a.InstantiationService=class{constructor(){this._services=new u,this._services.set(h.IInstantiationService,this)}setService(d,f){this._services.set(d,f)}getService(d){return this._services.get(d)}createInstance(d,...f){const p=(0,c.getServiceDependencies)(d).sort(((v,y)=>v.index-y.index)),m=[];for(const v of p){const y=this._services.get(v.id);if(!y)throw new Error(`[createInstance] ${d.name} depends on UNKNOWN service ${v.id}.`);m.push(y)}const g=p.length>0?p[0].index:f.length;if(f.length!==g)throw new Error(`[createInstance] First service dependency of ${d.name} at position ${g+1} conflicts with ${f.length} static arguments`);return new d(...f,...m)}}},7866:function(l,a,o){var h=this&&this.__decorate||function(g,v,y,_){var w,C=arguments.length,b=C<3?v:_===null?_=Object.getOwnPropertyDescriptor(v,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(g,v,y,_);else for(var T=g.length-1;T>=0;T--)(w=g[T])&&(b=(C<3?w(b):C>3?w(v,y,b):w(v,y))||b);return C>3&&b&&Object.defineProperty(v,y,b),b},c=this&&this.__param||function(g,v){return function(y,_){v(y,_,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const u=o(844),d=o(2585),f={trace:d.LogLevelEnum.TRACE,debug:d.LogLevelEnum.DEBUG,info:d.LogLevelEnum.INFO,warn:d.LogLevelEnum.WARN,error:d.LogLevelEnum.ERROR,off:d.LogLevelEnum.OFF};let p,m=a.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(g){super(),this._optionsService=g,this._logLevel=d.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),p=this}_updateLogLevel(){this._logLevel=f[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let v=0;v<g.length;v++)typeof g[v]=="function"&&(g[v]=g[v]())}_log(g,v,y){this._evalLazyOptionalParams(y),g.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+v,...y)}trace(g,...v){this._logLevel<=d.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,g,v)}debug(g,...v){this._logLevel<=d.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,g,v)}info(g,...v){this._logLevel<=d.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,g,v)}warn(g,...v){this._logLevel<=d.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,g,v)}error(g,...v){this._logLevel<=d.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,g,v)}};a.LogService=m=h([c(0,d.IOptionsService)],m),a.setTraceLogger=function(g){p=g},a.traceCall=function(g,v,y){if(typeof y.value!="function")throw new Error("not supported");const _=y.value;y.value=function(...w){if(p.logLevel!==d.LogLevelEnum.TRACE)return _.apply(this,w);p.trace(`GlyphRenderer#${_.name}(${w.map((b=>JSON.stringify(b))).join(", ")})`);const C=_.apply(this,w);return p.trace(`GlyphRenderer#${_.name} return`,C),C}}},7302:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const h=o(8460),c=o(844),u=o(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const d=["normal","bold","100","200","300","400","500","600","700","800","900"];class f extends c.Disposable{constructor(m){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const g={...a.DEFAULT_OPTIONS};for(const v in m)if(v in g)try{const y=m[v];g[v]=this._sanitizeAndValidateOption(v,y)}catch(y){console.error(y)}this.rawOptions=g,this.options={...g},this._setupOptions(),this.register((0,c.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(m,g){return this.onOptionChange((v=>{v===m&&g(this.rawOptions[m])}))}onMultipleOptionChange(m,g){return this.onOptionChange((v=>{m.indexOf(v)!==-1&&g()}))}_setupOptions(){const m=v=>{if(!(v in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${v}"`);return this.rawOptions[v]},g=(v,y)=>{if(!(v in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${v}"`);y=this._sanitizeAndValidateOption(v,y),this.rawOptions[v]!==y&&(this.rawOptions[v]=y,this._onOptionChange.fire(v))};for(const v in this.rawOptions){const y={get:m.bind(this,v),set:g.bind(this,v)};Object.defineProperty(this.options,v,y)}}_sanitizeAndValidateOption(m,g){switch(m){case"cursorStyle":if(g||(g=a.DEFAULT_OPTIONS[m]),!(function(v){return v==="block"||v==="underline"||v==="bar"})(g))throw new Error(`"${g}" is not a valid value for ${m}`);break;case"wordSeparator":g||(g=a.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof g=="number"&&1<=g&&g<=1e3)break;g=d.includes(g)?g:a.DEFAULT_OPTIONS[m];break;case"cursorWidth":g=Math.floor(g);case"lineHeight":case"tabStopWidth":if(g<1)throw new Error(`${m} cannot be less than 1, value: ${g}`);break;case"minimumContrastRatio":g=Math.max(1,Math.min(21,Math.round(10*g)/10));break;case"scrollback":if((g=Math.min(g,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${g}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(g<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${g}`);break;case"rows":case"cols":if(!g&&g!==0)throw new Error(`${m} must be numeric, value: ${g}`);break;case"windowsPty":g=g??{}}return g}}a.OptionsService=f},2660:function(l,a,o){var h=this&&this.__decorate||function(f,p,m,g){var v,y=arguments.length,_=y<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,m):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,p,m,g);else for(var w=f.length-1;w>=0;w--)(v=f[w])&&(_=(y<3?v(_):y>3?v(p,m,_):v(p,m))||_);return y>3&&_&&Object.defineProperty(p,m,_),_},c=this&&this.__param||function(f,p){return function(m,g){p(m,g,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const u=o(2585);let d=a.OscLinkService=class{constructor(f){this._bufferService=f,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(f){const p=this._bufferService.buffer;if(f.id===void 0){const w=p.addMarker(p.ybase+p.y),C={data:f,id:this._nextId++,lines:[w]};return w.onDispose((()=>this._removeMarkerFromLink(C,w))),this._dataByLinkId.set(C.id,C),C.id}const m=f,g=this._getEntryIdKey(m),v=this._entriesWithId.get(g);if(v)return this.addLineToLink(v.id,p.ybase+p.y),v.id;const y=p.addMarker(p.ybase+p.y),_={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[y]};return y.onDispose((()=>this._removeMarkerFromLink(_,y))),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(f,p){const m=this._dataByLinkId.get(f);if(m&&m.lines.every((g=>g.line!==p))){const g=this._bufferService.buffer.addMarker(p);m.lines.push(g),g.onDispose((()=>this._removeMarkerFromLink(m,g)))}}getLinkData(f){return this._dataByLinkId.get(f)?.data}_getEntryIdKey(f){return`${f.id};;${f.uri}`}_removeMarkerFromLink(f,p){const m=f.lines.indexOf(p);m!==-1&&(f.lines.splice(m,1),f.lines.length===0&&(f.data.id!==void 0&&this._entriesWithId.delete(f.key),this._dataByLinkId.delete(f.id)))}};a.OscLinkService=d=h([c(0,u.IBufferService)],d)},8343:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const o="di$target",h="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(c){return c[h]||[]},a.createDecorator=function(c){if(a.serviceRegistry.has(c))return a.serviceRegistry.get(c);const u=function(d,f,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,g,v){g[o]===g?g[h].push({id:m,index:v}):(g[h]=[{id:m,index:v}],g[o]=g)})(u,d,p)};return u.toString=()=>c,a.serviceRegistry.set(c,u),u}},2585:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const h=o(8343);var c;a.IBufferService=(0,h.createDecorator)("BufferService"),a.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),a.ICoreService=(0,h.createDecorator)("CoreService"),a.ICharsetService=(0,h.createDecorator)("CharsetService"),a.IInstantiationService=(0,h.createDecorator)("InstantiationService"),(function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"})(c||(a.LogLevelEnum=c={})),a.ILogService=(0,h.createDecorator)("LogService"),a.IOptionsService=(0,h.createDecorator)("OptionsService"),a.IOscLinkService=(0,h.createDecorator)("OscLinkService"),a.IUnicodeService=(0,h.createDecorator)("UnicodeService"),a.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(l,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const h=o(8460),c=o(225);class u{static extractShouldJoin(f){return(1&f)!=0}static extractWidth(f){return f>>1&3}static extractCharKind(f){return f>>3}static createPropertyValue(f,p,m=!1){return(16777215&f)<<3|(3&p)<<1|(m?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const f=new c.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let p=0,m=0;const g=f.length;for(let v=0;v<g;++v){let y=f.charCodeAt(v);if(55296<=y&&y<=56319){if(++v>=g)return p+this.wcwidth(y);const C=f.charCodeAt(v);56320<=C&&C<=57343?y=1024*(y-55296)+C-56320+65536:p+=this.wcwidth(C)}const _=this.charProperties(y,m);let w=u.extractWidth(_);u.extractShouldJoin(_)&&(w-=u.extractWidth(m)),p+=w,m=_}return p}charProperties(f,p){return this._activeProvider.charProperties(f,p)}}a.UnicodeService=u}},r={};function i(l){var a=r[l];if(a!==void 0)return a.exports;var o=r[l]={exports:{}};return t[l].call(o.exports,o,o.exports,i),o.exports}var s={};return(()=>{var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const a=i(9042),o=i(3236),h=i(844),c=i(5741),u=i(8285),d=i(7975),f=i(7090),p=["cols","rows"];class m extends h.Disposable{constructor(v){super(),this._core=this.register(new o.Terminal(v)),this._addonManager=this.register(new c.AddonManager),this._publicOptions={...this._core.options};const y=w=>this._core.options[w],_=(w,C)=>{this._checkReadonlyOptions(w),this._core.options[w]=C};for(const w in this._core.options){const C={get:y.bind(this,w),set:_.bind(this,w)};Object.defineProperty(this._publicOptions,w,C)}}_checkReadonlyOptions(v){if(p.includes(v))throw new Error(`Option "${v}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new d.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new f.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const v=this._core.coreService.decPrivateModes;let y="none";switch(this._core.coreMouseService.activeProtocol){case"X10":y="x10";break;case"VT200":y="vt200";break;case"DRAG":y="drag";break;case"ANY":y="any"}return{applicationCursorKeysMode:v.applicationCursorKeys,applicationKeypadMode:v.applicationKeypad,bracketedPasteMode:v.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:y,originMode:v.origin,reverseWraparoundMode:v.reverseWraparound,sendFocusMode:v.sendFocus,wraparoundMode:v.wraparound}}get options(){return this._publicOptions}set options(v){for(const y in v)this._publicOptions[y]=v[y]}blur(){this._core.blur()}focus(){this._core.focus()}input(v,y=!0){this._core.input(v,y)}resize(v,y){this._verifyIntegers(v,y),this._core.resize(v,y)}open(v){this._core.open(v)}attachCustomKeyEventHandler(v){this._core.attachCustomKeyEventHandler(v)}attachCustomWheelEventHandler(v){this._core.attachCustomWheelEventHandler(v)}registerLinkProvider(v){return this._core.registerLinkProvider(v)}registerCharacterJoiner(v){return this._checkProposedApi(),this._core.registerCharacterJoiner(v)}deregisterCharacterJoiner(v){this._checkProposedApi(),this._core.deregisterCharacterJoiner(v)}registerMarker(v=0){return this._verifyIntegers(v),this._core.registerMarker(v)}registerDecoration(v){return this._checkProposedApi(),this._verifyPositiveIntegers(v.x??0,v.width??0,v.height??0),this._core.registerDecoration(v)}hasSelection(){return this._core.hasSelection()}select(v,y,_){this._verifyIntegers(v,y,_),this._core.select(v,y,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(v,y){this._verifyIntegers(v,y),this._core.selectLines(v,y)}dispose(){super.dispose()}scrollLines(v){this._verifyIntegers(v),this._core.scrollLines(v)}scrollPages(v){this._verifyIntegers(v),this._core.scrollPages(v)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(v){this._verifyIntegers(v),this._core.scrollToLine(v)}clear(){this._core.clear()}write(v,y){this._core.write(v,y)}writeln(v,y){this._core.write(v),this._core.write(`\r
`,y)}paste(v){this._core.paste(v)}refresh(v,y){this._verifyIntegers(v,y),this._core.refresh(v,y)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(v){this._addonManager.loadAddon(this,v)}static get strings(){return a}_verifyIntegers(...v){for(const y of v)if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...v){for(const y of v)if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}}l.Terminal=m})(),s})()))})(XC)),XC.exports}var e1e=Qwe(),YC={exports:{}},_B;function t1e(){return _B||(_B=1,(function(n,e){(function(t,r){n.exports=r()})(self,(()=>(()=>{var t={};return(()=>{var r=t;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(a.getPropertyValue("height")),h=Math.max(0,parseInt(a.getPropertyValue("width"))),c=window.getComputedStyle(this._terminal.element),u=o-(parseInt(c.getPropertyValue("padding-top"))+parseInt(c.getPropertyValue("padding-bottom"))),d=h-(parseInt(c.getPropertyValue("padding-right"))+parseInt(c.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(d/s.css.cell.width)),rows:Math.max(1,Math.floor(u/s.css.cell.height))}}}})(),t})()))})(YC)),YC.exports}var n1e=t1e();const Rl=Object.create(null);Rl.open="0";Rl.close="1";Rl.ping="2";Rl.pong="3";Rl.message="4";Rl.upgrade="5";Rl.noop="6";const p_=Object.create(null);Object.keys(Rl).forEach(n=>{p_[Rl[n]]=n});const wT={type:"error",data:"parser error"},A6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",k6=typeof ArrayBuffer=="function",R6=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,s2=({type:n,data:e},t,r)=>A6&&e instanceof Blob?t?r(e):bB(e,r):k6&&(e instanceof ArrayBuffer||R6(e))?t?r(e):bB(new Blob([e]),r):r(Rl[n]+(e||"")),bB=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function wB(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ZC;function r1e(n,e){if(A6&&n.data instanceof Blob)return n.data.arrayBuffer().then(wB).then(e);if(k6&&(n.data instanceof ArrayBuffer||R6(n.data)))return e(wB(n.data));s2(n,!1,t=>{ZC||(ZC=new TextEncoder),e(ZC.encode(t))})}const SB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<SB.length;n++)Qm[SB.charCodeAt(n)]=n;const i1e=n=>{let e=n.length*.75,t=n.length,r,i=0,s,l,a,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const h=new ArrayBuffer(e),c=new Uint8Array(h);for(r=0;r<t;r+=4)s=Qm[n.charCodeAt(r)],l=Qm[n.charCodeAt(r+1)],a=Qm[n.charCodeAt(r+2)],o=Qm[n.charCodeAt(r+3)],c[i++]=s<<2|l>>4,c[i++]=(l&15)<<4|a>>2,c[i++]=(a&3)<<6|o&63;return h},s1e=typeof ArrayBuffer=="function",o2=(n,e)=>{if(typeof n!="string")return{type:"message",data:L6(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:o1e(n.substring(1),e)}:p_[t]?n.length>1?{type:p_[t],data:n.substring(1)}:{type:p_[t]}:wT},o1e=(n,e)=>{if(s1e){const t=i1e(n);return L6(t,e)}else return{base64:!0,data:n}},L6=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},P6="",a1e=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,l)=>{s2(s,!1,a=>{r[l]=a,++i===t&&e(r.join(P6))})})},l1e=(n,e)=>{const t=n.split(P6),r=[];for(let i=0;i<t.length;i++){const s=o2(t[i],e);if(r.push(s),s.type==="error")break}return r};function c1e(){return new TransformStream({transform(n,e){r1e(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let JC;function Vx(n){return n.reduce((e,t)=>e+t.length,0)}function Gx(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function u1e(n,e){JC||(JC=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(l,a){for(t.push(l);;){if(r===0){if(Vx(t)<1)break;const o=Gx(t,1);s=(o[0]&128)===128,i=o[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Vx(t)<2)break;const o=Gx(t,2);i=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),r=3}else if(r===2){if(Vx(t)<8)break;const o=Gx(t,8),h=new DataView(o.buffer,o.byteOffset,o.length),c=h.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(wT);break}i=c*Math.pow(2,32)+h.getUint32(4),r=3}else{if(Vx(t)<i)break;const o=Gx(t,i);a.enqueue(o2(s?o:JC.decode(o),e)),r=0}if(i===0||i>n){a.enqueue(wT);break}}}})}const O6=4;function si(n){if(n)return h1e(n)}function h1e(n){for(var e in si.prototype)n[e]=si.prototype[e];return n}si.prototype.on=si.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};si.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};si.prototype.off=si.prototype.removeListener=si.prototype.removeAllListeners=si.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};si.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};si.prototype.emitReserved=si.prototype.emit;si.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};si.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Aw=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Qo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),d1e="arraybuffer";function I6(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const f1e=Qo.setTimeout,p1e=Qo.clearTimeout;function kw(n,e){e.useNativeTimers?(n.setTimeoutFn=f1e.bind(Qo),n.clearTimeoutFn=p1e.bind(Qo)):(n.setTimeoutFn=Qo.setTimeout.bind(Qo),n.clearTimeoutFn=Qo.clearTimeout.bind(Qo))}const g1e=1.33;function m1e(n){return typeof n=="string"?v1e(n):Math.ceil((n.byteLength||n.size)*g1e)}function v1e(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function D6(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function y1e(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function x1e(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class _1e extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class a2 extends si{constructor(e){super(),this.writable=!1,kw(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new _1e(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=o2(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=y1e(e);return t.length?"?"+t:""}}class b1e extends a2{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};l1e(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,a1e(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=D6()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let N6=!1;try{N6=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const w1e=N6;function S1e(){}class C1e extends b1e{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let Hp=class g_ extends si{constructor(e,t,r){super(),this.createRequest=e,kw(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=I6(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=g_.requestsCount++,g_.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=S1e,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete g_.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Hp.requestsCount=0;Hp.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",CB);else if(typeof addEventListener=="function"){const n="onpagehide"in Qo?"pagehide":"unload";addEventListener(n,CB,!1)}}function CB(){for(let n in Hp.requests)Hp.requests.hasOwnProperty(n)&&Hp.requests[n].abort()}const E1e=(function(){const n=B6({xdomain:!1});return n&&n.responseType!==null})();class M1e extends C1e{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=E1e&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Hp(B6,this.uri(),e)}}function B6(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||w1e))return new XMLHttpRequest}catch{}if(!e)try{return new Qo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const F6=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class T1e extends a2{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=F6?{}:I6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;s2(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Aw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=D6()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const QC=Qo.WebSocket||Qo.MozWebSocket;class A1e extends T1e{createSocket(e,t,r){return F6?new QC(e,t,r):t?new QC(e,t):new QC(e)}doWrite(e,t){this.ws.send(t)}}class k1e extends a2{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=u1e(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=c1e();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:o})=>{a||(this.onPacket(o),s())}).catch(a=>{})};s();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Aw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const R1e={websocket:A1e,webtransport:k1e,polling:M1e},L1e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,P1e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ST(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=L1e.exec(n||""),s={},l=14;for(;l--;)s[P1e[l]]=i[l]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=O1e(s,s.path),s.queryKey=I1e(s,s.query),s}function O1e(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function I1e(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}const CT=typeof addEventListener=="function"&&typeof removeEventListener=="function",m_=[];CT&&addEventListener("offline",()=>{m_.forEach(n=>n())},!1);class nh extends si{constructor(e,t){if(super(),this.binaryType=d1e,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=ST(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=ST(t.host).host);kw(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=x1e(this.opts.query)),CT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},m_.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=O6,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&nh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",nh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=m1e(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Aw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(nh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),CT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=m_.indexOf(this._offlineEventListener);r!==-1&&m_.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}nh.protocol=O6;class D1e extends nh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;nh.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;nh.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=t.name,this.emitReserved("upgradeError",d)}}))};function s(){r||(r=!0,c(),t.close(),t=null)}const l=u=>{const d=new Error("probe error: "+u);d.transport=t.name,s(),this.emitReserved("upgradeError",d)};function a(){l("transport closed")}function o(){l("socket closed")}function h(u){t&&u.name!==t.name&&s()}const c=()=>{t.removeListener("open",i),t.removeListener("error",l),t.removeListener("close",a),this.off("close",o),this.off("upgrading",h)};t.once("open",i),t.once("error",l),t.once("close",a),this.once("close",o),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}let N1e=class extends D1e{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>R1e[i]).filter(i=>!!i)),super(e,r)}};function B1e(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=ST(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}const F1e=typeof ArrayBuffer=="function",$1e=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,$6=Object.prototype.toString,z1e=typeof Blob=="function"||typeof Blob<"u"&&$6.call(Blob)==="[object BlobConstructor]",U1e=typeof File=="function"||typeof File<"u"&&$6.call(File)==="[object FileConstructor]";function l2(n){return F1e&&(n instanceof ArrayBuffer||$1e(n))||z1e&&n instanceof Blob||U1e&&n instanceof File}function v_(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(v_(n[t]))return!0;return!1}if(l2(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return v_(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&v_(n[t]))return!0;return!1}function j1e(n){const e=[],t=n.data,r=n;return r.data=ET(t,e),r.attachments=e.length,{packet:r,buffers:e}}function ET(n,e){if(!n)return n;if(l2(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=ET(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=ET(n[r],e));return t}return n}function H1e(n,e){return n.data=MT(n.data,e),delete n.attachments,n}function MT(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=MT(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=MT(n[t],e));return n}const W1e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],V1e=5;var bn;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(bn||(bn={}));class G1e{constructor(e){this.replacer=e}encode(e){return(e.type===bn.EVENT||e.type===bn.ACK)&&v_(e)?this.encodeAsBinary({type:e.type===bn.EVENT?bn.BINARY_EVENT:bn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===bn.BINARY_EVENT||e.type===bn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=j1e(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function EB(n){return Object.prototype.toString.call(n)==="[object Object]"}class c2 extends si{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===bn.BINARY_EVENT;r||t.type===bn.BINARY_ACK?(t.type=r?bn.EVENT:bn.ACK,this.reconstructor=new K1e(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(l2(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(bn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===bn.BINARY_EVENT||r.type===bn.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const l=e.substring(s,t);if(l!=Number(l)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const l=e.charAt(t);if(l==null||Number(l)!=l){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(c2.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case bn.CONNECT:return EB(t);case bn.DISCONNECT:return t===void 0;case bn.CONNECT_ERROR:return typeof t=="string"||EB(t);case bn.EVENT:case bn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&W1e.indexOf(t[0])===-1);case bn.ACK:case bn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class K1e{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=H1e(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const q1e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:c2,Encoder:G1e,get PacketType(){return bn},protocol:V1e},Symbol.toStringTag,{value:"Module"}));function za(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const X1e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class z6 extends si{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[za(e,"open",this.onopen.bind(this)),za(e,"packet",this.onpacket.bind(this)),za(e,"error",this.onerror.bind(this)),za(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(X1e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const l={type:bn.EVENT,data:t};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const c=this.ids++,u=t.pop();this._registerAckCallback(c,u),l.id=c}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,o=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(o?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),l=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(l,a)=>l?i(l):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:bn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case bn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bn.EVENT:case bn.BINARY_EVENT:this.onevent(e);break;case bn.ACK:case bn.BINARY_ACK:this.onack(e);break;case bn.DISCONNECT:this.ondisconnect();break;case bn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:bn.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Ag(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Ag.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};Ag.prototype.reset=function(){this.attempts=0};Ag.prototype.setMin=function(n){this.ms=n};Ag.prototype.setMax=function(n){this.max=n};Ag.prototype.setJitter=function(n){this.jitter=n};class TT extends si{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,kw(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ag({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||q1e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new N1e(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=za(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},l=za(t,"error",s);if(this._timeout!==!1){const a=this._timeout,o=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(i),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(za(e,"ping",this.onping.bind(this)),za(e,"data",this.ondata.bind(this)),za(e,"error",this.onerror.bind(this)),za(e,"close",this.onclose.bind(this)),za(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Aw(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new z6(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wm={};function y_(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=B1e(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,l=Wm[i]&&s in Wm[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let o;return a?o=new TT(r,e):(Wm[i]||(Wm[i]=new TT(r,e)),o=Wm[i]),t.query&&!e.query&&(e.query=t.queryKey),o.socket(t.path,e)}Object.assign(y_,{Manager:TT,Socket:z6,io:y_,connect:y_});function Kx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var Y1e={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function AT(n,e){function t(i,s,l){if(!(typeof document>"u")){l=Kx({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in l)l[o]&&(a+="; "+o,l[o]!==!0&&(a+="="+l[o].split(";")[0]));return document.cookie=i+"="+n.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],l={},a=0;a<s.length;a++){var o=s[a].split("="),h=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(l[c]=n.read(h,c),i===c)break}catch{}}return i?l[i]:l}}return Object.create({set:t,get:r,remove:function(i,s){t(i,"",Kx({},s,{expires:-1}))},withAttributes:function(i){return AT(this.converter,Kx({},this.attributes,i))},withConverter:function(i){return AT(Kx({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}AT(Y1e,{path:"/"});let Tr=null;const Z1e=n=>n?Tr&&Tr.connected&&Tr.auth.userId===n?(console.log(" Socket already connected for user:",n),Tr):(Tr&&(console.log(" Disconnecting previous socket"),Tr.disconnect(),Tr=null),console.log(" Connecting socket for user:",n),Tr=y_(`${Zm}`,{auth:{userId:n},transports:["websocket","polling"],withCredentials:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),Tr.on("connect",()=>{console.log(" Socket connected:",Tr.id,"for user:",n)}),Tr.on("disconnect",e=>{console.log(" Socket disconnected:",e),e==="io server disconnect"&&Tr.connect()}),Tr.on("connect_error",e=>{console.error("  Socket connection error:",e.message),(e.message.includes("token")||e.message.includes("auth"))&&console.error(" Authentication failed. Please login again.")}),Tr.on("reconnect",e=>{console.log(` Reconnected after ${e} attempts`)}),Tr.on("reconnect_attempt",e=>{console.log(` Attempting to reconnect (${e})...`)}),Tr.on("reconnect_error",e=>{console.error(" Reconnection error:",e.message)}),Tr.on("reconnect_failed",()=>{console.error(" Failed to reconnect after all attempts")}),Tr):(console.error(" Cannot connect socket: userId is required"),null),Vm=()=>(Tr||console.warn("  Socket not initialized"),Tr),J1e=()=>{Tr&&(Tr.disconnect(),console.log(" Socket manually disconnected"),Tr=null)},Q1e=({userId:n})=>{const[e,t]=G.useState([]),[r,i]=G.useState("default"),s=G.useRef(new Map),l=G.useRef(new Map),a=G.useRef(null);G.useEffect(()=>{if(!n){console.warn("  Terminal: No userId provided");return}const p=Vm();if(!p){console.error(" Terminal: Socket not initialized");return}const m=()=>{s.current.size>0||(console.log("  Initializing terminal for user:",n),t([{id:"default",name:"Terminal 1"}]),setTimeout(()=>o("default"),100))};return p.connected?m():p.once("connect",m),p.on("terminal:data",({terminalId:g,data:v})=>{s.current.get(g)?.term?.write(v)}),p.on("terminal:closed",({terminalId:g})=>{c(g)}),a.current=p,()=>{p.removeAllListeners("terminal:data"),p.removeAllListeners("terminal:closed"),s.current.forEach(({term:g})=>g.dispose()),s.current.clear()}},[n]);const o=p=>{const m=()=>{const _=l.current.get(p);if(!_)return!1;if(s.current.has(p))return!0;try{const w=new e1e.Terminal({rows:30,cols:80,convertEol:!0,cursorBlink:!0,cursorStyle:"block",fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:14,scrollback:1e3,theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#ffffff"}}),C=new n1e.FitAddon;w.loadAddon(C),w.open(_),setTimeout(()=>{document.activeElement===_.querySelector("textarea")&&document.activeElement.blur()},0);const b=()=>window.scrollTo({top:0,behavior:"auto"});return window.addEventListener("scroll",b),setTimeout(()=>{try{C.fit()}catch(T){console.error("FitAddon error:",T)}window.scrollTo({top:0,behavior:"auto"}),window.removeEventListener("scroll",b)},400),w.onData(T=>{const A=Vm();A?.connected&&A.emit("terminal:write",{terminalId:p,input:T})}),s.current.set(p,{term:w,fitAddon:C}),console.log(` Terminal ${p} initialized`),!0}catch(w){return console.error(" Error initializing terminal:",w),!1}};let g=0;const v=10,y=()=>{m()||++g<v&&setTimeout(y,100)};y()},h=()=>{if(e.length>=5){alert("Maximum 5 terminals allowed");return}const p=Vm();if(!p?.connected){alert("Socket not connected");return}const m=`terminal_${Date.now()}`,g=`Terminal ${e.length+1}`;t(v=>[...v,{id:m,name:g}]),setTimeout(()=>o(m),100),i(m),p.emit("terminal:create",{terminalId:m})},c=p=>{s.current.get(p)?.term?.dispose(),s.current.delete(p),l.current.delete(p),t(g=>g.filter(v=>v.id!==p)),r===p&&i("default")},u=p=>{if(p==="default"){alert("Cannot close default terminal");return}const m=Vm();if(!m?.connected)return;s.current.get(p)?.term?.dispose(),s.current.delete(p),l.current.delete(p),t(v=>v.filter(y=>y.id!==p)),r===p&&i("default"),m.emit("terminal:close",{terminalId:p})},d=p=>{i(p),setTimeout(()=>{const m=s.current.get(p);if(m?.fitAddon)try{m.fitAddon.fit(),m.term.focus()}catch{}},100)};return G.useEffect(()=>{const p=()=>{s.current.forEach(({fitAddon:m})=>{try{m.fit()}catch{}})};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),n?Vm()?.connected?U.jsxs("div",{className:"flex flex-col h-full",children:[U.jsxs("div",{className:"flex items-center gap-1 bg-[#1e1e1e] border-b border-[#2d2d30] px-2 overflow-x-auto flex-shrink-0",children:[e.map(p=>U.jsxs("div",{onClick:()=>d(p.id),className:`flex items-center gap-2 px-3 py-1.5 text-xs rounded-t-md cursor-pointer whitespace-nowrap transition-all ${r===p.id?"bg-[#252526] text-white":"text-gray-400 hover:text-white"}`,children:[U.jsx(Hse,{size:14}),U.jsx("span",{children:p.name}),p.id!=="default"&&U.jsx("button",{onClick:m=>{m.stopPropagation(),u(p.id)},className:"text-gray-500 hover:text-gray-300",children:U.jsx(ok,{size:14})})]},p.id)),U.jsxs("button",{onClick:h,disabled:e.length>=5,className:`flex items-center gap-1 px-3 py-1.5 text-xs rounded-md transition-all ${e.length>=5?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"}`,children:[U.jsx(MM,{size:14}),U.jsx("span",{children:"New"})]})]}),U.jsx("div",{className:"flex-1 relative overflow-hidden",children:e.map(p=>U.jsx("div",{ref:m=>m&&l.current.set(p.id,m),className:"absolute inset-0 p-2 bg-[#1e1e1e]",style:{display:r===p.id?"block":"none"}},p.id))})]}):U.jsx("div",{className:"flex items-center justify-center h-full text-sm text-gray-400",children:"Connecting to terminal..."}):U.jsx("div",{className:"flex items-center justify-center h-full text-sm text-gray-400",children:"Waiting for user authentication..."})},eSe=n=>{const e=n.split(".").pop()?.toLowerCase(),t={js:"#f7df1e",jsx:"#61dafb",ts:"#3178c6",tsx:"#3178c6",json:"#5ba02c",html:"#e34c26",css:"#563d7c",md:"#083fa1",txt:"#6b7280",py:"#3776ab"};return U.jsx(ose,{size:16,style:{color:t[e]||"#6b7280"}})},U6=({fileName:n,nodes:e,path:t,onSelect:r,onAdd:i,onDelete:s,onRename:l,selectedPath:a,level:o=0})=>{const[h,c]=G.useState(!0),[u,d]=G.useState(!1),f=!!e,p=a===t,m=y=>{y.stopPropagation(),f?c(!h):r(t)},g=y=>{y.preventDefault(),y.stopPropagation(),d(!u)},v=y=>{switch(d(!1),y){case"addFile":i(t,"file");break;case"addFolder":i(t,"folder");break;case"rename":l(t);break;case"delete":s(t);break}};return U.jsxs("div",{style:{position:"relative"},children:[U.jsxs("div",{onClick:m,onContextMenu:g,style:{display:"flex",alignItems:"center",gap:"6px",padding:"3px 8px",paddingLeft:`${o*16+8}px`,cursor:"pointer",fontSize:"13px",backgroundColor:p?"#37373d":"transparent",color:"#cccccc",transition:"background-color 0.1s"},onMouseEnter:y=>{p||(y.currentTarget.style.backgroundColor="#2a2d2e")},onMouseLeave:y=>{p||(y.currentTarget.style.backgroundColor="transparent")},children:[f?U.jsxs(U.Fragment,{children:[h?U.jsx(_5,{size:14}):U.jsx(b5,{size:14}),h?U.jsx(lse,{size:16,style:{color:"#dcb67a"}}):U.jsx(use,{size:16,style:{color:"#dcb67a"}})]}):U.jsxs(U.Fragment,{children:[U.jsx("span",{style:{width:"14px"}}),eSe(n)]}),U.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})]}),u&&U.jsxs(U.Fragment,{children:[U.jsx("div",{style:{position:"fixed",inset:0,zIndex:40},onClick:()=>d(!1)}),U.jsxs("div",{style:{position:"absolute",right:"8px",top:"100%",backgroundColor:"#3c3c3c",border:"1px solid #454545",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",zIndex:50,minWidth:"180px",padding:"4px 0",fontSize:"13px"},children:[f&&U.jsxs(U.Fragment,{children:[U.jsxs("button",{onClick:()=>v("addFile"),style:{width:"100%",padding:"6px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:"#cccccc",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:y=>y.currentTarget.style.backgroundColor="#2a2d2e",onMouseLeave:y=>y.currentTarget.style.backgroundColor="transparent",children:[U.jsx(MM,{size:14})," New File"]}),U.jsxs("button",{onClick:()=>v("addFolder"),style:{width:"100%",padding:"6px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:"#cccccc",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:y=>y.currentTarget.style.backgroundColor="#2a2d2e",onMouseLeave:y=>y.currentTarget.style.backgroundColor="transparent",children:[U.jsx(MM,{size:14})," New Folder"]}),U.jsx("div",{style:{height:"1px",backgroundColor:"#454545",margin:"4px 0"}})]}),U.jsxs("button",{onClick:()=>v("rename"),style:{width:"100%",padding:"6px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:"#cccccc",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:y=>y.currentTarget.style.backgroundColor="#2a2d2e",onMouseLeave:y=>y.currentTarget.style.backgroundColor="transparent",children:[U.jsx(Mse,{size:14})," Rename"]}),U.jsxs("button",{onClick:()=>v("delete"),style:{width:"100%",padding:"6px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:"#f48771",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:y=>y.currentTarget.style.backgroundColor="#2a2d2e",onMouseLeave:y=>y.currentTarget.style.backgroundColor="transparent",children:[U.jsx(Kse,{size:14})," Delete"]})]})]}),f&&h&&e&&U.jsx("div",{children:Object.keys(e).sort().map(y=>U.jsx(U6,{fileName:y,nodes:e[y],path:t?`${t}/${y}`:y,onSelect:r,onAdd:i,onDelete:s,onRename:l,selectedPath:a,level:o+1},y))})]})},tSe=({tree:n,onSelect:e,onAdd:t,onDelete:r,onRename:i,selectedPath:s,onRefresh:l})=>U.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#252526"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid #2d2d30",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:"#cccccc"},children:[U.jsx("span",{children:"Explorer"}),U.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"#cccccc",cursor:"pointer",padding:"2px",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:a=>a.currentTarget.style.opacity="1",onMouseLeave:a=>a.currentTarget.style.opacity="0.7",title:"Refresh Explorer",children:U.jsx(T5,{size:14})})]}),U.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:Object.keys(n).length===0?U.jsx("div",{style:{padding:"16px",fontSize:"12px",color:"#858585",textAlign:"center"},children:"No files yet"}):U.jsx(U6,{fileName:"workspace",path:"",nodes:n,onSelect:e,onAdd:t,onDelete:r,onRename:i,selectedPath:s})})]}),nSe=({socket:n,userId:e})=>{const[t,r]=G.useState(null),[i,s]=G.useState(!0),[l,a]=G.useState(null);G.useEffect(()=>{if(!n||!e)return;const f=m=>{r(m)},p=m=>{console.error("Port detection error:",m)};return n.on("ports:update",f),n.on("ports:error",p),n.emit("ports:check"),()=>{n.off("ports:update",f),n.off("ports:error",p)}},[n,e]);const o=()=>{n&&n.emit("ports:check")},h=f=>{navigator.clipboard.writeText(f).then(()=>{a(f),setTimeout(()=>a(null),2e3)})};if(!t)return U.jsx("div",{style:{padding:"12px",backgroundColor:"#252526",borderBottom:"1px solid #2d2d30"},children:U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#858585"},children:[U.jsx(vI,{size:16}),U.jsx("span",{children:"Detecting ports..."})]})});const{allocatedRange:c,services:u}=t,d=u.filter(f=>f.external);return U.jsxs("div",{style:{backgroundColor:"#252526",borderBottom:"1px solid #2d2d30"},children:[U.jsxs("div",{onClick:()=>s(!i),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",cursor:"pointer",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:"#cccccc",userSelect:"none"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[U.jsx(vI,{size:14}),U.jsxs("span",{children:["Ports ",d.length>0&&`(${d.length})`]})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[U.jsx("button",{onClick:f=>{f.stopPropagation(),o()},style:{background:"none",border:"none",color:"#cccccc",cursor:"pointer",padding:"2px",display:"flex",alignItems:"center",opacity:.7},onMouseEnter:f=>f.currentTarget.style.opacity="1",onMouseLeave:f=>f.currentTarget.style.opacity="0.7",title:"Refresh ports",children:U.jsx(T5,{size:14})}),U.jsx("span",{style:{fontSize:"12px",opacity:.7},children:i?"":""})]})]}),i&&U.jsxs("div",{style:{padding:"0 12px 12px 12px"},children:[d.length===0?U.jsxs("div",{style:{padding:"16px 8px",textAlign:"center",fontSize:"12px",color:"#858585"},children:[U.jsx("div",{style:{marginBottom:"6px"},children:"No active services"}),U.jsx("div",{style:{fontSize:"11px",opacity:.7},children:"Start a dev server to see ports here"})]}):U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:d.map(f=>U.jsxs("div",{style:{backgroundColor:"#2d2d2d",border:"1px solid #3e3e3e",borderRadius:"3px",padding:"8px"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"},children:[U.jsxs("span",{style:{fontSize:"11px",color:"#858585",fontWeight:500},children:["Port ",f.internal]}),U.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#4caf50"}})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px"},children:[U.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",style:{flex:1,color:"#4fc3f7",textDecoration:"none",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onMouseEnter:p=>p.currentTarget.style.textDecoration="underline",onMouseLeave:p=>p.currentTarget.style.textDecoration="none",children:f.url}),U.jsx("button",{onClick:()=>h(f.url),style:{background:"none",border:"none",cursor:"pointer",padding:"2px 4px",display:"flex",alignItems:"center",color:l===f.url?"#4caf50":"#858585",transition:"color 0.2s"},onMouseEnter:p=>l!==f.url&&(p.currentTarget.style.color="#cccccc"),onMouseLeave:p=>l!==f.url&&(p.currentTarget.style.color="#858585"),title:l===f.url?"Copied!":"Copy URL",children:U.jsx(w5,{size:12})})]}),U.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:U.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",style:{padding:"4px 10px",fontSize:"11px",backgroundColor:"#0e639c",color:"white",textDecoration:"none",borderRadius:"2px",display:"flex",alignItems:"center",gap:"4px",fontWeight:500},onMouseEnter:p=>p.currentTarget.style.backgroundColor="#1177bb",onMouseLeave:p=>p.currentTarget.style.backgroundColor="#0e639c",children:[U.jsx(S5,{size:12}),"Open"]})})]},f.internal))}),U.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #2d2d30",fontSize:"11px",color:"#858585",textAlign:"center"},children:["Allocated: ",c[0],"-",c[1]]})]})]})},rSe=({userId:n,projectId:e,selectedFile:t,code:r,socket:i})=>{const[s,l]=G.useState("chat"),[a,o]=G.useState([]),[h,c]=G.useState(""),[u,d]=G.useState(!1),[f,p]=G.useState(""),[m,g]=G.useState(null),[v,y]=G.useState(null),[_,w]=G.useState([]),C=G.useRef(null),b=[{id:"chat",label:"Chat",icon:Cse,color:"#06B6D4",desc:"Ask anything about your project"},{id:"debug",label:"Debug",icon:Wie,color:"#F59E0B",desc:"Find and fix errors"},{id:"review",label:"Review",icon:ise,color:"#8B5CF6",desc:"Get code quality feedback"},{id:"refactor",label:"Refactor",icon:gI,color:"#10B981",desc:"Improve code structure"},{id:"optimize",label:"Optimize",icon:yI,color:"#EF4444",desc:"Boost performance"},{id:"security",label:"Security",icon:pI,color:"#DC2626",desc:"Find vulnerabilities"},{id:"test",label:"Tests",icon:Vse,color:"#14B8A6",desc:"Generate test cases"},{id:"explain",label:"Explain",icon:$ie,color:"#F97316",desc:"Learn concepts"}];G.useEffect(()=>{if(v){const L=[];v.stats?.unresolvedErrors>0&&L.push("Help me fix the recent errors"),t&&(L.push(`Review ${t.split("/").pop()}`),L.push("Optimize this file")),v.recentActivity?.changesCount>5&&L.push("Summarize my recent changes"),L.push("What should I work on next?"),w(L.slice(0,3))}},[v,t]),G.useEffect(()=>{const L=a[a.length-1],I=C.current?.parentElement;I&&(f&&L?.role==="assistant"&&(G.useEffect.scrollLocked||(G.useEffect.scrollLocked=!0,I.scrollTo({top:I.scrollHeight-I.clientHeight-20,behavior:"smooth"}))),!f&&L?.role==="assistant"&&(requestAnimationFrame(()=>{I.scrollTo({top:I.scrollHeight-I.clientHeight-60,behavior:"smooth"})}),G.useEffect.scrollLocked=!1))},[a.length,f]),G.useEffect(()=>{e&&n&&i&&(i.emit("project:set",{projectId:e}),T(),A())},[e,n,i]);const T=async()=>{try{await fetch(`${Zn}/ai/context/init/${e}`,{method:"POST",credentials:"include"})}catch(L){console.error("Error initializing context:",L)}},A=async()=>{try{const L=await fetch(`${Zn}/ai/context/${e}?userDir=/workspace`,{method:"GET",credentials:"include"});if(L.ok){const I=await L.json();y(I)}}catch(L){console.error("Error loading context summary:",L)}},k=async(L,I=null)=>{const O=I||h;if(!O&&L!=="review"&&L!=="refactor")return;d(!0),c("");const F={role:"user",content:O||`${L} my code`,timestamp:new Date().toISOString()};o(H=>[...H,F]);try{const j=(await fetch(`${Zn}/ai/query/stream`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({projectId:e,query:O||`Perform ${L} on this code`,currentFile:t,currentCode:r,taskType:L,userDir:"/workspace"})})).body.getReader(),z=new TextDecoder;let W="";for(;;){const{done:K,value:X}=await j.read();if(K)break;const te=z.decode(X).split(`
`);for(const re of te)if(re.startsWith("data: "))try{const ae=JSON.parse(re.slice(6));if(ae.type==="token")W+=ae.content,p(W);else if(ae.type==="done")o(ie=>[...ie,{role:"assistant",content:W,timestamp:new Date().toISOString(),taskType:L}]),p(""),A();else if(ae.type==="error")throw new Error(ae.error)}catch{}}}catch(H){console.error("AI query error:",H),o(j=>[...j,{role:"error",content:`Error: ${H.message}`,timestamp:new Date().toISOString()}]),p("")}finally{d(!1)}},P=L=>{L.preventDefault(),k(s,h)},N=(L,I)=>{navigator.clipboard.writeText(L),g(I),setTimeout(()=>g(null),2e3)},D=b.find(L=>L.id===s);return U.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1e1e1e"},children:[v&&U.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#252526",borderBottom:"1px solid #2d2d30",fontSize:"11px",color:"#858585"},children:U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[U.jsx(gI,{size:12}),U.jsxs("span",{children:[v.stats?.totalFiles||0," files"]})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[U.jsx(yI,{size:12}),U.jsxs("span",{children:[v.stats?.totalCodeLines||0," lines"]})]}),v.stats?.unresolvedErrors>0&&U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#f48771"},children:[U.jsx(pI,{size:12}),U.jsxs("span",{children:[v.stats.unresolvedErrors," errors"]})]}),U.jsx("button",{onClick:()=>{e&&n&&i&&(i.emit("project:set",{projectId:e}),T(),A())},style:{marginLeft:"auto",fontSize:"10px",padding:"2px 8px",backgroundColor:"#0e639c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Refresh Context"})]})}),U.jsx("div",{style:{display:"flex",gap:"2px",padding:"8px",backgroundColor:"#252526",borderBottom:"1px solid #2d2d30",overflowX:"auto"},children:b.map(L=>{const I=L.icon,O=s===L.id;return U.jsxs("button",{onClick:()=>l(L.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",fontSize:"12px",backgroundColor:s===L.id?"#0e639c":"transparent",color:s===L.id?"#ffffff":"#858585",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:F=>{O||(F.currentTarget.style.backgroundColor="#2a2d2e")},onMouseLeave:F=>{O||(F.currentTarget.style.backgroundColor="transparent")},title:L.desc,children:[U.jsx(I,{size:14}),U.jsx("span",{children:L.label})]},L.id)})}),U.jsx("div",{style:{backgroundColor:"#252526",borderBottom:"1px solid #2d2d30",padding:"8px 12px"},children:U.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#858585"},children:D&&U.jsxs(U.Fragment,{children:[U.jsx(D.icon,{size:12,style:{color:D.color}}),U.jsx("span",{children:D.desc})]})})}),U.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[a.length===0&&!f&&U.jsxs("div",{style:{textAlign:"center",color:"#858585",fontSize:"13px",marginTop:"40px"},children:[U.jsx(u_,{size:48,style:{opacity:.3,marginBottom:"12px"}}),U.jsx("p",{children:"AI Assistant with Project Context"}),U.jsx("p",{style:{fontSize:"11px",marginTop:"8px"},children:"I can see your entire project, errors, and changes"}),_.length>0&&U.jsxs("div",{style:{marginTop:"20px"},children:[U.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"8px"},children:"Suggested prompts:"}),U.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",maxWidth:"320px",margin:"0 auto"},children:_.map((L,I)=>U.jsxs("button",{onClick:()=>k(s,L),style:{textAlign:"left",padding:"8px 12px",backgroundColor:"#252526",border:"1px solid #2d2d30",borderRadius:"4px",fontSize:"12px",color:"#cccccc",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},onMouseEnter:O=>O.currentTarget.style.backgroundColor="#2a2d2e",onMouseLeave:O=>O.currentTarget.style.backgroundColor="#252526",children:[U.jsx(R5,{size:12,style:{color:"#ce9178"}}),L]},I))})]})]}),a.map((L,I)=>U.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[L.role!=="user"&&U.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:L.role==="error"?"#f48771":"#4caf50",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:U.jsx(u_,{size:14,style:{color:"white"}})}),U.jsxs("div",{style:{flex:1},children:[U.jsxs("div",{style:{fontSize:"12px",color:"#cccccc",marginBottom:"4px",fontWeight:500},children:[L.role==="user"?"You":L.role==="error"?"Error":"AI Assistant",L.taskType&&U.jsx("span",{style:{fontSize:"10px",color:"#858585",marginLeft:"8px",padding:"2px 6px",backgroundColor:"#2d2d30",borderRadius:"3px"},children:L.taskType})]}),U.jsxs("div",{style:{fontSize:"13px",color:L.role==="error"?"#f48771":"#d4d4d4",lineHeight:"1.6",whiteSpace:"pre-wrap",backgroundColor:"#252526",padding:"10px",borderRadius:"6px",position:"relative"},children:[L.content,L.role==="assistant"&&U.jsx("button",{onClick:()=>N(L.content,I),style:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",color:"#858585",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",transition:"color 0.2s"},onMouseEnter:O=>O.currentTarget.style.color="#cccccc",onMouseLeave:O=>O.currentTarget.style.color="#858585",title:"Copy to clipboard",children:m===I?U.jsx(P_,{size:14,style:{color:"#4caf50"}}):U.jsx(w5,{size:14})})]})]}),L.role==="user"&&U.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#0e639c",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:U.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold"},children:n?.[0]?.toUpperCase()||"U"})})]},I)),f&&U.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[U.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#4caf50",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:U.jsx(u_,{size:14,style:{color:"white"}})}),U.jsxs("div",{style:{flex:1},children:[U.jsx("div",{style:{fontSize:"12px",color:"#cccccc",marginBottom:"4px",fontWeight:500},children:"AI Assistant"}),U.jsxs("div",{style:{fontSize:"13px",color:"#d4d4d4",lineHeight:"1.6",whiteSpace:"pre-wrap",backgroundColor:"#252526",padding:"10px",borderRadius:"6px"},children:[f,U.jsx("span",{style:{display:"inline-block",width:"8px",height:"14px",backgroundColor:"#4caf50",marginLeft:"2px",animation:"blink 1s infinite"}})]})]})]}),U.jsx("div",{ref:C})]}),U.jsxs("div",{style:{padding:"12px",backgroundColor:"#252526",borderTop:"1px solid #2d2d30",display:"flex",gap:"8px"},children:[U.jsx("input",{type:"text",value:h,onChange:L=>c(L.target.value),onKeyPress:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),P(L))},placeholder:`Ask about ${D?.label.toLowerCase()}...`,disabled:u,style:{flex:1,padding:"10px 12px",fontSize:"13px",backgroundColor:"#1e1e1e",color:"#d4d4d4",border:"1px solid #3e3e42",borderRadius:"4px",outline:"none"},onFocus:L=>L.currentTarget.style.borderColor="#007acc",onBlur:L=>L.currentTarget.style.borderColor="#3e3e42"}),U.jsx("button",{onClick:P,disabled:u||!h&&!["review","refactor"].includes(s),style:{padding:"10px 16px",fontSize:"13px",backgroundColor:u||!h&&!["review","refactor"].includes(s)?"#3e3e42":"#0e639c",color:"#ffffff",border:"none",borderRadius:"4px",cursor:u||!h&&!["review","refactor"].includes(s)?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"background 0.2s"},onMouseEnter:L=>{!u&&(h||["review","refactor"].includes(s))&&(L.currentTarget.style.backgroundColor="#1177bb")},onMouseLeave:L=>{!u&&(h||["review","refactor"].includes(s))&&(L.currentTarget.style.backgroundColor="#0e639c")},children:u?U.jsxs(U.Fragment,{children:[U.jsx(C5,{size:14,style:{animation:"spin 1s linear infinite"}}),U.jsx("span",{children:"Thinking..."})]}):U.jsxs(U.Fragment,{children:[U.jsx($se,{size:14}),U.jsx("span",{children:"Send"})]})})]}),U.jsx("style",{children:`
				@keyframes blink {
					0%, 50% { opacity: 1; }
					51%, 100% { opacity: 0; }
				}
				@keyframes spin {
					from { transform: rotate(0deg); }
					to { transform: rotate(360deg); }
				}
			`})]})};var ju={},Hu={},eE={exports:{}},MB;function xb(){return MB||(MB=1,(function(n,e){(function(){var t="ace",r=(function(){return this})();!r&&typeof window<"u"&&(r=window);var i=function(c,u,d){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=u),i.modules[c]||(i.payloads[c]=d,i.modules[c]=null)};i.modules={},i.payloads={};var s=function(c,u,d){if(typeof u=="string"){var f=o(c,u);if(f!=null)return d&&d(),f}else if(Object.prototype.toString.call(u)==="[object Array]"){for(var p=[],m=0,g=u.length;m<g;++m){var v=o(c,u[m]);if(v==null&&l.original)return;p.push(v)}return d&&d.apply(null,p)||!0}},l=function(c,u){var d=s("",c,u);return d==null&&l.original?l.original.apply(this,arguments):d},a=function(c,u){if(u.indexOf("!")!==-1){var d=u.split("!");return a(c,d[0])+"!"+a(c,d[1])}if(u.charAt(0)=="."){var f=c.split("/").slice(0,-1).join("/");for(u=f+"/"+u;u.indexOf(".")!==-1&&p!=u;){var p=u;u=u.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return u},o=function(c,u){u=a(c,u);var d=i.modules[u];if(!d){if(d=i.payloads[u],typeof d=="function"){var f={},p={id:u,uri:"",exports:f,packaged:!0},m=function(v,y){return s(u,v,y)},g=d(m,f,p);f=g||p.exports,i.modules[u]=f,delete i.payloads[u]}d=i.modules[u]=f||d}return d};function h(c){var u=r;r[c]||(r[c]={}),u=r[c],(!u.define||!u.define.packaged)&&(i.original=u.define,u.define=i,u.define.packaged=!0),(!u.require||!u.require.packaged)&&(l.original=u.require,u.require=l,u.require.packaged=!0)}h(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,r,i){function s(l,a,o){Object.defineProperty(l,a,{value:o,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||s(String.prototype,"startsWith",function(l,a){return a=a||0,this.lastIndexOf(l,a)===a}),String.prototype.endsWith||s(String.prototype,"endsWith",function(l,a){var o=this;(a===void 0||a>o.length)&&(a=o.length),a-=l.length;var h=o.indexOf(l,a);return h!==-1&&h===a}),String.prototype.repeat||s(String.prototype,"repeat",function(l){for(var a="",o=this;l>0;)l&1&&(a+=o),(l>>=1)&&(o+=o);return a}),String.prototype.includes||s(String.prototype,"includes",function(l,a){return this.indexOf(l,a)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(l),o=1;o<arguments.length;o++){var h=arguments[o];h!=null&&Object.keys(h).forEach(function(c){a[c]=h[c]})}return a}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(a){return l[a]})}),Array.prototype.find||s(Array.prototype,"find",function(l){for(var a=this.length,o=arguments[1],h=0;h<a;h++){var c=this[h];if(l.call(o,c,h,this))return c}}),Array.prototype.findIndex||s(Array.prototype,"findIndex",function(l){for(var a=this.length,o=arguments[1],h=0;h<a;h++){var c=this[h];if(l.call(o,c,h,this))return h}}),Array.prototype.includes||s(Array.prototype,"includes",function(l,a){return this.indexOf(l,a)!=-1}),Array.prototype.fill||s(Array.prototype,"fill",function(l){for(var a=this,o=a.length>>>0,h=arguments[1],c=h>>0,u=c<0?Math.max(o+c,0):Math.min(c,o),d=arguments[2],f=d===void 0?o:d>>0,p=f<0?Math.max(o+f,0):Math.min(f,o);u<p;)a[u]=l,u++;return a}),Array.of||s(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,r,i){t("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(t,r,i){r.deepCopy=function s(l){if(typeof l!="object"||!l)return l;var a;if(Array.isArray(l)){a=[];for(var o=0;o<l.length;o++)a[o]=s(l[o]);return a}if(Object.prototype.toString.call(l)!=="[object Object]")return l;a={};for(var o in l)a[o]=s(l[o]);return a}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(t,r,i){r.last=function(a){return a[a.length-1]},r.stringReverse=function(a){return a.split("").reverse().join("")},r.stringRepeat=function(a,o){for(var h="";o>0;)o&1&&(h+=a),(o>>=1)&&(a+=a);return h};var s=/^\s\s*/,l=/\s\s*$/;r.stringTrimLeft=function(a){return a.replace(s,"")},r.stringTrimRight=function(a){return a.replace(l,"")},r.copyObject=function(a){var o={};for(var h in a)o[h]=a[h];return o},r.copyArray=function(a){for(var o=[],h=0,c=a.length;h<c;h++)a[h]&&typeof a[h]=="object"?o[h]=this.copyObject(a[h]):o[h]=a[h];return o},r.deepCopy=t("./deep_copy").deepCopy,r.arrayToMap=function(a){for(var o={},h=0;h<a.length;h++)o[a[h]]=1;return o},r.createMap=function(a){var o=Object.create(null);for(var h in a)o[h]=a[h];return o},r.arrayRemove=function(a,o){for(var h=0;h<=a.length;h++)o===a[h]&&a.splice(h,1)},r.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(a,o){var h=[];return a.replace(o,function(c){h.push({offset:arguments[arguments.length-2],length:c.length})}),h},r.deferredCall=function(a){var o=null,h=function(){o=null,a()},c=function(u){return c.cancel(),o=setTimeout(h,u||0),c};return c.schedule=c,c.call=function(){return this.cancel(),a(),c},c.cancel=function(){return clearTimeout(o),o=null,c},c.isPending=function(){return o},c},r.delayedCall=function(a,o){var h=null,c=function(){h=null,a()},u=function(d){h==null&&(h=setTimeout(c,d||o))};return u.delay=function(d){h&&clearTimeout(h),h=setTimeout(c,d||o)},u.schedule=u,u.call=function(){this.cancel(),a()},u.cancel=function(){h&&clearTimeout(h),h=null},u.isPending=function(){return h},u},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(a,o,h){return h&&a.codePointAt(o)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var s=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),a=s.userAgent||"",o=s.appName||"";r.isWin=l=="win",r.isMac=l=="mac",r.isLinux=l=="linux",r.isIE=o=="Microsoft Internet Explorer"||o.indexOf("MSAppHost")>=0?parseFloat((a.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((a.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=a.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(a.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(a.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(a.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(a.split(" Edge/")[1])||void 0,r.isAIR=a.indexOf("AdobeAIR")>=0,r.isAndroid=a.indexOf("Android")>=0,r.isChromeOS=a.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(a)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,r,i){var s=t("./useragent"),l="http://www.w3.org/1999/xhtml";r.buildDom=function d(f,p,m){if(typeof f=="string"&&f){var g=document.createTextNode(f);return p&&p.appendChild(g),g}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var v=[],y=0;y<f.length;y++){var _=d(f[y],p,m);_&&v.push(_)}return v}var w=document.createElement(f[0]),C=f[1],b=1;C&&typeof C=="object"&&!Array.isArray(C)&&(b=2);for(var y=b;y<f.length;y++)d(f[y],w,m);return b==2&&Object.keys(C).forEach(function(T){var A=C[T];T==="class"?w.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||T=="value"||T[0]=="$"?w[T]=A:T==="ref"?m&&(m[A]=w):T==="style"?typeof A=="string"&&(w.style.cssText=A):A!=null&&w.setAttribute(T,A)}),p&&p.appendChild(w),w},r.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},r.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||l,d):document.createElement(d)},r.removeChildren=function(d){d.innerHTML=""},r.createTextNode=function(d,f){var p=f?f.ownerDocument:document;return p.createTextNode(d)},r.createFragment=function(d){var f=d?d.ownerDocument:document;return f.createDocumentFragment()},r.hasCssClass=function(d,f){var p=(d.className+"").split(/\s+/g);return p.indexOf(f)!==-1},r.addCssClass=function(d,f){r.hasCssClass(d,f)||(d.className+=" "+f)},r.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var m=p.indexOf(f);if(m==-1)break;p.splice(m,1)}d.className=p.join(" ")},r.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),m=!0;;){var g=p.indexOf(f);if(g==-1)break;m=!1,p.splice(g,1)}return m&&p.push(f),d.className=p.join(" "),m},r.setCssClass=function(d,f,p){p?r.addCssClass(d,f):r.removeCssClass(d,f)},r.hasCssString=function(d,f){var p=0,m;if(f=f||document,m=f.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===d)return!0}},r.removeElementById=function(d,f){f=f||document,f.getElementById(d)&&f.getElementById(d).remove()};var a,o=[];r.useStrictCSP=function(d){a=d,d==!1?h():o||(o=[])};function h(){var d=o;o=null,d&&d.forEach(function(f){c(f[0],f[1])})}function c(d,f,p){if(!(typeof document>"u")){if(o){if(p)h();else if(p===!1)return o.push([d,f])}if(!a){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var g=m.ownerDocument||m;if(f&&r.hasCssString(f,m))return null;f&&(d+=`
/*# sourceURL=ace/css/`+f+" */");var v=r.createElement("style");v.appendChild(g.createTextNode(d)),f&&(v.id=f),m==g&&(m=r.getDocumentHead(g)),m.insertBefore(v,m.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(d,f){r.buildDom(["link",{rel:"stylesheet",href:d}],r.getDocumentHead(f))},r.$fixPositionBug=function(d){var f=d.getBoundingClientRect();if(d.style.left){var p=parseFloat(d.style.left),m=+f.left;Math.abs(p-m)>1&&(d.style.left=2*p-m+"px")}if(d.style.right){var p=parseFloat(d.style.right),m=window.innerWidth-f.right;Math.abs(p-m)>1&&(d.style.right=2*p-m+"px")}if(d.style.top){var p=parseFloat(d.style.top),m=+f.top;Math.abs(p-m)>1&&(d.style.top=2*p-m+"px")}if(d.style.bottom){var p=parseFloat(d.style.bottom),m=window.innerHeight-f.bottom;Math.abs(p-m)>1&&(d.style.bottom=2*p-m+"px")}},r.scrollbarWidth=function(d){var f=r.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=r.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(f);var g=d&&d.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(p);var v=f.offsetWidth;m.overflow="scroll";var y=f.offsetWidth;return v===y&&(y=p.clientWidth),g.removeChild(p),v-y},r.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},r.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=s.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,s.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var u=document.createElement("div");r.HI_DPI&&u.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&typeof u.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),u=null}r.HAS_CSS_TRANSFORMS?r.translate=function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:r.translate=function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,r,i){var s=t("./dom");r.get=function(l,a){var o=new XMLHttpRequest;o.open("GET",l,!0),o.onreadystatechange=function(){o.readyState===4&&a(o.responseText)},o.send(null)},r.loadScript=function(l,a){var o=s.getDocumentHead(),h=document.createElement("script");h.src=l,o.appendChild(h),h.onload=h.onreadystatechange=function(c,u){(u||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,u||a())}},r.qualifyURL=function(l){var a=document.createElement("a");return a.href=l,a.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,r,i){r.inherits=function(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(s,l){for(var a in l)s[a]=l[a];return s},r.implement=function(s,l){r.mixin(s,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,r,i){var s={},l=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(o,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[o]||[],u=this._defaultHandlers[o];if(!(!c.length&&!u)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=o),h.stopPropagation||(h.stopPropagation=l),h.preventDefault||(h.preventDefault=a),c=c.slice();for(var d=0;d<c.length&&(c[d](h,this),!h.propagationStopped);d++);if(u&&!h.defaultPrevented)return u(h,this)}},s._signal=function(o,h){var c=(this._eventRegistry||{})[o];if(c){c=c.slice();for(var u=0;u<c.length;u++)c[u](h,this)}},s.once=function(o,h){var c=this;if(this.on(o,function u(){c.off(o,u),h.apply(null,arguments)}),!h)return new Promise(function(u){h=u})},s.setDefaultHandler=function(o,h){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[o]){var u=c[o],d=c._disabled_[o];d||(c._disabled_[o]=d=[]),d.push(u);var f=d.indexOf(h);f!=-1&&d.splice(f,1)}c[o]=h},s.removeDefaultHandler=function(o,h){var c=this._defaultHandlers;if(c){var u=c._disabled_[o];if(c[o]==h)u&&this.setDefaultHandler(o,u.pop());else if(u){var d=u.indexOf(h);d!=-1&&u.splice(d,1)}}},s.on=s.addEventListener=function(o,h,c){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[o];return u||(u=this._eventRegistry[o]=[]),u.indexOf(h)==-1&&u[c?"unshift":"push"](h),h},s.off=s.removeListener=s.removeEventListener=function(o,h){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[o];if(c){var u=c.indexOf(h);u!==-1&&c.splice(u,1)}},s.removeAllListeners=function(o){o||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[o]=void 0),this._defaultHandlers&&(this._defaultHandlers[o]=void 0)},r.EventEmitter=s}),ace.define("ace/lib/report_error",["require","exports","module"],function(t,r,i){r.reportError=function(l,a){var o=new Error(l);o.data=a,typeof console=="object"&&console.error&&console.error(o),setTimeout(function(){throw o})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(t,r,i){var s={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};r.defaultEnglishMessages=s}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(t,r,i){"no use strict";var s=t("./oop"),l=t("./event_emitter").EventEmitter,a=t("./report_error").reportError,o=t("./default_english_messages").defaultEnglishMessages,h={setOptions:function(p){Object.keys(p).forEach(function(m){this.setOption(m,p[m])},this)},getOptions:function(p){var m={};if(p)Array.isArray(p)||(p=Object.keys(p));else{var g=this.$options;p=Object.keys(g).filter(function(v){return!g[v].hidden})}return p.forEach(function(v){m[v]=this.getOption(v)},this),m},setOption:function(p,m){if(this["$"+p]!==m){var g=this.$options[p];if(!g)return c('misspelled option "'+p+'"');if(g.forwardTo)return this[g.forwardTo]&&this[g.forwardTo].setOption(p,m);g.handlesSet||(this["$"+p]=m),g&&g.set&&g.set.call(this,m)}},getOption:function(p){var m=this.$options[p];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(p):m&&m.get?m.get.call(this):this["$"+p]:c('misspelled option "'+p+'"')}};function c(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var u,d,f=(function(){function p(){this.$defaultOptions={},u=o,d="dollarSigns"}return p.prototype.defineOptions=function(m,g,v){return m.$options||(this.$defaultOptions[g]=m.$options={}),Object.keys(v).forEach(function(y){var _=v[y];typeof _=="string"&&(_={forwardTo:_}),_.name||(_.name=y),m.$options[_.name]=_,"initialValue"in _&&(m["$"+_.name]=_.initialValue)}),s.implement(m,h),this},p.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(g){var v=m.$options[g];"value"in v&&m.setOption(g,v.value)})},p.prototype.setDefaultValue=function(m,g,v){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][g])break;if(!this.$defaultOptions[m][g])return!1}var y=this.$defaultOptions[m]||(this.$defaultOptions[m]={});y[g]&&(y.forwardTo?this.setDefaultValue(y.forwardTo,g,v):y[g].value=v)},p.prototype.setDefaultValues=function(m,g){Object.keys(g).forEach(function(v){this.setDefaultValue(m,v,g[v])},this)},p.prototype.setMessages=function(m,g){u=m,g&&g.placeholders&&(d=g.placeholders)},p.prototype.nls=function(m,g,v){u[m]||(c("No message found for the key '"+m+"' in messages with id "+u.$id+", trying to find a translation for the default string '"+g+"'."),u[g]||c("No message found for the default string '"+g+"' in the provided messages. Falling back to the default English message."));var y=u[m]||u[g]||g;return v&&(d==="dollarSigns"&&(y=y.replace(/\$(\$|[\d]+)/g,function(_,w){return w=="$"?"$":v[w]})),d==="curlyBrackets"&&(y=y.replace(/\{([^\}]+)\}/g,function(_,w){return v[w]}))),y},p})();f.prototype.warn=c,f.prototype.reportError=a,s.implement(f.prototype,l),r.AppConfig=f}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(t,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(t,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=t("./textmate-css"),r.$id="ace/theme/textmate";var s=t("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,r,i){"no use strict";var s=t("./lib/lang"),l=t("./lib/net"),a=t("./lib/dom"),o=t("./lib/app_config").AppConfig;i.exports=r=new o;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!h.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return h[f]},r.set=function(f,p){if(h.hasOwnProperty(f))h[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&a.useStrictCSP(p)},r.all=function(){return s.copyObject(h)},r.$modes={},r.moduleUrl=function(f,p){if(h.$moduleUrls[f])return h.$moduleUrls[f];var m=f.split("/");p=p||m[m.length-2]||"";var g=p=="snippets"?"/":"-",v=m[m.length-1];if(p=="worker"&&g=="-"){var y=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");v=v.replace(y,"")}(!v||v==p)&&m.length>1&&(v=m[m.length-2]);var _=h[p+"Path"];return _==null?_=h.basePath:g=="/"&&(p=g=""),_&&_.slice(-1)!="/"&&(_+="/"),_+p+g+v+this.get("suffix")},r.setModuleUrl=function(f,p){return h.$moduleUrls[f]=p};var c=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,t("./theme/textmate"));if(u)return u(f,p);console.error("loader is not configured")},u;r.setLoader=function(f){u=f},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(f,p){var m;if(Array.isArray(f))var g=f[0],v=f[1];else if(typeof f=="string")var v=f;var y=function(_){if(_&&!r.$loading[v])return p&&p(_);if(r.$loading[v]||(r.$loading[v]=[]),r.$loading[v].push(p),!(r.$loading[v].length>1)){var w=function(){c(v,function(C,b){b&&(r.$loaded[v]=b),r._emit("load.module",{name:v,module:b});var T=r.$loading[v];r.$loading[v]=null,T.forEach(function(A){A&&A(b)})})};if(!r.get("packaged"))return w();l.loadScript(r.moduleUrl(v,g),w),d()}};if(r.dynamicModules[v])r.dynamicModules[v]().then(function(_){_.default?y(_.default):y(_)});else{try{m=this.$require(v)}catch{}y(m||r.$loaded[v])}},r.$require=function(f){if(typeof i.require=="function"){var p="require";return i[p](f)}},r.setModuleLoader=function(f,p){r.dynamicModules[f]=p};var d=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};r.version="1.43.4"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,r,i){t("./lib/fixoldbrowsers");var s=t("./config");s.setLoader(function(h,c){t([h],function(u){c(null,u)})});var l=(function(){return this||typeof window<"u"&&window})();i.exports=function(h){s.init=a,s.$require=t,h.require=t},a(!0);function a(h){if(!(!l||!l.document)){s.set("packaged",h||t.packaged||i.packaged||l.define&&(void 0).packaged);var c={},u="",d=document.currentScript||document._currentScript,f=d&&d.ownerDocument||document;d&&d.src&&(u=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m],v=g.src||g.getAttribute("src");if(v){for(var y=g.attributes,_=0,w=y.length;_<w;_++){var C=y[_];C.name.indexOf("data-ace-")===0&&(c[o(C.name.replace(/^data-ace-/,""))]=C.value)}var b=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(u=b[1])}}u&&(c.base=c.base||u,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var T in c)typeof c[T]<"u"&&s.set(T,c[T])}}function o(h){return h.replace(/-(.)/g,function(c,u){return u.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(t,r,i){var s=(function(){function l(a,o,h,c){this.start={row:a,column:o},this.end={row:h,column:c}}return l.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(a,o){return this.compare(a,o)==0},l.prototype.compareRange=function(a){var o,h=a.end,c=a.start;return o=this.compare(h.row,h.column),o==1?(o=this.compare(c.row,c.column),o==1?2:o==0?1:0):o==-1?-2:(o=this.compare(c.row,c.column),o==-1?-1:o==1?42:0)},l.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},l.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},l.prototype.intersects=function(a){var o=this.compareRange(a);return o==-1||o==0||o==1},l.prototype.isEnd=function(a,o){return this.end.row==a&&this.end.column==o},l.prototype.isStart=function(a,o){return this.start.row==a&&this.start.column==o},l.prototype.setStart=function(a,o){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=o)},l.prototype.setEnd=function(a,o){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=o)},l.prototype.inside=function(a,o){return this.compare(a,o)==0?!(this.isEnd(a,o)||this.isStart(a,o)):!1},l.prototype.insideStart=function(a,o){return this.compare(a,o)==0?!this.isEnd(a,o):!1},l.prototype.insideEnd=function(a,o){return this.compare(a,o)==0?!this.isStart(a,o):!1},l.prototype.compare=function(a,o){return!this.isMultiLine()&&a===this.start.row?o<this.start.column?-1:o>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?o>=this.start.column?0:-1:this.end.row===a?o<=this.end.column?0:1:0},l.prototype.compareStart=function(a,o){return this.start.row==a&&this.start.column==o?-1:this.compare(a,o)},l.prototype.compareEnd=function(a,o){return this.end.row==a&&this.end.column==o?1:this.compare(a,o)},l.prototype.compareInside=function(a,o){return this.end.row==a&&this.end.column==o?1:this.start.row==a&&this.start.column==o?-1:this.compare(a,o)},l.prototype.clipRows=function(a,o){if(this.end.row>o)var h={row:o+1,column:0};else if(this.end.row<a)var h={row:a,column:0};if(this.start.row>o)var c={row:o+1,column:0};else if(this.start.row<a)var c={row:a,column:0};return l.fromPoints(c||this.start,h||this.end)},l.prototype.extend=function(a,o){var h=this.compare(a,o);if(h==0)return this;if(h==-1)var c={row:a,column:o};else var u={row:a,column:o};return l.fromPoints(c||this.start,u||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(a){var o=a.documentToScreenPosition(this.start),h=a.documentToScreenPosition(this.end);return new l(o.row,o.column,h.row,h.column)},l.prototype.moveBy=function(a,o){this.start.row+=a,this.start.column+=o,this.end.row+=a,this.end.column+=o},l})();s.fromPoints=function(l,a){return new s(l.row,l.column,a.row,a.column)},s.comparePoints=function(l,a){return l.row-a.row||l.column-a.column},r.Range=s}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,r,i){for(var s=t("./oop"),l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},o=0;o<10;o++)a["Digit"+o]=48+o,a["Numpad"+o]=96+o,l.PRINTABLE_KEYS[48+o]=""+o,l.FUNCTION_KEYS[96+o]="Numpad"+o;for(var o=65;o<91;o++){var h=String.fromCharCode(o+32);a["Key"+h.toUpperCase()]=o,l.PRINTABLE_KEYS[o]=h}for(var o=1;o<13;o++)a["F"+o]=111+o,l.FUNCTION_KEYS[111+o]="F"+o;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var u in c)a[u]=a[u+"Left"]=a[u+"Right"]=c[u];r.$codeToKeyCode=a,l.PRINTABLE_KEYS[173]="-";for(var d in l.FUNCTION_KEYS){var f=l.FUNCTION_KEYS[d].toLowerCase();l[f]=parseInt(d,10)}for(var d in l.PRINTABLE_KEYS){var f=l.PRINTABLE_KEYS[d].toLowerCase();l[f]=parseInt(d,10)}s.mixin(l,l.MODIFIER_KEYS),s.mixin(l,l.PRINTABLE_KEYS),s.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,(function(){for(var p=["cmd","ctrl","alt","shift"],m=Math.pow(2,p.length);m--;)l.KEY_MODS[m]=p.filter(function(g){return m&l.KEY_MODS[g]}).join("-")+"-"})(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",s.mixin(r,l),r.default=r,r.keyCodeToString=function(p){var m=l[p];return typeof m!="string"&&(m=String.fromCharCode(p)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,i){var s=t("./keys"),l=t("./useragent"),a=null,o=0,h;function c(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return h={passive:!1},!0}})}catch{}}function u(){return h==null&&c(),h}function d(_,w,C){this.elem=_,this.type=w,this.callback=C}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=r.addListener=function(_,w,C,b){_.addEventListener(w,C,u()),b&&b.$toDestroy.push(new d(_,w,C))},p=r.removeListener=function(_,w,C){_.removeEventListener(w,C,u())};r.stopEvent=function(_){return r.stopPropagation(_),r.preventDefault(_),!1},r.stopPropagation=function(_){_.stopPropagation&&_.stopPropagation()},r.preventDefault=function(_){_.preventDefault&&_.preventDefault()},r.getButton=function(_){return _.type=="dblclick"?0:_.type=="contextmenu"||l.isMac&&_.ctrlKey&&!_.altKey&&!_.shiftKey?2:_.button},r.capture=function(_,w,C){var b=_&&_.ownerDocument||document;function T(A){w&&w(A),C&&C(A),p(b,"mousemove",w),p(b,"mouseup",T),p(b,"dragstart",T)}return f(b,"mousemove",w),f(b,"mouseup",T),f(b,"dragstart",T),T},r.addMouseWheelListener=function(_,w,C){f(_,"wheel",function(b){var T=.15,A=b.deltaX||0,k=b.deltaY||0;switch(b.deltaMode){case b.DOM_DELTA_PIXEL:b.wheelX=A*T,b.wheelY=k*T;break;case b.DOM_DELTA_LINE:var P=15;b.wheelX=A*P,b.wheelY=k*P;break;case b.DOM_DELTA_PAGE:var N=150;b.wheelX=A*N,b.wheelY=k*N;break}w(b)},C)},r.addMultiMouseDownListener=function(_,w,C,b,T){var A=0,k,P,N,D={2:"dblclick",3:"tripleclick",4:"quadclick"};function L(I){if(r.getButton(I)!==0?A=0:I.detail>1?(A++,A>4&&(A=1)):A=1,l.isIE){var O=Math.abs(I.clientX-k)>5||Math.abs(I.clientY-P)>5;(!N||O)&&(A=1),N&&clearTimeout(N),N=setTimeout(function(){N=null},w[A-1]||600),A==1&&(k=I.clientX,P=I.clientY)}if(I._clicks=A,C[b]("mousedown",I),A>4)A=0;else if(A>1)return C[b](D[A],I)}Array.isArray(_)||(_=[_]),_.forEach(function(I){f(I,"mousedown",L,T)})};function m(_){return 0|(_.ctrlKey?1:0)|(_.altKey?2:0)|(_.shiftKey?4:0)|(_.metaKey?8:0)}r.getModifierString=function(_){return s.KEY_MODS[m(_)]};function g(_,w,C){var b=m(w);if(!C&&w.code&&(C=s.$codeToKeyCode[w.code]||C),!l.isMac&&a){if(w.getModifierState&&(w.getModifierState("OS")||w.getModifierState("Win"))&&(b|=8),a.altGr)if((3&b)!=3)a.altGr=0;else return;if(C===18||C===17){var T=w.location;if(C===17&&T===1)a[C]==1&&(o=w.timeStamp);else if(C===18&&b===3&&T===2){var A=w.timeStamp-o;A<50&&(a.altGr=!0)}}}if(C in s.MODIFIER_KEYS&&(C=-1),!(!b&&C===13&&w.location===3&&(_(w,b,-C),w.defaultPrevented))){if(l.isChromeOS&&b&8){if(_(w,b,C),w.defaultPrevented)return;b&=-9}return!b&&!(C in s.FUNCTION_KEYS)&&!(C in s.PRINTABLE_KEYS)?!1:_(w,b,C)}}r.addCommandKeyListener=function(_,w,C){var b=null;f(_,"keydown",function(T){a[T.keyCode]=(a[T.keyCode]||0)+1;var A=g(w,T,T.keyCode);return b=T.defaultPrevented,A},C),f(_,"keypress",function(T){b&&(T.ctrlKey||T.altKey||T.shiftKey||T.metaKey)&&(r.stopEvent(T),b=null)},C),f(_,"keyup",function(T){a[T.keyCode]=null},C),a||(v(),f(window,"focus",v))};function v(){a=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var y=1;r.nextTick=function(_,w){w=w||window;var C="zero-timeout-message-"+y++,b=function(T){T.data==C&&(r.stopPropagation(T),p(w,"message",b),_())};f(w,"message",b),w.postMessage(C,"*")}}r.$idleBlocked=!1,r.onIdle=function(_,w){return setTimeout(function C(){r.$idleBlocked?setTimeout(C,100):_()},w)},r.$idleBlockId=null,r.blockIdle=function(_){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},_||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(_){setTimeout(_,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(t,r,i){var s;i.exports={lineMode:!1,pasteCancelled:function(){return s&&s>Date.now()-50?!0:s=!1},cancel:function(){s=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,r,i){var s=t("../lib/event"),l=t("../config").nls,a=t("../lib/useragent"),o=t("../lib/dom"),h=t("../lib/lang"),c=t("../clipboard"),u=a.isChrome<18,d=a.isIE,f=a.isChrome>63,p=400,m=t("../lib/keys"),g=m.KEY_MODS,v=a.isIOS,y=v?/\s/:/\n/,_=a.isMobile,w=(function(){function C(b,T){var A=this;this.host=T,this.text=o.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",b.insertBefore(this.text,b.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",_||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),s.addListener(this.text,"blur",function(k){A.ignoreFocusEvents||(T.onBlur(k),A.$isFocused=!1)},T),s.addListener(this.text,"focus",function(k){if(!A.ignoreFocusEvents){if(A.$isFocused=!0,a.isEdge)try{if(!document.hasFocus())return}catch{}T.onFocus(k),a.isEdge?setTimeout(A.resetSelection.bind(A)):A.resetSelection()}},T),this.$focusScroll=!1,T.on("beforeEndOperation",function(){var k=T.curOp,P=k&&k.command&&k.command.name;if(P!="insertstring"){var N=P&&(k.docChanged||k.selectionChanged);A.inComposition&&N&&(A.lastValue=A.text.value="",A.onCompositionEnd()),A.resetSelection()}}),T.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=v?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&T.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,s.addCommandKeyListener(this.text,function(k,P,N){if(!A.inComposition)return T.onCommandKey(k,P,N)},T),s.addListener(this.text,"select",this.onSelect.bind(this),T),s.addListener(this.text,"input",this.onInput.bind(this),T),s.addListener(this.text,"cut",this.onCut.bind(this),T),s.addListener(this.text,"copy",this.onCopy.bind(this),T),s.addListener(this.text,"paste",this.onPaste.bind(this),T),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&s.addListener(b,"keydown",function(k){if(!(a.isMac&&!k.metaKey||!k.ctrlKey))switch(k.keyCode){case 67:A.onCopy(k);break;case 86:A.onPaste(k);break;case 88:A.onCut(k);break}},T),this.syncComposition=h.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),s.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),T),s.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),T),s.addListener(this.text,"keyup",this.onKeyup.bind(this),T),s.addListener(this.text,"keydown",this.syncComposition.bind(this),T),s.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),T),this.closeTimeout,s.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),T),s.addListener(this.text,"mousedown",function(k){k.preventDefault(),A.onContextMenuClose()},T),s.addListener(T.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),T),s.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),T),v&&this.addIosSelectionHandler(b,T,this.text)}return C.prototype.addIosSelectionHandler=function(b,T,A){var k=this,P=null,N=!1;A.addEventListener("keydown",function(L){P&&clearTimeout(P),N=!0},!0),A.addEventListener("keyup",function(L){P=setTimeout(function(){N=!1},100)},!0);var D=function(L){if(document.activeElement===A&&!(N||k.inComposition||T.$mouseHandler.isMousePressed)&&!k.copied){var I=A.selectionStart,O=A.selectionEnd,F=null,H=0;if(I==0?F=m.up:I==1?F=m.home:O>k.lastSelectionEnd&&k.lastValue[O]==`
`?F=m.end:I<k.lastSelectionStart&&k.lastValue[I-1]==" "?(F=m.left,H=g.option):I<k.lastSelectionStart||I==k.lastSelectionStart&&k.lastSelectionEnd!=k.lastSelectionStart&&I==O?F=m.left:O>k.lastSelectionEnd&&k.lastValue.slice(0,O).split(`
`).length>2?F=m.down:O>k.lastSelectionEnd&&k.lastValue[O-1]==" "?(F=m.right,H=g.option):(O>k.lastSelectionEnd||O==k.lastSelectionEnd&&k.lastSelectionEnd!=k.lastSelectionStart&&I==O)&&(F=m.right),I!==O&&(H|=g.shift),F){var j=T.onCommandKey({},H,F);if(!j&&T.commands){F=m.keyCodeToString(F);var z=T.commands.findKeyCommand(H,F);z&&T.execCommand(z)}k.lastSelectionStart=I,k.lastSelectionEnd=O,k.resetSelection("")}}};document.addEventListener("selectionchange",D),T.on("destroy",function(){document.removeEventListener("selectionchange",D)})},C.prototype.onContextMenuClose=function(){var b=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){b.tempStyle&&(b.text.style.cssText=b.tempStyle,b.tempStyle=""),b.host.renderer.$isMousePressed=!1,b.host.renderer.$keepTextAreaAtCursor&&b.host.renderer.$moveTextAreaToCursor()},0)},C.prototype.$onContextMenu=function(b){this.host.textInput.onContextMenu(b),this.onContextMenuClose()},C.prototype.onKeyup=function(b){b.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},C.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},C.prototype.onCompositionStart=function(b){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){b.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var T=this.host.getSelectionRange();T.end.row=T.start.row,T.end.column=T.start.column,this.inComposition.markerRange=T,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},C.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var b=this.text.value;this.sendText(b),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},C.prototype.onCompositionEnd=function(b){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),b&&this.onInput())},C.prototype.onCut=function(b){this.doCopy(b,!0)},C.prototype.onCopy=function(b){this.doCopy(b,!1)},C.prototype.onPaste=function(b){var T=this.handleClipboardData(b);c.pasteCancelled()||(typeof T=="string"?(T&&this.host.onPaste(T,b),a.isIE&&setTimeout(this.resetSelection),s.preventDefault(b)):(this.text.value="",this.pasted=!0))},C.prototype.doCopy=function(b,T){var A=this,k=this.host.getCopyText();if(!k)return s.preventDefault(b);this.handleClipboardData(b,k)?(v&&(this.resetSelection(k),this.copied=k,setTimeout(function(){A.copied=!1},10)),T?this.host.onCut():this.host.onCopy(),s.preventDefault(b)):(this.copied=!0,this.text.value=k,this.text.select(),setTimeout(function(){A.copied=!1,A.resetSelection(),T?A.host.onCut():A.host.onCopy()}))},C.prototype.handleClipboardData=function(b,T,A){var k=b.clipboardData||window.clipboardData;if(!(!k||u)){var P=d||A?"Text":"text/plain";try{return T?k.setData(P,T)!==!1:k.getData(P)}catch(N){if(!A)return this.handleClipboardData(N,T,!0)}}},C.prototype.onInput=function(b){if(this.inComposition)return this.onCompositionUpdate();if(b&&b.inputType){if(b.inputType=="historyUndo")return this.host.execCommand("undo");if(b.inputType=="historyRedo")return this.host.execCommand("redo")}var T=this.text.value,A=this.sendText(T,!0);(T.length>p+100||y.test(A)||_&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},C.prototype.sendText=function(b,T){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),b&&this.host.onPaste(b),this.pasted=!1,"";for(var A=this.text.selectionStart,k=this.text.selectionEnd,P=this.lastSelectionStart,N=this.lastValue.length-this.lastSelectionEnd,D=b,L=b.length-A,I=b.length-k,O=0;P>0&&this.lastValue[O]==b[O];)O++,P--;for(D=D.slice(O),O=1;N>0&&this.lastValue.length-O>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-O]==b[b.length-O];)O++,N--;L-=O-1,I-=O-1;var F=D.length-O+1;if(F<0&&(P=-F,F=0),D=D.slice(0,F),!T&&!D&&!L&&!P&&!N&&!I)return"";this.sendingText=!0;var H=!1;return a.isAndroid&&D==". "&&(D="  ",H=!0),D&&!P&&!N&&!L&&!I||this.commandMode?this.host.onTextInput(D):this.host.onTextInput(D,{extendLeft:P,extendRight:N,restoreStart:L,restoreEnd:I}),this.sendingText=!1,this.lastValue=b,this.lastSelectionStart=A,this.lastSelectionEnd=k,this.lastRestoreEnd=I,H?`
`:D},C.prototype.onSelect=function(b){var T=this;if(!this.inComposition){var A=function(k){return k.selectionStart===0&&k.selectionEnd>=T.lastValue.length&&k.value===T.lastValue&&T.lastValue&&k.selectionEnd!==T.lastSelectionEnd};this.copied?this.copied=!1:A(this.text)?(this.host.selectAll(),this.resetSelection()):_&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},C.prototype.$resetSelectionIOS=function(b){if(!(!this.$isFocused||this.copied&&!b||this.sendingText)){b||(b="");var T=`
 ab`+b+`cde fg
`;T!=this.text.value&&(this.text.value=this.lastValue=T);var A=4,k=4+(b.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=A||this.lastSelectionEnd!=k)&&this.text.setSelectionRange(A,k),this.lastSelectionStart=A,this.lastSelectionEnd=k}},C.prototype.$resetSelection=function(){var b=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var T=0,A=0,k="",P=function(z,W){for(var K=W,X=1;X<=z-b.rowStart&&X<2*b.numberOfExtraLines+1;X++)K+=b.host.session.getLine(z-X).length+1;return K};if(this.host.session){var N=this.host.selection,D=N.getRange(),L=N.cursor.row;L===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):L===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(L<this.rowStart-1||L>this.rowEnd+1)&&(this.rowStart=L>this.numberOfExtraLines?L-this.numberOfExtraLines:0,this.rowEnd=L>this.numberOfExtraLines?L+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var I=[],O=this.rowStart;O<=this.rowEnd;O++)I.push(this.host.session.getLine(O));if(k=I.join(`
`),T=P(D.start.row,D.start.column),A=P(D.end.row,D.end.column),D.start.row<this.rowStart){var F=this.host.session.getLine(this.rowStart-1);T=D.start.row<this.rowStart-1?0:T,A+=F.length+1,k=F+`
`+k}else if(D.end.row>this.rowEnd){var H=this.host.session.getLine(this.rowEnd+1);A=D.end.row>this.rowEnd+1?H.length:D.end.column,A+=k.length+1,k=k+`
`+H}else _&&L>0&&(k=`
`+k,A+=1,T+=1);k.length>p&&(T<p&&A<p?k=k.slice(0,p):(k=`
`,T==A?T=A=0:(T=0,A=1)));var j=k+`

`;j!=this.lastValue&&(this.text.value=this.lastValue=j,this.lastSelectionStart=this.lastSelectionEnd=j.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=A||this.lastSelectionStart!=T||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(T,A),this.lastSelectionStart=T,this.lastSelectionEnd=A}catch{}this.inComposition=!1}},C.prototype.setHost=function(b){this.host=b},C.prototype.setNumberOfExtraLines=function(b){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,b<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=b},C.prototype.setAriaLabel=function(){var b="";if(this.host.$textInputAriaLabel&&(b+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var T=this.host.session.selection.cursor.row;b+=l("text-input.aria-label","Cursor at row $0",[T+1])}this.text.setAttribute("aria-label",b)},C.prototype.setAriaOptions=function(b){b.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",b.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",b.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),b.role&&this.text.setAttribute("role",b.role),b.setLabel&&(this.text.setAttribute("aria-roledescription",l("text-input.aria-roledescription","editor")),this.setAriaLabel())},C.prototype.focus=function(){var b=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||f||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var T=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var A=this.text.getBoundingClientRect().top!=0}catch{return}var k=[];if(A)for(var P=this.text.parentElement;P&&P.nodeType==1;)k.push(P),P.setAttribute("ace_nocontext","true"),!P.parentElement&&P.getRootNode?P=P.getRootNode().host:P=P.parentElement;this.text.focus({preventScroll:!0}),A&&k.forEach(function(N){N.removeAttribute("ace_nocontext")}),setTimeout(function(){b.text.style.position="",b.text.style.top=="0px"&&(b.text.style.top=T)},0)},C.prototype.blur=function(){this.text.blur()},C.prototype.isFocused=function(){return this.$isFocused},C.prototype.setInputHandler=function(b){this.inputHandler=b},C.prototype.getInputHandler=function(){return this.inputHandler},C.prototype.getElement=function(){return this.text},C.prototype.setCommandMode=function(b){this.commandMode=b,this.text.readOnly=!1},C.prototype.setReadOnly=function(b){this.commandMode||(this.text.readOnly=b)},C.prototype.setCopyWithEmptySelection=function(b){},C.prototype.onContextMenu=function(b){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:b}),this.moveToMouse(b,!0)},C.prototype.moveToMouse=function(b,T){var A=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(T?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var k=this.host.container.getBoundingClientRect(),P=o.computedStyle(this.host.container),N=k.top+(parseInt(P.borderTopWidth)||0),D=k.left+(parseInt(P.borderLeftWidth)||0),L=k.bottom-N-this.text.clientHeight-2,I=function(O){o.translate(A.text,O.clientX-D-2,Math.min(O.clientY-N-2,L))};I(b),b.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),a.isWin&&s.capture(this.host.container,I,this.onContextMenuClose.bind(this)))},C.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},C})();r.TextInput=w,r.$setUserAgentForTests=function(C,b){_=C,v=b}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,r,i){var s=t("../lib/useragent"),l=0,a=550,o=(function(){function u(d){d.$clickSelection=null;var f=d.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(m){d[m]=this[m]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return u.prototype.onMouseDown=function(d){var f=d.inSelection(),p=d.getDocumentPosition();this.mousedownEvent=d;var m=this.editor,g=d.getButton();if(g!==0){var v=m.getSelectionRange(),y=v.isEmpty();(y||g==1)&&m.selection.moveToPosition(p),g==2&&(m.textInput.onContextMenu(d.domEvent),s.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(p,d.domEvent._clicks>1),d.preventDefault()},u.prototype.startSelect=function(d,f){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(d):f||p.selection.moveToPosition(d),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},u.prototype.select=function(){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p);if(m==-1)d=this.$clickSelection.end;else if(m==1)d=this.$clickSelection.start;else{var g=c(this.$clickSelection,p,f.session);p=g.cursor,d=g.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},u.prototype.extendSelectionBy=function(d){var f,p=this.editor,m=p.renderer.screenToTextCoordinates(this.x,this.y),g=p.selection[d](m.row,m.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(g.start),y=this.$clickSelection.comparePoint(g.end);if(v==-1&&y<=0)f=this.$clickSelection.end,(g.end.row!=m.row||g.end.column!=m.column)&&(m=g.start);else if(y==1&&v>=0)f=this.$clickSelection.start,(g.start.row!=m.row||g.start.column!=m.column)&&(m=g.end);else if(v==-1&&y==1)m=g.end,f=g.start;else{var _=c(this.$clickSelection,m,p.session);m=_.cursor,f=_.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(m),p.renderer.scrollCursorIntoView()},u.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},u.prototype.focusWait=function(){var d=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(d>l||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},u.prototype.onDoubleClick=function(d){var f=d.getDocumentPosition(),p=this.editor,m=p.session,g=m.getBracketRange(f);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},u.prototype.onTripleClick=function(d){var f=d.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var m=p.getSelectionRange();m.isMultiLine()&&m.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(m.start.row),this.$clickSelection.end=p.selection.getLineRange(m.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},u.prototype.onQuadClick=function(d){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},u.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,m=d.domEvent.timeStamp,g=m-p.t,v=g?d.wheelX/g:p.vx,y=g?d.wheelY/g:p.vy;g<a&&(v=(v+p.vx)/2,y=(y+p.vy)/2);var _=Math.abs(v/y),w=!1;if(_>=1&&f.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(w=!0),_<=1&&f.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(w=!0),w)p.allowed=m;else if(m-p.allowed<a){var C=Math.abs(v)<=1.5*Math.abs(p.vx)&&Math.abs(y)<=1.5*Math.abs(p.vy);C?(w=!0,p.allowed=m):p.allowed=0}if(p.t=m,p.vx=v,p.vy=y,w)return f.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},u})();o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,r.DefaultHandlers=o;function h(u,d,f,p){return Math.sqrt(Math.pow(f-u,2)+Math.pow(p-d,2))}function c(u,d,f){if(u.start.row==u.end.row)var p=2*d.column-u.start.column-u.end.column;else if(u.start.row==u.end.row-1&&!u.start.column&&!u.end.column)var p=3*d.column-2*f.getLine(u.start.row).length;else var p=2*d.row-u.start.row-u.end.row;return p<0?{cursor:u.start,anchor:u.end}:{cursor:u.end,anchor:u.start}}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,i){var s=t("../lib/event"),l=t("../lib/useragent"),a=(function(){function o(h,c){this.speed,this.wheelX,this.wheelY,this.domEvent=h,this.editor=c,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return o.prototype.stopPropagation=function(){s.stopPropagation(this.domEvent),this.propagationStopped=!0},o.prototype.preventDefault=function(){s.preventDefault(this.domEvent),this.defaultPrevented=!0},o.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},o.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},o.prototype.getGutterRow=function(){var h=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(h,0),u=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-u},o.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,c=h.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var u=this.getDocumentPosition();this.$inSelection=c.contains(u.row,u.column)}return this.$inSelection},o.prototype.getButton=function(){return s.getButton(this.domEvent)},o.prototype.getShiftKey=function(){return this.domEvent.shiftKey},o.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},o})();r.MouseEvent=a}),ace.define("ace/lib/scroll",["require","exports","module"],function(t,r,i){r.preventParentScroll=function(l){l.stopPropagation();var a=l.currentTarget,o=a.scrollHeight>a.clientHeight;o||l.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(t,r,i){var s=this&&this.__extends||(function(){var m=function(g,v){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(y[w]=_[w])},m(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(g,v);function y(){this.constructor=g}g.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}})(),l=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&m[g],y=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&y>=m.length&&(m=void 0),{value:m&&m[y++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=t("./lib/dom");t("./lib/event");var o=t("./range").Range,h=t("./lib/scroll").preventParentScroll,c="ace_tooltip",u=(function(){function m(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return m.prototype.$init=function(){return this.$element=a.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(g){this.getElement().textContent=g},m.prototype.setHtml=function(g){this.getElement().innerHTML=g},m.prototype.setPosition=function(g,v){this.getElement().style.left=g+"px",this.getElement().style.top=v+"px"},m.prototype.setClassName=function(g){a.addCssClass(this.getElement(),g)},m.prototype.setTheme=function(g){this.theme&&(this.theme.isDark&&a.removeCssClass(this.getElement(),"ace_dark"),this.theme.cssClass&&a.removeCssClass(this.getElement(),this.theme.cssClass)),g.isDark&&a.addCssClass(this.getElement(),"ace_dark"),g.cssClass&&a.addCssClass(this.getElement(),g.cssClass),this.theme={isDark:g.isDark,cssClass:g.cssClass}},m.prototype.show=function(g,v,y){g!=null&&this.setText(g),v!=null&&y!=null&&this.setPosition(v,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m})(),d=(function(){function m(){this.popups=[]}return m.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},m.prototype.removePopup=function(g){var v=this.popups.indexOf(g);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},m.prototype.updatePopups=function(){var g,v,y,_;this.popups.sort(function(D,L){return L.priority-D.priority});var w=[];try{for(var C=l(this.popups),b=C.next();!b.done;b=C.next()){var T=b.value,A=!0;try{for(var k=(y=void 0,l(w)),P=k.next();!P.done;P=k.next()){var N=P.value;if(this.doPopupsOverlap(N,T)){A=!1;break}}}catch(D){y={error:D}}finally{try{P&&!P.done&&(_=k.return)&&_.call(k)}finally{if(y)throw y.error}}A?w.push(T):T.hide()}}catch(D){g={error:D}}finally{try{b&&!b.done&&(v=C.return)&&v.call(C)}finally{if(g)throw g.error}}},m.prototype.doPopupsOverlap=function(g,v){var y=g.getElement().getBoundingClientRect(),_=v.getElement().getBoundingClientRect();return y.left<_.right&&y.right>_.left&&y.top<_.bottom&&y.bottom>_.top},m})(),f=new d;r.popupManager=f,r.Tooltip=u;var p=(function(m){s(g,m);function g(v){v===void 0&&(v=document.body);var y=m.call(this,v)||this;y.timeout=void 0,y.lastT=0,y.idleTime=350,y.lastEvent=void 0,y.onMouseOut=y.onMouseOut.bind(y),y.onMouseMove=y.onMouseMove.bind(y),y.waitForHover=y.waitForHover.bind(y),y.hide=y.hide.bind(y);var _=y.getElement();return _.style.whiteSpace="pre-wrap",_.style.pointerEvents="auto",_.addEventListener("mouseout",y.onMouseOut),_.tabIndex=-1,_.addEventListener("blur",(function(){_.contains(document.activeElement)||this.hide()}).bind(y)),_.addEventListener("wheel",h),y}return g.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide);var y=v.renderer.getMouseEventTarget();y&&typeof y.removeEventListener=="function"&&y.addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide);var y=v.renderer.getMouseEventTarget();y&&typeof y.removeEventListener=="function"&&y.removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(v,y){this.lastEvent=v,this.lastT=Date.now();var _=y.$mouseHandler.isMousePressed;if(this.isOpen){var w=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(w.row,w.column)||_||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||_||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(v){var y=v.editor,_=v.getDocumentPosition(),w=y.session.getLine(_.row);if(_.column==w.length){var C=y.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),b=y.session.documentToScreenPosition(_.row,_.column);if(b.column!=C.column||b.row!=C.row)return!0}return!1},g.prototype.setDataProvider=function(v){this.$gatherData=v},g.prototype.showForRange=function(v,y,_,w){if(!(w&&w!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var C=v.renderer;this.isOpen||(f.addPopup(this),this.$registerCloseEvents(),this.setTheme(C.theme)),this.isOpen=!0,this.range=o.fromPoints(y.start,y.end);var b=C.textToScreenCoordinates(y.start.row,y.start.column),T=C.scroller.getBoundingClientRect();b.pageX<T.left&&(b.pageX=T.left);var A=this.getElement();A.innerHTML="",A.appendChild(_),A.style.maxHeight="",A.style.display="block",this.$setPosition(v,b,!0,y),a.$fixPositionBug(A)}},g.prototype.$setPosition=function(v,y,_,w){var C=10;_&&this.addMarker(w,v.session);var b=v.renderer,T=this.getElement(),A=T.offsetHeight,k=T.offsetWidth,P=y.pageY,N=y.pageX,D=window.innerHeight-P-b.lineHeight,L=this.$shouldPlaceAbove(A,P,D-C);T.style.maxHeight=(L?P:D)-C+"px",T.style.top=L?"":P+b.lineHeight+"px",T.style.bottom=L?window.innerHeight-P+"px":"",T.style.left=Math.min(N,window.innerWidth-k-C)+"px"},g.prototype.$shouldPlaceAbove=function(v,y,_){return!(y-v<0&&y<_)},g.prototype.addMarker=function(v,y){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=y,this.marker=y&&y.addMarker(v,"ace_highlight-marker","text")},g.prototype.hide=function(v){v&&this.$fromKeyboard&&v.type=="keydown"&&v.code=="Escape"||!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$fromKeyboard=!1,this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,f.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},g})(u);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/mouse/mouse_event","ace/tooltip","ace/config","ace/range"],function(t,r,i){var s=this&&this.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(v[_]=y[_])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}})(),l=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,g=m&&p[m],v=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},a=t("../lib/dom"),o=t("./mouse_event").MouseEvent,h=t("../tooltip").HoverTooltip,c=t("../config").nls,u=t("../range").Range;function d(p){var m=p.editor,g=m.renderer.$gutterLayer;p.$tooltip=new f(m),p.$tooltip.addToEditor(m),p.$tooltip.setDataProvider(function(v,y){var _=v.getDocumentPosition().row;p.$tooltip.showTooltip(_)}),p.editor.setDefaultHandler("guttermousedown",function(v){if(!(!m.isFocused()||v.getButton()!=0)){var y=g.getRegion(v);if(y!="foldWidgets"){var _=v.getDocumentPosition().row,w=m.session.selection;if(v.getShiftKey())w.selectTo(_,0);else{if(v.domEvent.detail==2)return m.selectAll(),v.preventDefault();p.$clickSelection=m.selection.getLineRange(_)}return p.setState("selectByLines"),p.captureMouse(v),v.preventDefault()}}})}r.GutterHandler=d;var f=(function(p){s(m,p);function m(g){var v=p.call(this,g.container)||this;v.id="gt"+ ++m.$uid,v.editor=g,v.visibleTooltipRow;var y=v.getElement();return y.setAttribute("role","tooltip"),y.setAttribute("id",v.id),y.style.pointerEvents="auto",v.idleTime=50,v.onDomMouseMove=v.onDomMouseMove.bind(v),v.onDomMouseOut=v.onDomMouseOut.bind(v),v.setClassName("ace_gutter-tooltip"),v}return m.prototype.onDomMouseMove=function(g){var v=new o(g,this.editor);this.onMouseMove(v,this.editor)},m.prototype.onDomMouseOut=function(g){var v=new o(g,this.editor);this.onMouseOut(v)},m.prototype.addToEditor=function(g){var v=g.renderer.$gutter;v.addEventListener("mousemove",this.onDomMouseMove),v.addEventListener("mouseout",this.onDomMouseOut),p.prototype.addToEditor.call(this,g)},m.prototype.removeFromEditor=function(g){var v=g.renderer.$gutter;v.removeEventListener("mousemove",this.onDomMouseMove),v.removeEventListener("mouseout",this.onDomMouseOut),p.prototype.removeFromEditor.call(this,g)},m.prototype.destroy=function(){this.editor&&this.removeFromEditor(this.editor),p.prototype.destroy.call(this)},Object.defineProperty(m,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),m.prototype.showTooltip=function(g){var v,y=this.editor.renderer.$gutterLayer,_=y.$annotations[g],w;_?w={displayText:Array.from(_.displayText),type:Array.from(_.type)}:w={displayText:[],type:[]};var C=y.session.getFoldLine(g);if(C&&y.$showFoldedAnnotations){for(var b={error:[],security:[],warning:[],info:[],hint:[]},T={error:1,security:2,warning:3,info:4,hint:5},A,k=g+1;k<=C.end.row;k++)if(y.$annotations[k])for(var P=0;P<y.$annotations[k].text.length;P++){var N=y.$annotations[k].type[P];b[N].push(y.$annotations[k].text[P]),(!A||T[N]<T[A])&&(A=N)}if(["error","security","warning"].includes(A)){var D="".concat(m.annotationsToSummaryString(b)," in folded code.");w.displayText.push(D),w.type.push(A+"_fold")}}if(w.displayText.length===0)return this.hide();for(var L={error:[],security:[],warning:[],info:[],hint:[]},I=y.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",k=0;k<w.displayText.length;k++){var O=a.createElement("span"),F=a.createElement("span");(v=F.classList).add.apply(v,["ace_".concat(w.type[k]),I]),F.setAttribute("aria-label","".concat(m.annotationLabels[w.type[k].replace("_fold","")].singular)),F.setAttribute("role","img"),F.appendChild(a.createTextNode(" ")),O.appendChild(F),O.appendChild(a.createTextNode(w.displayText[k])),O.appendChild(a.createElement("br")),L[w.type[k].replace("_fold","")].push(O)}var H=a.createElement("span");L.error.forEach(function(W){return H.appendChild(W)}),L.security.forEach(function(W){return H.appendChild(W)}),L.warning.forEach(function(W){return H.appendChild(W)}),L.info.forEach(function(W){return H.appendChild(W)}),L.hint.forEach(function(W){return H.appendChild(W)}),H.setAttribute("aria-live","polite");var j=this.$findLinkedAnnotationNode(g);j&&j.setAttribute("aria-describedby",this.id);var z=u.fromPoints({row:g,column:0},{row:g,column:0});this.showForRange(this.editor,z,H),this.visibleTooltipRow=g,this.editor._signal("showGutterTooltip",this)},m.prototype.$setPosition=function(g,v,y,_){var w=this.$findCellByRow(_.start.row);if(w){var C=w&&w.element,b=C&&C.querySelector(".ace_gutter_annotation");if(b){var T=b.getBoundingClientRect();if(T){var A={pageX:T.right,pageY:T.top};return p.prototype.$setPosition.call(this,g,A,!1,_)}}}},m.prototype.$shouldPlaceAbove=function(g,v,y){return y<g},m.prototype.$findLinkedAnnotationNode=function(g){var v=this.$findCellByRow(g);if(v){var y=v.element;if(y.childNodes.length>2)return y.childNodes[2]}},m.prototype.$findCellByRow=function(g){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(v){return v.row===g})},m.prototype.hide=function(g){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.visibleTooltipRow!=null){var v=this.$findLinkedAnnotationNode(this.visibleTooltipRow);v&&v.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this),p.prototype.hide.call(this,g)}},m.annotationsToSummaryString=function(g){var v,y,_=[],w=["error","security","warning","info","hint"];try{for(var C=l(w),b=C.next();!b.done;b=C.next()){var T=b.value;if(g[T].length){var A=g[T].length===1?m.annotationLabels[T].singular:m.annotationLabels[T].plural;_.push("".concat(g[T].length," ").concat(A))}}}catch(k){v={error:k}}finally{try{b&&!b.done&&(y=C.return)&&y.call(C)}finally{if(v)throw v.error}}return _.join(", ")},m.prototype.isOutsideOfText=function(g){var v=g.editor,y=v.renderer.$gutter.getBoundingClientRect();return!(g.clientX>=y.left&&g.clientX<=y.right&&g.clientY>=y.top&&g.clientY<=y.bottom)},m})(h);f.$uid=0,r.GutterTooltip=f}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,r,i){var s=t("../lib/dom"),l=t("../lib/event"),a=t("../lib/useragent"),o=200,h=200,c=5;function u(f){var p=f.editor,m=s.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent="";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(J){f[J]=this[J]},this),p.on("mousedown",this.onMouseDown.bind(f));var v=p.container,y,_,w,C,b,T,A=0,k,P,N,D,L;this.onDragStart=function(J){if(this.cancelDrag||!v.draggable){var te=this;return setTimeout(function(){te.startSelect(),te.captureMouse(J)},0),J.preventDefault()}b=p.getSelectionRange();var re=J.dataTransfer;re.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),re.setDragImage&&re.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),re.clearData(),re.setData("Text",p.session.getTextRange()),P=!0,this.setState("drag")},this.onDragEnd=function(J){if(v.draggable=!1,P=!1,this.setState(null),!p.getReadOnly()){var te=J.dataTransfer.dropEffect;!k&&te=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(J){if(!(p.getReadOnly()||!K(J.dataTransfer)))return _=J.clientX,w=J.clientY,y||H(),A++,J.dataTransfer.dropEffect=k=X(J),l.preventDefault(J)},this.onDragOver=function(J){if(!(p.getReadOnly()||!K(J.dataTransfer)))return _=J.clientX,w=J.clientY,y||(H(),A++),z!==null&&(z=null),J.dataTransfer.dropEffect=k=X(J),l.preventDefault(J)},this.onDragLeave=function(J){if(A--,A<=0&&y)return j(),k=null,l.preventDefault(J)},this.onDrop=function(J){if(T){var te=J.dataTransfer;if(P)switch(k){case"move":b.contains(T.row,T.column)?b={start:T,end:T}:b=p.moveText(b,T);break;case"copy":b=p.moveText(b,T,!0);break}else{var re=te.getData("Text");b={start:T,end:p.session.insert(T,re)},p.focus(),k=null}return j(),l.preventDefault(J)}},l.addListener(v,"dragstart",this.onDragStart.bind(f),p),l.addListener(v,"dragend",this.onDragEnd.bind(f),p),l.addListener(v,"dragenter",this.onDragEnter.bind(f),p),l.addListener(v,"dragover",this.onDragOver.bind(f),p),l.addListener(v,"dragleave",this.onDragLeave.bind(f),p),l.addListener(v,"drop",this.onDrop.bind(f),p);function I(J,te){var re=Date.now(),ae=!te||J.row!=te.row,ie=!te||J.column!=te.column;if(!D||ae||ie)p.moveCursorToPosition(J),D=re,L={x:_,y:w};else{var Q=d(L.x,L.y,_,w);Q>c?D=null:re-D>=h&&(p.renderer.scrollCursorIntoView(),D=null)}}function O(J,te){var re=Date.now(),ae=p.renderer.layerConfig.lineHeight,ie=p.renderer.layerConfig.characterWidth,Q=p.renderer.scroller.getBoundingClientRect(),se={x:{left:_-Q.left,right:Q.right-_},y:{top:w-Q.top,bottom:Q.bottom-w}},de=Math.min(se.x.left,se.x.right),xe=Math.min(se.y.top,se.y.bottom),ne={row:J.row,column:J.column};de/ie<=2&&(ne.column+=se.x.left<se.x.right?-3:2),xe/ae<=1&&(ne.row+=se.y.top<se.y.bottom?-1:1);var ye=J.row!=ne.row,_e=J.column!=ne.column,Ae=!te||J.row!=te.row;ye||_e&&!Ae?N?re-N>=o&&p.renderer.scrollCursorIntoView(ne):N=re:N=null}function F(){var J=T;T=p.renderer.screenToTextCoordinates(_,w),I(T,J),O(T,J)}function H(){b=p.selection.toOrientedRange(),y=p.session.addMarker(b,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),F(),C=setInterval(F,20),A=0,l.addListener(document,"mousemove",W)}function j(){clearInterval(C),p.session.removeMarker(y),y=null,p.selection.fromOrientedRange(b),p.isFocused()&&!P&&p.$resetCursorStyle(),b=null,T=null,A=0,N=null,D=null,l.removeListener(document,"mousemove",W)}var z=null;function W(){z==null&&(z=setTimeout(function(){z!=null&&y&&j()},20))}function K(J){var te=J.types;return!te||Array.prototype.some.call(te,function(re){return re=="text/plain"||re=="Text"})}function X(J){var te=["copy","copymove","all","uninitialized"],re=["move","copymove","linkmove","all","uninitialized"],ae=a.isMac?J.altKey:J.ctrlKey,ie="uninitialized";try{ie=J.dataTransfer.effectAllowed.toLowerCase()}catch{}var Q="none";return ae&&te.indexOf(ie)>=0?Q="copy":re.indexOf(ie)>=0?Q="move":te.indexOf(ie)>=0&&(Q="copy"),Q}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var m=a.isWin?"default":"move";f.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(a.isIE&&this.state=="dragReady"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,m=f.inSelection(),g=f.getButton(),v=f.domEvent.detail||1;if(v===1&&g===0&&m){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),p.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var _=p.container;_.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(u.prototype);function d(f,p,m,g){return Math.sqrt(Math.pow(m-f,2)+Math.pow(g-p,2))}r.DragdropHandler=u}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,r,i){var s=t("./mouse_event").MouseEvent,l=t("../lib/event"),a=t("../lib/dom");r.addTouchListeners=function(o,h){var c="scroll",u,d,f,p,m,g,v=0,y,_=0,w=0,C=0,b,T;function A(){var I=window.navigator&&window.navigator.clipboard,O=!1,F=function(){var z=h.getCopyText(),W=h.session.getUndoManager().hasUndo();T.replaceChild(a.buildDom(O?["span",!z&&H("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],z&&H("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],z&&H("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],I&&H("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],W&&H("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],H("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],H("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),T.firstChild)},H=function(z){return h.commands.canExecute(z,h)},j=function(z){var W=z.target.getAttribute("action");if(W=="more"||!O)return O=!O,F();W=="paste"?I.readText().then(function(K){h.execCommand(W,K)}):W&&((W=="cut"||W=="copy")&&(I?I.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(W)),T.firstChild.style.display="none",O=!1,W!="openCommandPalette"&&h.focus()};T=a.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(z){c="menu",z.stopPropagation(),z.preventDefault(),h.textInput.focus()},ontouchend:function(z){z.stopPropagation(),z.preventDefault(),j(z)},onclick:j},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function k(){if(!h.getOption("enableMobileMenu")){T&&P();return}T||A();var I=h.selection.cursor,O=h.renderer.textToScreenCoordinates(I.row,I.column),F=h.renderer.textToScreenCoordinates(0,0).pageX,H=h.renderer.scrollLeft,j=h.container.getBoundingClientRect();T.style.top=O.pageY-j.top-3+"px",O.pageX-j.left<j.width-70?(T.style.left="",T.style.right="10px"):(T.style.right="",T.style.left=F+H-j.left+"px"),T.style.display="",T.firstChild.style.display="none",h.on("input",P)}function P(I){T&&(T.style.display="none"),h.off("input",P)}function N(){m=null,clearTimeout(m);var I=h.selection.getRange(),O=I.contains(y.row,y.column);(I.isEmpty()||!O)&&(h.selection.moveToPosition(y),h.selection.selectWord()),c="wait",k()}function D(){m=null,clearTimeout(m),h.selection.moveToPosition(y);var I=_>=2?h.selection.getLineRange(y.row):h.session.getBracketRange(y);I&&!I.isEmpty()?h.selection.setRange(I):h.selection.selectWord(),c="wait"}l.addListener(o,"contextmenu",function(I){if(b){var O=h.textInput.getElement();O.focus()}},h),l.addListener(o,"touchstart",function(I){var O=I.touches;if(m||O.length>1){clearTimeout(m),m=null,f=-1,c="zoom";return}b=h.$mouseHandler.isMousePressed=!0;var F=h.renderer.layerConfig.lineHeight,H=h.renderer.layerConfig.lineHeight,j=I.timeStamp;p=j;var z=O[0],W=z.clientX,K=z.clientY;Math.abs(u-W)+Math.abs(d-K)>F&&(f=-1),u=I.clientX=W,d=I.clientY=K,w=C=0;var X=new s(I,h);if(y=X.getDocumentPosition(),j-f<500&&O.length==1&&!v)_++,I.preventDefault(),I.button=0,D();else{_=0;var J=h.selection.cursor,te=h.selection.isEmpty()?J:h.selection.anchor,re=h.renderer.$cursorLayer.getPixelPosition(J,!0),ae=h.renderer.$cursorLayer.getPixelPosition(te,!0),ie=h.renderer.scroller.getBoundingClientRect(),Q=h.renderer.layerConfig.offset,se=h.renderer.scrollLeft,de=function(ye,_e){return ye=ye/H,_e=_e/F-.75,ye*ye+_e*_e};if(I.clientX<ie.left){c="zoom";return}var xe=de(I.clientX-ie.left-re.left+se,I.clientY-ie.top-re.top+Q),ne=de(I.clientX-ie.left-ae.left+se,I.clientY-ie.top-ae.top+Q);xe<3.5&&ne<3.5&&(c=xe>ne?"cursor":"anchor"),ne<3.5?c="anchor":xe<3.5?c="cursor":c="scroll",m=setTimeout(N,450)}f=j},h),l.addListener(o,"touchend",function(I){b=h.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),c=="zoom"?(c="",v=0):m?(h.selection.moveToPosition(y),v=0,k()):c=="scroll"?(L(),P()):k(),clearTimeout(m),m=null},h),l.addListener(o,"touchmove",function(I){m&&(clearTimeout(m),m=null);var O=I.touches;if(!(O.length>1||c=="zoom")){var F=O[0],H=u-F.clientX,j=d-F.clientY;if(c=="wait")if(H*H+j*j>4)c="cursor";else return I.preventDefault();u=F.clientX,d=F.clientY,I.clientX=F.clientX,I.clientY=F.clientY;var z=I.timeStamp,W=z-p;if(p=z,c=="scroll"){var K=new s(I,h);K.speed=1,K.wheelX=H,K.wheelY=j,10*Math.abs(H)<Math.abs(j)&&(H=0),10*Math.abs(j)<Math.abs(H)&&(j=0),W!=0&&(w=H/W,C=j/W),h._emit("mousewheel",K),K.propagationStopped||(w=C=0)}else{var X=new s(I,h),J=X.getDocumentPosition();c=="cursor"?h.selection.moveCursorToPosition(J):c=="anchor"&&h.selection.setSelectionAnchor(J.row,J.column),h.renderer.scrollCursorIntoView(J),I.preventDefault()}}},h);function L(){v+=60,g=setInterval(function(){v--<=0&&(clearInterval(g),g=null),Math.abs(w)<.01&&(w=0),Math.abs(C)<.01&&(C=0),v<20&&(w=.9*w),v<20&&(C=.9*C);var I=h.session.getScrollTop();h.renderer.scrollBy(10*w,10*C),I==h.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,r,i){var s=t("../lib/event"),l=t("../lib/useragent"),a=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,h=t("./mouse_event").MouseEvent,c=t("./dragdrop_handler").DragdropHandler,u=t("./touch_handler").addTouchListeners,d=t("../config"),f=(function(){function p(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var g=this;this.editor=m,new a(this),new o(this),new c(this);var v=function(w){var C=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());C&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},y=m.renderer.getMouseEventTarget();s.addListener(y,"click",this.onMouseEvent.bind(this,"click"),m),s.addListener(y,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),s.addMultiMouseDownListener([y,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),s.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),u(m.container,m);var _=m.renderer.$gutter;s.addListener(_,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),s.addListener(_,"click",this.onMouseEvent.bind(this,"gutterclick"),m),s.addListener(_,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),s.addListener(_,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),s.addListener(y,"mousedown",v,m),s.addListener(_,"mousedown",v,m),l.isIE&&m.renderer.scrollBarV&&(s.addListener(m.renderer.scrollBarV.element,"mousedown",v,m),s.addListener(m.renderer.scrollBarH.element,"mousedown",v,m)),m.on("mousemove",function(w){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var C=m.renderer.screenToTextCoordinates(w.x,w.y),b=m.session.selection.getRange(),T=m.renderer;!b.isEmpty()&&b.insideStart(C.row,C.column)?T.setCursorStyle("default"):T.setCursorStyle("")}},m)}return p.prototype.onMouseEvent=function(m,g){this.editor.session&&this.editor._emit(m,new h(g,this.editor))},p.prototype.onMouseMove=function(m,g){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(m,new h(g,this.editor))},p.prototype.onMouseWheel=function(m,g){var v=new h(g,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=g.wheelX,v.wheelY=g.wheelY,this.editor._emit(m,v)},p.prototype.setState=function(m){this.state=m},p.prototype.captureMouse=function(m,g){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var v=this.editor,y=this.editor.renderer;y.$isMousePressed=!0;var _=this,w=!0,C=function(P){if(P){if(l.isWebKit&&!P.which&&_.releaseMouse)return _.releaseMouse();_.x=P.clientX,_.y=P.clientY,g&&g(P),_.mouseEvent=new h(P,_.editor),_.$mouseMoved=!0}},b=function(P){v.off("beforeEndOperation",k),w=!1,v.session&&T(),_[_.state+"End"]&&_[_.state+"End"](P),_.state="",_.isMousePressed=y.$isMousePressed=!1,y.$keepTextAreaAtCursor&&y.$moveTextAreaToCursor(),_.$onCaptureMouseMove=_.releaseMouse=null,P&&_.onMouseEvent("mouseup",P),v.endOperation()},T=function(){_[_.state]&&_[_.state](),_.$mouseMoved=!1},A=function(){w&&(T(),s.nextFrame(A))};if(l.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){b(m)});var k=function(P){_.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(_[_.state+"End"]&&_[_.state+"End"](),_.state="",_.releaseMouse())};v.on("beforeEndOperation",k),v.startOperation({command:{name:"mouse"}}),_.$onCaptureMouseMove=C,_.releaseMouse=s.capture(this.editor.container,C,b),A()},p.prototype.cancelContextMenu=function(){var m=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),g&&g.domEvent&&s.stopEvent(g.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse(),this.$tooltip&&this.$tooltip.destroy()},p})();f.prototype.releaseMouse=null,d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0}}),r.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,r,i){var s=t("../lib/dom"),l=(function(){function a(o){o.on("click",function(h){var c=h.getDocumentPosition(),u=o.session,d=u.getFoldAt(c.row,c.column,1);d&&(h.getAccelKey()?u.removeFold(d):u.expandFold(d),h.stop());var f=h.domEvent&&h.domEvent.target;f&&s.hasCssClass(f,"ace_inline_button")&&s.hasCssClass(f,"ace_toggle_wrap")&&(u.setOption("wrap",!u.getUseWrapMode()),o.renderer.scrollCursorIntoView())}),o.on("gutterclick",function(h){var c=o.renderer.$gutterLayer.getRegion(h);if(c=="foldWidgets"){var u=h.getDocumentPosition().row,d=o.session;d.foldWidgets&&d.foldWidgets[u]&&o.session.onFoldWidgetClick(u,h),o.isFocused()||o.focus(),h.stop()}}),o.on("gutterdblclick",function(h){var c=o.renderer.$gutterLayer.getRegion(h);if(c=="foldWidgets"){var u=h.getDocumentPosition().row,d=o.session,f=d.getParentFoldRangeData(u,!0),p=f.range||f.firstRange;if(p){u=p.start.row;var m=d.getFoldAt(u,d.getLine(u).length,1);m?d.removeFold(m):(d.addFold("...",p),o.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}h.stop()}})}return a})();r.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,r,i){var s=t("../lib/keys"),l=t("../lib/event"),a=(function(){function o(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)}return o.prototype.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},o.prototype.setKeyboardHandler=function(h){var c=this.$handlers;if(c[c.length-1]!=h){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(h,1)}},o.prototype.addKeyboardHandler=function(h,c){if(h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var u=this.$handlers.indexOf(h);u!=-1&&this.$handlers.splice(u,1),c==null?this.$handlers.push(h):this.$handlers.splice(c,0,h),u==-1&&h.attach&&h.attach(this.$editor)}},o.prototype.removeKeyboardHandler=function(h){var c=this.$handlers.indexOf(h);return c==-1?!1:(this.$handlers.splice(c,1),h.detach&&h.detach(this.$editor),!0)},o.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},o.prototype.getStatusText=function(){var h=this.$data,c=h.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(c,h)||""}).filter(Boolean).join(" ")},o.prototype.$callKeyboardHandlers=function(h,c,u,d){for(var f,p=!1,m=this.$editor.commands,g=this.$handlers.length;g--&&(f=this.$handlers[g].handleKeyboard(this.$data,h,c,u,d),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=m.exec(f.command,this.$editor,f.args,d),p&&d&&h!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&l.stopEvent(d),p))););return!p&&h==-1&&(f={command:"insertstring"},p=m.exec("insertstring",this.$editor,c)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},o.prototype.onCommandKey=function(h,c,u){var d=s.keyCodeToString(u);return this.$callKeyboardHandlers(c,d,u,h)},o.prototype.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)},o})();r.KeyBinding=a}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,r,i){var s=0,l=0,a=!1,o=!1,h=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,p=0,m=1,g=2,v=3,y=4,_=5,w=6,C=7,b=8,T=9,A=10,k=11,P=12,N=13,D=14,L=15,I=16,O=17,F=18,H=[F,F,F,F,F,F,F,F,F,w,_,w,b,_,F,F,F,F,F,F,F,F,F,F,F,F,F,F,_,_,_,w,b,y,y,k,k,k,y,y,y,y,y,A,T,A,T,T,g,g,g,g,g,g,g,g,g,g,T,y,y,y,y,y,y,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,y,y,y,y,y,y,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,y,y,y,y,F,F,F,F,F,F,_,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,T,y,k,k,k,k,y,y,y,y,p,y,y,F,y,y,k,k,g,g,y,p,y,y,y,g,p,y,y,y,y,y],j=[b,b,b,b,b,b,b,b,b,b,b,F,F,F,p,m,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,b,_,N,D,L,I,O,T,k,k,k,k,k,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,T,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,b];function z(J,te,re,ae){var ie=s?u:c,Q=null,se=null,de=null,xe=0,ne=null,ye=null,_e=-1,Ae=null,Te=null,ze=[];if(!ae)for(Ae=0,ae=[];Ae<re;Ae++)ae[Ae]=X(J[Ae]);for(l=s,a=!1,o=!1,h=!1,Te=0;Te<re;Te++){if(Q=xe,ze[Te]=se=K(J,ae,ze,Te),xe=ie[Q][se],ne=xe&240,xe&=15,te[Te]=de=ie[xe][5],ne>0)if(ne==16){for(Ae=_e;Ae<Te;Ae++)te[Ae]=1;_e=-1}else _e=-1;if(ye=ie[xe][6],ye)_e==-1&&(_e=Te);else if(_e>-1){for(Ae=_e;Ae<Te;Ae++)te[Ae]=de;_e=-1}ae[Te]==_&&(te[Te]=0),l|=de}if(h){for(Ae=0;Ae<re;Ae++)if(ae[Ae]==w){te[Ae]=s;for(var tt=Ae-1;tt>=0&&ae[tt]==b;tt--)te[tt]=s}}}function W(J,te,re){if(!(l<J)){if(J==1&&s==f&&!o){re.reverse();return}for(var ae=re.length,ie=0,Q,se,de,xe;ie<ae;){if(te[ie]>=J){for(Q=ie+1;Q<ae&&te[Q]>=J;)Q++;for(se=ie,de=Q-1;se<de;se++,de--)xe=re[se],re[se]=re[de],re[de]=xe;ie=Q}ie++}}}function K(J,te,re,ae){var ie=te[ae],Q,se,de,xe;switch(ie){case p:case m:a=!1;case y:case v:return ie;case g:return a?v:g;case C:return a=!0,m;case b:return y;case T:return ae<1||ae+1>=te.length||(Q=re[ae-1])!=g&&Q!=v||(se=te[ae+1])!=g&&se!=v?y:(a&&(se=v),se==Q?se:y);case A:return Q=ae>0?re[ae-1]:_,Q==g&&ae+1<te.length&&te[ae+1]==g?g:y;case k:if(ae>0&&re[ae-1]==g)return g;if(a)return y;for(xe=ae+1,de=te.length;xe<de&&te[xe]==k;)xe++;return xe<de&&te[xe]==g?g:y;case P:for(de=te.length,xe=ae+1;xe<de&&te[xe]==P;)xe++;if(xe<de){var ne=J[ae],ye=ne>=1425&&ne<=2303||ne==64286;if(Q=te[xe],ye&&(Q==m||Q==C))return m}return ae<1||(Q=te[ae-1])==_?y:re[ae-1];case _:return a=!1,o=!0,s;case w:return h=!0,y;case N:case D:case I:case O:case L:a=!1;case F:return y}}function X(J){var te=J.charCodeAt(0),re=te>>8;return re==0?te>191?p:H[te]:re==5?/[\u0591-\u05f4]/.test(J)?m:p:re==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(J)?P:/[\u0660-\u0669\u066b-\u066c]/.test(J)?v:te==1642?k:/[\u06f0-\u06f9]/.test(J)?g:C:re==32&&te<=8287?j[te&255]:re==254&&te>=65136?C:y}r.L=p,r.R=m,r.EN=g,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="",r.doBidiReorder=function(J,te,re){if(J.length<2)return{};var ae=J.split(""),ie=new Array(ae.length),Q=new Array(ae.length),se=[];s=re?f:d,z(ae,se,ae.length,te);for(var de=0;de<ie.length;ie[de]=de,de++);W(2,se,ie),W(1,se,ie);for(var de=0;de<ie.length-1;de++)te[de]===v?se[de]=r.AN:se[de]===m&&(te[de]>C&&te[de]<N||te[de]===y||te[de]===F)?se[de]=r.ON_R:de>0&&ae[de-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(ae[de])&&(se[de-1]=se[de]=r.R_H,de++);ae[ae.length-1]===r.DOT&&(se[ae.length-1]=r.B),ae[0]===""&&(se[0]=r.RLE);for(var de=0;de<ie.length;de++)Q[de]=se[ie[de]];return{logicalFromVisual:ie,bidiLevels:Q}},r.hasBidiCharacters=function(J,te){for(var re=!1,ae=0;ae<J.length;ae++)te[ae]=X(J.charAt(ae)),!re&&(te[ae]==m||te[ae]==C||te[ae]==v)&&(re=!0);return re},r.getVisualFromLogicalIdx=function(J,te){for(var re=0;re<te.logicalFromVisual.length;re++)if(te.logicalFromVisual[re]==J)return re;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,r,i){var s=t("./lib/bidiutil"),l=t("./lib/lang"),a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=(function(){function h(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=s,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=a.test(c.getValue())}return h.prototype.isBidiRow=function(c,u,d){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(u,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},h.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&a.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},h.prototype.getDocumentRow=function(){var c=0,u=this.session.$screenRowCache;if(u.length){var d=this.session.$getRowCacheIndex(u,this.currentRow);d>=0&&(c=this.session.$docRowCache[d])}return c},h.prototype.getSplitIndex=function(){var c=0,u=this.session.$screenRowCache;if(u.length)for(var d,f=this.session.$getRowCacheIndex(u,this.currentRow);this.currentRow-c>0&&(d=this.session.$getRowCacheIndex(u,this.currentRow-c-1),d===f);)f=d,c++;else c=this.currentRow;return c},h.prototype.updateRowLine=function(c,u){c===void 0&&(c=this.getDocumentRow());var d=c===this.session.getLength()-1,f=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[c];p&&(u===void 0&&(u=this.getSplitIndex()),u>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[s.L],this.line=u<p.length?this.line.substring(p[u-1],p[u]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[u]),u==p.length&&(this.line+=this.showInvisibles?f:s.DOT))}else this.line+=this.showInvisibles?f:s.DOT;var m=this.session,g=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,_){return y==="	"||m.isFullWidth(y.charCodeAt(0))?(v=y==="	"?m.getScreenTabSize(_+g):2,g+=v-1,l.stringRepeat(s.DOT,v)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==s.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},h.prototype.updateBidiMap=function(){var c=[];s.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=s.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},h.prototype.markAsDirty=function(){this.currentRow=null},h.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var u=this.characterWidth=c.$characterSize.width,d=c.$measureCharWidth("");this.charWidths[s.L]=this.charWidths[s.EN]=this.charWidths[s.ON_R]=u,this.charWidths[s.R]=this.charWidths[s.AN]=d,this.charWidths[s.R_H]=d*.45,this.charWidths[s.B]=this.charWidths[s.RLE]=0,this.currentRow=null}},h.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},h.prototype.setEolChar=function(c){this.EOL=c},h.prototype.setContentWidth=function(c){this.contentWidth=c},h.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},h.prototype.setRtlDirection=function(c,u){for(var d=c.getCursorPosition(),f=c.selection.getSelectionAnchor().row;f<=d.row;f++)!u&&c.session.getLine(f).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(f,0,1):u&&c.session.getLine(f).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:f},c.session.$bidiHandler.RLE)},h.prototype.getPosLeft=function(c){c-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,d=c>u?this.session.getOverwrite()?c:c-1:u,f=s.getVisualFromLogicalIdx(d,this.bidiMap),p=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=u&&p[f]%2!==0&&f++;for(var g=0;g<f;g++)m+=this.charWidths[p[g]];return!this.session.getOverwrite()&&c>u&&p[f]%2===0&&(m+=this.charWidths[p[f]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},h.prototype.getSelections=function(c,u){var d=this.bidiMap,f=d.bidiLevels,p,m=[],g=0,v=Math.min(c,u)-this.wrapIndent,y=Math.max(c,u)-this.wrapIndent,_=!1,w=!1,C=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var b,T=0;T<f.length;T++)b=d.logicalFromVisual[T],p=f[T],_=b>=v&&b<y,_&&!w?C=g:!_&&w&&m.push({left:C,width:g-C}),g+=this.charWidths[p],w=_;if(_&&T===f.length&&m.push({left:C,width:g-C}),this.isRtlDir)for(var A=0;A<m.length;A++)m[A].left+=this.rtlLineOffset;return m},h.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var u=0,d=Math.max(d,0),f=0,p=0,m=this.bidiMap.bidiLevels,g=this.charWidths[m[p]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>f+g/2;){if(f+=g,p===m.length-1){g=0;break}g=this.charWidths[m[++p]]}return p>0&&m[p-1]%2!==0&&m[p]%2===0?(d<f&&p--,u=this.bidiMap.logicalFromVisual[p]):p>0&&m[p-1]%2===0&&m[p]%2!==0?u=1+(d>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===m.length-1&&g===0&&m[p-1]%2===0||!this.isRtlDir&&p===0&&m[p]%2!==0?u=1+this.bidiMap.logicalFromVisual[p]:(p>0&&m[p-1]%2!==0&&g!==0&&p--,u=this.bidiMap.logicalFromVisual[p]),u===0&&this.isRtlDir&&u++,u+this.wrapIndent},h})();r.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,r,i){var s=t("./lib/oop"),l=t("./lib/lang"),a=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,h=(function(){function c(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(f){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(u,d){this.$isEmpty=!1,this.anchor.setPosition(u,d)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var u=this.anchor,d=this.lead;return u.row>d.row||u.row==d.row&&u.column>d.column},c.prototype.getRange=function(){var u=this.anchor,d=this.lead;return this.$isEmpty?o.fromPoints(d,d):this.isBackwards()?o.fromPoints(d,u):o.fromPoints(u,d)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(u,d){var f=d?u.end:u.start,p=d?u.start:u.end;this.$setSelection(f.row,f.column,p.row,p.column)},c.prototype.$setSelection=function(u,d,f,p){if(!this.$silent){var m=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,d),this.cursor.setPosition(f,p),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||g)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(u){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),u.call(this)},c.prototype.selectTo=function(u,d){this.$moveSelection(function(){this.moveCursorTo(u,d)})},c.prototype.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},c.prototype.moveTo=function(u,d){this.clearSelection(),this.moveCursorTo(u,d)},c.prototype.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(u,d){if(typeof d>"u"){var f=u||this.lead;u=f.row,d=f.column}return this.session.getWordRange(u,d)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var u=this.getCursor(),d=this.session.getAWordRange(u.row,u.column);this.setSelectionRange(d)},c.prototype.getLineRange=function(u,d){var f=typeof u=="number"?u:this.lead.row,p,m=this.session.getFoldLine(f);return m?(f=m.start.row,p=m.end.row):p=f,d===!0?new o(f,0,p,this.session.getLine(p).length):new o(f,0,p+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(u,d,f){var p=u.column,m=u.column+d;return f<0&&(p=u.column-d,m=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(p,m).split(" ").length-1==d},c.prototype.moveCursorLeft=function(){var u=this.lead.getPosition(),d;if(d=this.session.getFoldAt(u.row,u.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(u.column===0)u.row>0&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(u,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var u=this.lead.getPosition(),d;if(d=this.session.getFoldAt(u.row,u.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),u=this.lead;this.wouldMoveIntoSoftTab(u,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var u=this.lead.row,d=this.lead.column,f=this.session.documentToScreenRow(u,d),p=this.session.screenToDocumentPosition(f,0),m=this.session.getDisplayLine(u,null,p.row,p.column),g=m.match(/^\s*/);g[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(p.column+=g[0].length),this.moveCursorToPosition(p)},c.prototype.moveCursorLineEnd=function(){var u=this.lead,d=this.session.getDocumentLastRowColumnPosition(u.row,u.column);if(this.lead.column==d.column){var f=this.session.getLine(d.row);if(d.column==f.length){var p=f.search(/\s+$/);p>0&&(d.column=p)}}this.moveCursorTo(d.row,d.column)},c.prototype.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,d=this.doc.getLine(u).length;this.moveCursorTo(u,d)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var u=this.lead.row,d=this.lead.column,f=this.doc.getLine(u),p=f.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(u,d,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(p)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(d)),d>=f.length){this.moveCursorTo(u,f.length),this.moveCursorRight(),u<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,d)},c.prototype.moveCursorLongWordLeft=function(){var u=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(u,d,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(u,d,-1);p==null&&(p=this.doc.getLine(u).substring(0,d));var m=l.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(d-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(u,0),this.moveCursorLeft(),u>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,d)},c.prototype.$shortWordEndIndex=function(u){var d=0,f,p=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(u))d=this.session.tokenRe.lastIndex;else{for(;(f=u[d])&&p.test(f);)d++;if(d<1){for(m.lastIndex=0;(f=u[d])&&!m.test(f);)if(m.lastIndex=0,d++,p.test(f))if(d>2){d--;break}else{for(;(f=u[d])&&p.test(f);)d++;if(d>2)break}}}return m.lastIndex=0,d},c.prototype.moveCursorShortWordRight=function(){var u=this.lead.row,d=this.lead.column,f=this.doc.getLine(u),p=f.substring(d),m=this.session.getFoldAt(u,d,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(d==f.length){var g=this.doc.getLength();do u++,p=this.doc.getLine(u);while(u<g&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),d=0}var v=this.$shortWordEndIndex(p);this.moveCursorTo(u,d+v)},c.prototype.moveCursorShortWordLeft=function(){var u=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(u,d,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(u).substring(0,d);if(d===0){do u--,p=this.doc.getLine(u);while(u>0&&/^\s*$/.test(p));d=p.length,/\s+$/.test(p)||(p="")}var m=l.stringReverse(p),g=this.$shortWordEndIndex(m);return this.moveCursorTo(u,d-g)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(u,d){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(d===0&&(u!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),u!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];u<0?u-=m.rowsAbove||0:u>0&&(u+=m.rowCount-(m.rowsAbove||0))}var g=this.session.screenToDocumentPosition(f.row+u,f.column,p);u!==0&&d===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+d,d===0)},c.prototype.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},c.prototype.moveCursorTo=function(u,d,f){var p=this.session.getFoldAt(u,d,1);p&&(u=p.start.row,d=p.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(u);/[\uDC00-\uDFFF]/.test(m.charAt(d))&&m.charAt(d-1)&&(this.lead.row==u&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(u,d),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(u,d,f){var p=this.session.screenToDocumentPosition(u,d);this.moveCursorTo(p.row,p.column,f)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(u){var d=this.getRange();return u?(u.start.column=d.start.column,u.start.row=d.start.row,u.end.column=d.end.column,u.end.row=d.end.row):u=d,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},c.prototype.getRangeOfMovements=function(u){var d=this.getCursor();try{u(this);var f=this.getCursor();return o.fromPoints(d,f)}catch{return o.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},c.prototype.toJSON=function(){if(this.rangeCount)var u=this.ranges.map(function(d){var f=d.clone();return f.isBackwards=d.cursor==d.start,f});else{var u=this.getRange();u.isBackwards=this.isBackwards()}return u},c.prototype.fromJSON=function(u){if(u.start==null)if(this.rangeList&&u.length>1){this.toSingleRange(u[0]);for(var d=u.length;d--;){var f=o.fromPoints(u[d].start,u[d].end);u[d].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else u=u[0];this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},c.prototype.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(u[d]))return!1;return!0},c})();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,s.implement(h.prototype,a),r.Selection=h}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(t,r,i){var s=t("./lib/report_error").reportError,l=2e3,a=(function(){function o(h){this.splitRegex,this.states=h,this.regExps={},this.matchMappings={};for(var c in this.states){for(var u=this.states[c],d=[],f=0,p=this.matchMappings[c]={defaultToken:"text"},m="g",g=[],v=0;v<u.length;v++){var y=u[v];if(y.defaultToken&&(p.defaultToken=y.defaultToken),y.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),y.unicode&&m.indexOf("u")===-1&&(m+="u"),y.regex!=null){y.regex instanceof RegExp&&(y.regex=y.regex.toString().slice(1,-1));var _=y.regex,w=new RegExp("(?:("+_+")|(.))").exec("a").length-2;Array.isArray(y.token)?y.token.length==1||w==1?y.token=y.token[0]:w-1!=y.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:y,groupCount:w-1}),y.token=y.token[0]):(y.tokenArray=y.token,y.token=null,y.onMatch=this.$arrayTokens):typeof y.token=="function"&&!y.onMatch&&(w>1?y.onMatch=this.$applyToken:y.onMatch=y.token),w>1&&(/\\\d/.test(y.regex)?_=y.regex.replace(/\\([0-9]+)/g,function(C,b){return"\\"+(parseInt(b,10)+f+1)}):(w=1,_=this.removeCapturingGroups(y.regex)),!y.splitRegex&&typeof y.token!="string"&&g.push(y)),p[f]=v,f+=w,d.push(_),y.onMatch||(y.onMatch=null)}}d.length||(p[0]=0,d.push("$")),g.forEach(function(C){C.splitRegex=this.createSplitterRegexp(C.regex,m)},this),this.regExps[c]=new RegExp("("+d.join(")|(")+")|($)",m)}}return o.prototype.$setMaxTokenCount=function(h){l=h|0},o.prototype.$applyToken=function(h){var c=this.splitRegex.exec(h).slice(1),u=this.token.apply(this,c);if(typeof u=="string")return[{type:u,value:h}];for(var d=[],f=0,p=u.length;f<p;f++)c[f]&&(d[d.length]={type:u[f],value:c[f]});return d},o.prototype.$arrayTokens=function(h){if(!h)return[];var c=this.splitRegex.exec(h);if(!c)return"text";for(var u=[],d=this.tokenArray,f=0,p=d.length;f<p;f++)c[f+1]&&(u[u.length]={type:d[f],value:c[f+1]});return u},o.prototype.removeCapturingGroups=function(h){var c=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(u,d){return d?"(?:":u});return c},o.prototype.createSplitterRegexp=function(h,c){if(h.indexOf("(?=")!=-1){var u=0,d=!1,f={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,m,g,v,y,_){return d?d=y!="]":y?d=!0:v?(u==f.stack&&(f.end=_+1,f.stack=-1),u--):g&&(u++,g.length!=1&&(f.stack=u,f.start=_)),p}),f.end!=null&&/^\)*$/.test(h.substr(f.end))&&(h=h.substring(0,f.start)+h.substr(f.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(c||"").replace("g",""))},o.prototype.getLineTokens=function(h,c){if(c&&typeof c!="string"){var u=c.slice(0);c=u[0],c==="#tmp"&&(u.shift(),c=u.shift())}else var u=[];var d=c||"start",f=this.states[d];f||(d="start",f=this.states[d]);var p=this.matchMappings[d],m=this.regExps[d];m.lastIndex=0;for(var g,v=[],y=0,_=0,w={type:null,value:""};g=m.exec(h);){var C=p.defaultToken,b=null,T=g[0],A=m.lastIndex;if(A-T.length>y){var k=h.substring(y,A-T.length);w.type==C?w.value+=k:(w.type&&v.push(w),w={type:C,value:k})}for(var P=0;P<g.length-2;P++)if(g[P+1]!==void 0){b=f[p[P]],b.onMatch?C=b.onMatch(T,d,u,h):C=b.token,b.next&&(typeof b.next=="string"?d=b.next:d=b.next(d,u),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),p=this.matchMappings[d],y=A,m=this.regExps[d],m.lastIndex=A),b.consumeLineEnd&&(y=A);break}if(T){if(typeof C=="string")(!b||b.merge!==!1)&&w.type===C?w.value+=T:(w.type&&v.push(w),w={type:C,value:T});else if(C){w.type&&v.push(w),w={type:null,value:""};for(var P=0;P<C.length;P++)v.push(C[P])}}if(y==h.length)break;if(y=A,_++>l){for(_>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:h});y<h.length;)w.type&&v.push(w),w={value:h.substring(y,y+=500),type:"overflow"};d="start",u=[];break}}return w.type&&v.push(w),u.length>1&&u[0]!==d&&u.unshift("#tmp",d),{tokens:v,state:u.length?u:d}},o})();a.prototype.reportError=s,r.Tokenizer=a}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(t,r,i){var s=t("../lib/deep_copy").deepCopy,l;l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(h,c){if(!c){for(var u in h)this.$rules[u]=h[u];return}for(var u in h){for(var d=h[u],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+u]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(h,c,u,d,f){var p=typeof h=="function"?new h().getRules():h;if(d)for(var m=0;m<d.length;m++)d[m]=c+d[m];else{d=[];for(var g in p)d.push(c+g)}if(this.addRules(p,c),u)for(var v=Array.prototype[f?"push":"unshift"],m=0;m<d.length;m++)v.apply(this.$rules[d[m]],s(u));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var a=function(h,c){return(h!="start"||c.length)&&c.unshift(this.nextState,h),this.nextState},o=function(h,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var h=0,c=this.$rules;function u(d){var f=c[d];f.processed=!0;for(var p=0;p<f.length;p++){var m=f[p],g=null;Array.isArray(m)&&(g=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var v=m.next||m.push;if(v&&Array.isArray(v)){var y=m.stateName;y||(y=m.token,typeof y!="string"&&(y=y[0]||""),c[y]&&(y+=h++)),c[y]=v,m.next=y,u(y)}else v=="pop"&&(m.next=o);if(m.push&&(m.nextState=m.next||m.push,m.next=a,delete m.push),m.rules)for(var _ in m.rules)c[_]?c[_].push&&c[_].push.apply(c[_],m.rules[_]):c[_]=m.rules[_];var w=typeof m=="string"?m:m.include;if(w&&(w==="$self"&&(w="start"),Array.isArray(w)?g=w.map(function(b){return c[b]}):g=c[w]),g){var C=[p,1].concat(g);m.noEscape&&(C=C.filter(function(b){return!b.next})),f.splice.apply(f,C),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(u,this)},this.createKeywordMapper=function(h,c,u,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(p){for(var m=h[p],g=m.split(d||"|"),v=g.length;v--;){var y=g[v];this.$keywordList.push(y),u&&(y=y.toLowerCase()),f[y]=p}},this),h=null,u?function(p){return f[p.toLowerCase()]||c}:function(p){return f[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),r.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,r,i){var s;s=function(){this.$behaviours={}},(function(){this.add=function(l,a,o){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][a]=o},this.addBehaviours=function(l){for(var a in l)for(var o in l[a])this.add(a,o,l[a][o])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,a){if(typeof l=="function")var o=new l().getBehaviours(a);else var o=l.getBehaviours(a);this.addBehaviours(o)},this.getBehaviours=function(l){if(l){for(var a={},o=0;o<l.length;o++)this.$behaviours[l[o]]&&(a[l[o]]=this.$behaviours[l[o]]);return a}else return this.$behaviours}}).call(s.prototype),r.Behaviour=s}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,r,i){var s=t("./range").Range,l=(function(){function a(o,h,c){this.$session=o,this.$row=h,this.$rowTokens=o.getTokens(h);var u=o.getTokenAt(h,c);this.$tokenIndex=u?u.index:-1}return a.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},a.prototype.stepForward=function(){this.$tokenIndex+=1;for(var o;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,o||(o=this.$session.getLength()),this.$row>=o)return this.$row=o-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentTokenRow=function(){return this.$row},a.prototype.getCurrentTokenColumn=function(){var o=this.$rowTokens,h=this.$tokenIndex,c=o[h].start;if(c!==void 0)return c;for(c=0;h>0;)h-=1,c+=o[h].value.length;return c},a.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},a.prototype.getCurrentTokenRange=function(){var o=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new s(this.$row,h,this.$row,h+o.value.length)},a})();r.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,r,i){var s=t("../../lib/oop"),l=t("../behaviour").Behaviour,a=t("../../token_iterator").TokenIterator,o=t("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u,d={},f={'"':'"',"'":"'"},p=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,d.rangeCount!=v.multiSelect.rangeCount&&(d={rangeCount:v.multiSelect.rangeCount})),d[y])return u=d[y];u=d[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(v,y,_,w){var C=v.end.row-v.start.row;return{text:_+y+w,selection:[0,v.start.column+1,C,v.end.column+(C?0:1)]}},g;g=function(v){v=v||{},this.add("braces","insertion",function(y,_,w,C,b){var T=w.getCursorPosition(),A=C.doc.getLine(T.row);if(b=="{"){p(w);var k=w.getSelectionRange(),P=C.doc.getTextRange(k),N=C.getTokenAt(T.row,T.column);if(P!==""&&P!=="{"&&w.getWrapBehavioursEnabled())return m(k,P,"{","}");if(N&&/(?:string)\.quasi|\.xml/.test(N.type)){var D=[/tag\-(?:open|name)/,/attribute\-name/];return D.some(function(z){return z.test(N.type)})||/(string)\.quasi/.test(N.type)&&N.value[T.column-N.start-1]!=="$"?void 0:(g.recordAutoInsert(w,C,"}"),{text:"{}",selection:[1,1]})}else if(g.isSaneInsertion(w,C))return/[\]\}\)]/.test(A[T.column])||w.inMultiSelectMode||v.braces?(g.recordAutoInsert(w,C,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(w,C,"{"),{text:"{",selection:[1,1]})}else if(b=="}"){p(w);var L=A.substring(T.column,T.column+1);if(L=="}"){var I=C.$findOpeningBracket("}",{column:T.column+1,row:T.row});if(I!==null&&g.isAutoInsertedClosing(T,A,b))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(b==`
`||b==`\r
`){p(w);var O="";g.isMaybeInsertedClosing(T,A)&&(O=o.stringRepeat("}",u.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var L=A.substring(T.column,T.column+1);if(L==="}"){var F=C.findMatchingBracket({row:T.row,column:T.column+1},"}");if(!F)return null;var H=this.$getIndent(C.getLine(F.row))}else if(O)var H=this.$getIndent(A);else{g.clearMaybeInsertedClosing();return}var j=H+C.getTabString();return{text:`
`+j+`
`+H+O,selection:[1,j.length,1,j.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,_,w,C,b){var T=C.doc.getTextRange(b);if(!b.isMultiLine()&&T=="{"){p(w);var A=C.doc.getLine(b.start.row),k=A.substring(b.end.column,b.end.column+1);if(k=="}")return b.end.column++,b;u.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,_,w,C,b){if(b=="("){p(w);var T=w.getSelectionRange(),A=C.doc.getTextRange(T);if(A!==""&&w.getWrapBehavioursEnabled())return m(T,A,"(",")");if(g.isSaneInsertion(w,C))return g.recordAutoInsert(w,C,")"),{text:"()",selection:[1,1]}}else if(b==")"){p(w);var k=w.getCursorPosition(),P=C.doc.getLine(k.row),N=P.substring(k.column,k.column+1);if(N==")"){var D=C.$findOpeningBracket(")",{column:k.column+1,row:k.row});if(D!==null&&g.isAutoInsertedClosing(k,P,b))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,_,w,C,b){var T=C.doc.getTextRange(b);if(!b.isMultiLine()&&T=="("){p(w);var A=C.doc.getLine(b.start.row),k=A.substring(b.start.column+1,b.start.column+2);if(k==")")return b.end.column++,b}}),this.add("brackets","insertion",function(y,_,w,C,b){if(b=="["){p(w);var T=w.getSelectionRange(),A=C.doc.getTextRange(T);if(A!==""&&w.getWrapBehavioursEnabled())return m(T,A,"[","]");if(g.isSaneInsertion(w,C))return g.recordAutoInsert(w,C,"]"),{text:"[]",selection:[1,1]}}else if(b=="]"){p(w);var k=w.getCursorPosition(),P=C.doc.getLine(k.row),N=P.substring(k.column,k.column+1);if(N=="]"){var D=C.$findOpeningBracket("]",{column:k.column+1,row:k.row});if(D!==null&&g.isAutoInsertedClosing(k,P,b))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,_,w,C,b){var T=C.doc.getTextRange(b);if(!b.isMultiLine()&&T=="["){p(w);var A=C.doc.getLine(b.start.row),k=A.substring(b.start.column+1,b.start.column+2);if(k=="]")return b.end.column++,b}}),this.add("string_dquotes","insertion",function(y,_,w,C,b){var T=C.$mode.$quotes||f;if(b.length==1&&T[b]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(b)!=-1)return;p(w);var A=b,k=w.getSelectionRange(),P=C.doc.getTextRange(k);if(P!==""&&(P.length!=1||!T[P])&&w.getWrapBehavioursEnabled())return m(k,P,A,A);if(!P){var N=w.getCursorPosition(),D=C.doc.getLine(N.row),L=D.substring(N.column-1,N.column),I=D.substring(N.column,N.column+1),O=C.getTokenAt(N.row,N.column),F=C.getTokenAt(N.row,N.column+1);if(L=="\\"&&O&&/escape/.test(O.type))return null;var H=O&&/string|escape/.test(O.type),j=!F||/string|escape/.test(F.type),z;if(I==A)z=H!==j,z&&/string\.end/.test(F.type)&&(z=!1);else{if(H&&!j||H&&j)return null;var W=C.$mode.tokenRe;W.lastIndex=0;var K=W.test(L);W.lastIndex=0;var X=W.test(I),J=C.$mode.$pairQuotesAfter,te=J&&J[A]&&J[A].test(L);if(!te&&K||X||I&&!/[\s;,.})\]\\]/.test(I))return null;var re=D[N.column-2];if(L==A&&(re==A||W.test(re)))return null;z=!0}return{text:z?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,_,w,C,b){var T=C.$mode.$quotes||f,A=C.doc.getTextRange(b);if(!b.isMultiLine()&&T.hasOwnProperty(A)){p(w);var k=C.doc.getLine(b.start.row),P=k.substring(b.start.column+1,b.start.column+2);if(P==A)return b.end.column++,b}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(y,_,w,C,b){if(y==="doc-start"&&(b===`
`||b===`\r
`)&&w.selection.isEmpty()){var T=w.getCursorPosition();if(T.column===0)return;for(var A=C.doc.getLine(T.row),k=C.doc.getLine(T.row+1),P=C.getTokens(T.row),N=0,D=0;D<P.length;D++){N+=P[D].value.length;var L=P[D];if(N>=T.column){if(N===T.column){if(!/\.doc/.test(L.type))return;if(/\*\//.test(L.value)){var I=P[D+1];if(!I||!/\.doc/.test(I.type))return}}var O=T.column-(N-L.value.length),F=L.value.indexOf("*/"),H=L.value.indexOf("/**",F>-1?F+2:0);if(H!==-1&&O>H&&O<H+3||F!==-1&&H!==-1&&O>=F&&O<=H||!/\.doc/.test(L.type))return;break}}var j=this.$getIndent(A);if(/\s*\*/.test(k))return/^\s*\*/.test(A)?{text:b+j+"* ",selection:[1,2+j.length,1,2+j.length]}:{text:b+j+" * ",selection:[1,3+j.length,1,3+j.length]};if(/\/\*\*/.test(A.substring(0,T.column)))return{text:b+j+" * "+b+" "+j+"*/",selection:[1,4+j.length,1,4+j.length]}}})},g.isSaneInsertion=function(v,y){var _=v.getCursorPosition(),w=new a(y,_.row,_.column);if(!this.$matchTokenType(w.getCurrentToken()||"text",h)){if(/[)}\]]/.test(v.session.getLine(_.row)[_.column]))return!0;var C=new a(y,_.row,_.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",h))return!1}return w.stepForward(),w.getCurrentTokenRow()!==_.row||this.$matchTokenType(w.getCurrentToken()||"text",c)},g.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},g.recordAutoInsert=function(v,y,_){var w=v.getCursorPosition(),C=y.doc.getLine(w.row);this.isAutoInsertedClosing(w,C,u.autoInsertedLineEnd[0])||(u.autoInsertedBrackets=0),u.autoInsertedRow=w.row,u.autoInsertedLineEnd=_+C.substr(w.column),u.autoInsertedBrackets++},g.recordMaybeInsert=function(v,y,_){var w=v.getCursorPosition(),C=y.doc.getLine(w.row);this.isMaybeInsertedClosing(w,C)||(u.maybeInsertedBrackets=0),u.maybeInsertedRow=w.row,u.maybeInsertedLineStart=C.substr(0,w.column)+_,u.maybeInsertedLineEnd=C.substr(w.column),u.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(v,y,_){return u.autoInsertedBrackets>0&&v.row===u.autoInsertedRow&&_===u.autoInsertedLineEnd[0]&&y.substr(v.column)===u.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(v,y){return u.maybeInsertedBrackets>0&&v.row===u.maybeInsertedRow&&y.substr(v.column)===u.maybeInsertedLineEnd&&y.substr(0,v.column)==u.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){u.autoInsertedLineEnd=u.autoInsertedLineEnd.substr(1),u.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){u&&(u.maybeInsertedBrackets=0,u.maybeInsertedRow=-1)},s.inherits(g,l),r.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(t,r,i){for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,a=[],o=0;o<s.length;o+=2)a.push(l+=s[o]),s[o+1]&&a.push(45,l+=s[o+1]);r.wordChars=String.fromCharCode.apply(null,a)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,r,i){var s=t("../config"),l=t("../tokenizer").Tokenizer,a=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,h=t("../unicode"),c=t("../lib/lang"),u=t("../token_iterator").TokenIterator,d=t("../range").Range,f;f=function(){this.HighlightRules=a},(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,g,v){var y=m.doc,_=!0,w=!0,C=1/0,b=m.getTabSize(),T=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var P=this.lineCommentStart.map(c.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var P=c.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;P=new RegExp("^(\\s*)(?:"+P+") ?"),T=m.getUseSoftTabs();var L=function(X,J){var te=X.match(P);if(te){var re=te[1].length,ae=te[0].length;!F(X,re,ae)&&te[0][ae-1]==" "&&ae--,y.removeInLine(J,re,ae)}},O=A+" ",D=function(X,J){(!_||/\S/.test(X))&&(F(X,C,C)?y.insertInLine({row:J,column:C},O):y.insertInLine({row:J,column:C},A))},I=function(X,J){return P.test(X)},F=function(X,J,te){for(var re=0;J--&&X.charAt(J)==" ";)re++;if(re%b!=0)return!1;for(var re=0;X.charAt(te++)==" ";)re++;return b>2?re%b!=b-1:re%b==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,k=this.blockComment.end,P=new RegExp("^(\\s*)(?:"+c.escapeRegExp(A)+")"),N=new RegExp("(?:"+c.escapeRegExp(k)+")\\s*$"),D=function(z,W){I(z,W)||(!_||/\S/.test(z))&&(y.insertInLine({row:W,column:z.length},k),y.insertInLine({row:W,column:C},A))},L=function(z,W){var K;(K=z.match(N))&&y.removeInLine(W,z.length-K[0].length,z.length),(K=z.match(P))&&y.removeInLine(W,K[1].length,K[0].length)},I=function(z,W){if(P.test(z))return!0;for(var K=m.getTokens(W),X=0;X<K.length;X++)if(K[X].type==="comment")return!0}}function H(z){for(var W=g;W<=v;W++)z(y.getLine(W),W)}var j=1/0;H(function(z,W){var K=z.search(/\S/);K!==-1?(K<C&&(C=K),w&&!I(z,W)&&(w=!1)):j>z.length&&(j=z.length)}),C==1/0&&(C=j,_=!1,w=!1),T&&C%b!=0&&(C=Math.floor(C/b)*b),H(w?L:D)},this.toggleBlockComment=function(p,m,g,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var _=new u(m,v.row,v.column),w=_.getCurrentToken();m.selection;var C=m.selection.toOrientedRange(),b,T;if(w&&/comment/.test(w.type)){for(var A,k;w&&/comment/.test(w.type);){var P=w.value.indexOf(y.start);if(P!=-1){var N=_.getCurrentTokenRow(),D=_.getCurrentTokenColumn()+P;A=new d(N,D,N,D+y.start.length);break}w=_.stepBackward()}for(var _=new u(m,v.row,v.column),w=_.getCurrentToken();w&&/comment/.test(w.type);){var P=w.value.indexOf(y.end);if(P!=-1){var N=_.getCurrentTokenRow(),D=_.getCurrentTokenColumn()+P;k=new d(N,D,N,D+y.end.length);break}w=_.stepForward()}k&&m.remove(k),A&&(m.remove(A),b=A.start.row,T=-y.start.length)}else T=y.start.length,b=g.start.row,m.insert(g.end,y.end),m.insert(g.start,y.start);C.start.row==b&&(C.start.column+=T),C.end.row==b&&(C.end.column+=T),m.selection.fromOrientedRange(C)}},this.getNextLineIndent=function(p,m,g){return this.$getIndent(m)},this.checkOutdent=function(p,m,g){return!1},this.autoOutdent=function(p,m,g){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var g=p[m],v=g.prototype.$id,y=s.$modes[v];y||(s.$modes[v]=y=new g),s.$modes[m]||(s.$modes[m]=y),this.$embeds.push(m),this.$modes[m]=y}for(var _=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],w=function(b){(function(T){var A=_[b],k=T[A];T[_[b]]=function(){return this.$delegator(A,arguments,k)}})(C)},C=this,m=0;m<_.length;m++)w(m)},this.$delegator=function(p,m,g){var v=m[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],_=this.$modes[y];if(_)return _[p].apply(_,[v[1]].concat([].slice.call(m,1)))}v=v[0]||"start"}for(var w=0;w<this.$embeds.length;w++)if(this.$modes[this.$embeds[w]]){var C=v.split(this.$embeds[w]);if(!C[0]&&C[1]){m[0]=C[1];var _=this.$modes[this.$embeds[w]];return _[p].apply(_,m)}}var b=g.apply(this,m);return g?b:void 0},this.transformAction=function(p,m,g,v,y){if(this.$behaviour){var _=this.$behaviour.getBehaviours();for(var w in _)if(_[w][m]){var C=_[w][m].apply(this,arguments);if(C)return C}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,g=[];for(var v in m)for(var y=m[v],_=0,w=y.length;_<w;_++)if(typeof y[_].token=="string")/keyword|support|storage/.test(y[_].token)&&g.push(y[_].regex);else if(typeof y[_].token=="object"){for(var C=0,b=y[_].token.length;C<b;C++)if(/keyword|support|storage/.test(y[_].token[C])){var v=y[_].regex.match(/\(.+?\)/g)[C];g.push(v.substr(1,v.length-2))}}this.completionKeywords=g}return p?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,g,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(_){return{name:_,value:_,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),r.Mode=f}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,r,i){var s=t("./lib/dom"),l=(function(){function a(o){this.session=o,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return a.prototype.getRowLength=function(o){var h;return this.lineWidgets?h=this.lineWidgets[o]&&this.lineWidgets[o].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[o]?1+h:this.$wrapData[o].length+1+h},a.prototype.$getWidgetScreenLength=function(){var o=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(o+=h.rowCount)}),o},a.prototype.$onChangeEditor=function(o){this.attach(o.editor)},a.prototype.attach=function(o){o&&o.widgetManager&&o.widgetManager!=this&&o.widgetManager.detach(),this.editor!=o&&(this.detach(),this.editor=o,o&&(o.widgetManager=this,o.renderer.on("beforeRender",this.measureWidgets),o.renderer.on("afterRender",this.renderWidgets)))},a.prototype.detach=function(o){var h=this.editor;if(h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(u){u&&u.el&&u.el.parentNode&&(u._inDocument=!1,u.el.parentNode.removeChild(u.el))})}},a.prototype.updateOnFold=function(o,h){var c=h.lineWidgets;if(!(!c||!o.action)){for(var u=o.data,d=u.start.row,f=u.end.row,p=o.action=="add",m=d+1;m<f;m++)c[m]&&(c[m].hidden=p);c[f]&&(p?c[d]?c[f].hidden=p:c[d]=c[f]:(c[d]==c[f]&&(c[d]=void 0),c[f].hidden=p))}},a.prototype.updateOnChange=function(o){var h=this.session.lineWidgets;if(h){var c=o.start.row,u=o.end.row-c;if(u!==0)if(o.action=="remove"){var d=h.splice(c+1,u);!h[c]&&d[d.length-1]&&(h[c]=d.pop()),d.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(u);h[c]&&h[c].column!=null&&o.start.column>h[c].column&&c++,f.unshift(c,0),h.splice.apply(h,f),this.$updateRows()}}},a.prototype.$updateRows=function(){var o=this.session.lineWidgets;if(o){var h=!0;o.forEach(function(c,u){if(c)for(h=!1,c.row=u;c.$oldWidget;)c.$oldWidget.row=u,c=c.$oldWidget}),h&&(this.session.lineWidgets=null)}},a.prototype.$registerLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[o.row];return h&&(o.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[o.row]=o,o},a.prototype.addLineWidget=function(o){if(this.$registerLineWidget(o),o.session=this.session,!this.editor)return o;var h=this.editor.renderer;o.html&&!o.el&&(o.el=s.createElement("div"),o.el.innerHTML=o.html),o.text&&!o.el&&(o.el=s.createElement("div"),o.el.textContent=o.text),o.el&&(s.addCssClass(o.el,"ace_lineWidgetContainer"),o.className&&s.addCssClass(o.el,o.className),o.el.style.position="absolute",o.el.style.zIndex="5",h.container.appendChild(o.el),o._inDocument=!0,o.coverGutter||(o.el.style.zIndex="3"),o.pixelHeight==null&&(o.pixelHeight=o.el.offsetHeight)),o.rowCount==null&&(o.rowCount=o.pixelHeight/h.layerConfig.lineHeight);var c=this.session.getFoldAt(o.row,0);if(o.$fold=c,c){var u=this.session.lineWidgets;o.row==c.end.row&&!u[c.start.row]?u[c.start.row]=o:o.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(o),o},a.prototype.removeLineWidget=function(o){if(o._inDocument=!1,o.session=null,o.el&&o.el.parentNode&&o.el.parentNode.removeChild(o.el),o.editor&&o.editor.destroy)try{o.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[o.row];if(h==o)this.session.lineWidgets[o.row]=o.$oldWidget,o.$oldWidget&&this.onWidgetChanged(o.$oldWidget);else for(;h;){if(h.$oldWidget==o){h.$oldWidget=o.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows()},a.prototype.getWidgetsAtRow=function(o){for(var h=this.session.lineWidgets,c=h&&h[o],u=[];c;)u.push(c),c=c.$oldWidget;return u},a.prototype.onWidgetChanged=function(o){this.session._changedWidgets.push(o),this.editor&&this.editor.renderer.updateFull()},a.prototype.measureWidgets=function(o,h){var c=this.session._changedWidgets,u=h.layerConfig;if(!(!c||!c.length)){for(var d=1/0,f=0;f<c.length;f++){var p=c[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,h.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/u.characterWidth));var m=p.h/u.lineHeight;p.coverLine&&(m-=this.session.getRowLineCount(p.row),m<0&&(m=0)),p.rowCount!=m&&(p.rowCount=m,p.row<d&&(d=p.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},a.prototype.renderWidgets=function(o,h){var c=h.layerConfig,u=this.session.lineWidgets;if(u){for(var d=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,u.length);d>0&&!u[d];)d--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,h.$cursorLayer.config=c;for(var p=d;p<=f;p++){var m=u[p];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,h.container.appendChild(m.el));var g=h.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;m.coverLine||(g+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=g-c.offset+"px";var v=m.coverGutter?0:h.gutterWidth;m.fixedWidth||(v-=h.scrollLeft),m.el.style.left=v+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=h.scrollBar.getWidth()+"px":m.el.style.right=""}}}},a})();r.LineWidgets=l}),ace.define("ace/apply_delta",["require","exports","module"],function(t,r,i){r.applyDelta=function(s,l,a){var o=l.start.row,h=l.start.column,c=s[o]||"";switch(l.action){case"insert":var u=l.lines;if(u.length===1)s[o]=c.substring(0,h)+l.lines[0]+c.substring(h);else{var d=[o,1].concat(l.lines);s.splice.apply(s,d),s[o]=c.substring(0,h)+s[o],s[o+l.lines.length-1]+=c.substring(h)}break;case"remove":var f=l.end.column,p=l.end.row;o===p?s[o]=c.substring(0,h)+c.substring(f):s.splice(o,p-o+1,c.substring(0,h)+s[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,i){var s=t("./lib/oop"),l=t("./lib/event_emitter").EventEmitter,a=(function(){function c(u,d,f){this.$onChange=this.onChange.bind(this),this.attach(u),typeof d!="number"?this.setPosition(d.row,d.column):this.setPosition(d,f)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row)&&!(u.start.row>this.row)){var d=h(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},c.prototype.setPosition=function(u,d,f){var p;if(f?p={row:u,column:d}:p=this.$clipPositionToDocument(u,d),!(this.row==p.row&&this.column==p.column)){var m={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:m,value:p})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(u,d){var f={};return u>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):u<0?(f.row=0,f.column=0):(f.row=u,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0),f},c})();a.prototype.$insertRight=!1,s.implement(a.prototype,l);function o(c,u,d){var f=d?c.column<=u.column:c.column<u.column;return c.row<u.row||c.row==u.row&&f}function h(c,u,d){var f=c.action=="insert",p=(f?1:-1)*(c.end.row-c.start.row),m=(f?1:-1)*(c.end.column-c.start.column),g=c.start,v=f?g:c.end;return o(u,g,d)?{row:u.row,column:u.column}:o(v,u,!d)?{row:u.row+p,column:u.column+(u.row==v.row?m:0)}:{row:g.row,column:g.column}}r.Anchor=a}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,r,i){var s=t("./lib/oop"),l=t("./apply_delta").applyDelta,a=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,h=t("./anchor").Anchor,c=(function(){function u(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return u.prototype.setValue=function(d){var f=this.getLength()-1;this.remove(new o(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},d||"")},u.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},u.prototype.createAnchor=function(d,f){return new h(this,d,f)},u.prototype.$detectNewLine=function(d){var f=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},u.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},u.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},u.prototype.getNewLineMode=function(){return this.$newLineMode},u.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},u.prototype.getLine=function(d){return this.$lines[d]||""},u.prototype.getLines=function(d,f){return this.$lines.slice(d,f+1)},u.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},u.prototype.getLength=function(){return this.$lines.length},u.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},u.prototype.getLinesForRange=function(d){var f;if(d.start.row===d.end.row)f=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{f=this.getLines(d.start.row,d.end.row),f[0]=(f[0]||"").substring(d.start.column);var p=f.length-1;d.end.row-d.start.row==p&&(f[p]=f[p].substring(0,d.end.column))}return f},u.prototype.insertLines=function(d,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,f)},u.prototype.removeLines=function(d,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,f)},u.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},u.prototype.insert=function(d,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(d,this.$split(f))},u.prototype.insertInLine=function(d,f){var p=this.clippedPos(d.row,d.column),m=this.pos(d.row,d.column+f.length);return this.applyDelta({start:p,end:m,action:"insert",lines:[f]},!0),this.clonePos(m)},u.prototype.clippedPos=function(d,f){var p=this.getLength();d===void 0?d=p:d<0?d=0:d>=p&&(d=p-1,f=void 0);var m=this.getLine(d);return f==null&&(f=m.length),f=Math.min(Math.max(f,0),m.length),{row:d,column:f}},u.prototype.clonePos=function(d){return{row:d.row,column:d.column}},u.prototype.pos=function(d,f){return{row:d,column:f}},u.prototype.$clipPosition=function(d){var f=this.getLength();return d.row>=f?(d.row=Math.max(0,f-1),d.column=this.getLine(f-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},u.prototype.insertFullLines=function(d,f){d=Math.min(Math.max(d,0),this.getLength());var p=0;d<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),d--,p=this.$lines[d].length),this.insertMergedLines({row:d,column:p},f)},u.prototype.insertMergedLines=function(d,f){var p=this.clippedPos(d.row,d.column),m={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:m,action:"insert",lines:f}),this.clonePos(m)},u.prototype.remove=function(d){var f=this.clippedPos(d.start.row,d.start.column),p=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},u.prototype.removeInLine=function(d,f,p){var m=this.clippedPos(d,f),g=this.clippedPos(d,p);return this.applyDelta({start:m,end:g,action:"remove",lines:this.getLinesForRange({start:m,end:g})},!0),this.clonePos(m)},u.prototype.removeFullLines=function(d,f){d=Math.min(Math.max(0,d),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&d>0,m=f<this.getLength()-1,g=p?d-1:d,v=p?this.getLine(g).length:0,y=m?f+1:f,_=m?0:this.getLine(y).length,w=new o(g,v,y,_),C=this.$lines.slice(d,f+1);return this.applyDelta({start:w.start,end:w.end,action:"remove",lines:this.getLinesForRange(w)}),C},u.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},u.prototype.replace=function(d,f){if(d instanceof o||(d=o.fromPoints(d.start,d.end)),f.length===0&&d.isEmpty())return d.start;if(f==this.getTextRange(d))return d.end;this.remove(d);var p;return f?p=this.insert(d.start,f):p=d.start,p},u.prototype.applyDeltas=function(d){for(var f=0;f<d.length;f++)this.applyDelta(d[f])},u.prototype.revertDeltas=function(d){for(var f=d.length-1;f>=0;f--)this.revertDelta(d[f])},u.prototype.applyDelta=function(d,f){var p=d.action=="insert";(p?d.lines.length<=1&&!d.lines[0]:!o.comparePoints(d.start,d.end))||(p&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(l(this.$lines,d,f),this._signal("change",d)))},u.prototype.$safeApplyDelta=function(d){var f=this.$lines.length;(d.action=="remove"&&d.start.row<f&&d.end.row<f||d.action=="insert"&&d.start.row<=f)&&this.applyDelta(d)},u.prototype.$splitAndapplyLargeDelta=function(d,f){for(var p=d.lines,m=p.length-f+1,g=d.start.row,v=d.start.column,y=0,_=0;y<m;y=_){_+=f-1;var w=p.slice(y,_);w.push(""),this.applyDelta({start:this.pos(g+y,v),end:this.pos(g+_,v=0),action:d.action,lines:w},!0)}d.lines=p.slice(y),d.start.row=g+y,d.start.column=v,this.applyDelta(d,!0)},u.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},u.prototype.indexToPosition=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=f||0,v=p.length;g<v;g++)if(d-=p[g].length+m,d<0)return{row:g,column:d+p[g].length+m};return{row:v-1,column:d+p[v-1].length+m}},u.prototype.positionToIndex=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=0,v=Math.min(d.row,p.length),y=f||0;y<v;++y)g+=p[y].length+m;return g+d.column},u.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},u})();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",s.implement(c.prototype,a),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,i){var s=t("./lib/oop"),l=t("./lib/event_emitter").EventEmitter,a=(function(){function o(h,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var u=this;this.$worker=function(){if(u.running){for(var d=new Date,f=u.currentLine,p=-1,m=u.doc,g=f;u.lines[f];)f++;var v=m.getLength(),y=0;for(u.running=!1;f<v;){u.$tokenizeRow(f),p=f;do f++;while(u.lines[f]);if(y++,y%5===0&&new Date-d>20){u.running=setTimeout(u.$worker,20);break}}u.currentLine=f,p==-1&&(p=f),g<=p&&u.fireUpdateEvent(g,p)}}}return o.prototype.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},o.prototype.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},o.prototype.fireUpdateEvent=function(h,c){var u={first:h,last:c};this._signal("update",{data:u})},o.prototype.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},o.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},o.prototype.$updateOnChange=function(h){var c=h.start.row,u=h.end.row-c;if(u===0)this.lines[c]=null;else if(h.action=="remove")this.lines.splice(c,u+1,null),this.states.splice(c,u+1,null);else{var d=Array(u+1);d.unshift(c,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},o.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},o.prototype.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},o.prototype.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},o.prototype.$tokenizeRow=function(h){var c=this.doc.getLine(h),u=this.states[h-1],d=this.tokenizer.getLineTokens(c,u,h);return this.states[h]+""!=d.state+""?(this.states[h]=d.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=d.tokens},o.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},o})();s.implement(a.prototype,l),r.BackgroundTokenizer=a}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(t,r,i){var s=t("./lib/lang"),l=t("./range").Range,a=(function(){function o(h,c,u){u===void 0&&(u="text"),this.setRegexp(h),this.clazz=c,this.type=u,this.docLen=0}return o.prototype.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},o.prototype.update=function(h,c,u,d){if(this.regExp){for(var f=d.firstRow,p=d.lastRow,m={},g=u.$editor&&u.$editor.$search,v=g&&g.$isMultilineSearch(u.$editor.getLastSearchOptions()),y=f;y<=p;y++){var _=this.cache[y];if(_==null||u.getValue().length!=this.docLen){if(v){_=[];var w=g.$multiLineForward(u,this.regExp,y,p);if(w){var C=w.endRow<=p?w.endRow-1:p;C>y&&(y=C),_.push(new l(w.startRow,w.startCol,w.endRow,w.endCol))}_.length>this.MAX_RANGES&&(_=_.slice(0,this.MAX_RANGES))}else _=s.getMatchOffsets(u.getLine(y),this.regExp),_.length>this.MAX_RANGES&&(_=_.slice(0,this.MAX_RANGES)),_=_.map(function(k){return new l(y,k.offset,y,k.offset+k.length)});this.cache[y]=_.length?_:""}if(_.length!==0)for(var b=_.length;b--;){var T=_[b].toScreenRange(u),A=T.toString();m[A]||(m[A]=!0,c.drawSingleLineMarker(h,T,this.clazz,d))}}this.docLen=u.getValue().length}},o})();a.prototype.MAX_RANGES=500,r.SearchHighlight=a}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,r,i){var s=(function(){function C(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return C.prototype.addSession=function(b){this.$session=b},C.prototype.add=function(b,T,A){if(!this.$fromUndo&&b!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var k=this.$undoStack.length;k>this.$undoDepth-1&&this.$undoStack.splice(0,k-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),b.id=this.$rev=++this.$maxRev}(b.action=="remove"||b.action=="insert")&&(this.$lastDelta=b),this.lastDeltas.push(b)}},C.prototype.addSelection=function(b,T){this.selections.push({value:b,rev:T||this.$rev})},C.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},C.prototype.markIgnored=function(b,T){T==null&&(T=this.$rev+1);for(var A=this.$undoStack,k=A.length;k--;){var P=A[k][0];if(P.id<=b)break;P.id<T&&(P.ignore=!0)}this.lastDeltas=null},C.prototype.getSelection=function(b,T){for(var A=this.selections,k=A.length;k--;){var P=A[k];if(P.rev<b)return T&&(P=A[k+1]),P}},C.prototype.getRevision=function(){return this.$rev},C.prototype.getDeltas=function(b,T){T==null&&(T=this.$rev+1);for(var A=this.$undoStack,k=null,P=0,N=A.length;N--;){var D=A[N][0];if(D.id<T&&!k&&(k=N+1),D.id<=b){P=N+1;break}}return A.slice(P,k)},C.prototype.getChangedRanges=function(b,T){T==null&&(T=this.$rev+1)},C.prototype.getChangedLines=function(b,T){T==null&&(T=this.$rev+1)},C.prototype.undo=function(b,T){this.lastDeltas=null;var A=this.$undoStack;if(l(A,A.length)){b||(b=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var k=A.pop(),P=null;return k&&(P=b.undoChanges(k,T),this.$redoStack.push(k),this.$syncRev()),this.$fromUndo=!1,P}},C.prototype.redo=function(b,T){if(this.lastDeltas=null,b||(b=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);w(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(N){N[0].id=++this.$maxRev},this)}var k=this.$redoStack.pop(),P=null;return k&&(P=b.redoChanges(k,T),this.$undoStack.push(k),this.$syncRev()),this.$fromUndo=!1,P},C.prototype.$syncRev=function(){var b=this.$undoStack,T=b[b.length-1],A=T&&T[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},C.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},C.prototype.canUndo=function(){return this.$undoStack.length>0},C.prototype.canRedo=function(){return this.$redoStack.length>0},C.prototype.bookmark=function(b){b==null&&(b=this.$rev),this.mark=b},C.prototype.isAtBookmark=function(){return this.$rev===this.mark},C.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},C.prototype.fromJSON=function(b){this.reset(),this.$undoStack=b.$undoStack,this.$redoStack=b.$redoStack},C.prototype.$prettyPrint=function(b){return b?u(b):u(this.$undoStack)+`
---
`+u(this.$redoStack)},C})();s.prototype.hasUndo=s.prototype.canUndo,s.prototype.hasRedo=s.prototype.canRedo,s.prototype.isClean=s.prototype.isAtBookmark,s.prototype.markClean=s.prototype.bookmark;function l(C,b){for(var T=b;T--;){var A=C[T];if(A&&!A[0].ignore){for(;T<b-1;){var k=p(C[T],C[T+1]);C[T]=k[0],C[T+1]=k[1],T++}return!0}}}var a=t("./range").Range,o=a.comparePoints;a.comparePoints;function h(C){return{row:C.row,column:C.column}}function c(C){return{start:h(C.start),end:h(C.end),action:C.action,lines:C.lines.slice()}}function u(C){if(C=C||this,Array.isArray(C))return C.map(u).join(`
`);var b="";return C.action?(b=C.action=="insert"?"+":"-",b+="["+C.lines+"]"):C.value&&(Array.isArray(C.value)?b=C.value.map(d).join(`
`):b=d(C.value)),C.start&&(b+=d(C)),(C.id||C.rev)&&(b+="	("+(C.id||C.rev)+")"),b}function d(C){return C.start.row+":"+C.start.column+"=>"+C.end.row+":"+C.end.column}function f(C,b){var T=C.action=="insert",A=b.action=="insert";if(T&&A)if(o(b.start,C.end)>=0)g(b,C,-1);else if(o(b.start,C.start)<=0)g(C,b,1);else return null;else if(T&&!A)if(o(b.start,C.end)>=0)g(b,C,-1);else if(o(b.end,C.start)<=0)g(C,b,-1);else return null;else if(!T&&A)if(o(b.start,C.start)>=0)g(b,C,1);else if(o(b.start,C.start)<=0)g(C,b,1);else return null;else if(!T&&!A)if(o(b.start,C.start)>=0)g(b,C,1);else if(o(b.end,C.start)<=0)g(C,b,-1);else return null;return[b,C]}function p(C,b){for(var T=C.length;T--;)for(var A=0;A<b.length;A++)if(!f(C[T],b[A])){for(;T<C.length;){for(;A--;)f(b[A],C[T]);A=b.length,T++}return[C,b]}return C.selectionBefore=b.selectionBefore=C.selectionAfter=b.selectionAfter=null,[b,C]}function m(C,b){var T=C.action=="insert",A=b.action=="insert";if(T&&A)o(C.start,b.start)<0?g(b,C,1):g(C,b,1);else if(T&&!A)o(C.start,b.end)>=0?g(C,b,-1):(o(C.start,b.start)<=0||g(C,a.fromPoints(b.start,C.start),-1),g(b,C,1));else if(!T&&A)o(b.start,C.end)>=0?g(b,C,-1):(o(b.start,C.start)<=0||g(b,a.fromPoints(C.start,b.start),-1),g(C,b,1));else if(!T&&!A)if(o(b.start,C.end)>=0)g(b,C,-1);else if(o(b.end,C.start)<=0)g(C,b,-1);else{var k,P;return o(C.start,b.start)<0&&(k=C,C=y(C,b.start)),o(C.end,b.end)>0&&(P=y(C,b.end)),v(b.end,C.start,C.end,-1),P&&!k&&(C.lines=P.lines,C.start=P.start,C.end=P.end,P=C),[b,k,P].filter(Boolean)}return[b,C]}function g(C,b,T){v(C.start,b.start,b.end,T),v(C.end,b.start,b.end,T)}function v(C,b,T,A){C.row==(A==1?b:T).row&&(C.column+=A*(T.column-b.column)),C.row+=A*(T.row-b.row)}function y(C,b){var T=C.lines,A=C.end;C.end=h(b);var k=C.end.row-C.start.row,P=T.splice(k,T.length),N=k?b.column:b.column-C.start.column;T.push(P[0].substring(0,N)),P[0]=P[0].substr(N);var D={start:h(b),end:A,lines:P,action:C.action};return D}function _(C,b){b=c(b);for(var T=C.length;T--;){for(var A=C[T],k=0;k<A.length;k++){var P=A[k],N=m(P,b);b=N[0],N.length!=2&&(N[2]?(A.splice(k+1,1,N[1],N[2]),k++):N[1]||(A.splice(k,1),k--))}A.length||C.splice(T,1)}return C}function w(C,b){for(var T=0;T<b.length;T++)for(var A=b[T],k=0;k<A.length;k++)_(C,A[k])}r.UndoManager=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=(function(){function a(o,h){this.foldData=o,Array.isArray(h)?this.folds=h:h=this.folds=[h];var c=h[h.length-1];this.range=new s(h[0].start.row,h[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(u){u.setFoldLine(this)},this)}return a.prototype.shiftRow=function(o){this.start.row+=o,this.end.row+=o,this.folds.forEach(function(h){h.start.row+=o,h.end.row+=o})},a.prototype.addFold=function(o){if(o.sameRow){if(o.start.row<this.startRow||o.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(o),this.folds.sort(function(h,c){return-h.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(o.start.row,o.start.column)>0?(this.end.row=o.end.row,this.end.column=o.end.column):this.range.compareStart(o.end.row,o.end.column)<0&&(this.start.row=o.start.row,this.start.column=o.start.column)}else if(o.start.row==this.end.row)this.folds.push(o),this.end.row=o.end.row,this.end.column=o.end.column;else if(o.end.row==this.start.row)this.folds.unshift(o),this.start.row=o.start.row,this.start.column=o.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");o.foldLine=this},a.prototype.containsRow=function(o){return o>=this.start.row&&o<=this.end.row},a.prototype.walk=function(o,h,c){var u=0,d=this.folds,f,p,m,g=!0;h==null&&(h=this.end.row,c=this.end.column);for(var v=0;v<d.length;v++){if(f=d[v],p=f.range.compareStart(h,c),p==-1){o(null,h,c,u,g);return}if(m=o(null,f.start.row,f.start.column,u,g),m=!m&&o(f.placeholder,f.start.row,f.start.column,u),m||p===0)return;g=!f.sameRow,u=f.end.column}o(null,h,c,u,g)},a.prototype.getNextFoldTo=function(o,h){for(var c,u,d=0;d<this.folds.length;d++){if(c=this.folds[d],u=c.range.compareEnd(o,h),u==-1)return{fold:c,kind:"after"};if(u===0)return{fold:c,kind:"inside"}}return null},a.prototype.addRemoveChars=function(o,h,c){var u=this.getNextFoldTo(o,h),d,f;if(u){if(d=u.fold,u.kind=="inside"&&d.start.column!=h&&d.start.row!=o)window.console&&window.console.log(o,h,d);else if(d.start.row==o){f=this.folds;var p=f.indexOf(d);for(p===0&&(this.start.column+=c),p;p<f.length;p++){if(d=f[p],d.start.column+=c,!d.sameRow)return;d.end.column+=c}this.end.column+=c}}},a.prototype.split=function(o,h){var c=this.getNextFoldTo(o,h);if(!c||c.kind=="inside")return null;var u=c.fold,d=this.folds,f=this.foldData,p=d.indexOf(u),m=d[p-1];this.end.row=m.end.row,this.end.column=m.end.column,d=d.splice(p,d.length-p);var g=new a(f,d);return f.splice(f.indexOf(this)+1,0,g),g},a.prototype.merge=function(o){for(var h=o.folds,c=0;c<h.length;c++)this.addFold(h[c]);var u=this.foldData;u.splice(u.indexOf(o),1)},a.prototype.toString=function(){var o=[this.range.toString()+": ["];return this.folds.forEach(function(h){o.push("  "+h.toString())}),o.push("]"),o.join(`
`)},a.prototype.idxToPosition=function(o){for(var h=0,c=0;c<this.folds.length;c++){var u=this.folds[c];if(o-=u.start.column-h,o<0)return{row:u.start.row,column:u.start.column+o};if(o-=u.placeholder.length,o<0)return u.start;h=u.end.column}return{row:this.end.row,column:this.end.column+o}},a})();r.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,r,i){var s=t("./range").Range,l=s.comparePoints,a=(function(){function o(){this.ranges=[],this.$bias=1}return o.prototype.pointIndex=function(h,c,u){for(var d=this.ranges,f=u||0;f<d.length;f++){var p=d[f],m=l(h,p.end);if(!(m>0)){var g=l(h,p.start);return m===0?c&&g!==0?-f-2:f:g>0||g===0&&!c?f:-f-1}}return-f-1},o.prototype.add=function(h){var c=!h.isEmpty(),u=this.pointIndex(h.start,c);u<0&&(u=-u-1);var d=this.pointIndex(h.end,c,u);return d<0?d=-d-1:d++,this.ranges.splice(u,d-u,h)},o.prototype.addList=function(h){for(var c=[],u=h.length;u--;)c.push.apply(c,this.add(h[u]));return c},o.prototype.substractPoint=function(h){var c=this.pointIndex(h);if(c>=0)return this.ranges.splice(c,1)},o.prototype.merge=function(){var h=[],c=this.ranges;c=c.sort(function(m,g){return l(m.start,g.start)});for(var u=c[0],d,f=1;f<c.length;f++){d=u,u=c[f];var p=l(d.end,u.start);p<0||p==0&&!d.isEmpty()&&!u.isEmpty()||(l(d.end,u.end)<0&&(d.end.row=u.end.row,d.end.column=u.end.column),c.splice(f,1),h.push(u),u=d,f--)}return this.ranges=c,h},o.prototype.contains=function(h,c){return this.pointIndex({row:h,column:c})>=0},o.prototype.containsPoint=function(h){return this.pointIndex(h)>=0},o.prototype.rangeAtPoint=function(h){var c=this.pointIndex(h);if(c>=0)return this.ranges[c]},o.prototype.clipRows=function(h,c){var u=this.ranges;if(u[0].start.row>c||u[u.length-1].start.row<h)return[];var d=this.pointIndex({row:h,column:0});d<0&&(d=-d-1);var f=this.pointIndex({row:c,column:0},d);f<0&&(f=-f-1);for(var p=[],m=d;m<f;m++)p.push(u[m]);return p},o.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},o.prototype.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},o.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},o.prototype.$onChange=function(h){for(var c=h.start,u=h.end,d=c.row,f=u.row,p=this.ranges,m=0,g=p.length;m<g;m++){var v=p[m];if(v.end.row>=d)break}if(h.action=="insert")for(var y=f-d,_=-c.column+u.column;m<g;m++){var v=p[m];if(v.start.row>d)break;if(v.start.row==d&&v.start.column>=c.column&&(v.start.column==c.column&&this.$bias<=0||(v.start.column+=_,v.start.row+=y)),v.end.row==d&&v.end.column>=c.column){if(v.end.column==c.column&&this.$bias<0)continue;v.end.column==c.column&&_>0&&m<g-1&&v.end.column>v.start.column&&v.end.column==p[m+1].start.column&&(v.end.column-=_),v.end.column+=_,v.end.row+=y}}else for(var y=d-f,_=c.column-u.column;m<g;m++){var v=p[m];if(v.start.row>f)break;v.end.row<f&&(d<v.end.row||d==v.end.row&&c.column<v.end.column)?(v.end.row=d,v.end.column=c.column):v.end.row==f?v.end.column<=u.column?(y||v.end.column>c.column)&&(v.end.column=c.column,v.end.row=c.row):(v.end.column+=_,v.end.row+=y):v.end.row>f&&(v.end.row+=y),v.start.row<f&&(d<v.start.row||d==v.start.row&&c.column<v.start.column)?(v.start.row=d,v.start.column=c.column):v.start.row==f?v.start.column<=u.column?(y||v.start.column>c.column)&&(v.start.column=c.column,v.start.row=c.row):(v.start.column+=_,v.start.row+=y):v.start.row>f&&(v.start.row+=y)}if(y!=0&&m<g)for(;m<g;m++){var v=p[m];v.start.row+=y,v.end.row+=y}},o})();a.prototype.comparePoints=l,r.RangeList=a}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(t,r,i){var s=this&&this.__extends||(function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})(),l=t("../range_list").RangeList,a=(function(d){s(f,d);function f(p,m){var g=d.call(this)||this;return g.foldLine=null,g.placeholder=m,g.range=p,g.start=p.start,g.end=p.end,g.sameRow=p.start.row==p.end.row,g.subFolds=g.ranges=[],g}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(m){m.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),m=new f(p,this.placeholder);return this.subFolds.forEach(function(g){m.subFolds.push(g.clone())}),m.collapseChildren=this.collapseChildren,m},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){h(p,this.start);for(var _=p.start.row,w=p.start.column,m=0,g=-1;m<this.subFolds.length&&(g=this.subFolds[m].range.compare(_,w),g==1);m++);var v=this.subFolds[m],y=0;if(g==0){if(v.range.containsRange(p))return v.addSubFold(p);y=1}for(var _=p.range.end.row,w=p.range.end.column,C=m,g=-1;C<this.subFolds.length&&(g=this.subFolds[C].range.compare(_,w),g==1);C++);g==0&&C++;for(var b=this.subFolds.splice(m,C-m,p),T=g==0?b.length-1:b.length,A=y;A<T;A++)p.addSubFold(b[A]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return u(p,this.start)},f})(l);function o(d,f){d.row-=f.row,d.row==0&&(d.column-=f.column)}function h(d,f){o(d.start,f),o(d.end,f)}function c(d,f){d.row==0&&(d.column+=f.column),d.row+=f.row}function u(d,f){c(d.start,f),c(d.end,f)}r.Fold=a}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(t,r,i){var s=t("../range").Range,l=t("./fold_line").FoldLine,a=t("./fold").Fold,o=t("../token_iterator").TokenIterator,h=t("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(u,d,f){var p=this.getFoldLine(u);if(!p)return null;for(var m=p.folds,g=0;g<m.length;g++){var v=m[g].range;if(v.contains(u,d)){if(f==1&&v.isEnd(u,d)&&!v.isEmpty())continue;if(f==-1&&v.isStart(u,d)&&!v.isEmpty())continue;return m[g]}}},this.getFoldsInRange=function(u){var d=u.start,f=u.end,p=this.$foldData,m=[];d.column+=1,f.column-=1;for(var g=0;g<p.length;g++){var v=p[g].range.compareRange(u);if(v!=2){if(v==-2)break;for(var y=p[g].folds,_=0;_<y.length;_++){var w=y[_];if(v=w.range.compareRange(u),v==-2)break;if(v==2)continue;if(v==42)break;m.push(w)}}}return d.column-=1,f.column+=1,m},this.getFoldsInRangeList=function(u){if(Array.isArray(u)){var d=[];u.forEach(function(f){d=d.concat(this.getFoldsInRange(f))},this)}else var d=this.getFoldsInRange(u);return d},this.getAllFolds=function(){for(var u=[],d=this.$foldData,f=0;f<d.length;f++)for(var p=0;p<d[f].folds.length;p++)u.push(d[f].folds[p]);return u},this.getFoldStringAt=function(u,d,f,p){if(p=p||this.getFoldLine(u),!p)return null;for(var m={end:{column:0}},g,v,y=0;y<p.folds.length;y++){v=p.folds[y];var _=v.range.compareEnd(u,d);if(_==-1){g=this.getLine(v.start.row).substring(m.end.column,v.start.column);break}else if(_===0)return null;m=v}return g||(g=this.getLine(v.start.row).substring(m.end.column)),f==-1?g.substring(0,d-m.end.column):f==1?g.substring(d-m.end.column):g},this.getFoldLine=function(u,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.start.row<=u&&m.end.row>=u)return m;if(m.end.row>u)return null}return null},this.getNextFoldLine=function(u,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.end.row>=u)return m}return null},this.getFoldedRowCount=function(u,d){for(var f=this.$foldData,p=d-u+1,m=0;m<f.length;m++){var g=f[m],v=g.end.row,y=g.start.row;if(v>=d){y<d&&(y>=u?p-=d-y:p=0);break}else v>=u&&(y>=u?p-=v-y:p-=v-u+1)}return p},this.$addFoldLine=function(u){return this.$foldData.push(u),this.$foldData.sort(function(d,f){return d.start.row-f.start.row}),u},this.addFold=function(u,d){var f=this.$foldData,p=!1,m;u instanceof a?m=u:(m=new a(d,u),m.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(m.range);var g=m.start.row,v=m.start.column,y=m.end.row,_=m.end.column,w=this.getFoldAt(g,v,1),C=this.getFoldAt(y,_,-1);if(w&&C==w)return w.addSubFold(m);w&&!w.range.isStart(g,v)&&this.removeFold(w),C&&!C.range.isEnd(y,_)&&this.removeFold(C);var b=this.getFoldsInRange(m.range);b.length>0&&(this.removeFolds(b),m.collapseChildren||b.forEach(function(P){m.addSubFold(P)}));for(var T=0;T<f.length;T++){var A=f[T];if(y==A.start.row){A.addFold(m),p=!0;break}else if(g==A.end.row){if(A.addFold(m),p=!0,!m.sameRow){var k=f[T+1];if(k&&k.start.row==y){A.merge(k);break}}break}else if(y<=A.start.row)break}return p||(A=this.$addFoldLine(new l(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(u){u.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(u){var d=u.foldLine,f=d.start.row,p=d.end.row,m=this.$foldData,g=d.folds;if(g.length==1)m.splice(m.indexOf(d),1);else if(d.range.isEnd(u.end.row,u.end.column))g.pop(),d.end.row=g[g.length-1].end.row,d.end.column=g[g.length-1].end.column;else if(d.range.isStart(u.start.row,u.start.column))g.shift(),d.start.row=g[0].start.row,d.start.column=g[0].start.column;else if(u.sameRow)g.splice(g.indexOf(u),1);else{var v=d.split(u.start.row,u.start.column);g=v.folds,g.shift(),v.start.row=g[0].start.row,v.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:u,action:"remove"})},this.removeFolds=function(u){for(var d=[],f=0;f<u.length;f++)d.push(u[f]);d.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(u){this.removeFold(u),u.subFolds.forEach(function(d){u.restoreRange(d),this.addFold(d)},this),u.collapseChildren>0&&this.foldAll(u.start.row+1,u.end.row,u.collapseChildren-1),u.subFolds=[]},this.expandFolds=function(u){u.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(u,d){var f,p;if(u==null)f=new s(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof u=="number")f=new s(u,0,u,this.getLine(u).length);else if("row"in u)f=s.fromPoints(u,u);else{if(Array.isArray(u))return p=[],u.forEach(function(g){p=p.concat(this.unfold(g))},this),p;f=u}p=this.getFoldsInRangeList(f);for(var m=p;p.length==1&&s.comparePoints(p[0].start,f.start)<0&&s.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(d!=!1?this.removeFolds(p):this.expandFolds(p),m.length)return m},this.isRowFolded=function(u,d){return!!this.getFoldLine(u,d)},this.getRowFoldEnd=function(u,d){var f=this.getFoldLine(u,d);return f?f.end.row:u},this.getRowFoldStart=function(u,d){var f=this.getFoldLine(u,d);return f?f.start.row:u},this.getFoldDisplayLine=function(u,d,f,p,m){p==null&&(p=u.start.row),m==null&&(m=0),d==null&&(d=u.end.row),f==null&&(f=this.getLine(d).length);var g=this.doc,v="";return u.walk(function(y,_,w,C){if(!(_<p)){if(_==p){if(w<m)return;C=Math.max(m,C)}y!=null?v+=y:v+=g.getLine(_).substring(C,w)}},d,f),v},this.getDisplayLine=function(u,d,f,p){var m=this.getFoldLine(u);if(m)return this.getFoldDisplayLine(m,u,d,f,p);var g;return g=this.doc.getLine(u),g.substring(p||0,d||g.length)},this.$cloneFoldData=function(){var u=[];return u=this.$foldData.map(function(d){var f=d.folds.map(function(p){return p.clone()});return new l(u,f)}),u},this.toggleFold=function(u){var d=this.selection,f=d.getRange(),p,m;if(f.isEmpty()){var g=f.start;if(p=this.getFoldAt(g.row,g.column),p){this.expandFold(p);return}else if(u){var v=this.getFoldLine(g.row);v&&this.expandFolds(v.folds);return}else(m=this.findMatchingBracket(g))?f.comparePoint(m)==1?f.end=m:(f.start=m,f.start.column++,f.end.column--):(m=this.findMatchingBracket({row:g.row,column:g.column+1}))?(f.comparePoint(m)==1?f.end=m:f.start=m,f.start.column++):f=this.getCommentFoldRange(g.row,g.column)||f}else{var y=this.getFoldsInRange(f);if(u&&y.length){this.expandFolds(y);return}else y.length==1&&(p=y[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var _="...";if(!f.isMultiLine()){if(_=this.getTextRange(f),_.length<4)return;_=_.trim().substring(0,2)+".."}this.addFold(_,f)},this.getCommentFoldRange=function(u,d,f){var p=new o(this,u,d),m=p.getCurrentToken(),g=m&&m.type;if(m&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var v=new RegExp(g),y=new s;if(f!=1){do m=p.stepBackward();while(m&&v.test(m.type));m=p.stepForward()}y.start.row=p.getCurrentTokenRow(),y.start.column=p.getCurrentTokenColumn()+m.value.length,p=new o(this,u,d);var _=this.getState(p.$row);if(f!=-1){var w=-1;do if(m=p.stepForward(),w==-1){var C=this.getState(p.$row);_.toString()!==C.toString()&&(w=p.$row)}else if(p.$row>w)break;while(m&&v.test(m.type));m=p.stepBackward()}else m=p.getCurrentToken();return y.end.row=p.getCurrentTokenRow(),y.end.column=p.getCurrentTokenColumn(),y.start.row==y.end.row&&y.start.column>y.end.column?void 0:y}},this.foldAll=function(u,d,f,p){f==null&&(f=1e5);var m=this.foldWidgets;if(m){d=d||this.getLength(),u=u||0;for(var g=u;g<d;g++)if(m[g]==null&&(m[g]=this.getFoldWidget(g)),m[g]=="start"&&!(p&&!p(g))){var v=this.getFoldWidgetRange(g);v&&v.isMultiLine()&&v.end.row<=d&&v.start.row>=u&&(g=v.end.row,v.collapseChildren=f,this.addFold("...",v))}}},this.foldToLevel=function(u){for(this.foldAll();u-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var u=this;this.foldAll(null,null,null,function(d){for(var f=u.getTokens(d),p=0;p<f.length;p++){var m=f[p];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(u){if(!this.$foldStyles[u])throw new Error("invalid fold style: "+u+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=u){this.$foldStyle=u,u=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(u){if(this.$foldMode!=u){if(this.$foldMode=u,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!u||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=u.getFoldWidget.bind(u,this,this.$foldStyle),this.getFoldWidgetRange=u.getFoldWidgetRange.bind(u,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(u,d){var f=this.foldWidgets;if(!f||d&&f[u])return{};for(var p=u-1,m;p>=0;){var g=f[p];if(g==null&&(g=f[p]=this.getFoldWidget(p)),g=="start"){var v=this.getFoldWidgetRange(p);if(m||(m=v),v&&v.end.row>=u)break}p--}return{range:p!==-1&&v,firstRange:m}},this.onFoldWidgetClick=function(u,d){d instanceof h&&(d=d.domEvent);var f={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},p=this.$toggleFoldWidget(u,f);if(!p){var m=d.target||d.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(u,d){if(this.getFoldWidget){var f=this.getFoldWidget(u),p=this.getLine(u),m=f==="end"?-1:1,g=this.getFoldAt(u,m===-1?0:p.length,m);if(g)return d.children||d.all?this.removeFold(g):this.expandFold(g),g;var v=this.getFoldWidgetRange(u,!0);if(v&&!v.isMultiLine()&&(g=this.getFoldAt(v.start.row,v.start.column,1),g&&v.isEqual(g.range)))return this.removeFold(g),g;if(d.siblings){var y=this.getParentFoldRangeData(u);if(y.range)var _=y.range.start.row+1,w=y.range.end.row;this.foldAll(_,w,d.all?1e4:0)}else d.children?(w=v?v.end.row:this.getLength(),this.foldAll(u+1,w,d.all?1e4:0)):v&&(d.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(u){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var f=this.$toggleFoldWidget(d,{});if(!f){var p=this.getParentFoldRangeData(d,!0);if(f=p.range||p.firstRange,f){d=f.start.row;var m=this.getFoldAt(d,this.getLine(d).length,1);m?this.removeFold(m):this.addFold("...",f)}}},this.updateFoldWidgets=function(u){var d=u.start.row,f=u.end.row-d;if(f===0)this.foldWidgets[d]=null;else if(u.action=="remove")this.foldWidgets.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(u){var d=u.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}r.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,r,i){var s=t("../token_iterator").TokenIterator,l=t("../range").Range;function a(){this.findMatchingBracket=function(o,h){if(o.column==0)return null;var c=h||this.getLine(o.row).charAt(o.column-1);if(c=="")return null;var u=c.match(/([\(\[\{])|([\)\]\}])/);return u?u[1]?this.$findClosingBracket(u[1],o):this.$findOpeningBracket(u[2],o):null},this.getBracketRange=function(o){var h=this.getLine(o.row),c=!0,u,d=h.charAt(o.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=h.charAt(o.column),o={row:o.row,column:o.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),c=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],o);if(!p)return null;u=l.fromPoints(o,p),c||(u.end.column++,u.start.column--),u.cursor=u.end}else{var p=this.$findOpeningBracket(f[2],o);if(!p)return null;u=l.fromPoints(p,o),c||(u.start.column++,u.end.column--),u.cursor=u.start}return u},this.getMatchingBracketRanges=function(o,h){var c=this.getLine(o.row),u=/([\(\[\{])|([\)\]\}])/,d=!h&&c.charAt(o.column-1),f=d&&d.match(u);if(f||(d=(h===void 0||h)&&c.charAt(o.column),o={row:o.row,column:o.column+1},f=d&&d.match(u)),!f)return null;var p=new l(o.row,o.column-1,o.row,o.column),m=f[1]?this.$findClosingBracket(f[1],o):this.$findOpeningBracket(f[2],o);if(!m)return[p];var g=new l(m.row,m.column,m.row,m.column+1);return[p,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(o,h,c){var u=this.$brackets[o],d=1,f=new s(this,h.row,h.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=h.column-f.getCurrentTokenColumn()-2,g=p.value;;){for(;m>=0;){var v=g.charAt(m);if(v==u){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else v==o&&(d+=1);m-=1}do p=f.stepBackward();while(p&&!c.test(p.type));if(p==null)break;g=p.value,m=g.length-1}return null}},this.$findClosingBracket=function(o,h,c){var u=this.$brackets[o],d=1,f=new s(this,h.row,h.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=h.column-f.getCurrentTokenColumn();;){for(var g=p.value,v=g.length;m<v;){var y=g.charAt(m);if(y==u){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else y==o&&(d+=1);m+=1}do p=f.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(o){var h=new s(this,o.row,o.column),c=this.$findTagName(h);if(c){var u=h.stepBackward();return u.value==="<"?this.$findClosingTag(h,c):this.$findOpeningTag(h,c)}},this.$findTagName=function(o){var h=o.getCurrentToken(),c=!1,u=!1;if(h&&h.type.indexOf("tag-name")===-1)do u?h=o.stepBackward():h=o.stepForward(),h&&(h.value==="/>"?u=!0:h.type.indexOf("tag-name")!==-1&&(c=!0));while(h&&!c);return h},this.$findClosingTag=function(o,h){var c,u=h.value,d=h.value,f=0,p=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);h=o.stepForward();var m=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length),g=!1;do{if(c=h,c.type.indexOf("tag-close")!==-1&&!g){var v=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);g=!0}if(h=o.stepForward(),h){if(h.value===">"&&!g){var v=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);g=!0}if(h.type.indexOf("tag-name")!==-1){if(u=h.value,d===u){if(c.value==="<")f++;else if(c.value==="</"&&(f--,f<0)){o.stepBackward();var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2);h=o.stepForward();var _=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=o.stepForward()),h&&h.value===">")var w=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);else return}}}else if(d===u&&h.value==="/>"&&(f--,f<0))var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+2),_=y,w=_,v=new l(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(h&&f>=0);if(p&&v&&y&&w&&m&&_)return{openTag:new l(p.start.row,p.start.column,v.end.row,v.end.column),closeTag:new l(y.start.row,y.start.column,w.end.row,w.end.column),openTagName:m,closeTagName:_}},this.$findOpeningTag=function(o,h){var c=o.getCurrentToken(),u=h.value,d=0,f=o.getCurrentTokenRow(),p=o.getCurrentTokenColumn(),m=p+2,g=new l(f,p,f,m);o.stepForward();var v=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=o.stepForward()),!(!h||h.value!==">")){var y=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);o.stepBackward(),o.stepBackward();do if(h=c,f=o.getCurrentTokenRow(),p=o.getCurrentTokenColumn(),m=p+h.value.length,c=o.stepBackward(),h){if(h.type.indexOf("tag-name")!==-1){if(u===h.value)if(c.value==="<"){if(d++,d>0){var _=new l(f,p,f,m),w=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1);do h=o.stepForward();while(h&&h.value!==">");var C=new l(o.getCurrentTokenRow(),o.getCurrentTokenColumn(),o.getCurrentTokenRow(),o.getCurrentTokenColumn()+1)}}else c.value==="</"&&d--}else if(h.value==="/>"){for(var b=0,T=c;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===u){d--;break}else if(T.value==="<")break;T=o.stepBackward(),b++}for(var A=0;A<b;A++)o.stepForward()}}while(c&&d<=0);if(w&&C&&g&&y&&_&&v)return{openTag:new l(w.start.row,w.start.column,C.end.row,C.end.column),closeTag:new l(g.start.row,g.start.column,y.end.row,y.end.column),openTagName:_,closeTagName:v}}}}r.BracketMatch=a}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,r,i){var s=t("./lib/oop"),l=t("./lib/lang"),a=t("./bidihandler").BidiHandler,o=t("./config"),h=t("./lib/event_emitter").EventEmitter,c=t("./selection").Selection,u=t("./mode/text").Mode,d=t("./range").Range,f=t("./line_widgets").LineWidgets,p=t("./document").Document,m=t("./background_tokenizer").BackgroundTokenizer,g=t("./search_highlight").SearchHighlight,v=t("./undomanager").UndoManager,y=(function(){function D(L,I){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++D.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new m(new u().getTokenizer(),this);var O=this;this.bgTokenizer.on("update",function(F){O._signal("tokenizerUpdate",F)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof L!="object"||!L.getLine)&&(L=new p(L)),this.setDocument(L),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new a(this),o.resetOptions(this),this.setMode(I),o._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return D.prototype.$initOperationListeners=function(){var L=this;this.curOp=null,this.on("change",function(){L.curOp||(L.startOperation(),L.curOp.selectionBefore=L.$lastSel),L.curOp.docChanged=!0},!0),this.on("changeSelection",function(){L.curOp||(L.startOperation(),L.curOp.selectionBefore=L.$lastSel),L.curOp.selectionChanged=!0},!0),this.$operationResetTimer=l.delayedCall(this.endOperation.bind(this,!0))},D.prototype.startOperation=function(L){if(this.curOp){if(!L||this.curOp.command)return;this.prevOp=this.curOp}L||(L={}),this.$operationResetTimer.schedule(),this.curOp={command:L.command||{},args:L.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",L)},D.prototype.endOperation=function(L){if(this.curOp){if(L&&L.returnValue===!1){this.curOp=null,this._signal("endOperation",L);return}if(L==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var I=this.selection.toJSON();this.curOp.selectionAfter=I,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(I),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",L)}},D.prototype.setDocument=function(L){this.doc&&this.doc.off("change",this.$onChange),this.doc=L,L.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},D.prototype.getDocument=function(){return this.doc},Object.defineProperty(D.prototype,"widgetManager",{get:function(){var L=new f(this);return this.widgetManager=L,this.$editor&&L.attach(this.$editor),L},set:function(L){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:L})},enumerable:!1,configurable:!0}),D.prototype.$resetRowCache=function(L){if(!L){this.$docRowCache=[],this.$screenRowCache=[];return}var I=this.$docRowCache.length,O=this.$getRowCacheIndex(this.$docRowCache,L)+1;I>O&&(this.$docRowCache.splice(O,I),this.$screenRowCache.splice(O,I))},D.prototype.$getRowCacheIndex=function(L,I){for(var O=0,F=L.length-1;O<=F;){var H=O+F>>1,j=L[H];if(I>j)O=H+1;else if(I<j)F=H-1;else return H}return O-1},D.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},D.prototype.onChangeFold=function(L){var I=L.data;this.$resetRowCache(I.start.row)},D.prototype.onChange=function(L){this.$modified=!0,this.$bidiHandler.onChange(L),this.$resetRowCache(L.start.row);var I=this.$updateInternalDataOnChange(L);!this.$fromUndo&&this.$undoManager&&(I&&I.length&&(this.$undoManager.add({action:"removeFolds",folds:I},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(L,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(L),this._signal("change",L)},D.prototype.onSelectionChange=function(){this._signal("changeSelection")},D.prototype.setValue=function(L){this.doc.setValue(L),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},D.fromJSON=function(L){typeof L=="string"&&(L=JSON.parse(L));var I=new v;I.$undoStack=L.history.undo,I.$redoStack=L.history.redo,I.mark=L.history.mark,I.$rev=L.history.rev;var O=new D(L.value);return L.folds.forEach(function(F){O.addFold("...",d.fromPoints(F.start,F.end))}),O.setAnnotations(L.annotations),O.setBreakpoints(L.breakpoints),O.setMode(L.mode),O.setScrollLeft(L.scrollLeft),O.setScrollTop(L.scrollTop),O.setUndoManager(I),O.selection.fromJSON(L.selection),O},D.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(L){return L.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},D.prototype.toString=function(){return this.doc.getValue()},D.prototype.getSelection=function(){return this.selection},D.prototype.getState=function(L){return this.bgTokenizer.getState(L)},D.prototype.getTokens=function(L){return this.bgTokenizer.getTokens(L)},D.prototype.getTokenAt=function(L,I){var O=this.bgTokenizer.getTokens(L),F,H=0;if(I==null){var j=O.length-1;H=this.getLine(L).length}else for(var j=0;j<O.length&&(H+=O[j].value.length,!(H>=I));j++);return F=O[j],F?(F.index=j,F.start=H-F.value.length,F):null},D.prototype.setUndoManager=function(L){if(this.$undoManager=L,this.$informUndoManager&&this.$informUndoManager.cancel(),L){var I=this;L.addSession(this),this.$syncInformUndoManager=function(){I.$informUndoManager.cancel(),I.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},D.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},D.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},D.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},D.prototype.setUseSoftTabs=function(L){this.setOption("useSoftTabs",L)},D.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},D.prototype.setTabSize=function(L){this.setOption("tabSize",L)},D.prototype.getTabSize=function(){return this.$tabSize},D.prototype.isTabStop=function(L){return this.$useSoftTabs&&L.column%this.$tabSize===0},D.prototype.setNavigateWithinSoftTabs=function(L){this.setOption("navigateWithinSoftTabs",L)},D.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},D.prototype.setOverwrite=function(L){this.setOption("overwrite",L)},D.prototype.getOverwrite=function(){return this.$overwrite},D.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},D.prototype.addGutterDecoration=function(L,I){this.$decorations[L]||(this.$decorations[L]=""),this.$decorations[L]+=" "+I,this._signal("changeBreakpoint",{})},D.prototype.removeGutterCustomWidget=function(L){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(L)},D.prototype.addGutterCustomWidget=function(L,I){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(L,I)},D.prototype.removeGutterDecoration=function(L,I){this.$decorations[L]=(this.$decorations[L]||"").replace(" "+I,""),this._signal("changeBreakpoint",{})},D.prototype.getBreakpoints=function(){return this.$breakpoints},D.prototype.setBreakpoints=function(L){this.$breakpoints=[];for(var I=0;I<L.length;I++)this.$breakpoints[L[I]]="ace_breakpoint";this._signal("changeBreakpoint",{})},D.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},D.prototype.setBreakpoint=function(L,I){I===void 0&&(I="ace_breakpoint"),I?this.$breakpoints[L]=I:delete this.$breakpoints[L],this._signal("changeBreakpoint",{})},D.prototype.clearBreakpoint=function(L){delete this.$breakpoints[L],this._signal("changeBreakpoint",{})},D.prototype.addMarker=function(L,I,O,F){var H=this.$markerId++,j={range:L,type:O||"line",renderer:typeof O=="function"?O:null,clazz:I,inFront:!!F,id:H};return F?(this.$frontMarkers[H]=j,this._signal("changeFrontMarker")):(this.$backMarkers[H]=j,this._signal("changeBackMarker")),H},D.prototype.addDynamicMarker=function(L,I){if(L.update){var O=this.$markerId++;return L.id=O,L.inFront=!!I,I?(this.$frontMarkers[O]=L,this._signal("changeFrontMarker")):(this.$backMarkers[O]=L,this._signal("changeBackMarker")),L}},D.prototype.removeMarker=function(L){var I=this.$frontMarkers[L]||this.$backMarkers[L];if(I){var O=I.inFront?this.$frontMarkers:this.$backMarkers;delete O[L],this._signal(I.inFront?"changeFrontMarker":"changeBackMarker")}},D.prototype.getMarkers=function(L){return L?this.$frontMarkers:this.$backMarkers},D.prototype.highlight=function(L){if(!this.$searchHighlight){var I=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(I)}this.$searchHighlight.setRegexp(L)},D.prototype.highlightLines=function(L,I,O,F){typeof I!="number"&&(O=I,I=L),O||(O="ace_step");var H=new d(L,0,I,1/0);return H.id=this.addMarker(H,O,"fullLine",F),H},D.prototype.setAnnotations=function(L){this.$annotations=L,this._signal("changeAnnotation",{})},D.prototype.getAnnotations=function(){return this.$annotations||[]},D.prototype.clearAnnotations=function(){this.setAnnotations([])},D.prototype.$detectNewLine=function(L){var I=L.match(/^.*?(\r?\n)/m);I?this.$autoNewLine=I[1]:this.$autoNewLine=`
`},D.prototype.getWordRange=function(L,I){var O=this.getLine(L),F=!1;if(I>0&&(F=!!O.charAt(I-1).match(this.tokenRe)),F||(F=!!O.charAt(I).match(this.tokenRe)),F)var H=this.tokenRe;else if(/^\s+$/.test(O.slice(I-1,I+1)))var H=/\s/;else var H=this.nonTokenRe;var j=I;if(j>0){do j--;while(j>=0&&O.charAt(j).match(H));j++}for(var z=I;z<O.length&&O.charAt(z).match(H);)z++;return new d(L,j,L,z)},D.prototype.getAWordRange=function(L,I){for(var O=this.getWordRange(L,I),F=this.getLine(O.end.row);F.charAt(O.end.column).match(/[ \t]/);)O.end.column+=1;return O},D.prototype.setNewLineMode=function(L){this.doc.setNewLineMode(L)},D.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},D.prototype.setUseWorker=function(L){this.setOption("useWorker",L)},D.prototype.getUseWorker=function(){return this.$useWorker},D.prototype.onReloadTokenizer=function(L){var I=L.data;this.bgTokenizer.start(I.first),this._signal("tokenizerUpdate",L)},D.prototype.setMode=function(L,I){if(L&&typeof L=="object"){if(L.getTokenizer)return this.$onChangeMode(L);var O=L,F=O.path}else F=L||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[F]&&!O){this.$onChangeMode(this.$modes[F]),I&&I();return}this.$modeId=F,o.loadModule(["mode",F],(function(H){if(!this.destroyed){if(this.$modeId!==F)return I&&I();this.$modes[F]&&!O?this.$onChangeMode(this.$modes[F]):H&&H.Mode&&(H=new H.Mode(O),O||(this.$modes[F]=H,H.$id=F),this.$onChangeMode(H)),I&&I()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},D.prototype.$onChangeMode=function(L,I){if(I||(this.$modeId=L.$id),this.$mode!==L){var O=this.$mode;this.$mode=L,this.$stopWorker(),this.$useWorker&&this.$startWorker();var F=L.getTokenizer();if(F.on!==void 0){var H=this.onReloadTokenizer.bind(this);F.on("update",H)}this.bgTokenizer.setTokenizer(F),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=L.tokenRe,this.nonTokenRe=L.nonTokenRe,I||(L.attachToSession&&L.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(L.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:O,mode:L}))}},D.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},D.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(L){o.warn("Could not load worker",L),this.$worker=null}},D.prototype.getMode=function(){return this.$mode},D.prototype.setScrollTop=function(L){this.$scrollTop===L||isNaN(L)||(this.$scrollTop=L,this._signal("changeScrollTop",L))},D.prototype.getScrollTop=function(){return this.$scrollTop},D.prototype.setScrollLeft=function(L){this.$scrollLeft===L||isNaN(L)||(this.$scrollLeft=L,this._signal("changeScrollLeft",L))},D.prototype.getScrollLeft=function(){return this.$scrollLeft},D.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},D.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var L=0;return this.lineWidgets.forEach(function(I){I&&I.screenWidth>L&&(L=I.screenWidth)}),this.lineWidgetWidth=L},D.prototype.$computeWidth=function(L){if(this.$modified||L){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var I=this.doc.getAllLines(),O=this.$rowLengthCache,F=0,H=0,j=this.$foldData[H],z=j?j.start.row:1/0,W=I.length,K=0;K<W;K++){if(K>z){if(K=j.end.row+1,K>=W)break;j=this.$foldData[H++],z=j?j.start.row:1/0}O[K]==null&&(O[K]=this.$getStringScreenWidth(I[K])[0]),O[K]>F&&(F=O[K])}this.screenWidth=F}},D.prototype.getLine=function(L){return this.doc.getLine(L)},D.prototype.getLines=function(L,I){return this.doc.getLines(L,I)},D.prototype.getLength=function(){return this.doc.getLength()},D.prototype.getTextRange=function(L){return this.doc.getTextRange(L||this.selection.getRange())},D.prototype.insert=function(L,I){return this.doc.insert(L,I)},D.prototype.remove=function(L){return this.doc.remove(L)},D.prototype.removeFullLines=function(L,I){return this.doc.removeFullLines(L,I)},D.prototype.undoChanges=function(L,I){if(L.length){this.$fromUndo=!0;for(var O=L.length-1;O!=-1;O--){var F=L[O];F.action=="insert"||F.action=="remove"?this.doc.revertDelta(F):F.folds&&this.addFolds(F.folds)}!I&&this.$undoSelect&&(L.selectionBefore?this.selection.fromJSON(L.selectionBefore):this.selection.setRange(this.$getUndoSelection(L,!0))),this.$fromUndo=!1}},D.prototype.redoChanges=function(L,I){if(L.length){this.$fromUndo=!0;for(var O=0;O<L.length;O++){var F=L[O];(F.action=="insert"||F.action=="remove")&&this.doc.$safeApplyDelta(F)}!I&&this.$undoSelect&&(L.selectionAfter?this.selection.fromJSON(L.selectionAfter):this.selection.setRange(this.$getUndoSelection(L,!1))),this.$fromUndo=!1}},D.prototype.setUndoSelect=function(L){this.$undoSelect=L},D.prototype.$getUndoSelection=function(L,I){function O(W){return I?W.action!=="insert":W.action==="insert"}for(var F,H,j=0;j<L.length;j++){var z=L[j];if(z.start){if(!F){O(z)?F=d.fromPoints(z.start,z.end):F=d.fromPoints(z.start,z.start);continue}O(z)?(H=z.start,F.compare(H.row,H.column)==-1&&F.setStart(H),H=z.end,F.compare(H.row,H.column)==1&&F.setEnd(H)):(H=z.start,F.compare(H.row,H.column)==-1&&(F=d.fromPoints(z.start,z.start)))}}return F},D.prototype.replace=function(L,I){return this.doc.replace(L,I)},D.prototype.moveText=function(L,I,O){var F=this.getTextRange(L),H=this.getFoldsInRange(L),j=d.fromPoints(I,I);if(!O){this.remove(L);var z=L.start.row-L.end.row,W=z?-L.end.column:L.start.column-L.end.column;W&&(j.start.row==L.end.row&&j.start.column>L.end.column&&(j.start.column+=W),j.end.row==L.end.row&&j.end.column>L.end.column&&(j.end.column+=W)),z&&j.start.row>=L.end.row&&(j.start.row+=z,j.end.row+=z)}if(j.end=this.insert(j.start,F),H.length){var K=L.start,X=j.start,z=X.row-K.row,W=X.column-K.column;this.addFolds(H.map(function(re){return re=re.clone(),re.start.row==K.row&&(re.start.column+=W),re.end.row==K.row&&(re.end.column+=W),re.start.row+=z,re.end.row+=z,re}))}return j},D.prototype.indentRows=function(L,I,O){O=O.replace(/\t/g,this.getTabString());for(var F=L;F<=I;F++)this.doc.insertInLine({row:F,column:0},O)},D.prototype.outdentRows=function(L){for(var I=L.collapseRows(),O=new d(0,0,0,0),F=this.getTabSize(),H=I.start.row;H<=I.end.row;++H){var j=this.getLine(H);O.start.row=H,O.end.row=H;for(var z=0;z<F&&j.charAt(z)==" ";++z);z<F&&j.charAt(z)=="	"?(O.start.column=z,O.end.column=z+1):(O.start.column=0,O.end.column=z),this.remove(O)}},D.prototype.$moveLines=function(L,I,O){if(L=this.getRowFoldStart(L),I=this.getRowFoldEnd(I),O<0){var F=this.getRowFoldStart(L+O);if(F<0)return 0;var H=F-L}else if(O>0){var F=this.getRowFoldEnd(I+O);if(F>this.doc.getLength()-1)return 0;var H=F-I}else{L=this.$clipRowToDocument(L),I=this.$clipRowToDocument(I);var H=I-L+1}var j=new d(L,0,I,Number.MAX_VALUE),z=this.getFoldsInRange(j).map(function(K){return K=K.clone(),K.start.row+=H,K.end.row+=H,K}),W=O==0?this.doc.getLines(L,I):this.doc.removeFullLines(L,I);return this.doc.insertFullLines(L+H,W),z.length&&this.addFolds(z),H},D.prototype.moveLinesUp=function(L,I){return this.$moveLines(L,I,-1)},D.prototype.moveLinesDown=function(L,I){return this.$moveLines(L,I,1)},D.prototype.duplicateLines=function(L,I){return this.$moveLines(L,I,0)},D.prototype.$clipRowToDocument=function(L){return Math.max(0,Math.min(L,this.doc.getLength()-1))},D.prototype.$clipColumnToRow=function(L,I){return I<0?0:Math.min(this.doc.getLine(L).length,I)},D.prototype.$clipPositionToDocument=function(L,I){if(I=Math.max(0,I),L<0)L=0,I=0;else{var O=this.doc.getLength();L>=O?(L=O-1,I=this.doc.getLine(O-1).length):I=Math.min(this.doc.getLine(L).length,I)}return{row:L,column:I}},D.prototype.$clipRangeToDocument=function(L){L.start.row<0?(L.start.row=0,L.start.column=0):L.start.column=this.$clipColumnToRow(L.start.row,L.start.column);var I=this.doc.getLength()-1;return L.end.row>I?(L.end.row=I,L.end.column=this.doc.getLine(I).length):L.end.column=this.$clipColumnToRow(L.end.row,L.end.column),L},D.prototype.setUseWrapMode=function(L){if(L!=this.$useWrapMode){if(this.$useWrapMode=L,this.$modified=!0,this.$resetRowCache(0),L){var I=this.getLength();this.$wrapData=Array(I),this.$updateWrapData(0,I-1)}this._signal("changeWrapMode")}},D.prototype.getUseWrapMode=function(){return this.$useWrapMode},D.prototype.setWrapLimitRange=function(L,I){(this.$wrapLimitRange.min!==L||this.$wrapLimitRange.max!==I)&&(this.$wrapLimitRange={min:L,max:I},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},D.prototype.adjustWrapLimit=function(L,I){var O=this.$wrapLimitRange;O.max<0&&(O={min:I,max:I});var F=this.$constrainWrapLimit(L,O.min,O.max);return F!=this.$wrapLimit&&F>1?(this.$wrapLimit=F,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},D.prototype.$constrainWrapLimit=function(L,I,O){return I&&(L=Math.max(I,L)),O&&(L=Math.min(O,L)),L},D.prototype.getWrapLimit=function(){return this.$wrapLimit},D.prototype.setWrapLimit=function(L){this.setWrapLimitRange(L,L)},D.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},D.prototype.$updateInternalDataOnChange=function(L){var I=this.$useWrapMode,O=L.action,F=L.start,H=L.end,j=F.row,z=H.row,W=z-j,K=null;if(this.$updating=!0,W!=0)if(O==="remove"){this[I?"$wrapData":"$rowLengthCache"].splice(j,W);var X=this.$foldData;K=this.getFoldsInRange(L),this.removeFolds(K);var J=this.getFoldLine(H.row),te=0;if(J){J.addRemoveChars(H.row,H.column,F.column-H.column),J.shiftRow(-W);var re=this.getFoldLine(j);re&&re!==J&&(re.merge(J),J=re),te=X.indexOf(J)+1}for(te;te<X.length;te++){var J=X[te];J.start.row>=H.row&&J.shiftRow(-W)}z=j}else{var ae=Array(W);ae.unshift(j,0);var ie=I?this.$wrapData:this.$rowLengthCache;ie.splice.apply(ie,ae);var X=this.$foldData,J=this.getFoldLine(j),te=0;if(J){var Q=J.range.compareInside(F.row,F.column);Q==0?(J=J.split(F.row,F.column),J&&(J.shiftRow(W),J.addRemoveChars(z,0,H.column-F.column))):Q==-1&&(J.addRemoveChars(j,0,H.column-F.column),J.shiftRow(W)),te=X.indexOf(J)+1}for(te;te<X.length;te++){var J=X[te];J.start.row>=j&&J.shiftRow(W)}}else{W=Math.abs(L.start.column-L.end.column),O==="remove"&&(K=this.getFoldsInRange(L),this.removeFolds(K),W=-W);var J=this.getFoldLine(j);J&&J.addRemoveChars(j,F.column,W)}return I&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,I?this.$updateWrapData(j,z):this.$updateRowLengthCache(j,z),K},D.prototype.$updateRowLengthCache=function(L,I){this.$rowLengthCache[L]=null,this.$rowLengthCache[I]=null},D.prototype.$updateWrapData=function(L,I){var O=this.doc.getAllLines(),F=this.getTabSize(),H=this.$wrapData,j=this.$wrapLimit,z,W,K=L;for(I=Math.min(I,O.length-1);K<=I;)W=this.getFoldLine(K,W),W?(z=[],W.walk((function(X,J,te,re){var ae;if(X!=null){ae=this.$getDisplayTokens(X,z.length),ae[0]=C;for(var ie=1;ie<ae.length;ie++)ae[ie]=b}else ae=this.$getDisplayTokens(O[J].substring(re,te),z.length);z=z.concat(ae)}).bind(this),W.end.row,O[W.end.row].length+1),H[W.start.row]=this.$computeWrapSplits(z,j,F),K=W.end.row+1):(z=this.$getDisplayTokens(O[K]),H[K]=this.$computeWrapSplits(z,j,F),K++)},D.prototype.$computeWrapSplits=function(L,I,O){if(L.length==0)return[];var F=[],H=L.length,j=0,z=0,W=this.$wrapAsCode,K=this.$indentedSoftWrap,X=I<=Math.max(2*O,8)||K===!1?0:Math.floor(I/2);function J(){var Q=0;if(X===0)return Q;if(K)for(var se=0;se<L.length;se++){var de=L[se];if(de==A)Q+=1;else if(de==k)Q+=O;else{if(de==P)continue;break}}return W&&K!==!1&&(Q+=O),Math.min(Q,X)}function te(Q){for(var se=Q-j,de=j;de<Q;de++){var xe=L[de];(xe===12||xe===2)&&(se-=1)}F.length||(re=J(),F.indent=re),z+=se,F.push(z),j=Q}for(var re=0;H-j>I-re;){var ae=j+I-re;if(L[ae-1]>=A&&L[ae]>=A){te(ae);continue}if(L[ae]==C||L[ae]==b){for(ae;ae!=j-1&&L[ae]!=C;ae--);if(ae>j){te(ae);continue}for(ae=j+I,ae;ae<L.length&&L[ae]==b;ae++);if(ae==L.length)break;te(ae);continue}for(var ie=Math.max(ae-(I-(I>>2)),j-1);ae>ie&&L[ae]<C;)ae--;if(W){for(;ae>ie&&L[ae]<C;)ae--;for(;ae>ie&&L[ae]==T;)ae--}else for(;ae>ie&&L[ae]<A;)ae--;if(ae>ie){te(++ae);continue}ae=j+I,L[ae]==w&&ae--,te(ae-re)}return F},D.prototype.$getDisplayTokens=function(L,I){var O=[],F;I=I||0;for(var H=0;H<L.length;H++){var j=L.charCodeAt(H);if(j==9){F=this.getScreenTabSize(O.length+I),O.push(k);for(var z=1;z<F;z++)O.push(P)}else j==32?O.push(A):j>39&&j<48||j>57&&j<64?O.push(T):j>=4352&&N(j)?O.push(_,w):O.push(_)}return O},D.prototype.$getStringScreenWidth=function(L,I,O){if(I==0)return[0,0];I==null&&(I=1/0),O=O||0;var F,H;for(H=0;H<L.length&&(F=L.charCodeAt(H),F==9?O+=this.getScreenTabSize(O):F>=4352&&N(F)?O+=2:O+=1,!(O>I));H++);return[O,H]},D.prototype.getRowLength=function(L){var I=1;return this.lineWidgets&&(I+=this.lineWidgets[L]&&this.lineWidgets[L].rowCount||0),!this.$useWrapMode||!this.$wrapData[L]?I:this.$wrapData[L].length+I},D.prototype.getRowLineCount=function(L){return!this.$useWrapMode||!this.$wrapData[L]?1:this.$wrapData[L].length+1},D.prototype.getRowWrapIndent=function(L){if(this.$useWrapMode){var I=this.screenToDocumentPosition(L,Number.MAX_VALUE),O=this.$wrapData[I.row];return O.length&&O[0]<I.column?O.indent:0}else return 0},D.prototype.getScreenLastRowColumn=function(L){var I=this.screenToDocumentPosition(L,Number.MAX_VALUE);return this.documentToScreenColumn(I.row,I.column)},D.prototype.getDocumentLastRowColumn=function(L,I){var O=this.documentToScreenRow(L,I);return this.getScreenLastRowColumn(O)},D.prototype.getDocumentLastRowColumnPosition=function(L,I){var O=this.documentToScreenRow(L,I);return this.screenToDocumentPosition(O,Number.MAX_VALUE/10)},D.prototype.getRowSplitData=function(L){if(this.$useWrapMode)return this.$wrapData[L]},D.prototype.getScreenTabSize=function(L){return this.$tabSize-(L%this.$tabSize|0)},D.prototype.screenToDocumentRow=function(L,I){return this.screenToDocumentPosition(L,I).row},D.prototype.screenToDocumentColumn=function(L,I){return this.screenToDocumentPosition(L,I).column},D.prototype.screenToDocumentPosition=function(L,I,O){if(L<0)return{row:0,column:0};var F,H=0,j=0,z,W=0,K=0,X=this.$screenRowCache,J=this.$getRowCacheIndex(X,L),te=X.length;if(te&&J>=0)var W=X[J],H=this.$docRowCache[J],re=L>X[te-1];else var re=!te;for(var ae=this.getLength()-1,ie=this.getNextFoldLine(H),Q=ie?ie.start.row:1/0;W<=L&&(K=this.getRowLength(H),!(W+K>L||H>=ae));)W+=K,H++,H>Q&&(H=ie.end.row+1,ie=this.getNextFoldLine(H,ie),Q=ie?ie.start.row:1/0),re&&(this.$docRowCache.push(H),this.$screenRowCache.push(W));if(ie&&ie.start.row<=H)F=this.getFoldDisplayLine(ie),H=ie.start.row;else{if(W+K<=L||H>ae)return{row:ae,column:this.getLine(ae).length};F=this.getLine(H),ie=null}var se=0,de=Math.floor(L-W);if(this.$useWrapMode){var xe=this.$wrapData[H];xe&&(z=xe[de],de>0&&xe.length&&(se=xe.indent,j=xe[de-1]||xe[xe.length-1],F=F.substring(j)))}return O!==void 0&&this.$bidiHandler.isBidiRow(W+de,H,de)&&(I=this.$bidiHandler.offsetToCol(O)),j+=this.$getStringScreenWidth(F,I-se)[1],this.$useWrapMode&&j>=z&&(j=z-1),ie?ie.idxToPosition(j):{row:H,column:j}},D.prototype.documentToScreenPosition=function(L,I){if(typeof I>"u")var O=this.$clipPositionToDocument(L.row,L.column);else O=this.$clipPositionToDocument(L,I);L=O.row,I=O.column;var F=0,H=null,j=null;j=this.getFoldAt(L,I,1),j&&(L=j.start.row,I=j.start.column);var z,W=0,K=this.$docRowCache,X=this.$getRowCacheIndex(K,L),J=K.length;if(J&&X>=0)var W=K[X],F=this.$screenRowCache[X],te=L>K[J-1];else var te=!J;for(var re=this.getNextFoldLine(W),ae=re?re.start.row:1/0;W<L;){if(W>=ae){if(z=re.end.row+1,z>L)break;re=this.getNextFoldLine(z,re),ae=re?re.start.row:1/0}else z=W+1;F+=this.getRowLength(W),W=z,te&&(this.$docRowCache.push(W),this.$screenRowCache.push(F))}var ie="";re&&W>=ae?(ie=this.getFoldDisplayLine(re,L,I),H=re.start.row):(ie=this.getLine(L).substring(0,I),H=L);var Q=0;if(this.$useWrapMode){var se=this.$wrapData[H];if(se){for(var de=0;ie.length>=se[de];)F++,de++;ie=ie.substring(se[de-1]||0,ie.length),Q=de>0?se.indent:0}}return this.lineWidgets&&this.lineWidgets[W]&&this.lineWidgets[W].rowsAbove&&(F+=this.lineWidgets[W].rowsAbove),{row:F,column:Q+this.$getStringScreenWidth(ie)[0]}},D.prototype.documentToScreenColumn=function(L,I){return this.documentToScreenPosition(L,I).column},D.prototype.documentToScreenRow=function(L,I){return this.documentToScreenPosition(L,I).row},D.prototype.getScreenLength=function(){var L=0,I=null;if(this.$useWrapMode)for(var H=this.$wrapData.length,j=0,F=0,I=this.$foldData[F++],z=I?I.start.row:1/0;j<H;){var W=this.$wrapData[j];L+=W?W.length+1:1,j++,j>z&&(j=I.end.row+1,I=this.$foldData[F++],z=I?I.start.row:1/0)}else{L=this.getLength();for(var O=this.$foldData,F=0;F<O.length;F++)I=O[F],L-=I.end.row-I.start.row}return this.lineWidgets&&(L+=this.$getWidgetScreenLength()),L},D.prototype.$setFontMetrics=function(L){this.$enableVarChar&&(this.$getStringScreenWidth=function(I,O,F){if(O===0)return[0,0];O||(O=1/0),F=F||0;var H,j;for(j=0;j<I.length&&(H=I.charAt(j),H==="	"?F+=this.getScreenTabSize(F):F+=L.getCharacterWidth(H),!(F>O));j++);return[F,j]})},D.prototype.getPrecedingCharacter=function(){var L=this.selection.getCursor();if(L.column===0)return L.row===0?"":this.doc.getNewLineCharacter();var I=this.getLine(L.row);return I[L.column-1]},D.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},D})();y.$uid=0,y.prototype.$modes=o.$modes,y.prototype.getValue=y.prototype.toString,y.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},y.prototype.$overwrite=!1,y.prototype.$mode=null,y.prototype.$modeId=null,y.prototype.$scrollTop=0,y.prototype.$scrollLeft=0,y.prototype.$wrapLimit=80,y.prototype.$useWrapMode=!1,y.prototype.$wrapLimitRange={min:null,max:null},y.prototype.lineWidgets=null,y.prototype.isFullWidth=N,s.implement(y.prototype,h);var _=1,w=2,C=3,b=4,T=9,A=10,k=11,P=12;function N(D){return D<4352?!1:D>=4352&&D<=4447||D>=4515&&D<=4519||D>=4602&&D<=4607||D>=9001&&D<=9002||D>=11904&&D<=11929||D>=11931&&D<=12019||D>=12032&&D<=12245||D>=12272&&D<=12283||D>=12288&&D<=12350||D>=12353&&D<=12438||D>=12441&&D<=12543||D>=12549&&D<=12589||D>=12593&&D<=12686||D>=12688&&D<=12730||D>=12736&&D<=12771||D>=12784&&D<=12830||D>=12832&&D<=12871||D>=12880&&D<=13054||D>=13056&&D<=19903||D>=19968&&D<=42124||D>=42128&&D<=42182||D>=43360&&D<=43388||D>=44032&&D<=55203||D>=55216&&D<=55238||D>=55243&&D<=55291||D>=63744&&D<=64255||D>=65040&&D<=65049||D>=65072&&D<=65106||D>=65108&&D<=65126||D>=65128&&D<=65131||D>=65281&&D<=65376||D>=65504&&D<=65510}t("./edit_session/folding").Folding.call(y.prototype),t("./edit_session/bracket_match").BracketMatch.call(y.prototype),o.defineOptions(y.prototype,"session",{wrap:{set:function(D){if(!D||D=="off"?D=!1:D=="free"?D=!0:D=="printMargin"?D=-1:typeof D=="string"&&(D=parseInt(D,10)||!1),this.$wrap!=D)if(this.$wrap=D,!D)this.setUseWrapMode(!1);else{var L=typeof D=="number"?D:null;this.setWrapLimitRange(L,L),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(D){D=D=="auto"?this.$mode.type!="text":D!="text",D!=this.$wrapAsCode&&(this.$wrapAsCode=D,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(D){this.$useWorker=D,this.$stopWorker(),D&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(D){D=parseInt(D),D>0&&this.$tabSize!==D&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=D,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(D){this.setFoldStyle(D)},handlesSet:!0},overwrite:{set:function(D){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(D){this.doc.setNewLineMode(D)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(D){this.setMode(D)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=y}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,r,i){var s=t("./lib/lang"),l=t("./lib/oop"),a=t("./range").Range,o=(function(){function d(){this.$options={}}return d.prototype.set=function(f){return l.mixin(this.$options,f),this},d.prototype.getOptions=function(){return s.copyObject(this.$options)},d.prototype.setOptions=function(f){this.$options=f},d.prototype.find=function(f){var p=this.$options,m=this.$matchIterator(f,p);if(!m)return!1;var g=null;return m.forEach(function(v,y,_,w){return g=new a(v,y,_,w),y==w&&p.start&&p.start.start&&p.skipCurrent!=!1&&g.isEqual(p.start)?(g=null,!1):!0}),g},d.prototype.findAll=function(f){var p=this.$options;if(!p.needle)return[];this.$assembleRegExp(p);var m=p.range,g=m?f.getLines(m.start.row,m.end.row):f.doc.getAllLines(),v=[],y=p.re;if(p.$isMultiLine){var _=y.length,w=g.length-_,C;e:for(var b=y.offset||0;b<=w;b++){for(var T=0;T<_;T++)if(g[b+T].search(y[T])==-1)continue e;var A=g[b],k=g[b+_-1],P=A.length-A.match(y[0])[0].length,N=k.match(y[_-1])[0].length;C&&C.end.row===b&&C.end.column>P||(v.push(C=new a(b,P,b+_-1,N)),_>2&&(b=b+_-2))}}else for(var D,L=0;L<g.length;L++)if(this.$isMultilineSearch(p)){var I=g.length-1;if(D=this.$multiLineForward(f,y,L,I),D){var O=D.endRow<=I?D.endRow-1:I;O>L&&(L=O),v.push(new a(D.startRow,D.startCol,D.endRow,D.endCol))}}else{D=s.getMatchOffsets(g[L],y);for(var T=0;T<D.length;T++){var F=D[T];v.push(new a(L,F.offset,L,F.offset+F.length))}}if(m){for(var H=m.start.column,j=m.end.column,L=0,T=v.length-1;L<T&&v[L].start.column<H&&v[L].start.row==0;)L++;for(var z=m.end.row-m.start.row;L<T&&v[T].end.column>j&&v[T].end.row==z;)T--;for(v=v.slice(L,T+1),L=0,T=v.length;L<T;L++)v[L].start.row+=m.start.row,v[L].end.row+=m.start.row}return v},d.prototype.parseReplaceString=function(f){for(var p={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",g=0,v=f.length;g<v;g++){var y=f.charCodeAt(g);if(y===p.Backslash){if(g++,g>=v){m+="\\";break}var _=f.charCodeAt(g);switch(_){case p.Backslash:m+="\\";break;case p.n:m+=`
`;break;case p.t:m+="	";break}continue}if(y===p.DollarSign){if(g++,g>=v){m+="$";break}var w=f.charCodeAt(g);if(w===p.DollarSign){m+="$$";continue}if(w===p.Digit0||w===p.Ampersand){m+="$&";continue}if(p.Digit1<=w&&w<=p.Digit9){m+="$"+f[g];continue}}m+=f[g]}return m||f},d.prototype.replace=function(f,p){var m=this.$options,g=this.$assembleRegExp(m);if(m.$isMultiLine)return p;if(g){var v=this.$isMultilineSearch(m);v&&(f=f.replace(/\r\n|\r|\n/g,`
`));var y=g.exec(f);if(!y||!v&&y[0].length!=f.length)return null;if(p=m.regExp?this.parseReplaceString(p):p.replace(/\$/g,"$$$$"),p=f.replace(g,p),m.preserveCase){p=p.split("");for(var _=Math.min(f.length,f.length);_--;){var w=f[_];w&&w.toLowerCase()!=w?p[_]=p[_].toUpperCase():p[_]=p[_].toLowerCase()}p=p.join("")}return p}},d.prototype.$assembleRegExp=function(f,p){if(f.needle instanceof RegExp)return f.re=f.needle;var m=f.needle;if(!f.needle)return f.re=!1;f.regExp||(m=s.escapeRegExp(m));var g=f.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),f.$supportsUnicodeFlag=!0,g+="u"}catch{f.$supportsUnicodeFlag=!1}if(f.wholeWord&&(m=h(m,f)),f.$isMultiLine=!p&&/[\n\r]/.test(m),f.$isMultiLine)return f.re=this.$assembleMultilineRegExp(m,g);try{var v=new RegExp(m,g)}catch{v=!1}return f.re=v},d.prototype.$assembleMultilineRegExp=function(f,p){for(var m=f.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),g=[],v=0;v<m.length;v++)try{g.push(new RegExp(m[v],p))}catch{return!1}return g},d.prototype.$isMultilineSearch=function(f){return f.re&&/\\r\\n|\\r|\\n/.test(f.re.source)&&f.regExp&&!f.$isMultiLine},d.prototype.$multiLineForward=function(f,p,m,g){for(var v,y=u(f,m),_=m;_<=g;){for(var w=0;w<y&&!(_>g);w++){var C=f.getLine(_++);v=v==null?C:v+`
`+C}var b=p.exec(v);if(p.lastIndex=0,b){var T=v.slice(0,b.index).split(`
`),A=b[0].split(`
`),k=m+T.length-1,P=T[T.length-1].length,N=k+A.length-1,D=A.length==1?P+A[0].length:A[A.length-1].length;return{startRow:k,startCol:P,endRow:N,endCol:D}}}return null},d.prototype.$multiLineBackward=function(f,p,m,g,v){for(var y,_=u(f,g),w=f.getLine(g).length-m,C=g;C>=v;){for(var b=0;b<_&&C>=v;b++){var T=f.getLine(C--);y=y==null?T:T+`
`+y}var A=c(y,p,w);if(A){var k=y.slice(0,A.index).split(`
`),P=A[0].split(`
`),N=C+k.length,D=k[k.length-1].length,L=N+P.length-1,I=P.length==1?D+P[0].length:P[P.length-1].length;return{startRow:N,startCol:D,endRow:L,endCol:I}}}return null},d.prototype.$matchIterator=function(f,p){var m=this.$assembleRegExp(p);if(!m)return!1;var g=this.$isMultilineSearch(p),v=this.$multiLineForward,y=this.$multiLineBackward,_=p.backwards==!0,w=p.skipCurrent!=!1,C=m.unicode,b=p.range,T=p.start;T||(T=b?b[_?"end":"start"]:f.selection.getRange()),T.start&&(T=T[w!=_?"end":"start"]);var A=b?b.start.row:0,k=b?b.end.row:f.getLength()-1;if(_)var P=function(L){var I=T.row;if(!D(I,T.column,L)){for(I--;I>=A;I--)if(D(I,Number.MAX_VALUE,L))return;if(p.wrap!=!1){for(I=k,A=T.row;I>=A;I--)if(D(I,Number.MAX_VALUE,L))return}}};else var P=function(I){var O=T.row;if(!D(O,T.column,I)){for(O=O+1;O<=k;O++)if(D(O,0,I))return;if(p.wrap!=!1){for(O=A,k=T.row;O<=k;O++)if(D(O,0,I))return}}};if(p.$isMultiLine)var N=m.length,D=function(L,I,O){var F=_?L-N+1:L;if(!(F<0||F+N>f.getLength())){var H=f.getLine(F),j=H.search(m[0]);if(!(!_&&j<I||j===-1)){for(var z=1;z<N;z++)if(H=f.getLine(F+z),H.search(m[z])==-1)return;var W=H.match(m[N-1])[0].length;if(!(_&&W>I)&&O(F,j,F+N-1,W))return!0}}};else if(_)var D=function(I,O,F){if(g){var H=y(f,m,O,I,A);if(!H)return!1;if(F(H.startRow,H.startCol,H.endRow,H.endCol))return!0}else{var j=f.getLine(I),z=[],W,K=0;for(m.lastIndex=0;W=m.exec(j);){var X=W[0].length;if(K=W.index,!X){if(K>=j.length)break;m.lastIndex=K+=s.skipEmptyMatch(j,K,C)}if(W.index+X>O)break;z.push(W.index,X)}for(var J=z.length-1;J>=0;J-=2){var te=z[J-1],X=z[J];if(F(I,te,I,te+X))return!0}}};else var D=function(I,O,F){if(m.lastIndex=O,g){var H=v(f,m,I,k);if(H){var j=H.endRow<=k?H.endRow-1:k;j>I&&(I=j)}if(!H)return!1;if(F(H.startRow,H.startCol,H.endRow,H.endCol))return!0}else for(var z=f.getLine(I),W,K;K=m.exec(z);){var X=K[0].length;if(W=K.index,F(I,W,I,W+X))return!0;if(!X&&(m.lastIndex=W+=s.skipEmptyMatch(z,W,C),W>=z.length))return!1}};return{forEach:P}},d})();function h(d,f){var p=s.supportsLookbehind();function m(_,w){w===void 0&&(w=!0);var C=p&&f.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return C.test(_)||f.regExp?p&&f.$supportsUnicodeFlag?w?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var g=Array.from(d),v=g[0],y=g[g.length-1];return m(v)+d+m(y,!1)}function c(d,f,p){for(var m=null,g=0;g<=d.length;){f.lastIndex=g;var v=f.exec(d);if(!v)break;var y=v.index+v[0].length;if(y>d.length-p)break;(!m||y>m.index+m[0].length)&&(m=v),g=v.index+1}return m}function u(d,f){var p=5e3,m={row:f,column:0},g=d.doc.positionToIndex(m),v=g+p,y=d.doc.indexToPosition(v),_=y.row;return _+1}r.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,i){var s=this&&this.__extends||(function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})(),l=t("../lib/keys"),a=t("../lib/useragent"),o=l.KEY_MODS,h=(function(){function d(f,p){this.$init(f,p,!1)}return d.prototype.$init=function(f,p,m){this.platform=p||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=m},d.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},d.prototype.removeCommand=function(f,p){var m=f&&(typeof f=="string"?f:f.name);f=this.commands[m],p||delete this.commands[m];var g=this.commandKeyBinding;for(var v in g){var y=g[v];if(y==f)delete g[v];else if(Array.isArray(y)){var _=y.indexOf(f);_!=-1&&(y.splice(_,1),y.length==1&&(g[v]=y[0]))}}},d.prototype.bindKey=function(f,p,m){if(typeof f=="object"&&f&&(m==null&&(m=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(g){var v="";if(g.indexOf(" ")!=-1){var y=g.split(/\s+/);g=y.pop(),y.forEach(function(C){var b=this.parseKeys(C),T=o[b.hashId]+b.key;v+=(v?" ":"")+T,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var _=this.parseKeys(g),w=o[_.hashId]+_.key;this._addCommandToBinding(v+w,p,m)},this)}},d.prototype._addCommandToBinding=function(f,p,m){var g=this.commandKeyBinding,v;if(!p)delete g[f];else if(!g[f]||this.$singleCommand)g[f]=p;else{Array.isArray(g[f])?(v=g[f].indexOf(p))!=-1&&g[f].splice(v,1):g[f]=[g[f]],typeof m!="number"&&(m=c(p));var y=g[f];for(v=0;v<y.length;v++){var _=y[v],w=c(_);if(w>m)break}y.splice(v,0,p)}},d.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var m=f[p];if(m){if(typeof m=="string")return this.bindKey(m,p);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=p),this.addCommand(m))}},this)},d.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},d.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},d.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},d.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(w){return w}),m=p.pop(),g=l[m];if(l.FUNCTION_KEYS[g])m=l.FUNCTION_KEYS[g].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var v=0,y=p.length;y--;){var _=l.KEY_MODS[p[y]];if(_==null)return typeof console<"u"&&console.error("invalid modifier "+p[y]+" in "+f),!1;v|=_}return{key:m,hashId:v}},d.prototype.findKeyCommand=function(f,p){var m=o[f]+p;return this.commandKeyBinding[m]},d.prototype.handleKeyboard=function(f,p,m,g){if(!(g<0)){var v=o[p]+m,y=this.commandKeyBinding[v];return f.$keyChain&&(f.$keyChain+=" "+v,y=this.commandKeyBinding[f.$keyChain]||y),y&&(y=="chainKeys"||y[y.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||v,{command:"null"}):(f.$keyChain&&((!p||p==4)&&m.length==1?f.$keyChain=f.$keyChain.slice(0,-v.length-1):(p==-1||g>0)&&(f.$keyChain="")),{command:y})}},d.prototype.getStatusText=function(f,p){return p.$keyChain||""},d})();function c(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var u=(function(d){s(f,d);function f(p,m){var g=d.call(this,p,m)||this;return g.$singleCommand=!0,g}return f})(h);u.call=function(d,f,p){h.prototype.$init.call(d,f,p,!0)},h.call=function(d,f,p){h.prototype.$init.call(d,f,p,!1)},r.HashHandler=u,r.MultiHashHandler=h}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,r,i){var s=this&&this.__extends||(function(){var c=function(u,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},c(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}})(),l=t("../lib/oop"),a=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,h=(function(c){s(u,c);function u(d,f){var p=c.call(this,f,d)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),p}return u.prototype.exec=function(d,f,p){if(Array.isArray(d)){for(var m=d.length;m--;)if(this.exec(d[m],f,p))return!0;return!1}typeof d=="string"&&(d=this.commands[d]);var g={editor:f,command:d,args:p};return this.canExecute(d,f)?(g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1):(this._signal("commandUnavailable",g),!1)},u.prototype.canExecute=function(d,f){return typeof d=="string"&&(d=this.commands[d]),!(!d||f&&f.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(f))},u.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},u.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,d):this.exec(f[0],d,f[1])},this)}finally{this.$inReplay=!1}}},u.prototype.trimMacro=function(d){return d.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},u})(a);l.implement(h.prototype,o),r.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,r,i){var s=t("../lib/lang"),l=t("../config"),a=t("../range").Range;function o(c,u){return{win:c,mac:u}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(c){l.loadModule("ace/ext/settings_menu",function(u){u.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(c){l.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(c){l.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(c,u){typeof u=="number"&&!isNaN(u)&&c.gotoLine(u),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(c){l.loadModule("ace/ext/searchbox",function(u){u.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(c,u){c.navigateUp(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(c,u){c.navigateDown(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(c,u){c.navigateLeft(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(c,u){c.navigateRight(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var u=c.$copyWithEmptySelection&&c.selection.isEmpty(),d=u?c.selection.getLineRange():c.selection.getRange();c._emit("cut",d),d.isEmpty()||c.session.remove(d),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,u){c.$handlePaste(u)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(c){l.loadModule("ace/ext/searchbox",function(u){u.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(c){var u=c.selection.getRange();u.start.column=0,c.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(c){var u=c.selection.getRange();u.end.column=Number.MAX_VALUE,c.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,u){c.insert(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,u){c.insert(s.stringRepeat(u.text||"",u.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var u=c.selection.getRange();u.start.column=u.end.column=0,u.end.row++,c.selection.setRange(u,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(c){for(var u=c.selection.isBackwards(),d=u?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),f=u?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(d.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),g=m.replace(/\n\s*/," ").length,v=c.session.doc.getLine(d.row),y=d.row+1;y<=f.row+1;y++){var _=s.stringTrimLeft(s.stringTrimRight(c.session.doc.getLine(y)));_.length!==0&&(_=" "+_),v+=_}f.row+1<c.session.doc.getLength()-1&&(v+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new a(d.row,0,f.row+2,0),v),g>0?(c.selection.moveCursorTo(d.row,d.column),c.selection.selectTo(d.row,d.column+g)):(p=c.session.doc.getLine(d.row).length>p?p+1:p,c.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(c){var u=c.session.doc.getLength()-1,d=c.session.doc.getLine(u).length,f=c.selection.rangeList.ranges,p=[];f.length<1&&(f=[c.selection.getRange()]);for(var m=0;m<f.length;m++)m==f.length-1&&(f[m].end.row===u&&f[m].end.column===d||p.push(new a(f[m].end.row,f[m].end.column,u,d))),m===0?f[m].start.row===0&&f[m].start.column===0||p.push(new a(0,0,f[m].start.row,f[m].start.column)):p.push(new a(f[m-1].end.row,f[m-1].end.column,f[m].start.row,f[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var u=c.getCursorPosition();c.selection.moveTo(u.row-1,Number.MAX_VALUE),c.insert(`
`),u.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)r.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys"],function(t,r,i){var s=t("../lib/keys"),l=(function(){function o(h){this.editor=h,this.gutterLayer=h.renderer.$gutterLayer,this.element=h.renderer.$gutter,this.lines=h.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=this.editor.$mouseHandler.$tooltip}return o.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},o.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},o.prototype.$onGutterKeyDown=function(h){if(this.annotationTooltip.isOpen){h.preventDefault(),h.keyCode===s.escape&&this.annotationTooltip.hide();return}if(h.target===this.element){if(h.keyCode!=s.enter)return;h.preventDefault();var c=this.editor.getCursorPosition().row;this.editor.isRowVisible(c)||this.editor.scrollToLine(c,!0,!0),setTimeout((function(){var u=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),d=this.$findNearestFoldLaneWidget(u),f=this.$findNearestAnnotation(u);if(!(d===null&&f===null)){var p=this.$findClosestNumber(d,f,u);if(p===d)if(this.activeLane="fold",this.activeRowIndex=d,this.$isCustomWidgetVisible(d)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(h),setTimeout((function(){this.editor._signal("gutterkeydown",new a(h,this))}).bind(this),10)},o.prototype.$handleGutterKeyboardInteraction=function(h){if(h.keyCode===s.tab){h.preventDefault();return}if(h.keyCode===s.escape){h.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(h.keyCode===s.up){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(h.keyCode===s.down){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(h.keyCode===s.left){h.preventDefault(),this.$switchLane("annotation");return}if(h.keyCode===s.right){h.preventDefault(),this.$switchLane("fold");return}if(h.keyCode===s.enter||h.keyCode===s.space){switch(h.preventDefault(),this.activeLane){case"fold":var c=this.$rowIndexToRow(this.activeRowIndex),u=this.editor.session.$gutterCustomWidgets[c];if(u)u.callbacks&&u.callbacks.onClick&&u.callbacks.onClick(h,c);else if(this.gutterLayer.session.foldWidgets[c]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),h),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==c&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(c),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex)),this.annotationTooltip.$fromKeyboard=!0;break}return}},o.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hide()},o.prototype.$isFoldWidgetVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),u=this.$getFoldWidget(h).style.display!=="none";return c&&u},o.prototype.$isCustomWidgetVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),u=!!this.$getCustomWidget(h);return c&&u},o.prototype.$isAnnotationVisible=function(h){var c=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),u=this.$getAnnotation(h).style.display!=="none";return c&&u},o.prototype.$getFoldWidget=function(h){var c=this.lines.get(h),u=c.element;return u.childNodes[1]},o.prototype.$getCustomWidget=function(h){var c=this.lines.get(h),u=c.element;return u.childNodes[3]},o.prototype.$getAnnotation=function(h){var c=this.lines.get(h),u=c.element;return u.childNodes[2]},o.prototype.$findNearestFoldLaneWidget=function(h){if(this.$isCustomWidgetVisible(h)||this.$isFoldWidgetVisible(h))return h;for(var c=0;h-c>0||h+c<this.lines.getLength()-1;){if(c++,h-c>=0&&this.$isCustomWidgetVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(h+c))return h+c;if(h-c>=0&&this.$isFoldWidgetVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(h+c))return h+c}return null},o.prototype.$findNearestAnnotation=function(h){if(this.$isAnnotationVisible(h))return h;for(var c=0;h-c>0||h+c<this.lines.getLength()-1;){if(c++,h-c>=0&&this.$isAnnotationVisible(h-c))return h-c;if(h+c<=this.lines.getLength()-1&&this.$isAnnotationVisible(h+c))return h+c}return null},o.prototype.$focusFoldWidget=function(h){if(h!=null){var c=this.$getFoldWidget(h);c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus()}},o.prototype.$focusCustomWidget=function(h){if(h!=null){var c=this.$getCustomWidget(h);c&&(c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus())}},o.prototype.$focusAnnotation=function(h){if(h!=null){var c=this.$getAnnotation(h);c.classList.add(this.editor.renderer.keyboardFocusClassName),c.focus()}},o.prototype.$blurFoldWidget=function(h){var c=this.$getFoldWidget(h);c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur()},o.prototype.$blurCustomWidget=function(h){var c=this.$getCustomWidget(h);c&&(c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur())},o.prototype.$blurAnnotation=function(h){var c=this.$getAnnotation(h);c.classList.remove(this.editor.renderer.keyboardFocusClassName),c.blur()},o.prototype.$moveFoldWidgetUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveFoldWidgetDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isFoldWidgetVisible(h)||this.$isCustomWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$isFoldWidgetVisible(h)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},o.prototype.$moveAnnotationUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$moveAnnotationDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},o.prototype.$findClosestNumber=function(h,c,u){return h===null?c:c===null||Math.abs(u-h)<=Math.abs(u-c)?h:c},o.prototype.$switchLane=function(h){switch(h){case"annotation":if(this.activeLane==="annotation")break;var c=this.$findNearestAnnotation(this.activeRowIndex);if(c==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var u=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(u===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=u,this.$isCustomWidgetVisible(u)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},o.prototype.$rowIndexToRow=function(h){var c=this.lines.get(h);return c?c.row:null},o.prototype.$rowToRowIndex=function(h){for(var c=0;c<this.lines.getLength();c++){var u=this.lines.get(c);if(u.row==h)return c}return null},o})();r.GutterKeyboardHandler=l;var a=(function(){function o(h,c){this.gutterKeyboardHandler=c,this.domEvent=h}return o.prototype.getKey=function(){return s.keyCodeToString(this.domEvent.keyCode)},o.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},o.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},o.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},o})();r.GutterKeyboardEvent=a}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(t,r,i){var s=this&&this.__values||function(I){var O=typeof Symbol=="function"&&Symbol.iterator,F=O&&I[O],H=0;if(F)return F.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&H>=I.length&&(I=void 0),{value:I&&I[H++],done:!I}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")},l=t("./lib/oop"),a=t("./lib/dom"),o=t("./lib/lang"),h=t("./lib/useragent"),c=t("./keyboard/textinput").TextInput,u=t("./mouse/mouse_handler").MouseHandler,d=t("./mouse/fold_handler").FoldHandler,f=t("./keyboard/keybinding").KeyBinding,p=t("./edit_session").EditSession,m=t("./search").Search,g=t("./range").Range,v=t("./lib/event_emitter").EventEmitter,y=t("./commands/command_manager").CommandManager,_=t("./commands/default_commands").commands,w=t("./config"),C=t("./token_iterator").TokenIterator,b=t("./keyboard/gutter_handler").GutterKeyboardHandler,T=t("./config").nls,A=t("./clipboard"),k=t("./lib/keys"),P=t("./lib/event"),N=t("./tooltip").HoverTooltip,D=(function(){function I(O,F,H){this.id="editor"+ ++I.$uid,this.session,this.$toDestroy=[];var j=O.getContainerElement();this.container=j,this.renderer=O,this.commands=new y(h.isMac?"mac":"win",_),typeof document=="object"&&(this.textInput=new c(O.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new d(this)),this.keyBinding=new f(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(z,W){W._$emitInputEvent.schedule(31)}),this.setSession(F||H&&H.session||new p("")),w.resetOptions(this),H&&this.setOptions(H),w._signal("editor",this)}return I.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},I.prototype.startOperation=function(O){this.session.startOperation(O)},I.prototype.endOperation=function(O){this.session.endOperation(O)},I.prototype.onStartOperation=function(O){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,O||(this.previousCommand=null)},I.prototype.onEndOperation=function(O){if(this.curOp&&this.session){if(O&&O.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var F=this.curOp.command,H=F&&F.scrollIntoView;if(H){switch(H){case"center-animate":H="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var j=this.selection.getRange(),z=this.renderer.layerConfig;(j.start.row>=z.lastRow||j.end.row<=z.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}H=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},I.prototype.$historyTracker=function(O){if(this.$mergeUndoDeltas){var F=this.prevOp,H=this.$mergeableCommands,j=F.command&&O.command.name==F.command.name;if(O.command.name=="insertstring"){var z=O.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),j=j&&this.mergeNextCommand&&(!/\s/.test(z)||/\s/.test(F.args)),this.mergeNextCommand=!0}else j=j&&H.indexOf(O.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(j=!1),j?this.session.mergeUndoDeltas=!0:H.indexOf(O.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},I.prototype.setKeyboardHandler=function(O,F){if(O&&typeof O=="string"&&O!="ace"){this.$keybindingId=O;var H=this;w.loadModule(["keybinding",O],function(j){H.$keybindingId==O&&H.keyBinding.setKeyboardHandler(j&&j.handler),F&&F()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(O),F&&F()},I.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},I.prototype.setSession=function(O){if(this.session!=O){this.curOp&&this.endOperation(),this.curOp={};var F=this.session;if(F){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var H=this.session.getSelection();H.off("changeCursor",this.$onCursorChange),H.off("changeSelection",this.$onSelectionChange)}this.session=O,O?(this.$onDocumentChange=this.onDocumentChange.bind(this),O.on("change",this.$onDocumentChange),this.renderer.setSession(O),this.$onChangeMode=this.onChangeMode.bind(this),O.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),O.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),O.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),O.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),O.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),O.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=O.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(O)),this._signal("changeSession",{session:O,oldSession:F}),this.curOp=null,F&&F._signal("changeEditor",{oldEditor:this}),F&&(F.$editor=null),O&&O._signal("changeEditor",{editor:this}),O&&(O.$editor=this),O&&!O.destroyed&&O.bgTokenizer.scheduleStart()}},I.prototype.getSession=function(){return this.session},I.prototype.setValue=function(O,F){return this.session.doc.setValue(O),F?F==1?this.navigateFileEnd():F==-1&&this.navigateFileStart():this.selectAll(),O},I.prototype.getValue=function(){return this.session.getValue()},I.prototype.getSelection=function(){return this.selection},I.prototype.resize=function(O){this.renderer.onResize(O)},I.prototype.setTheme=function(O,F){this.renderer.setTheme(O,F)},I.prototype.getTheme=function(){return this.renderer.getTheme()},I.prototype.setStyle=function(O,F){this.renderer.setStyle(O,F)},I.prototype.unsetStyle=function(O){this.renderer.unsetStyle(O)},I.prototype.getFontSize=function(){return this.getOption("fontSize")||a.computedStyle(this.container).fontSize},I.prototype.setFontSize=function(O){this.setOption("fontSize",O)},I.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var O=this;this.$highlightPending=!0,setTimeout(function(){O.$highlightPending=!1;var F=O.session;if(!(!F||F.destroyed)){F.$bracketHighlight&&(F.$bracketHighlight.markerIds.forEach(function(re){F.removeMarker(re)}),F.$bracketHighlight=null);var H=O.getCursorPosition(),j=O.getKeyboardHandler(),z=j&&j.$getDirectionForHighlight&&j.$getDirectionForHighlight(O),W=F.getMatchingBracketRanges(H,z);if(!W){var K=new C(F,H.row,H.column),X=K.getCurrentToken();if(X&&/\b(?:tag-open|tag-name)/.test(X.type)){var J=F.getMatchingTags(H);J&&(W=[J.openTagName.isEmpty()?J.openTag:J.openTagName,J.closeTagName.isEmpty()?J.closeTag:J.closeTagName])}}if(!W&&F.$mode.getMatching&&(W=F.$mode.getMatching(O.session)),!W){O.getHighlightIndentGuides()&&O.renderer.$textLayer.$highlightIndentGuide();return}var te="ace_bracket";Array.isArray(W)?W.length==1&&(te="ace_error_bracket"):W=[W],W.length==2&&(g.comparePoints(W[0].end,W[1].start)==0?W=[g.fromPoints(W[0].start,W[1].end)]:g.comparePoints(W[0].start,W[1].end)==0&&(W=[g.fromPoints(W[1].start,W[0].end)])),F.$bracketHighlight={ranges:W,markerIds:W.map(function(re){return F.addMarker(re,te,"text")})},O.getHighlightIndentGuides()&&O.renderer.$textLayer.$highlightIndentGuide()}},50)}},I.prototype.focus=function(){this.textInput.focus()},I.prototype.isFocused=function(){return this.textInput.isFocused()},I.prototype.blur=function(){this.textInput.blur()},I.prototype.onFocus=function(O){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",O))},I.prototype.onBlur=function(O){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",O))},I.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},I.prototype.onDocumentChange=function(O){var F=this.session.$useWrapMode,H=O.start.row==O.end.row?O.end.row:1/0;this.renderer.updateLines(O.start.row,H,F),this._signal("change",O),this.$cursorChange()},I.prototype.onTokenizerUpdate=function(O){var F=O.data;this.renderer.updateLines(F.first,F.last)},I.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},I.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},I.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},I.prototype.$updateHighlightActiveLine=function(){var O=this.getSession(),F;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(F=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(F=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(F=!1)),O.$highlightLineMarker&&!F)O.removeMarker(O.$highlightLineMarker.id),O.$highlightLineMarker=null;else if(!O.$highlightLineMarker&&F){var H=new g(F.row,F.column,F.row,1/0);H.id=O.addMarker(H,"ace_active-line","screenLine"),O.$highlightLineMarker=H}else F&&(O.$highlightLineMarker.start.row=F.row,O.$highlightLineMarker.end.row=F.row,O.$highlightLineMarker.start.column=F.column,O._signal("changeBackMarker"))},I.prototype.onSelectionChange=function(O){var F=this.session;if(F.$selectionMarker&&F.removeMarker(F.$selectionMarker),F.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var H=this.selection.getRange(),j=this.getSelectionStyle();F.$selectionMarker=F.addMarker(H,"ace_selection",j)}var z=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(z),this._signal("changeSelection")},I.prototype.$getSelectionHighLightRegexp=function(){var O=this.session,F=this.getSelectionRange();if(!(F.isEmpty()||F.isMultiLine())){var H=F.start.column,j=F.end.column,z=O.getLine(F.start.row),W=z.substring(H,j);if(!(W.length>5e3||!/[\w\d]/.test(W))){var K=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:W}),X=z.substring(H-1,j+1);if(K.test(X))return K}}},I.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},I.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},I.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},I.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},I.prototype.onChangeMode=function(O){this.renderer.updateText(),this._emit("changeMode",O)},I.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},I.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},I.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},I.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},I.prototype.getCopyText=function(){var O=this.getSelectedText(),F=this.session.doc.getNewLineCharacter(),H=!1;if(!O&&this.$copyWithEmptySelection){H=!0;for(var j=this.selection.getAllRanges(),z=0;z<j.length;z++){var W=j[z];z&&j[z-1].start.row==W.start.row||(O+=this.session.getLine(W.start.row)+F)}}var K={text:O};return this._signal("copy",K),A.lineMode=H?K.text:!1,K.text},I.prototype.onCopy=function(){this.commands.exec("copy",this)},I.prototype.onCut=function(){this.commands.exec("cut",this)},I.prototype.onPaste=function(O,F){var H={text:O,event:F};this.commands.exec("paste",this,H)},I.prototype.$handlePaste=function(O){typeof O=="string"&&(O={text:O}),this._signal("paste",O);var F=O.text,H=F===A.lineMode,j=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)H?j.insert({row:this.selection.lead.row,column:0},F):this.insert(F);else if(H)this.selection.rangeList.ranges.forEach(function(te){j.insert({row:te.start.row,column:0},F)});else{var z=F.split(/\r\n|\r|\n/),W=this.selection.rangeList.ranges,K=z.length==2&&(!z[0]||!z[1]);if(z.length!=W.length||K)return this.commands.exec("insertstring",this,F);for(var X=W.length;X--;){var J=W[X];J.isEmpty()||j.remove(J),j.insert(J.start,z[X])}}},I.prototype.execCommand=function(O,F){return this.commands.exec(O,this,F)},I.prototype.insert=function(O,F){var H=this.session,j=H.getMode(),z=this.getCursorPosition();if(this.getBehavioursEnabled()&&!F){var W=j.transformAction(H.getState(z.row),"insertion",this,H,O);W&&(O!==W.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),O=W.text)}if(O=="	"&&(O=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&O.indexOf(`
`)==-1){var K=g.fromPoints(z,z);K.end.column+=O.length,this.session.remove(K)}}else{var K=this.getSelectionRange();z=this.session.remove(K),this.clearSelection()}if(O==`
`||O==`\r
`){var re=H.getLine(z.row);if(z.column>re.search(/\S|$/)){var X=re.substr(z.column).search(/\S|$/);H.doc.removeInLine(z.row,z.column,z.column+X)}}this.clearSelection();var J=z.column,te=H.getState(z.row),re=H.getLine(z.row),ae=j.checkOutdent(te,re,O);if(H.insert(z,O),W&&W.selection&&(W.selection.length==2?this.selection.setSelectionRange(new g(z.row,J+W.selection[0],z.row,J+W.selection[1])):this.selection.setSelectionRange(new g(z.row+W.selection[0],W.selection[1],z.row+W.selection[2],W.selection[3]))),this.$enableAutoIndent){if(H.getDocument().isNewLine(O)){var ie=j.getNextLineIndent(te,re.slice(0,z.column),H.getTabString());H.insert({row:z.row+1,column:0},ie)}ae&&j.autoOutdent(te,H,z.row)}},I.prototype.autoIndent=function(){for(var O=this.session,F=O.getMode(),H=this.selection.isEmpty()?[new g(0,0,O.doc.getLength()-1,0)]:this.selection.getAllRanges(),j="",z="",W="",K=O.getTabString(),X=0;X<H.length;X++)for(var J=H[X].start.row,te=H[X].end.row,re=J;re<=te;re++){re>0&&(j=O.getState(re-1),z=O.getLine(re-1),W=F.getNextLineIndent(j,z,K));var ae=O.getLine(re),ie=F.$getIndent(ae);if(W!==ie){if(ie.length>0){var Q=new g(re,0,re,ie.length);O.remove(Q)}W.length>0&&O.insert({row:re,column:0},W)}F.autoOutdent(j,O,re)}},I.prototype.onTextInput=function(O,F){if(!F)return this.keyBinding.onTextInput(O);this.startOperation({command:{name:"insertstring"}});var H=this.applyComposition.bind(this,O,F);this.selection.rangeCount?this.forEachSelection(H):H(),this.endOperation()},I.prototype.applyComposition=function(O,F){if(F.extendLeft||F.extendRight){var H=this.selection.getRange();H.start.column-=F.extendLeft,H.end.column+=F.extendRight,H.start.column<0&&(H.start.row--,H.start.column+=this.session.getLine(H.start.row).length+1),this.selection.setRange(H),!O&&!H.isEmpty()&&this.remove()}if((O||!this.selection.isEmpty())&&this.insert(O,!0),F.restoreStart||F.restoreEnd){var H=this.selection.getRange();H.start.column-=F.restoreStart,H.end.column-=F.restoreEnd,this.selection.setRange(H)}},I.prototype.onCommandKey=function(O,F,H){return this.keyBinding.onCommandKey(O,F,H)},I.prototype.setOverwrite=function(O){this.session.setOverwrite(O)},I.prototype.getOverwrite=function(){return this.session.getOverwrite()},I.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},I.prototype.setScrollSpeed=function(O){this.setOption("scrollSpeed",O)},I.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},I.prototype.setDragDelay=function(O){this.setOption("dragDelay",O)},I.prototype.getDragDelay=function(){return this.getOption("dragDelay")},I.prototype.setSelectionStyle=function(O){this.setOption("selectionStyle",O)},I.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},I.prototype.setHighlightActiveLine=function(O){this.setOption("highlightActiveLine",O)},I.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},I.prototype.setHighlightGutterLine=function(O){this.setOption("highlightGutterLine",O)},I.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},I.prototype.setHighlightSelectedWord=function(O){this.setOption("highlightSelectedWord",O)},I.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},I.prototype.setAnimatedScroll=function(O){this.renderer.setAnimatedScroll(O)},I.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},I.prototype.setShowInvisibles=function(O){this.renderer.setShowInvisibles(O)},I.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},I.prototype.setDisplayIndentGuides=function(O){this.renderer.setDisplayIndentGuides(O)},I.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},I.prototype.setHighlightIndentGuides=function(O){this.renderer.setHighlightIndentGuides(O)},I.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},I.prototype.setShowPrintMargin=function(O){this.renderer.setShowPrintMargin(O)},I.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},I.prototype.setPrintMarginColumn=function(O){this.renderer.setPrintMarginColumn(O)},I.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},I.prototype.setReadOnly=function(O){this.setOption("readOnly",O)},I.prototype.getReadOnly=function(){return this.getOption("readOnly")},I.prototype.setBehavioursEnabled=function(O){this.setOption("behavioursEnabled",O)},I.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},I.prototype.setWrapBehavioursEnabled=function(O){this.setOption("wrapBehavioursEnabled",O)},I.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},I.prototype.setShowFoldWidgets=function(O){this.setOption("showFoldWidgets",O)},I.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},I.prototype.setFadeFoldWidgets=function(O){this.setOption("fadeFoldWidgets",O)},I.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},I.prototype.remove=function(O){this.selection.isEmpty()&&(O=="left"?this.selection.selectLeft():this.selection.selectRight());var F=this.getSelectionRange();if(this.getBehavioursEnabled()){var H=this.session,j=H.getState(F.start.row),z=H.getMode().transformAction(j,"deletion",this,H,F);if(F.end.column===0){var W=H.getTextRange(F);if(W[W.length-1]==`
`){var K=H.getLine(F.end.row);/^\s+$/.test(K)&&(F.end.column=K.length)}}z&&(F=z)}this.session.remove(F),this.clearSelection()},I.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},I.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},I.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},I.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var O=this.getSelectionRange();O.start.column==O.end.column&&O.start.row==O.end.row&&(O.end.column=0,O.end.row++),this.session.remove(O),this.clearSelection()},I.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var O=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(O)},I.prototype.setGhostText=function(O,F){this.renderer.setGhostText(O,F)},I.prototype.removeGhostText=function(){this.renderer.removeGhostText()},I.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var O=this.getCursorPosition(),F=O.column;if(F!==0){var H=this.session.getLine(O.row),j,z;F<H.length?(j=H.charAt(F)+H.charAt(F-1),z=new g(O.row,F-1,O.row,F+1)):(j=H.charAt(F-1)+H.charAt(F-2),z=new g(O.row,F-2,O.row,F)),this.session.replace(z,j),this.session.selection.moveToPosition(z.end)}}},I.prototype.toLowerCase=function(){var O=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var F=this.getSelectionRange(),H=this.session.getTextRange(F);this.session.replace(F,H.toLowerCase()),this.selection.setSelectionRange(O)},I.prototype.toUpperCase=function(){var O=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var F=this.getSelectionRange(),H=this.session.getTextRange(F);this.session.replace(F,H.toUpperCase()),this.selection.setSelectionRange(O)},I.prototype.indent=function(){var O=this.session,F=this.getSelectionRange();if(F.start.row<F.end.row){var H=this.$getSelectedRows();O.indentRows(H.first,H.last,"	");return}else if(F.start.column<F.end.column){var j=O.getTextRange(F);if(!/^\s+$/.test(j)){var H=this.$getSelectedRows();O.indentRows(H.first,H.last,"	");return}}var z=O.getLine(F.start.row),W=F.start,K=O.getTabSize(),X=O.documentToScreenColumn(W.row,W.column);if(this.session.getUseSoftTabs())var J=K-X%K,te=o.stringRepeat(" ",J);else{for(var J=X%K;z[F.start.column-1]==" "&&J;)F.start.column--,J--;this.selection.setSelectionRange(F),te="	"}return this.insert(te)},I.prototype.blockIndent=function(){var O=this.$getSelectedRows();this.session.indentRows(O.first,O.last,"	")},I.prototype.blockOutdent=function(){var O=this.session.getSelection();this.session.outdentRows(O.getRange())},I.prototype.sortLines=function(){for(var O=this.$getSelectedRows(),F=this.session,H=[],j=O.first;j<=O.last;j++)H.push(F.getLine(j));H.sort(function(K,X){return K.toLowerCase()<X.toLowerCase()?-1:K.toLowerCase()>X.toLowerCase()?1:0});for(var z=new g(0,0,0,0),j=O.first;j<=O.last;j++){var W=F.getLine(j);z.start.row=j,z.end.row=j,z.end.column=W.length,F.replace(z,H[j-O.first])}},I.prototype.toggleCommentLines=function(){var O=this.session.getState(this.getCursorPosition().row),F=this.$getSelectedRows();this.session.getMode().toggleCommentLines(O,this.session,F.first,F.last)},I.prototype.toggleBlockComment=function(){var O=this.getCursorPosition(),F=this.session.getState(O.row),H=this.getSelectionRange();this.session.getMode().toggleBlockComment(F,this.session,H,O)},I.prototype.getNumberAt=function(O,F){var H=/[\-]?[0-9]+(?:\.[0-9]+)?/g;H.lastIndex=0;for(var j=this.session.getLine(O);H.lastIndex<F;){var z=H.exec(j);if(z.index<=F&&z.index+z[0].length>=F){var W={value:z[0],start:z.index,end:z.index+z[0].length};return W}}return null},I.prototype.modifyNumber=function(O){var F=this.selection.getCursor().row,H=this.selection.getCursor().column,j=new g(F,H-1,F,H),z=this.session.getTextRange(j);if(!isNaN(parseFloat(z))&&isFinite(z)){var W=this.getNumberAt(F,H);if(W){var K=W.value.indexOf(".")>=0?W.start+W.value.indexOf(".")+1:W.end,X=W.start+W.value.length-K,J=parseFloat(W.value);J*=Math.pow(10,X),K!==W.end&&H<K?O*=Math.pow(10,W.end-H-1):O*=Math.pow(10,W.end-H),J+=O,J/=Math.pow(10,X);var te=J.toFixed(X),re=new g(F,W.start,F,W.end);this.session.replace(re,te),this.moveCursorTo(F,Math.max(W.start+1,H+te.length-W.value.length))}}else this.toggleWord()},I.prototype.toggleWord=function(){var O=this.selection.getCursor().row,F=this.selection.getCursor().column;this.selection.selectWord();var H=this.getSelectedText(),j=this.selection.getWordRange().start.column,z=H.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),W=F-j-1;W<0&&(W=0);var K=0,X=0,J=this;H.match(/[A-Za-z0-9_]+/)&&z.forEach(function(ne,ye){X=K+ne.length,W>=K&&W<=X&&(H=ne,J.selection.clearSelection(),J.moveCursorTo(O,K+j),J.selection.selectTo(O,X+j)),K=X});for(var te=this.$toggleWordPairs,re,ae=0;ae<te.length;ae++)for(var ie=te[ae],Q=0;Q<=1;Q++){var se=+!Q,de=H.match(new RegExp("^\\s?_?("+o.escapeRegExp(ie[Q])+")\\s?$","i"));if(de){var xe=H.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(de[1])+")($|\\s)","g"));xe&&(re=H.replace(new RegExp(o.escapeRegExp(ie[Q]),"i"),function(ne){var ye=ie[se];return ne.toUpperCase()==ne?ye=ye.toUpperCase():ne.charAt(0).toUpperCase()==ne.charAt(0)&&(ye=ye.substr(0,0)+ie[se].charAt(0).toUpperCase()+ye.substr(1)),ye}),this.insert(re),re="")}}},I.prototype.findLinkAt=function(O,F){var H,j,z=this.session.getLine(O),W=z.split(/((?:https?|ftp):\/\/[\S]+)/),K=F;K<0&&(K=0);var X=0,J=0,te;try{for(var re=s(W),ae=re.next();!ae.done;ae=re.next()){var ie=ae.value;if(J=X+ie.length,K>=X&&K<=J&&ie.match(/((?:https?|ftp):\/\/[\S]+)/)){te=ie.replace(/[\s:.,'";}\]]+$/,"");break}X=J}}catch(Q){H={error:Q}}finally{try{ae&&!ae.done&&(j=re.return)&&j.call(re)}finally{if(H)throw H.error}}return te},I.prototype.openLink=function(){var O=this.selection.getCursor(),F=this.findLinkAt(O.row,O.column);return F&&window.open(F,"_blank"),F!=null},I.prototype.removeLines=function(){var O=this.$getSelectedRows();this.session.removeFullLines(O.first,O.last),this.clearSelection()},I.prototype.duplicateSelection=function(){var O=this.selection,F=this.session,H=O.getRange(),j=O.isBackwards();if(H.isEmpty()){var z=H.start.row;F.duplicateLines(z,z)}else{var W=j?H.start:H.end,K=F.insert(W,F.getTextRange(H));H.start=W,H.end=K,O.setSelectionRange(H,j)}},I.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},I.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},I.prototype.moveText=function(O,F,H){return this.session.moveText(O,F,H)},I.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},I.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},I.prototype.$moveLines=function(O,F){var H,j,z=this.selection;if(!z.inMultiSelectMode||this.inVirtualSelectionMode){var W=z.toOrientedRange();H=this.$getSelectedRows(W),j=this.session.$moveLines(H.first,H.last,F?0:O),F&&O==-1&&(j=0),W.moveBy(j,0),z.fromOrientedRange(W)}else{var K=z.rangeList.ranges;z.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var X=0,J=0,te=K.length,re=0;re<te;re++){var ae=re;K[re].moveBy(X,0),H=this.$getSelectedRows(K[re]);for(var ie=H.first,Q=H.last;++re<te;){J&&K[re].moveBy(J,0);var se=this.$getSelectedRows(K[re]);if(F&&se.first!=Q)break;if(!F&&se.first>Q+1)break;Q=se.last}for(re--,X=this.session.$moveLines(ie,Q,F?0:O),F&&O==-1&&(ae=re+1);ae<=re;)K[ae].moveBy(X,0),ae++;F||(X=0),J+=X}z.fromOrientedRange(z.ranges[0]),z.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},I.prototype.$getSelectedRows=function(O){return O=(O||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(O.start.row),last:this.session.getRowFoldEnd(O.end.row)}},I.prototype.onCompositionStart=function(O){this.renderer.showComposition(O)},I.prototype.onCompositionUpdate=function(O){this.renderer.setCompositionText(O)},I.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},I.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},I.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},I.prototype.isRowVisible=function(O){return O>=this.getFirstVisibleRow()&&O<=this.getLastVisibleRow()},I.prototype.isRowFullyVisible=function(O){return O>=this.renderer.getFirstFullyVisibleRow()&&O<=this.renderer.getLastFullyVisibleRow()},I.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},I.prototype.$moveByPage=function(O,F){var H=this.renderer,j=this.renderer.layerConfig,z=O*Math.floor(j.height/j.lineHeight);F===!0?this.selection.$moveSelection(function(){this.moveCursorBy(z,0)}):F===!1&&(this.selection.moveCursorBy(z,0),this.selection.clearSelection());var W=H.scrollTop;H.scrollBy(0,z*j.lineHeight),F!=null&&H.scrollCursorIntoView(null,.5),H.animateScrolling(W)},I.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},I.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},I.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},I.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},I.prototype.scrollPageDown=function(){this.$moveByPage(1)},I.prototype.scrollPageUp=function(){this.$moveByPage(-1)},I.prototype.scrollToRow=function(O){this.renderer.scrollToRow(O)},I.prototype.scrollToLine=function(O,F,H,j){this.renderer.scrollToLine(O,F,H,j)},I.prototype.centerSelection=function(){var O=this.getSelectionRange(),F={row:Math.floor(O.start.row+(O.end.row-O.start.row)/2),column:Math.floor(O.start.column+(O.end.column-O.start.column)/2)};this.renderer.alignCursor(F,.5)},I.prototype.getCursorPosition=function(){return this.selection.getCursor()},I.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},I.prototype.getSelectionRange=function(){return this.selection.getRange()},I.prototype.selectAll=function(){this.selection.selectAll()},I.prototype.clearSelection=function(){this.selection.clearSelection()},I.prototype.moveCursorTo=function(O,F){this.selection.moveCursorTo(O,F)},I.prototype.moveCursorToPosition=function(O){this.selection.moveCursorToPosition(O)},I.prototype.jumpToMatching=function(O,F){var H=this.getCursorPosition(),j=new C(this.session,H.row,H.column),z=j.getCurrentToken(),W=0;z&&z.type.indexOf("tag-name")!==-1&&(z=j.stepBackward());var K=z||j.stepForward();if(K){var X,J=!1,te={},re=H.column-K.start,ae,ie={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(K.value.match(/[{}()\[\]]/g)){for(;re<K.value.length&&!J;re++)if(ie[K.value[re]])switch(ae=ie[K.value[re]]+"."+K.type.replace("rparen","lparen"),isNaN(te[ae])&&(te[ae]=0),K.value[re]){case"(":case"[":case"{":te[ae]++;break;case")":case"]":case"}":te[ae]--,te[ae]===-1&&(X="bracket",J=!0);break}}else K.type.indexOf("tag-name")!==-1&&(isNaN(te[K.value])&&(te[K.value]=0),z.value==="<"&&W>1?te[K.value]++:z.value==="</"&&te[K.value]--,te[K.value]===-1&&(X="tag",J=!0));J||(z=K,W++,K=j.stepForward(),re=0)}while(K&&!J);if(X){var Q,se;if(X==="bracket")Q=this.session.getBracketRange(H),Q||(Q=new g(j.getCurrentTokenRow(),j.getCurrentTokenColumn()+re-1,j.getCurrentTokenRow(),j.getCurrentTokenColumn()+re-1),se=Q.start,(F||se.row===H.row&&Math.abs(se.column-H.column)<2)&&(Q=this.session.getBracketRange(se)));else if(X==="tag"){if(!K||K.type.indexOf("tag-name")===-1)return;if(Q=new g(j.getCurrentTokenRow(),j.getCurrentTokenColumn()-2,j.getCurrentTokenRow(),j.getCurrentTokenColumn()-2),Q.compare(H.row,H.column)===0){var de=this.session.getMatchingTags(H);de&&(de.openTag.contains(H.row,H.column)?(Q=de.closeTag,se=Q.start):(Q=de.openTag,de.closeTag.start.row===H.row&&de.closeTag.start.column===H.column?se=Q.end:se=Q.start))}se=se||Q.start}se=Q&&Q.cursor||se,se&&(O?Q&&F?this.selection.setRange(Q):Q&&Q.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(se.row,se.column):this.selection.moveTo(se.row,se.column))}}},I.prototype.gotoLine=function(O,F,H){this.selection.clearSelection(),this.session.unfold({row:O-1,column:F||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(O-1,F||0),this.isRowFullyVisible(O-1)||this.scrollToLine(O-1,!0,H)},I.prototype.navigateTo=function(O,F){this.selection.moveTo(O,F)},I.prototype.navigateUp=function(O){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var F=this.selection.anchor.getPosition();return this.moveCursorToPosition(F)}this.selection.clearSelection(),this.selection.moveCursorBy(-O||-1,0)},I.prototype.navigateDown=function(O){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var F=this.selection.anchor.getPosition();return this.moveCursorToPosition(F)}this.selection.clearSelection(),this.selection.moveCursorBy(O||1,0)},I.prototype.navigateLeft=function(O){if(this.selection.isEmpty())for(O=O||1;O--;)this.selection.moveCursorLeft();else{var F=this.getSelectionRange().start;this.moveCursorToPosition(F)}this.clearSelection()},I.prototype.navigateRight=function(O){if(this.selection.isEmpty())for(O=O||1;O--;)this.selection.moveCursorRight();else{var F=this.getSelectionRange().end;this.moveCursorToPosition(F)}this.clearSelection()},I.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},I.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},I.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},I.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},I.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},I.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},I.prototype.replace=function(O,F){F&&this.$search.set(F);var H=this.$search.find(this.session),j=0;return H&&(this.$tryReplace(H,O)&&(j=1),this.selection.setSelectionRange(H),this.renderer.scrollSelectionIntoView(H.start,H.end)),j},I.prototype.replaceAll=function(O,F){F&&this.$search.set(F);var H=this.$search.findAll(this.session),j=0;if(!H.length)return j;var z=this.getSelectionRange();this.selection.moveTo(0,0);for(var W=H.length-1;W>=0;--W)this.$tryReplace(H[W],O)&&j++;return this.selection.setSelectionRange(z),j},I.prototype.$tryReplace=function(O,F){var H=this.session.getTextRange(O);return F=this.$search.replace(H,F),F!==null?(O.end=this.session.replace(O,F),O):null},I.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},I.prototype.find=function(O,F,H){F||(F={}),typeof O=="string"||O instanceof RegExp?F.needle=O:typeof O=="object"&&l.mixin(F,O);var j=this.selection.getRange();F.needle==null&&(O=this.session.getTextRange(j)||this.$search.$options.needle,O||(j=this.session.getWordRange(j.start.row,j.start.column),O=this.session.getTextRange(j)),this.$search.set({needle:O})),this.$search.set(F),F.start||this.$search.set({start:j});var z=this.$search.find(this.session);if(F.preventScroll)return z;if(z)return this.revealRange(z,H),z;F.backwards?j.start=j.end:j.end=j.start,this.selection.setRange(j)},I.prototype.findNext=function(O,F){this.find({skipCurrent:!0,backwards:!1},O,F)},I.prototype.findPrevious=function(O,F){this.find(O,{skipCurrent:!0,backwards:!0},F)},I.prototype.revealRange=function(O,F){this.session.unfold(O),this.selection.setSelectionRange(O);var H=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(O.start,O.end,.5),F!==!1&&this.renderer.animateScrolling(H)},I.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},I.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},I.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(O){O.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},I.prototype.setAutoScrollEditorIntoView=function(O){if(O){var F,H=this,j=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var z=this.$scrollAnchor;z.style.cssText="position:absolute",this.container.insertBefore(z,this.container.firstChild);var W=this.on("changeSelection",function(){j=!0}),K=this.renderer.on("beforeRender",function(){j&&(F=H.renderer.container.getBoundingClientRect())}),X=this.renderer.on("afterRender",function(){if(j&&F&&(H.isFocused()||H.searchBox&&H.searchBox.isFocused())){var J=H.renderer,te=J.$cursorLayer.$pixelPos,re=J.layerConfig,ae=te.top-re.offset;te.top>=0&&ae+F.top<0?j=!0:te.top<re.height&&te.top+F.top+re.lineHeight>window.innerHeight?j=!1:j=null,j!=null&&(z.style.top=ae+"px",z.style.left=te.left+"px",z.style.height=re.lineHeight+"px",z.scrollIntoView(j)),j=F=null}});this.setAutoScrollEditorIntoView=function(J){J||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",W),this.renderer.off("afterRender",X),this.renderer.off("beforeRender",K))}}},I.prototype.$resetCursorStyle=function(){var O=this.$cursorStyle||"ace",F=this.renderer.$cursorLayer;F&&(F.setSmoothBlinking(/smooth/.test(O)),F.isBlinking=!this.$readOnly&&O!="wide",a.setCssClass(F.element,"ace_slim-cursors",/slim/.test(O)))},I.prototype.prompt=function(O,F,H){var j=this;w.loadModule("ace/ext/prompt",function(z){z.prompt(j,O,F,H)})},I})();D.$uid=0,D.prototype.curOp=null,D.prototype.prevOp={},D.prototype.$mergeableCommands=["backspace","del","insertstring"],D.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(D.prototype,v),w.defineOptions(D.prototype,"editor",{selectionStyle:{set:function(I){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:I})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(I){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(I){var O=this;if(this.textInput.setReadOnly(I),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(H){var j=!1;if(H&&H.type=="keydown"){if(H&&H.key&&!H.ctrlKey&&!H.metaKey&&(H.key==" "&&H.preventDefault(),j=H.key.length==1),!j)return}else H&&H.type!=="exec"&&(j=!0);if(j){O.hoverTooltip||(O.hoverTooltip=new N);var z=a.createElement("div");z.textContent=T("editor.tooltip.disable-editing","Editing is disabled"),O.hoverTooltip.isOpen||O.hoverTooltip.showForRange(O,O.getSelectionRange(),z)}else O.hoverTooltip&&O.hoverTooltip.isOpen&&O.hoverTooltip.hide()});var F=this.textInput.getElement();I?(P.addListener(F,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(P.removeListener(F,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(I){this.textInput.setCopyWithEmptySelection(I)},initialValue:!1},cursorStyle:{set:function(I){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(I){this.setAutoScrollEditorIntoView(I)}},keyboardHandler:{set:function(I){this.setKeyboardHandler(I)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(I){this.session.setValue(I)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(I){this.setSession(I)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(I){this.renderer.$gutterLayer.setShowLineNumbers(I),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),I&&this.$relativeLineNumbers?L.attach(this):L.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(I){this.$showLineNumbers&&I?L.attach(this):L.detach(this)}},placeholder:{set:function(I){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var O=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(O&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),a.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!O&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),a.addCssClass(this.container,"ace_hasPlaceholder");var F=a.createElement("div");F.className="ace_placeholder",F.textContent=this.$placeholder||"",this.renderer.placeholderNode=F,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!O&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(I){var O={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(j){j.blur(),j.renderer.scroller.focus()},readOnly:!0},F=function(j){if(j.target==this.renderer.scroller&&j.keyCode===k.enter){j.preventDefault();var z=this.getCursorPosition().row;this.isRowVisible(z)||this.scrollToLine(z,!0,!0),this.focus()}},H;I?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",T("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",T("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",F.bind(this)),this.commands.addCommand(O),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",T("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",T("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),H||(H=new b(this)),H.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",F.bind(this)),this.commands.removeCommand(O),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),H&&H.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(I){this.$textInputAriaLabel=I},initialValue:""},enableMobileMenu:{set:function(I){this.$enableMobileMenu=I},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var L={getText:function(I,O){return(Math.abs(I.selection.lead.row-O)||O+1+(O<9?"":""))+""},getWidth:function(I,O,F){return Math.max(O.toString().length,(F.lastRow+1).toString().length,2)*F.characterWidth},update:function(I,O){O.renderer.$loop.schedule(O.renderer.CHANGE_GUTTER)},attach:function(I){I.renderer.$gutterLayer.$renderer=this,I.on("changeSelection",this.update),this.update(null,I)},detach:function(I){I.renderer.$gutterLayer.$renderer==this&&(I.renderer.$gutterLayer.$renderer=null),I.off("changeSelection",this.update),this.update(null,I)}};r.Editor=D}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,r,i){var s=t("../lib/dom"),l=(function(){function a(o,h){this.element=o,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return a.prototype.moveContainer=function(o){s.translate(this.element,0,-(o.firstRowScreen*o.lineHeight%this.canvasHeight)-o.offset*this.$offsetCoefficient)},a.prototype.pageChanged=function(o,h){return Math.floor(o.firstRowScreen*o.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},a.prototype.computeLineTop=function(o,h,c){var u=h.firstRowScreen*h.lineHeight,d=Math.floor(u/this.canvasHeight),f=c.documentToScreenRow(o,0)*h.lineHeight;return f-d*this.canvasHeight},a.prototype.computeLineHeight=function(o,h,c){return h.lineHeight*c.getRowLineCount(o)},a.prototype.getLength=function(){return this.cells.length},a.prototype.get=function(o){return this.cells[o]},a.prototype.shift=function(){this.$cacheCell(this.cells.shift())},a.prototype.pop=function(){this.$cacheCell(this.cells.pop())},a.prototype.push=function(o){if(Array.isArray(o)){this.cells.push.apply(this.cells,o);for(var h=s.createFragment(this.element),c=0;c<o.length;c++)h.appendChild(o[c].element);this.element.appendChild(h)}else this.cells.push(o),this.element.appendChild(o.element)},a.prototype.unshift=function(o){if(Array.isArray(o)){this.cells.unshift.apply(this.cells,o);for(var h=s.createFragment(this.element),c=0;c<o.length;c++)h.appendChild(o[c].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(o),this.element.insertAdjacentElement("afterbegin",o.element)},a.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},a.prototype.$cacheCell=function(o){o&&(o.element.remove(),this.cellCache.push(o))},a.prototype.createCell=function(o,h,c,u){var d=this.cellCache.pop();if(!d){var f=s.createElement("div");u&&u(f),this.element.appendChild(f),d={element:f,text:"",row:o}}return d.row=o,d},a})();r.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(t,r,i){var s=t("../lib/dom"),l=t("../lib/oop"),a=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,h=t("./lines").Lines,c=t("../config").nls,u=(function(){function f(p){this.$showCursorMarker=null,this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,m)},f.prototype.removeGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,m)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var m=0;m<p.length;m++){var g=p[m],v=g.row,y=this.$annotations[v];y||(y=this.$annotations[v]={text:[],type:[],displayText:[]});var _=g.text,w=g.text,C=g.type;_=_?a.escapeHTML(_):g.html||"",w=w||g.html||"",y.text.indexOf(_)===-1&&(y.text.push(_),y.type.push(C),y.displayText.push(w));var b=g.className;b?y.className=b:C==="error"?y.className=" ace_error":C==="security"&&!/\bace_error\b/.test(y.className)?y.className=" ace_security":C==="warning"&&!/\bace_(error|security)\b/.test(y.className)?y.className=" ace_warning":C==="info"&&!y.className?y.className=" ace_info":C==="hint"&&!y.className&&(y.className=" ace_hint")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var m=p.start.row,g=p.end.row-m;if(g!==0)if(p.action=="remove")this.$annotations.splice(m,g+1,null);else{var v=new Array(g+1);v.unshift(m,1),this.$annotations.splice.apply(this.$annotations,v)}}},f.prototype.update=function(p){this.config=p;var m=this.session,g=p.firstRow,v=Math.min(p.lastRow+p.gutterOffset,m.getLength()-1);this.oldLastRow=v,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var y=m.getNextFoldLine(g),_=y?y.start.row:1/0,w=null,C=-1,b=g;;){if(b>_&&(b=y.end.row+1,y=m.getNextFoldLine(b,y),_=y?y.start.row:1/0),b>v){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}w=this.$lines.get(++C),w?w.row=b:(w=this.$lines.createCell(b,p,this.session,d),this.$lines.push(w)),this.$renderCell(w,p,y,b),b++}this._signal("afterRender"),this.$updateGutterWidth(p),this.$showCursorMarker&&this.$highlightGutterLine&&this.$updateCursorMarker()},f.prototype.$updateGutterWidth=function(p){var m=this.session,g=m.gutterRenderer||this.$renderer,v=m.$firstLineNumber,y=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(y=m.getLength()+v-1);var _=g?g.getWidth(m,y,p):y.toString().length*p.characterWidth,w=this.$padding||this.$computePadding();_+=w.left+w.right,_!==this.gutterWidth&&!isNaN(_)&&(this.gutterWidth=_,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",_))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$showCursorMarker&&this.$updateCursorMarker(),!!this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<m.length;g++){var v=m[g];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(g>0&&y&&y.start.row==m[g-1].row)v=m[g-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},f.prototype.$updateCursorMarker=function(){if(this.session){var p=this.session;this.$highlightElement||(this.$highlightElement=s.createElement("div"),this.$highlightElement.className="ace_gutter-cursor",this.$highlightElement.style.pointerEvents="none",this.element.appendChild(this.$highlightElement));var m=p.selection.cursor,g=this.config,v=this.$lines,y=g.firstRowScreen*g.lineHeight,_=Math.floor(y/v.canvasHeight),w=p.documentToScreenRow(m)*g.lineHeight,C=w-_*v.canvasHeight;s.setStyle(this.$highlightElement.style,"height",g.lineHeight+"px"),s.setStyle(this.$highlightElement.style,"top",C+"px")}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=g,!m||v<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var y=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);y>0;y--)this.$lines.shift();if(v>g)for(var y=this.session.getFoldedRowCount(g+1,v);y>0;y--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,m.firstRow-1)),g>v&&this.$lines.push(this.$renderLines(p,v+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,m,g){for(var v=[],y=m,_=this.session.getNextFoldLine(y),w=_?_.start.row:1/0;y>w&&(y=_.end.row+1,_=this.session.getNextFoldLine(y,_),w=_?_.start.row:1/0),!(y>g);){var C=this.$lines.createCell(y,p,this.session,d);this.$renderCell(C,p,_,y),v.push(C),y++}return v},f.prototype.$renderCell=function(p,m,g,v){var y=p.element,_=this.session,w=y.childNodes[0],C=y.childNodes[1],b=y.childNodes[2],T=y.childNodes[3],A=b.firstChild,k=_.$firstLineNumber,P=_.$breakpoints,N=_.$decorations,D=_.gutterRenderer||this.$renderer,L=this.$showFoldWidgets&&_.foldWidgets,I=g?g.start.row:Number.MAX_VALUE,O=m.lineHeight+"px",F=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",H=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",j=(D?D.getText(_,v):v+k).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||g&&v<this.$cursorRow&&v>=I&&this.$cursorRow<=g.end.row)&&(F+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),P[v]&&(F+=P[v]),N[v]&&(F+=N[v]),this.$annotations[v]&&v!==I&&(F+=this.$annotations[v].className),L){var z=L[v];z==null&&(z=L[v]=_.getFoldWidget(v))}if(z){var W="ace_fold-widget ace_"+z,K=z=="start"&&v==I&&v<g.end.row;if(K){W+=" ace_closed";for(var X="",J=!1,te=v+1;te<=g.end.row;te++)if(this.$annotations[te]){if(this.$annotations[te].className===" ace_error"){J=!0,X=" ace_error_fold";break}this.$annotations[te].className===" ace_security"?(J=!0,X=" ace_security_fold"):this.$annotations[te].className===" ace_warning"&&X!==" ace_security_fold"&&(J=!0,X=" ace_warning_fold")}F+=X}else W+=" ace_open";C.className!=W&&(C.className=W),s.setStyle(C.style,"height",O),s.setStyle(C.style,"display","inline-block"),C.setAttribute("role","button"),C.setAttribute("tabindex","-1");var re=_.getFoldWidgetRange(v);re?C.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[re.start.row+1,re.end.row+1])):g?C.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):C.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[v+1])),K?(C.setAttribute("aria-expanded","false"),C.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(C.setAttribute("aria-expanded","true"),C.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else C&&(s.setStyle(C.style,"display","none"),C.setAttribute("tabindex","0"),C.removeAttribute("role"),C.removeAttribute("aria-label"));var ae=this.session.$gutterCustomWidgets[v];if(ae?this.$addCustomWidget(v,ae,p):T&&this.$removeCustomWidget(v,p),J&&this.$showFoldedAnnotations){b.className="ace_gutter_annotation",A.className=H,A.className+=X,s.setStyle(A.style,"height",O),s.setStyle(b.style,"display","block"),s.setStyle(b.style,"height",O);var ie;switch(X){case" ace_error_fold":ie=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[j]);break;case" ace_security_fold":ie=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[j]);break;case" ace_warning_fold":ie=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[j]);break}b.setAttribute("aria-label",ie),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else if(this.$annotations[v]){b.className="ace_gutter_annotation",A.className=H,this.$useSvgGutterIcons?A.className+=this.$annotations[v].className:y.classList.add(this.$annotations[v].className.replace(" ","")),s.setStyle(A.style,"height",O),s.setStyle(b.style,"display","block"),s.setStyle(b.style,"height",O);var ie;switch(this.$annotations[v].className){case" ace_error":ie=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[j]);break;case" ace_security":ie=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[j]);break;case" ace_warning":ie=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[j]);break;case" ace_info":ie=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[j]);break;case" ace_hint":ie=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[j]);break}b.setAttribute("aria-label",ie),b.setAttribute("tabindex","-1"),b.setAttribute("role","button")}else s.setStyle(b.style,"display","none"),b.removeAttribute("aria-label"),b.removeAttribute("role"),b.setAttribute("tabindex","0");return j!==w.data&&(w.data=j),y.className!=F&&(y.className=F),s.setStyle(p.element.style,"height",this.$lines.computeLineHeight(v,m,_)+"px"),s.setStyle(p.element.style,"top",this.$lines.computeLineTop(v,m,_)+"px"),p.text=j,b.style.display==="none"&&C.style.display==="none"&&!ae?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p,!p&&this.$highlightElement&&(this.$highlightElement.remove(),this.$highlightElement=null)},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$hideFoldWidget=function(p,m){var g=m||this.$getGutterCell(p);if(g&&g.element){var v=g.element.childNodes[1];v&&s.setStyle(v.style,"display","none")}},f.prototype.$showFoldWidget=function(p,m){var g=m||this.$getGutterCell(p);if(g&&g.element){var v=g.element.childNodes[1];v&&this.session.foldWidgets&&this.session.foldWidgets[g.row]&&s.setStyle(v.style,"display","inline-block")}},f.prototype.$getGutterCell=function(p){var m=this.$lines.cells,g=0,v=m.length-1;if(!(p<m[0].row||p>m[v].row)){for(;g<=v;){var y=Math.floor((g+v)/2),_=m[y];if(_.row>p)v=y-1;else if(_.row<p)g=y+1;else return _}return _}},f.prototype.$addCustomWidget=function(p,m,g){var v=m.className,y=m.label,_=m.title,w=m.callbacks;this.session.$gutterCustomWidgets[p]={className:v,label:y,title:_,callbacks:w},this.$hideFoldWidget(p,g);var C=g||this.$getGutterCell(p);if(C&&C.element){var b=C.element.querySelector(".ace_custom-widget");b&&b.remove(),b=s.createElement("span"),b.className="ace_custom-widget ".concat(v),b.setAttribute("tabindex","-1"),b.setAttribute("role","button"),b.setAttribute("aria-label",y),b.setAttribute("title",_),s.setStyle(b.style,"display","inline-block"),s.setStyle(b.style,"height","inherit"),w&&w.onClick&&b.addEventListener("click",function(T){w.onClick(T,p),T.stopPropagation()}),C.element.appendChild(b)}},f.prototype.$removeCustomWidget=function(p,m){delete this.session.$gutterCustomWidgets[p],this.$showFoldWidget(p,m);var g=m||this.$getGutterCell(p);if(g&&g.element){var v=g.element.querySelector(".ace_custom-widget");v&&g.element.removeChild(v)}},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var m=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(p.x<m.left+g.left)return"markers";if(this.$showFoldWidgets&&p.x>g.right-m.right)return"foldWidgets"},f})();u.prototype.$fixedWidth=!1,u.prototype.$highlightGutterLine=!0,u.prototype.$renderer=void 0,u.prototype.$showLineNumbers=!0,u.prototype.$showFoldWidgets=!0,l.implement(u.prototype,o);function d(f){var p=document.createTextNode("");f.appendChild(p);var m=s.createElement("span");f.appendChild(m);var g=s.createElement("span");f.appendChild(g);var v=s.createElement("span");return g.appendChild(v),f}r.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,r,i){var s=t("../range").Range,l=t("../lib/dom"),a=(function(){function h(c){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return h.prototype.setPadding=function(c){this.$padding=c},h.prototype.setSession=function(c){this.session=c},h.prototype.setMarkers=function(c){this.markers=c},h.prototype.elt=function(c,u){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=u,d.className=c},h.prototype.update=function(c){if(c){this.config=c,this.i=0;var u;for(var d in this.markers){var f=this.markers[d];if(!f.range){f.update(u,this,this.session,c);continue}var p=f.range.clipRows(c.firstRow,c.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var m=this.$getTop(p.start.row,c),g=this.$padding+p.start.column*c.characterWidth;f.renderer(u,p,g,m,c)}else f.type=="fullLine"?this.drawFullLineMarker(u,p,f.clazz,c):f.type=="screenLine"?this.drawScreenLineMarker(u,p,f.clazz,c):p.isMultiLine()?f.type=="text"?this.drawTextMarker(u,p,f.clazz,c):this.drawMultiLineMarker(u,p,f.clazz,c):this.drawSingleLineMarker(u,p,f.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},h.prototype.$getTop=function(c,u){return(c-u.firstRowScreen)*u.lineHeight},h.prototype.drawTextMarker=function(c,u,d,f,p){for(var m=this.session,g=u.start.row,v=u.end.row,y=g,_=0,w=0,C=m.getScreenLastRowColumn(y),b=new s(y,u.start.column,y,w);y<=v;y++)b.start.row=b.end.row=y,b.start.column=y==g?u.start.column:m.getRowWrapIndent(y),b.end.column=C,_=w,w=C,C=y+1<v?m.getScreenLastRowColumn(y+1):y==v?0:u.end.column,this.drawSingleLineMarker(c,b,d+(y==g?" ace_start":"")+" ace_br"+o(y==g||y==g+1&&u.start.column,_<w,w>C,y==v),f,y==v?0:1,p)},h.prototype.drawMultiLineMarker=function(c,u,d,f,p){var m=this.$padding,g=f.lineHeight,v=this.$getTop(u.start.row,f),y=m+u.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(u.start.row)){var _=u.clone();_.end.row=_.start.row,_.end.column=this.session.getLine(_.start.row).length,this.drawBidiSingleLineMarker(c,_,d+" ace_br1 ace_start",f,null,p)}else this.elt(d+" ace_br1 ace_start","height:"+g+"px;right:"+m+"px;top:"+v+"px;left:"+y+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(u.end.row)){var _=u.clone();_.start.row=_.end.row,_.start.column=0,this.drawBidiSingleLineMarker(c,_,d+" ace_br12",f,null,p)}else{v=this.$getTop(u.end.row,f);var w=u.end.column*f.characterWidth;this.elt(d+" ace_br12","height:"+g+"px;width:"+w+"px;top:"+v+"px;left:"+m+"px;"+(p||""))}if(g=(u.end.row-u.start.row-1)*f.lineHeight,!(g<=0)){v=this.$getTop(u.start.row+1,f);var C=(u.start.column?1:0)|(u.end.column?0:8);this.elt(d+(C?" ace_br"+C:""),"height:"+g+"px;right:"+m+"px;top:"+v+"px;left:"+m+"px;"+(p||""))}},h.prototype.drawSingleLineMarker=function(c,u,d,f,p,m){if(this.session.$bidiHandler.isBidiRow(u.start.row))return this.drawBidiSingleLineMarker(c,u,d,f,p,m);var g=f.lineHeight,v=(u.end.column+(p||0)-u.start.column)*f.characterWidth,y=this.$getTop(u.start.row,f),_=this.$padding+u.start.column*f.characterWidth;this.elt(d,"height:"+g+"px;width:"+v+"px;top:"+y+"px;left:"+_+"px;"+(m||""))},h.prototype.drawBidiSingleLineMarker=function(c,u,d,f,p,m){var g=f.lineHeight,v=this.$getTop(u.start.row,f),y=this.$padding,_=this.session.$bidiHandler.getSelections(u.start.column,u.end.column);_.forEach(function(w){this.elt(d,"height:"+g+"px;width:"+(w.width+(p||0))+"px;top:"+v+"px;left:"+(y+w.left)+"px;"+(m||""))},this)},h.prototype.drawFullLineMarker=function(c,u,d,f,p){var m=this.$getTop(u.start.row,f),g=f.lineHeight;u.start.row!=u.end.row&&(g+=this.$getTop(u.end.row,f)-m),this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},h.prototype.drawScreenLineMarker=function(c,u,d,f,p){var m=this.$getTop(u.start.row,f),g=f.lineHeight;this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},h})();a.prototype.$padding=0;function o(h,c,u,d){return(h?1:0)|(c?2:0)|(u?4:0)|(d?8:0)}r.Marker=a}),ace.define("ace/layer/text_util",["require","exports","module"],function(t,r,i){var s=new Set(["text","rparen","lparen"]);r.isTextToken=function(l){return s.has(l)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/dom"),a=t("../lib/lang"),o=t("./lines").Lines,h=t("../lib/event_emitter").EventEmitter,c=t("../config").nls,u=t("./text_util").isTextToken,d=(function(){function f(p){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,m=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",g=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var m=this.$tabStrings=[0],g=1;g<p+1;g++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=a.stringRepeat(this.TAB_CHAR,g),m.push(v)}else m.push(this.dom.createTextNode(a.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",_=this.showSpaces?" ace_invisible ace_invisible_space":"",w=this.showSpaces?a.stringRepeat(this.SPACE_CHAR,this.tabSize):a.stringRepeat(" ",this.tabSize),C=this.showTabs?" ace_invisible ace_invisible_tab":"",b=this.showTabs?a.stringRepeat(this.TAB_CHAR,this.tabSize):w,v=this.dom.createElement("span");v.className=y+_,v.textContent=w,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=y+C,v.textContent=b,this.$tabStrings["	"]=v}},f.prototype.updateLines=function(p,m,g){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var v=Math.max(m,p.firstRow),y=Math.min(g,p.lastRow),_=this.element.childNodes,w=0,b=p.firstRow;b<v;b++){var T=this.session.getFoldLine(b);if(T)if(T.containsRow(v)){v=T.start.row;break}else b=T.end.row;w++}for(var C=!1,b=v,T=this.session.getNextFoldLine(b),A=T?T.start.row:1/0;b>A&&(b=T.end.row+1,T=this.session.getNextFoldLine(b,T),A=T?T.start.row:1/0),!(b>y);){var k=_[w++];if(k){this.dom.removeChildren(k),this.$renderLine(k,b,b==A?T:!1),C&&(k.style.top=this.$lines.computeLineTop(b,p,this.session)+"px");var P=p.lineHeight*this.session.getRowLength(b)+"px";k.style.height!=P&&(C=!0,k.style.height=P)}b++}if(C)for(;w<this.$lines.cells.length;){var N=this.$lines.cells[w++];N.element.style.top=this.$lines.computeLineTop(N.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=p.lastRow,v=m?m.lastRow:-1;if(!m||v<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(!m||m.lastRow<p.firstRow)return this.update(p);if(p.lastRow<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var y=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);y>0;y--)this.$lines.shift();if(m.lastRow>p.lastRow)for(var y=this.session.getFoldedRowCount(p.lastRow+1,m.lastRow);y>0;y--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,m.firstRow-1)),p.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(p,m.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,m,g){for(var v=[],y=m,_=this.session.getNextFoldLine(y),w=_?_.start.row:1/0;y>w&&(y=_.end.row+1,_=this.session.getNextFoldLine(y,_),w=_?_.start.row:1/0),!(y>g);){var C=this.$lines.createCell(y,p,this.session),b=C.element;this.dom.removeChildren(b),l.setStyle(b.style,"height",this.$lines.computeLineHeight(y,p,this.session)+"px"),l.setStyle(b.style,"top",this.$lines.computeLineTop(y,p,this.session)+"px"),this.$renderLine(b,y,y==w?_:!1),this.$useLineGroups()?b.className="ace_line_group":b.className="ace_line",v.push(C),y++}return v},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var m=p.firstRow,g=p.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(p,m,g))},f.prototype.$renderToken=function(p,m,g,v){for(var y=this,_=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,w=this.dom.createFragment(this.element),C,b=0;C=_.exec(v);){var T=C[1],A=C[2],k=C[3],P=C[4],N=C[5];if(!(!y.showSpaces&&A)){var D=b!=C.index?v.slice(b,C.index):"";if(b=C.index+C[0].length,D&&w.appendChild(this.dom.createTextNode(D,this.element)),T){var L=y.session.getScreenTabSize(m+C.index),I=y.$tabStrings[L].cloneNode(!0);I.charCount=1,w.appendChild(I),m+=L-1}else if(A)if(y.showSpaces){var O=this.dom.createElement("span");O.className="ace_invisible ace_invisible_space",O.textContent=a.stringRepeat(y.SPACE_CHAR,A.length),w.appendChild(O)}else w.appendChild(this.dom.createTextNode(A,this.element));else if(k){var O=this.dom.createElement("span");O.className="ace_invisible ace_invisible_space ace_invalid",O.textContent=a.stringRepeat(y.SPACE_CHAR,k.length),w.appendChild(O)}else if(P){m+=1;var O=this.dom.createElement("span");O.style.width=y.config.characterWidth*2+"px",O.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",O.textContent=y.showSpaces?y.SPACE_CHAR:P,w.appendChild(O)}else if(N){m+=1;var O=this.dom.createElement("span");O.style.width=y.config.characterWidth*2+"px",O.className="ace_cjk",O.textContent=N,w.appendChild(O)}}}if(w.appendChild(this.dom.createTextNode(b?v.slice(b):v,this.element)),u(g.type))p.appendChild(w);else{var F="ace_"+g.type.replace(/\./g," ace_"),O=this.dom.createElement("span");g.type=="fold"&&(O.style.width=g.value.length*this.config.characterWidth+"px",O.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),O.className=F,O.appendChild(w),p.appendChild(O)}return m+v.length},f.prototype.renderIndentGuide=function(p,m,g){var v=m.search(this.$indentGuideRe);if(v<=0||v>=g)return m;if(m[0]==" "){v-=v%this.tabSize;for(var y=v/this.tabSize,_=0;_<y;_++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(v)}else if(m[0]=="	"){for(var _=0;_<v;_++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(v)}return this.$highlightIndentGuide(),m},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var m=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,v=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:m.row};var y=this.session.$bracketHighlight;if(y){for(var _=this.session.$bracketHighlight.ranges,w=0;w<_.length;w++)if(m.row!==_[w].start.row){this.$highlightIndentGuideMarker.end=_[w].start.row+1,m.row>_[w].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[m.row]!==""&&m.column===p[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var w=m.row+1;w<p.length;w++){var C=p[w],b=/^\s*/.exec(C)[0].length;if(C!==""&&(this.$highlightIndentGuideMarker.end=w,b<=g))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<p.length;m++)p[m].classList.remove("ace_indent-guide-active")},f.prototype.$setIndentGuideActive=function(p,m){var g=this.session.doc.getLine(p.row);if(g!==""){var v=p.element;if(p.element.classList&&p.element.classList.contains("ace_line_group"))if(p.element.childNodes.length>0)v=p.element.childNodes[0];else return;var y=v.childNodes;if(y){var _=y[m-1];_&&_.classList&&_.classList.contains("ace_indent-guide")&&_.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<p.length;g++){var v=p[g];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,m)}}else for(var g=p.length-1;g>=0;g--){var v=p[g];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,m)}}}},f.prototype.$createLineElement=function(p){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},f.prototype.$renderWrappedLine=function(p,m,g){var v=0,y=0,_=g[0],w=0,C=this.$createLineElement();p.appendChild(C);for(var b=0;b<m.length;b++){var T=m[b],A=T.value;if(b==0&&this.displayIndentGuides){if(v=A.length,A=this.renderIndentGuide(C,A,_),!A)continue;v-=A.length}if(v+A.length<_)w=this.$renderToken(C,w,T,A),v+=A.length;else{for(;v+A.length>=_;){w=this.$renderToken(C,w,T,A.substring(0,_-v)),A=A.substring(_-v),v=_,C=this.$createLineElement(),p.appendChild(C);var k=this.dom.createTextNode(a.stringRepeat("",g.indent),this.element);k.charCount=0,C.appendChild(k),y++,w=0,_=g[y]||Number.MAX_VALUE}A.length!=0&&(v+=A.length,w=this.$renderToken(C,w,T,A))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(C,w,null,"",!0)},f.prototype.$renderSimpleLine=function(p,m){for(var g=0,v=0;v<m.length;v++){var y=m[v],_=y.value;if(!(v==0&&this.displayIndentGuides&&(_=this.renderIndentGuide(p,_),!_))){if(g+_.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,g,y,_);g=this.$renderToken(p,g,y,_)}}},f.prototype.$renderOverflowMessage=function(p,m,g,v,y){g&&this.$renderToken(p,m,g,v.slice(0,this.MAX_LINE_LENGTH-m));var _=this.dom.createElement("span");_.className="ace_inline_button ace_keyword ace_toggle_wrap",_.textContent=y?"<hide>":"<click to see more...>",p.appendChild(_)},f.prototype.$renderLine=function(p,m,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(m)),g)var v=this.$getFoldLineTokens(m,g);else var v=this.session.getTokens(m);var y=p;if(v.length){var _=this.session.getRowSplitData(m);if(_&&_.length){this.$renderWrappedLine(p,v,_);var y=p.lastChild}else{var y=p;this.$useLineGroups()&&(y=this.$createLineElement(),p.appendChild(y)),this.$renderSimpleLine(y,v)}}else this.$useLineGroups()&&(y=this.$createLineElement(),p.appendChild(y));if(this.showEOL&&y){g&&(m=g.end.row);var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_eol",w.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(w)}},f.prototype.$getFoldLineTokens=function(p,m){var g=this.session,v=[];function y(w,C,b){for(var T=0,A=0;A+w[T].value.length<C;)if(A+=w[T].value.length,T++,T==w.length)return;if(A!=C){var k=w[T].value.substring(C-A);k.length>b-C&&(k=k.substring(0,b-C)),v.push({type:w[T].type,value:k}),A=C+k.length,T+=1}for(;A<b&&T<w.length;){var k=w[T].value;k.length+A>b?v.push({type:w[T].type,value:k.substring(0,b-A)}):v.push(w[T]),A+=k.length,T+=1}}var _=g.getTokens(p);return m.walk(function(w,C,b,T,A){w!=null?v.push({type:"fold",value:w}):(A&&(_=g.getTokens(C)),_.length&&y(_,T,b))},m.end.row,this.session.getLine(m.end.row).length),v},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f})();d.prototype.EOF_CHAR="",d.prototype.EOL_CHAR_LF="",d.prototype.EOL_CHAR_CRLF="",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="",d.prototype.SPACE_CHAR="",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,s.implement(d.prototype,h),r.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,r,i){var s=t("../lib/dom"),l=(function(){function a(o){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",o.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return a.prototype.$updateOpacity=function(o){for(var h=this.cursors,c=h.length;c--;)s.setStyle(h[c].style,"opacity",o?"":"0")},a.prototype.$startCssAnimation=function(){for(var o=this.cursors,h=o.length;h--;)o[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&s.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},a.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,s.removeCssClass(this.element,"ace_animate-blinking")},a.prototype.setPadding=function(o){this.$padding=o},a.prototype.setSession=function(o){this.session=o},a.prototype.setBlinking=function(o){o!=this.isBlinking&&(this.isBlinking=o,this.restartTimer())},a.prototype.setBlinkInterval=function(o){o!=this.blinkInterval&&(this.blinkInterval=o,this.restartTimer())},a.prototype.setSmoothBlinking=function(o){o!=this.smoothBlinking&&(this.smoothBlinking=o,s.setCssClass(this.element,"ace_smooth-blinking",o),this.$updateCursors(!0),this.restartTimer())},a.prototype.addCursor=function(){var o=s.createElement("div");return o.className="ace_cursor",this.element.appendChild(o),this.cursors.push(o),o},a.prototype.removeCursor=function(){if(this.cursors.length>1){var o=this.cursors.pop();return o.parentNode.removeChild(o),o}},a.prototype.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.restartTimer=function(){var o=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,s.removeCssClass(this.element,"ace_smooth-blinking")),o(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&s.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),s.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=(function(){this.timeoutId=setTimeout(function(){o(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){o(!0),h()},this.blinkInterval),h()}},a.prototype.getPixelPosition=function(o,h){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(o),u=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,o.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),d=(c.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:u,top:d}},a.prototype.isCursorInView=function(o,h){return o.top>=0&&o.top<h.maxHeight},a.prototype.update=function(o){this.config=o;var h=this.session.$selectionMarkers,c=0,u=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var c=0,d=h.length;c<d;c++){var f=this.getPixelPosition(h[c].cursor,!0);if(!((f.top>o.height+o.offset||f.top<0)&&c>1)){var p=this.cursors[u++]||this.addCursor(),m=p.style;this.drawCursor?this.drawCursor(p,f,o,h[c],this.session):this.isCursorInView(f,o)?(s.setStyle(m,"display","block"),s.translate(p,f.left,f.top),s.setStyle(m,"width",Math.round(o.characterWidth)+"px"),s.setStyle(m,"height",o.lineHeight+"px")):s.setStyle(m,"display","none")}}for(;this.cursors.length>u;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=f,this.restartTimer()},a.prototype.$setOverwrite=function(o){o!=this.overwrite&&(this.overwrite=o,o?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},a.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},a})();l.prototype.$padding=0,l.prototype.drawCursor=null,r.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,i){var s=this&&this.__extends||(function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(v[_]=y[_])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}})(),l=t("./lib/oop"),a=t("./lib/dom"),o=t("./lib/event"),h=t("./lib/event_emitter").EventEmitter,c=32768,u=(function(){function p(m,g){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return p.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},p})();l.implement(u.prototype,h);var d=(function(p){s(m,p);function m(g,v){var y=p.call(this,g,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,v.$scrollbarWidth=y.width=a.scrollbarWidth(g.ownerDocument),y.inner.style.width=y.element.style.width=(y.width||15)+5+"px",y.$minWidth=0,y}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(g){this.element.style.height=g+"px"},m.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>c?(this.coeff=c/g,g=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},m.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},m})(u);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=(function(p){s(m,p);function m(g,v){var y=p.call(this,g,"-h")||this;return y.scrollLeft=0,y.height=v.$scrollbarWidth,y.inner.style.height=y.element.style.height=(y.height||15)+5+"px",y}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(g){this.element.style.width=g+"px"},m.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},m})(u);r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=f,r.VScrollBar=d,r.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,i){var s=this&&this.__extends||(function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),l=t("./lib/oop"),a=t("./lib/dom"),o=t("./lib/event"),h=t("./lib/event_emitter").EventEmitter;a.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=(function(){function f(p,m){this.element=a.createElement("div"),this.element.className="ace_sb"+m,this.inner=a.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f})();l.implement(c.prototype,h);var u=(function(f){s(p,f);function p(m,g){var v=f.call(this,m,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=m,v.width=v.VScrollWidth,v.renderer=g,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(o.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,y=g.clientY,_=function(P){y=P.clientY},w=function(){clearInterval(A)},C=g.clientY,b=this.thumbTop,T=function(){if(y!==void 0){var P=v.scrollTopFromThumbTop(b+y-C);P!==v.scrollTop&&v._emit("scroll",{data:P})}};o.capture(this.inner,_,w);var A=setInterval(T,20);return o.preventDefault(g)}var k=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(k)}),o.preventDefault(g)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(m){var g=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(m,g){this.pageHeight===m&&!g||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p})(c);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var d=(function(f){s(p,f);function p(m,g){var v=f.call(this,m,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=g,v}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(o.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,y=g.clientX,_=function(P){y=P.clientX},w=function(){clearInterval(A)},C=g.clientX,b=this.thumbLeft,T=function(){if(y!==void 0){var P=v.scrollLeftFromThumbLeft(b+y-C);P!==v.scrollLeft&&v._emit("scroll",{data:P})}};o.capture(this.inner,_,w);var A=setInterval(T,20);return o.preventDefault(g)}var k=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(k)}),o.preventDefault(g)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(m){var g=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},p.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(m,g){this.pageWidth===m&&!g||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p})(c);d.prototype.setInnerWidth=d.prototype.setScrollWidth,r.ScrollBar=u,r.ScrollBarV=u,r.ScrollBarH=d,r.VScrollBar=u,r.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,r,i){var s=t("./lib/event"),l=(function(){function a(o,h){this.onRender=o,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var c=this;this._flush=function(u){c.pending=!1;var d=c.changes;if(d&&(s.blockIdle(100),c.changes=0,c.onRender(d)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return a.prototype.schedule=function(o){this.changes=this.changes|o,this.changes&&!this.pending&&(s.nextFrame(this._flush),this.pending=!0)},a.prototype.clear=function(o){var h=this.changes;return this.changes=0,h},a})();r.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/dom"),a=t("../lib/lang"),o=t("../lib/event"),h=t("../lib/useragent"),c=t("../lib/event_emitter").EventEmitter,u=512,d=typeof ResizeObserver=="function",f=200,p=(function(){function m(g){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=a.stringRepeat("X",u),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(g,v){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",h.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=v?"hidden":"visible"},m.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===g.width&&v.height===g.height,this._emit("changeCharacterSize",{data:g})}},m.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(v){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=o.onIdle(function v(){g.checkForSizeChanges(),o.onIdle(v,500)},500)},m.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(g){var v={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/u};return v.width===0||v.height===0?null:v},m.prototype.$measureCharWidth=function(g){this.$main.textContent=a.stringRepeat(g,u);var v=this.$main.getBoundingClientRect();return v.width/u},m.prototype.getCharacterWidth=function(g){var v=this.charSizes[g];return v===void 0&&(v=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),v},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(Number(window.getComputedStyle(g).zoom)||1)*this.$getZoom(g.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var g=function(v,y){return["div",{style:"position: absolute;top:"+v+"px;left:"+y+"px;"}]};this.els=l.buildDom([g(0,0),g(f,0),g(0,f),g(f,f)],this.el)},m.prototype.transformCoordinates=function(g,v){if(g){var y=this.$getZoom(this.el);g=b(1/y,g)}function _(W,K,X){var J=W[1]*K[0]-W[0]*K[1];return[(-K[1]*X[0]+K[0]*X[1])/J,(+W[1]*X[0]-W[0]*X[1])/J]}function w(W,K){return[W[0]-K[0],W[1]-K[1]]}function C(W,K){return[W[0]+K[0],W[1]+K[1]]}function b(W,K){return[W*K[0],W*K[1]]}this.els||this.$initTransformMeasureNodes();function T(W){var K=W.getBoundingClientRect();return[K.left,K.top]}var A=T(this.els[0]),k=T(this.els[1]),P=T(this.els[2]),N=T(this.els[3]),D=_(w(N,k),w(N,P),w(C(k,P),C(N,A))),L=b(1+D[0],w(k,A)),I=b(1+D[1],w(P,A));if(v){var O=v,F=D[0]*O[0]/f+D[1]*O[1]/f+1,H=C(b(O[0],L),b(O[1],I));return C(b(1/F/f,H),A)}var j=w(g,A),z=_(w(L,b(D[0],j)),w(I,b(D[1],j)),j);return b(f,z)},m})();p.prototype.$characterSize={width:0,height:0},s.implement(p.prototype,c),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(t,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,r,i){var s=t("../lib/dom"),l=t("../lib/oop"),a=t("../lib/event_emitter").EventEmitter,o=(function(){function h(c,u){this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(c)}return h.prototype.$createCanvas=function(){this.canvas=s.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},h.prototype.setScrollBarV=function(c){this.$createCanvas(),this.scrollbarV=c,c.element.appendChild(this.canvas),this.setDimensions()},h.prototype.$updateDecorators=function(c){if(typeof this.canvas.getContext!="function")return;var u=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(c);var d=this.canvas.getContext("2d");function f(L,I){return L.priority<I.priority?-1:L.priority>I.priority?1:0}var p=this.renderer.session.$annotations;if(d.clearRect(0,0,this.canvas.width,this.canvas.height),p){var m={info:1,warning:2,error:3};p.forEach(function(L){L.priority=m[L.type]||null}),p=p.sort(f);for(var g=0;g<p.length;g++){var v=p[g].row,y=this.getVerticalOffsetForRow(v),_=y+this.lineHeight,w=Math.round(this.heightRatio*y),C=Math.round(this.heightRatio*_),b=Math.round((w+C)/2),T=C-b;T<this.halfMinDecorationHeight&&(T=this.halfMinDecorationHeight),b-T<0&&(b=T),b+T>this.canvasHeight&&(b=this.canvasHeight-T);var A=b-T,k=b+T,P=k-A;d.fillStyle=u[p[g].type]||null,d.fillRect(0,A,Math.round(this.oneZoneWidth-1),P)}}var N=this.renderer.session.selection.getCursor();if(N){var D=Math.round(this.getVerticalOffsetForRow(N.row)*this.heightRatio);d.fillStyle="rgba(0, 0, 0, 0.5)",d.fillRect(0,D,this.canvasWidth,2)}},h.prototype.getVerticalOffsetForRow=function(c){c=c|0;var u=this.renderer.session.documentToScreenRow(c,0)*this.lineHeight;return u},h.prototype.setDimensions=function(c){c=c||this.renderer.layerConfig,this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},h.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},h.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},h})();l.implement(o.prototype,a),r.Decorator=o}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(t,r,i){var s=t("./lib/oop"),l=t("./lib/dom"),a=t("./lib/lang"),o=t("./config"),h=t("./layer/gutter").Gutter,c=t("./layer/marker").Marker,u=t("./layer/text").Text,d=t("./layer/cursor").Cursor,f=t("./scrollbar").HScrollBar,p=t("./scrollbar").VScrollBar,m=t("./scrollbar_custom").HScrollBar,g=t("./scrollbar_custom").VScrollBar,v=t("./renderloop").RenderLoop,y=t("./layer/font_metrics").FontMetrics,_=t("./lib/event_emitter").EventEmitter,w=t("./css/editor-css"),C=t("./layer/decorators").Decorator,b=t("./lib/useragent"),T=t("./layer/text_util").isTextToken;l.importCssString(w,"ace_editor.css",!1);var A=(function(){function k(P,N){var D=this;this.container=P||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(N),o.get("useStrictCSP")==null&&o.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var L=this.$textLayer=new u(this.content);this.canvas=L.element,this.$markerFront=new c(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(I){D.$scrollAnimation||D.session.setScrollTop(I.data-D.scrollMargin.top)}),this.scrollBarH.on("scroll",function(I){D.$scrollAnimation||D.session.setScrollLeft(I.data-D.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new y(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(I){D.updateCharacterSize(),D.onResize(!0,D.gutterWidth,D.$size.width,D.$size.height),D._signal("changeCharacterSize",I)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return k.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},k.prototype.setSession=function(P){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=P,P&&this.scrollMargin.top&&P.getScrollTop()<=0&&P.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(P),this.$markerBack.setSession(P),this.$markerFront.setSession(P),this.$gutterLayer.setSession(P),this.$textLayer.setSession(P),P&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},k.prototype.updateLines=function(P,N,D){if(N===void 0&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>P&&(this.$changedLines.firstRow=P),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:P,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow)if(D)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},k.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},k.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},k.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},k.prototype.updateFull=function(P){P?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},k.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},k.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},k.prototype.onResize=function(P,N,D,L){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=P?1:0;var I=this.container;L||(L=I.clientHeight||I.scrollHeight),!L&&this.$maxLines&&this.lineHeight>1&&(!I.style.height||I.style.height=="0px")&&(I.style.height="1px",L=I.clientHeight||I.scrollHeight),D||(D=I.clientWidth||I.scrollWidth);var O=this.$updateCachedSize(P,N,D,L);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!D&&!L)return this.resizing=0;P&&(this.$gutterLayer.$padding=null),P?this.$renderChanges(O|this.$changes,!0):this.$loop.schedule(O|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},k.prototype.$updateCachedSize=function(P,N,D,L){L-=this.$extraHeight||0;var I=0,O=this.$size,F={width:O.width,height:O.height,scrollerHeight:O.scrollerHeight,scrollerWidth:O.scrollerWidth};if(L&&(P||O.height!=L)&&(O.height=L,I|=this.CHANGE_SIZE,O.scrollerHeight=O.height,this.$horizScroll&&(O.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(O.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",I=I|this.CHANGE_SCROLL),D&&(P||O.width!=D)){I|=this.CHANGE_SIZE,O.width=D,N==null&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,l.setStyle(this.scrollBarH.element.style,"left",N+"px"),l.setStyle(this.scroller.style,"left",N+this.margin.left+"px"),O.scrollerWidth=Math.max(0,D-N-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var H=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",H),l.setStyle(this.scroller.style,"right",H),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(O.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||P)&&(I|=this.CHANGE_FULL)}return O.$dirty=!D||!L,I&&this._signal("resize",F),I},k.prototype.onGutterResize=function(P){var N=this.$showGutter?P:0;N!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,N,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},k.prototype.adjustWrapLimit=function(){var P=this.$size.scrollerWidth-this.$padding*2,N=Math.floor(P/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},k.prototype.setAnimatedScroll=function(P){this.setOption("animatedScroll",P)},k.prototype.getAnimatedScroll=function(){return this.$animatedScroll},k.prototype.setShowInvisibles=function(P){this.setOption("showInvisibles",P),this.session.$bidiHandler.setShowInvisibles(P)},k.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},k.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},k.prototype.setDisplayIndentGuides=function(P){this.setOption("displayIndentGuides",P)},k.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},k.prototype.setHighlightIndentGuides=function(P){this.setOption("highlightIndentGuides",P)},k.prototype.setShowPrintMargin=function(P){this.setOption("showPrintMargin",P)},k.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},k.prototype.setPrintMarginColumn=function(P){this.setOption("printMarginColumn",P)},k.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},k.prototype.getShowGutter=function(){return this.getOption("showGutter")},k.prototype.setShowGutter=function(P){return this.setOption("showGutter",P)},k.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},k.prototype.setFadeFoldWidgets=function(P){this.setOption("fadeFoldWidgets",P)},k.prototype.setHighlightGutterLine=function(P){this.setOption("highlightGutterLine",P)},k.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},k.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var P=l.createElement("div");P.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",P.appendChild(this.$printMarginEl),this.content.insertBefore(P,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},k.prototype.getContainerElement=function(){return this.container},k.prototype.getMouseEventTarget=function(){return this.scroller},k.prototype.getTextAreaContainer=function(){return this.container},k.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var P=this.textarea.style,N=this.$composition;if(!this.$keepTextAreaAtCursor&&!N){l.translate(this.textarea,-100,0);return}var D=this.$cursorLayer.$pixelPos;if(D){N&&N.markerRange&&(D=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0));var L=this.layerConfig,I=D.top,O=D.left;I-=L.offset;var F=N&&N.useTextareaForIME||b.isMobile?this.lineHeight:1;if(I<0||I>L.height-F){l.translate(this.textarea,0,0);return}var H=1,j=this.$size.height-F;if(!N)I+=this.lineHeight;else if(N.useTextareaForIME){var z=this.textarea.value;H=this.characterWidth*this.session.$getStringScreenWidth(z)[0]}else I+=this.lineHeight+2;O-=this.scrollLeft,O>this.$size.scrollerWidth-H&&(O=this.$size.scrollerWidth-H),O+=this.gutterWidth+this.margin.left,l.setStyle(P,"height",F+"px"),l.setStyle(P,"width",H+"px"),l.translate(this.textarea,Math.min(O,this.$size.scrollerWidth-H),Math.min(I,j))}}},k.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},k.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},k.prototype.getLastFullyVisibleRow=function(){var P=this.layerConfig,N=P.lastRow,D=this.session.documentToScreenRow(N,0)*P.lineHeight;return D-this.session.getScrollTop()>P.height-P.lineHeight?N-1:N},k.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},k.prototype.setPadding=function(P){this.$padding=P,this.$textLayer.setPadding(P),this.$cursorLayer.setPadding(P),this.$markerFront.setPadding(P),this.$markerBack.setPadding(P),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},k.prototype.setScrollMargin=function(P,N,D,L){var I=this.scrollMargin;I.top=P|0,I.bottom=N|0,I.right=L|0,I.left=D|0,I.v=I.top+I.bottom,I.h=I.left+I.right,I.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-I.top),this.updateFull()},k.prototype.setMargin=function(P,N,D,L){var I=this.margin;I.top=P|0,I.bottom=N|0,I.right=L|0,I.left=D|0,I.v=I.top+I.bottom,I.h=I.left+I.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},k.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},k.prototype.setHScrollBarAlwaysVisible=function(P){this.setOption("hScrollBarAlwaysVisible",P)},k.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},k.prototype.setVScrollBarAlwaysVisible=function(P){this.setOption("vScrollBarAlwaysVisible",P)},k.prototype.$updateScrollBarV=function(){var P=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(P-=(N-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>P-N&&(P=this.scrollTop+N,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(P+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},k.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},k.prototype.freeze=function(){this.$frozen=!0},k.prototype.unfreeze=function(){this.$frozen=!1},k.prototype.$renderChanges=function(P,N){if(this.$changes&&(P|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!P&&!N){this.$changes|=P;return}if(this.$size.$dirty)return this.$changes|=P,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",P),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var D=this.layerConfig;if(P&this.CHANGE_FULL||P&this.CHANGE_SIZE||P&this.CHANGE_TEXT||P&this.CHANGE_LINES||P&this.CHANGE_SCROLL||P&this.CHANGE_H_SCROLL){if(P|=this.$computeLayerConfig()|this.$loop.clear(),D.firstRow!=this.layerConfig.firstRow&&D.firstRowScreen==this.layerConfig.firstRowScreen){var L=this.scrollTop+(D.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;L>0&&(this.scrollTop=L,P=P|this.CHANGE_SCROLL,P|=this.$computeLayerConfig()|this.$loop.clear())}D=this.layerConfig,this.$updateScrollBarV(),P&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-D.offset);var I=D.width+2*this.$padding+"px",O=D.minHeight+"px";l.setStyle(this.content.style,"width",I),l.setStyle(this.content.style,"height",O)}if(P&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-D.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),P&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(D),this.$showGutter&&this.$gutterLayer.update(D),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D),this.$markerBack.update(D),this.$markerFront.update(D),this.$cursorLayer.update(D),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}if(P&this.CHANGE_SCROLL){this.$changedLines=null,P&this.CHANGE_TEXT||P&this.CHANGE_LINES?this.$textLayer.update(D):this.$textLayer.scrollLines(D),this.$showGutter&&(P&this.CHANGE_GUTTER||P&this.CHANGE_LINES?this.$gutterLayer.update(D):this.$gutterLayer.scrollLines(D)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D),this.$markerBack.update(D),this.$markerFront.update(D),this.$cursorLayer.update(D),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}P&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(D),this.$showGutter&&this.$gutterLayer.update(D),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D)):P&this.CHANGE_LINES?((this.$updateLines()||P&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(D),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D)):P&this.CHANGE_TEXT||P&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(D),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D)):P&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(D),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(D)),P&this.CHANGE_CURSOR&&(this.$cursorLayer.update(D),this.$moveTextAreaToCursor()),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(D),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(D),this._signal("afterRender",P)},k.prototype.$autosize=function(){var P=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,D=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,P))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(D+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&D>this.$maxPixelHeight&&(D=this.$maxPixelHeight);var L=D<=2*this.lineHeight,I=!L&&P>N;if(D!=this.desiredHeight||this.$size.height!=this.desiredHeight||I!=this.$vScroll){I!=this.$vScroll&&(this.$vScroll=I,this.scrollBarV.setVisible(I));var O=this.container.clientWidth;this.container.style.height=D+"px",this.$updateCachedSize(!0,this.$gutterWidth,O,D),this.desiredHeight=D,this._signal("autosize")}},k.prototype.$computeLayerConfig=function(){var P=this.session,N=this.$size,D=N.height<=2*this.lineHeight,L=this.session.getScreenLength(),I=L*this.lineHeight,O=this.$getLongestLine(),F=!D&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-O-2*this.$padding<0),H=this.$horizScroll!==F;H&&(this.$horizScroll=F,this.scrollBarH.setVisible(F));var j=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),D=N.height<=2*this.lineHeight);var z=N.scrollerHeight+this.lineHeight,W=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;I+=W;var K=this.scrollMargin;this.session.setScrollTop(Math.max(-K.top,Math.min(this.scrollTop,I-N.scrollerHeight+K.bottom))),this.session.setScrollLeft(Math.max(-K.left,Math.min(this.scrollLeft,O+2*this.$padding-N.scrollerWidth+K.right)));var X=!D&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-I+W<0||this.scrollTop>K.top),J=j!==X;J&&(this.$vScroll=X,this.scrollBarV.setVisible(X));var te=this.scrollTop%this.lineHeight,re=Math.ceil(z/this.lineHeight)-1,ae=Math.max(0,Math.round((this.scrollTop-te)/this.lineHeight)),ie=ae+re,Q,se,de=this.lineHeight;ae=P.screenToDocumentRow(ae,0);var xe=P.getFoldLine(ae);xe&&(ae=xe.start.row),Q=P.documentToScreenRow(ae,0),se=P.getRowLength(ae)*de,ie=Math.min(P.screenToDocumentRow(ie,0),P.getLength()-1),z=N.scrollerHeight+P.getRowLength(ie)*de+se,te=this.scrollTop-Q*de,te<0&&Q>0&&(Q=Math.max(0,Q+Math.floor(te/de)),te=this.scrollTop-Q*de);var ne=0;return(this.layerConfig.width!=O||H)&&(ne=this.CHANGE_H_SCROLL),(H||J)&&(ne|=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),J&&(O=this.$getLongestLine())),this.layerConfig={width:O,padding:this.$padding,firstRow:ae,firstRowScreen:Q,lastRow:ie,lineHeight:de,characterWidth:this.characterWidth,minHeight:z,maxHeight:I,offset:te,gutterOffset:de?Math.max(0,Math.ceil((te+N.height-N.scrollerHeight)/de)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(O-this.$padding),ne},k.prototype.$updateLines=function(){if(this.$changedLines){var P=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var D=this.layerConfig;if(!(P>D.lastRow+1)&&!(N<D.firstRow)){if(N===1/0){this.$showGutter&&this.$gutterLayer.update(D),this.$textLayer.update(D);return}return this.$textLayer.updateLines(D,P,N),!0}}},k.prototype.$getLongestLine=function(){var P=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(P+=1),this.$textLayer&&P>this.$textLayer.MAX_LINE_LENGTH&&(P=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(P*this.characterWidth))},k.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},k.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},k.prototype.addGutterDecoration=function(P,N){this.$gutterLayer.addGutterDecoration(P,N)},k.prototype.removeGutterDecoration=function(P,N){this.$gutterLayer.removeGutterDecoration(P,N)},k.prototype.updateBreakpoints=function(P){this._rows=P,this.$loop.schedule(this.CHANGE_GUTTER)},k.prototype.setAnnotations=function(P){this.$gutterLayer.setAnnotations(P),this.$loop.schedule(this.CHANGE_GUTTER)},k.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},k.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},k.prototype.showCursor=function(){this.$cursorLayer.showCursor()},k.prototype.scrollSelectionIntoView=function(P,N,D){this.scrollCursorIntoView(P,D),this.scrollCursorIntoView(N,D)},k.prototype.scrollCursorIntoView=function(P,N,D){if(this.$size.scrollerHeight!==0){var L=this.$cursorLayer.getPixelPosition(P),I=L.left,O=L.top,F=D&&D.top||0,H=D&&D.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var j=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;j+F>O?(N&&j+F>O+this.lineHeight&&(O-=N*this.$size.scrollerHeight),O===0&&(O=-this.scrollMargin.top),this.session.setScrollTop(O)):j+this.$size.scrollerHeight-H<O+this.lineHeight&&(N&&j+this.$size.scrollerHeight-H<O-this.lineHeight&&(O+=N*this.$size.scrollerHeight),this.session.setScrollTop(O+this.lineHeight+H-this.$size.scrollerHeight));var z=this.scrollLeft,W=2*this.layerConfig.characterWidth;I-W<z?(I-=W,I<this.$padding+W&&(I=-this.scrollMargin.left),this.session.setScrollLeft(I)):(I+=W,z+this.$size.scrollerWidth<I+this.characterWidth?this.session.setScrollLeft(Math.round(I+this.characterWidth-this.$size.scrollerWidth)):z<=this.$padding&&I-z<this.characterWidth&&this.session.setScrollLeft(0))}},k.prototype.getScrollTop=function(){return this.session.getScrollTop()},k.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},k.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},k.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},k.prototype.scrollToRow=function(P){this.session.setScrollTop(P*this.lineHeight)},k.prototype.alignCursor=function(P,N){typeof P=="number"&&(P={row:P,column:0});var D=this.$cursorLayer.getPixelPosition(P),L=this.$size.scrollerHeight-this.lineHeight,I=D.top-L*(N||0);return this.session.setScrollTop(I),I},k.prototype.$calcSteps=function(P,N){var D=0,L=this.STEPS,I=[],O=function(F,H,j){return j*(Math.pow(F-1,3)+1)+H};for(D=0;D<L;++D)I.push(O(D/this.STEPS,P,N-P));return I},k.prototype.scrollToLine=function(P,N,D,L){var I=this.$cursorLayer.getPixelPosition({row:P,column:0}),O=I.top;N&&(O-=this.$size.scrollerHeight/2);var F=this.scrollTop;this.session.setScrollTop(O),D!==!1&&this.animateScrolling(F,L)},k.prototype.animateScrolling=function(P,N){var D=this.scrollTop;if(!this.$animatedScroll)return;var L=this;if(P==D)return;if(this.$scrollAnimation){var I=this.$scrollAnimation.steps;if(I.length&&(P=I[0],P==D))return}var O=L.$calcSteps(P,D);this.$scrollAnimation={from:P,to:D,steps:O},clearInterval(this.$timer),L.session.setScrollTop(O.shift()),L.session.$scrollTop=D;function F(){L.$timer=clearInterval(L.$timer),L.$scrollAnimation=null,L.$stopAnimation=!1,N&&N()}this.$timer=setInterval(function(){if(L.$stopAnimation){F();return}if(!L.session)return clearInterval(L.$timer);O.length?(L.session.setScrollTop(O.shift()),L.session.$scrollTop=D):D!=null?(L.session.$scrollTop=-1,L.session.setScrollTop(D),D=null):F()},10)},k.prototype.scrollToY=function(P){this.scrollTop!==P&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=P)},k.prototype.scrollToX=function(P){this.scrollLeft!==P&&(this.scrollLeft=P),this.$loop.schedule(this.CHANGE_H_SCROLL)},k.prototype.scrollTo=function(P,N){this.session.setScrollTop(N),this.session.setScrollLeft(P)},k.prototype.scrollBy=function(P,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),P&&this.session.setScrollLeft(this.session.getScrollLeft()+P)},k.prototype.isScrollableBy=function(P,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||P<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||P>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},k.prototype.pixelToScreenCoordinates=function(P,N){var D;if(this.$hasCssTransforms){D={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([P,N]);P=L[1]-this.gutterWidth-this.margin.left,N=L[0]}else D=this.scroller.getBoundingClientRect();var I=P+this.scrollLeft-D.left-this.$padding,O=I/this.characterWidth,F=Math.floor((N+this.scrollTop-D.top)/this.lineHeight),H=this.$blockCursor?Math.floor(O):Math.round(O);return{row:F,column:H,side:O-H>0?1:-1,offsetX:I}},k.prototype.screenToTextCoordinates=function(P,N){var D;if(this.$hasCssTransforms){D={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([P,N]);P=L[1]-this.gutterWidth-this.margin.left,N=L[0]}else D=this.scroller.getBoundingClientRect();var I=P+this.scrollLeft-D.left-this.$padding,O=I/this.characterWidth,F=this.$blockCursor?Math.floor(O):Math.round(O),H=Math.floor((N+this.scrollTop-D.top)/this.lineHeight);return this.session.screenToDocumentPosition(H,Math.max(F,0),I)},k.prototype.textToScreenCoordinates=function(P,N){var D=this.scroller.getBoundingClientRect(),L=this.session.documentToScreenPosition(P,N),I=this.$padding+(this.session.$bidiHandler.isBidiRow(L.row,P)?this.session.$bidiHandler.getPosLeft(L.column):Math.round(L.column*this.characterWidth)),O=L.row*this.lineHeight;return{pageX:D.left+I-this.scrollLeft,pageY:D.top+O-this.scrollTop}},k.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},k.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},k.prototype.showComposition=function(P){this.$composition=P,P.cssText||(P.cssText=this.textarea.style.cssText),P.useTextareaForIME==null&&(P.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):P.markerId=this.session.addMarker(P.markerRange,"ace_composition_marker","text")},k.prototype.setCompositionText=function(P){var N=this.session.selection.cursor;this.addToken(P,"composition_placeholder",N.row,N.column),this.$moveTextAreaToCursor()},k.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var P=this.session.selection.cursor;this.removeExtraToken(P.row,P.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},k.prototype.setGhostText=function(P,N){var D=this.session.selection.cursor,L=N||{row:D.row,column:D.column};this.removeGhostText();var I=this.$calculateWrappedTextChunks(P,L);this.addToken(I[0].text,"ghost_text",L.row,L.column),this.$ghostText={text:P,position:{row:L.row,column:L.column}};var O=l.createElement("div");if(I.length>1){var F=this.hideTokensAfterPosition(L.row,L.column),H;I.slice(1).forEach(function(J){var te=l.createElement("div"),re=l.createElement("span");re.className="ace_ghost_text",J.wrapped&&(te.className="ghost_text_line_wrapped"),J.text.length===0&&(J.text=" "),re.appendChild(l.createTextNode(J.text)),te.appendChild(re),O.appendChild(te),H=te}),F.forEach(function(J){var te=l.createElement("span");T(J.type)||(te.className="ace_"+J.type.replace(/\./g," ace_")),te.appendChild(l.createTextNode(J.value)),H.appendChild(te)}),this.$ghostTextWidget={el:O,row:L.row,column:L.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var j=this.$cursorLayer.getPixelPosition(L,!0),z=this.container,W=z.getBoundingClientRect().height,K=I.length*this.lineHeight,X=K<W-j.top;if(X)return;K<W?this.scrollBy(0,(I.length-1)*this.lineHeight):this.scrollToRow(L.row)}},k.prototype.$calculateWrappedTextChunks=function(P,N){var D=this.$size.scrollerWidth-this.$padding*2,L=Math.floor(D/this.characterWidth)-2;L=L<=0?60:L;for(var I=P.split(/\r?\n/),O=[],F=0;F<I.length;F++){var H=this.session.$getDisplayTokens(I[F],N.column),j=this.session.$computeWrapSplits(H,L,this.session.$tabSize);if(j.length>0){var z=0;j.push(I[F].length);for(var W=0;W<j.length;W++){var K=I[F].slice(z,j[W]);O.push({text:K,wrapped:!0}),z=j[W]}}else O.push({text:I[F],wrapped:!1})}return O},k.prototype.removeGhostText=function(){if(this.$ghostText){var P=this.$ghostText.position;this.removeExtraToken(P.row,P.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},k.prototype.addToken=function(P,N,D,L){var I=this.session;I.bgTokenizer.lines[D]=null;var O={type:N,value:P},F=I.getTokens(D);if(L==null||!F.length)F.push(O);else for(var H=0,j=0;j<F.length;j++){var z=F[j];if(H+=z.value.length,L<=H){var W=z.value.length-(H-L),K=z.value.slice(0,W),X=z.value.slice(W);F.splice(j,1,{type:z.type,value:K},O,{type:z.type,value:X});break}}this.updateLines(D,D)},k.prototype.hideTokensAfterPosition=function(P,N){for(var D=this.session.getTokens(P),L=0,I=!1,O=[],F=0;F<D.length;F++){var H=D[F];if(L+=H.value.length,H.type!=="ghost_text"){if(I){O.push({type:H.type,value:H.value}),H.type="hidden_token";continue}L===N&&(I=!0)}}return this.updateLines(P,P),O},k.prototype.removeExtraToken=function(P,N){this.session.bgTokenizer.lines[P]=null,this.updateLines(P,P)},k.prototype.setTheme=function(P,N){var D=this;if(this.$themeId=P,D._dispatchEvent("themeChange",{theme:P}),!P||typeof P=="string"){var L=P||this.$options.theme.initialValue;o.loadModule(["theme",L],I)}else I(P);function I(O){if(D.$themeId!=P)return N&&N();if(!O||!O.cssClass)throw new Error("couldn't load module "+P+" or it didn't call define");O.$id&&(D.$themeId=O.$id),l.importCssString(O.cssText,O.cssClass,D.container),D.theme&&l.removeCssClass(D.container,D.theme.cssClass);var F="padding"in O?O.padding:"padding"in(D.theme||{})?4:D.$padding;if(D.$padding&&F!=D.$padding&&D.setPadding(F),D.$gutterLayer){var H=O.$showGutterCursorMarker;H&&!D.$gutterLayer.$showCursorMarker?D.$gutterLayer.$showCursorMarker="theme":!H&&D.$gutterLayer.$showCursorMarker=="theme"&&(D.$gutterLayer.$showCursorMarker=null)}D.$theme=O.cssClass,D.theme=O,l.addCssClass(D.container,O.cssClass),l.setCssClass(D.container,"ace_dark",O.isDark),D.$size&&(D.$size.width=0,D.$updateSizeAsync()),D._dispatchEvent("themeLoaded",{theme:O}),N&&N(),b.isSafari&&D.scroller&&(D.scroller.style.background="red",D.scroller.style.background="")}},k.prototype.getTheme=function(){return this.$themeId},k.prototype.setStyle=function(P,N){l.setCssClass(this.container,P,N!==!1)},k.prototype.unsetStyle=function(P){l.removeCssClass(this.container,P)},k.prototype.setCursorStyle=function(P){l.setStyle(this.scroller.style,"cursor",P)},k.prototype.setMouseCursor=function(P){l.setStyle(this.scroller.style,"cursor",P)},k.prototype.attachToShadowRoot=function(){l.importCssString(w,"ace_editor.css",this.container)},k.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},k.prototype.$updateCustomScrollbar=function(P){var N=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),P===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(D){N.$scrollAnimation||N.session.setScrollTop(D.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(D){N.$scrollAnimation||N.session.setScrollLeft(D.data-N.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new C(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(D){N.$scrollAnimation||N.session.setScrollTop(D.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(D){N.$scrollAnimation||N.session.setScrollLeft(D.data-N.scrollMargin.left)}))},k.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var P=this;this.$resizeTimer=a.delayedCall(function(){P.destroyed||P.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(N){var D=N[0].contentRect.width,L=N[0].contentRect.height;Math.abs(P.$size.width-D)>1||Math.abs(P.$size.height-L)>1?P.$resizeTimer.delay():P.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},k})();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,s.implement(A.prototype,_),o.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(k){!k&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):k&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(k){this.$textLayer.setShowInvisibles(k)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(k){typeof k=="number"&&(this.$printMarginColumn=k),this.$showPrintMargin=!!k,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(k){this.$gutter.style.display=k?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(k){this.$gutterLayer.$useSvgGutterIcons=k},initialValue:!1},showFoldedAnnotations:{set:function(k){this.$gutterLayer.$showFoldedAnnotations=k},initialValue:!1},fadeFoldWidgets:{set:function(k){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",k)},initialValue:!1},showFoldWidgets:{set:function(k){this.$gutterLayer.setShowFoldWidgets(k),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(k){this.$textLayer.setDisplayIndentGuides(k)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(k){this.$textLayer.setHighlightIndentGuides(k)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(k){this.$gutterLayer.setHighlightGutterLine(k),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(k){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(k){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(k){typeof k=="number"&&(k=k+"px"),this.container.style.fontSize=k,this.updateFontSize()},initialValue:12},fontFamily:{set:function(k){this.container.style.fontFamily=k,this.updateFontSize()}},maxLines:{set:function(k){this.updateFull()}},minLines:{set:function(k){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(k){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(k){k=+k||0,this.$scrollPastEnd!=k&&(this.$scrollPastEnd=k,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(k){this.$gutterLayer.$fixedWidth=!!k,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(k){this.$updateCustomScrollbar(k)},initialValue:!1},theme:{set:function(k){this.setTheme(k)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),r.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/net"),a=t("../lib/event_emitter").EventEmitter,o=t("../config");function h(f){var p="importScripts('"+l.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new m;return g.append(p),g.getBlob("application/javascript")}}function c(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var p=h(f),m=window.URL||window.webkitURL,g=m.createObjectURL(p);return new Worker(g)}return new Worker(f)}var u=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,a),this.$createWorkerFromOldConfig=function(f,p,m,g,v){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)g=g||o.moduleUrl(p,"worker");else{var y=this.$normalizePath;g=g||y(t.toUrl("ace/worker/worker.js",null,"_"));var _={};f.forEach(function(w){_[w]=y(t.toUrl(w,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(g),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:_,module:p,classname:m}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return l.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,m){if(m){var g=this.callbackId++;this.callbacks[g]=m,p.push(g)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(u.prototype);var d=function(f,p,m){var g=null,v=!1,y=Object.create(a),_=[],w=new u({messageBuffer:_,terminate:function(){},postMessage:function(b){_.push(b),g&&(v?setTimeout(C):C())}});w.setEmitSync=function(b){v=b};var C=function(){var b=_.shift();b.command?g[b.command].apply(g,b.args):b.event&&y._signal(b.event,b.data)};return y.postMessage=function(b){w.onMessage({data:b})},y.callback=function(b,T){this.postMessage({type:"call",id:T,data:b})},y.emit=function(b,T){this.postMessage({type:"event",name:b,data:T})},o.loadModule(["worker",p],function(b){for(g=new b[m](y);_.length;)C()}),w};r.UIWorkerClient=d,r.WorkerClient=u,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,r,i){var s=t("./range").Range,l=t("./lib/event_emitter").EventEmitter,a=t("./lib/oop"),o=(function(){function h(c,u,d,f,p,m){var g=this;this.length=u,this.session=c,this.doc=c.getDocument(),this.mainClass=p,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=d;var v=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return h.prototype.setup=function(){var c=this,u=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=d.addMarker(new s(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var m=u.createAnchor(p.row,p.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),d.setUndoSelect(!1)},h.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,u=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=c.addMarker(new s(d.row,d.column,d.row,d.column+u.length),u.othersClass,null,!1)})}},h.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},h.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var u=c;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var d=c.action==="insert"?u.end.column-u.start.column:u.start.column-u.end.column,f=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,p=u.start.column-this.pos.column;if(this.updateAnchors(c),f&&(this.length+=d),f&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],v={row:g.row,column:g.column+p};this.doc.insertMergedLines(v,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],v={row:g.row,column:g.column+p};this.doc.remove(new s(v.row,v.column,v.row,v.column-d))}}this.$updating=!1,this.updateMarkers()}},h.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var u=this.others.length;u--;)this.others[u].onChange(c);this.updateMarkers()},h.prototype.updateMarkers=function(){if(!this.$updating){var c=this,u=this.session,d=function(p,m){u.removeMarker(p.markerId),p.markerId=u.addMarker(new s(p.row,p.column,p.row,p.column+c.length),m,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}},h.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var u=this.session.selection.getCursor();u.row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},h.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},h.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),u=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,d=0;d<u;d++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},h})();a.implement(o.prototype,l),r.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,i){var s=t("../lib/event"),l=t("../lib/useragent");function a(h,c){return h.row==c.row&&h.column==c.column}function o(h){var c=h.domEvent,u=c.altKey,d=c.shiftKey,f=c.ctrlKey,p=h.getAccelKey(),m=h.getButton();if(f&&l.isMac&&(m=c.button),h.editor.inMultiSelectMode&&m==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!f&&!u&&!p){m===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(m===0){var g=h.editor,v=g.selection,y=g.inMultiSelectMode,_=h.getDocumentPosition(),w=v.getCursor(),C=h.inSelection()||v.isEmpty()&&a(_,w),b=h.x,T=h.y,A=function(K){b=K.clientX,T=K.clientY},k=g.session,P=g.renderer.pixelToScreenCoordinates(b,T),N=P,D;if(g.$mouseHandler.$enableJumpToDef)f&&u||p&&u?D=d?"block":"add":u&&g.$blockSelectEnabled&&(D="block");else if(p&&!u){if(D="add",!y&&d)return}else u&&g.$blockSelectEnabled&&(D="block");if(D&&l.isMac&&c.ctrlKey&&g.$mouseHandler.cancelContextMenu(),D=="add"){if(!y&&C)return;if(!y){var L=v.toOrientedRange();g.addSelectionMarker(L)}var I=v.rangeList.rangeAtPoint(_);g.inVirtualSelectionMode=!0,d&&(I=null,L=v.ranges[0]||L,g.removeSelectionMarker(L)),g.once("mouseup",function(){var K=v.toOrientedRange();I&&K.isEmpty()&&a(I.cursor,K.cursor)?v.substractPoint(K.cursor):(d?v.substractPoint(L.cursor):L&&(g.removeSelectionMarker(L),v.addRange(L)),v.addRange(K)),g.inVirtualSelectionMode=!1})}else if(D=="block"){h.stop(),g.inVirtualSelectionMode=!0;var O,F=[],H=function(){var K=g.renderer.pixelToScreenCoordinates(b,T),X=k.screenToDocumentPosition(K.row,K.column,K.offsetX);a(N,K)&&a(X,v.lead)||(N=K,g.selection.moveToPosition(X),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(F),F=v.rectangularRangeBlock(N,P),g.$mouseHandler.$clickSelection&&F.length==1&&F[0].isEmpty()&&(F[0]=g.$mouseHandler.$clickSelection.clone()),F.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};y&&!p?v.toSingleRange():!y&&p&&(O=v.toOrientedRange(),g.addSelectionMarker(O)),d?P=k.documentToScreenPosition(v.lead):v.moveToPosition(_),N={row:-1,column:-1};var j=function(K){H(),clearInterval(W),g.removeSelectionMarkers(F),F.length||(F=[v.toOrientedRange()]),O&&(g.removeSelectionMarker(O),v.toSingleRange(O));for(var X=0;X<F.length;X++)v.addRange(F[X]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},z=H;s.capture(g.container,A,j);var W=setInterval(function(){z()},20);return h.preventDefault()}}}r.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var s=t("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new s(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,r,i){var s=t("./range_list").RangeList,l=t("./range").Range,a=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,h=t("./lib/event"),c=t("./lib/lang"),u=t("./commands/multi_select_commands");r.commands=u.defaultCommands.concat(u.multiSelectCommands);var d=t("./search").Search,f=new d;function p(w,C,b){return f.$options.wrap=!0,f.$options.needle=C,f.$options.backwards=b==-1,f.find(w)}var m=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(w,C){if(w){if(!this.inMultiSelectMode&&this.rangeCount===0){var b=this.toOrientedRange();if(this.rangeList.add(b),this.rangeList.add(w),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(w);this.rangeList.removeAll(),this.rangeList.add(b),this.$onAddRange(b)}w.cursor||(w.cursor=w.end);var T=this.rangeList.add(w);return this.$onAddRange(w),T.length&&this.$onRemoveRange(T),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(w)}},this.toSingleRange=function(w){w=w||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),w&&this.fromOrientedRange(w)},this.substractPoint=function(w){var C=this.rangeList.substractPoint(w);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var w=this.rangeList.merge();w.length&&this.$onRemoveRange(w)},this.$onAddRange=function(w){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(w),this._signal("addRange",{range:w})},this.$onRemoveRange=function(w){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();w.push(C),this.rangeCount=0}for(var b=w.length;b--;){var T=this.ranges.indexOf(w[b]);this.ranges.splice(T,1)}this._signal("removeRange",{ranges:w}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),C=C||this.ranges[0],C&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var w=this.ranges.length?this.ranges:[this.getRange()],C=[],b=0;b<w.length;b++){var T=w[b],A=T.start.row,k=T.end.row;if(A===k)C.push(T.clone());else{for(C.push(new l(A,T.start.column,A,this.session.getLine(A).length));++A<k;)C.push(this.getLineRange(A,!0));C.push(new l(k,0,k,T.end.column))}b==0&&!this.isBackwards()&&(C=C.reverse())}this.toSingleRange();for(var b=C.length;b--;)this.addRange(C[b])},this.joinSelections=function(){var w=this.rangeList.ranges,C=w[w.length-1],b=l.fromPoints(w[0].start,C.end);this.toSingleRange(),this.setSelectionRange(b,C.cursor==C.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var w=this.rangeList.ranges,C=w[w.length-1],b=l.fromPoints(w[0].start,C.end);this.toSingleRange(),this.setSelectionRange(b,C.cursor==C.start)}else{var T=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),k=this.rectangularRangeBlock(T,A);k.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(w,C,b){var T=[],A=w.column<C.column;if(A)var k=w.column,P=C.column,N=w.offsetX,D=C.offsetX;else var k=C.column,P=w.column,N=C.offsetX,D=w.offsetX;var L=w.row<C.row;if(L)var I=w.row,O=C.row;else var I=C.row,O=w.row;k<0&&(k=0),I<0&&(I=0),I==O&&(b=!0);for(var F,H=I;H<=O;H++){var j=l.fromPoints(this.session.screenToDocumentPosition(H,k,N),this.session.screenToDocumentPosition(H,P,D));if(j.isEmpty()){if(F&&v(j.end,F))break;F=j.end}j.cursor=A?j.start:j.end,T.push(j)}if(L&&T.reverse(),!b){for(var z=T.length-1;T[z].isEmpty()&&z>0;)z--;if(z>0)for(var W=0;T[W].isEmpty();)W++;for(var K=z;K>=W;K--)T[K].isEmpty()&&T.splice(K,1)}return T}}).call(a.prototype);var g=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(w){w.cursor||(w.cursor=w.end);var C=this.getSelectionStyle();return w.marker=this.session.addMarker(w,"ace_selection",C),this.session.$selectionMarkers.push(w),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,w},this.removeSelectionMarker=function(w){if(w.marker){this.session.removeMarker(w.marker);var C=this.session.$selectionMarkers.indexOf(w);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(w){for(var C=this.session.$selectionMarkers,b=w.length;b--;){var T=w[b];if(T.marker){this.session.removeMarker(T.marker);var A=C.indexOf(T);A!=-1&&C.splice(A,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(w){this.addSelectionMarker(w.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(w){this.removeSelectionMarkers(w.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(w){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(w){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(w){var C=w.command,b=w.editor;if(b.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?T=b.forEachSelection(C,w.args):C.multiSelectAction=="forEachLine"?T=b.forEachSelection(C,w.args,!0):C.multiSelectAction=="single"?(b.exitMultiSelectMode(),T=C.exec(b,w.args||{})):T=C.multiSelectAction(b,w.args||{});else{var T=C.exec(b,w.args||{});b.multiSelect.addRange(b.multiSelect.toOrientedRange()),b.multiSelect.mergeOverlappingRanges()}return T}},this.forEachSelection=function(w,C,b){if(!this.inVirtualSelectionMode){var T=b&&b.keepOrder,A=b==!0||b&&b.$byLines,k=this.session,P=this.selection,N=P.rangeList,D=(T?P:N).ranges,L;if(!D.length)return w.exec?w.exec(this,C||{}):w(this,C||{});var I=P._eventRegistry;P._eventRegistry={};var O=new a(k);this.inVirtualSelectionMode=!0;for(var F=D.length;F--;){if(A)for(;F>0&&D[F].start.row==D[F-1].end.row;)F--;O.fromOrientedRange(D[F]),O.index=F,this.selection=k.selection=O;var H=w.exec?w.exec(this,C||{}):w(this,C||{});!L&&H!==void 0&&(L=H),O.toOrientedRange(D[F])}O.detach(),this.selection=k.selection=P,this.inVirtualSelectionMode=!1,P._eventRegistry=I,P.mergeOverlappingRanges(),P.ranges[0]&&P.fromOrientedRange(P.ranges[0]);var j=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),j&&j.from==j.to&&this.renderer.animateScrolling(j.from),L}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var w="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,b=[],T=0;T<C.length;T++)b.push(this.session.getTextRange(C[T]));var A=this.session.getDocument().getNewLineCharacter();w=b.join(A),w.length==(b.length-1)*A.length&&(w="")}else this.selection.isEmpty()||(w=this.session.getTextRange(this.getSelectionRange()));return w},this.$checkMultiselectChange=function(w,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var b=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var T=C==this.multiSelect.anchor?b.cursor==b.start?b.end:b.start:b.cursor;T.row!=C.row||this.session.$clipPositionToDocument(T.row,T.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(w,C,b){if(C=C||{},C.needle=w||C.needle,C.needle==null){var T=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(T)}this.$search.set(C);var A=this.$search.findAll(this.session);if(!A.length)return 0;var k=this.multiSelect;b||k.toSingleRange(A[0]);for(var P=A.length;P--;)k.addRange(A[P],!0);return T&&k.rangeList.rangeAtPoint(T.start)&&k.addRange(T,!0),A.length},this.selectMoreLines=function(w,C){var b=this.selection.toOrientedRange(),T=b.cursor==b.end,A=this.session.documentToScreenPosition(b.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var k=this.session.screenToDocumentPosition(A.row+w,A.column);if(b.isEmpty())var N=k;else var P=this.session.documentToScreenPosition(T?b.end:b.start),N=this.session.screenToDocumentPosition(P.row+w,P.column);if(T){var D=l.fromPoints(k,N);D.cursor=D.start}else{var D=l.fromPoints(N,k);D.cursor=D.end}if(D.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(b);else if(C)var L=b.cursor;this.selection.addRange(D),L&&this.selection.substractPoint(L)},this.transposeSelections=function(w){for(var C=this.session,b=C.multiSelect,T=b.ranges,A=T.length;A--;){var k=T[A];if(k.isEmpty()){var P=C.getWordRange(k.start.row,k.start.column);k.start.row=P.start.row,k.start.column=P.start.column,k.end.row=P.end.row,k.end.column=P.end.column}}b.mergeOverlappingRanges();for(var N=[],A=T.length;A--;){var k=T[A];N.unshift(C.getTextRange(k))}w<0?N.unshift(N.pop()):N.push(N.shift());for(var A=T.length;A--;){var k=T[A],D=k.clone();C.replace(k,N[A]),k.start.row=D.start.row,k.start.column=D.start.column}b.fromOrientedRange(b.ranges[0])},this.selectMore=function(w,C,b){var T=this.session,A=T.multiSelect,k=A.toOrientedRange();if(!(k.isEmpty()&&(k=T.getWordRange(k.start.row,k.start.column),k.cursor=w==-1?k.start:k.end,this.multiSelect.addRange(k),b))){var P=T.getTextRange(k),N=p(T,P,w);N&&(N.cursor=w==-1?N.start:N.end,this.session.unfold(N),this.multiSelect.addRange(N),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(k.cursor)}},this.alignCursors=function(){var w=this.session,C=w.multiSelect,b=C.ranges,T=-1,A=b.filter(function(z){if(z.cursor.row==T)return!0;T=z.cursor.row});if(!b.length||A.length==b.length-1){var k=this.selection.getRange(),P=k.start.row,N=k.end.row,D=P==N;if(D){var L=this.session.getLength(),I;do I=this.session.getLine(N);while(/[=:]/.test(I)&&++N<L);do I=this.session.getLine(P);while(/[=:]/.test(I)&&--P>0);P<0&&(P=0),N>=L&&(N=L-1)}var O=this.session.removeFullLines(P,N);O=this.$reAlignText(O,D),this.session.insert({row:P,column:0},O.join(`
`)+`
`),D||(k.start.column=0,k.end.column=O[O.length-1].length),this.selection.setRange(k)}else{A.forEach(function(z){C.substractPoint(z.cursor)});var F=0,H=1/0,j=b.map(function(z){var W=z.cursor,K=w.getLine(W.row),X=K.substr(W.column).search(/\S/g);return X==-1&&(X=0),W.column>F&&(F=W.column),X<H&&(H=X),X});b.forEach(function(z,W){var K=z.cursor,X=F-K.column,J=j[W]-H;X>J?w.insert(K,c.stringRepeat(" ",X-J)):w.remove(new l(K.row,K.column,K.row,K.column-X+J)),z.start.column=z.end.column=F,z.start.row=z.end.row=K.row,z.cursor=z.end}),C.fromOrientedRange(b[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(w,C){var b=!0,T=!0,A,k,P;return w.map(function(O){var F=O.match(/(\s*)(.*?)(\s*)([=:].*)/);return F?A==null?(A=F[1].length,k=F[2].length,P=F[3].length,F):(A+k+P!=F[1].length+F[2].length+F[3].length&&(T=!1),A!=F[1].length&&(b=!1),A>F[1].length&&(A=F[1].length),k<F[2].length&&(k=F[2].length),P>F[3].length&&(P=F[3].length),F):[O]}).map(C?D:b?T?L:D:I);function N(O){return c.stringRepeat(" ",O)}function D(O){return O[2]?N(A)+O[2]+N(k-O[2].length+P)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}function L(O){return O[2]?N(A+k-O[2].length)+O[2]+N(P)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}function I(O){return O[2]?N(A)+O[2]+N(P)+O[4].replace(/^([=:])\s+/,"$1 "):O[0]}}}).call(g.prototype);function v(w,C){return w.row==C.row&&w.column==C.column}r.onSessionChange=function(w){var C=w.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var b=w.oldSession;b&&(b.multiSelect.off("addRange",this.$onAddRange),b.multiSelect.off("removeRange",this.$onRemoveRange),b.multiSelect.off("multiSelect",this.$onMultiSelect),b.multiSelect.off("singleSelect",this.$onSingleSelect),b.multiSelect.lead.off("change",this.$checkMultiselectChange),b.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y(w){w.$multiselectOnSessionChange||(w.$onAddRange=w.$onAddRange.bind(w),w.$onRemoveRange=w.$onRemoveRange.bind(w),w.$onMultiSelect=w.$onMultiSelect.bind(w),w.$onSingleSelect=w.$onSingleSelect.bind(w),w.$multiselectOnSessionChange=r.onSessionChange.bind(w),w.$checkMultiselectChange=w.$checkMultiselectChange.bind(w),w.$multiselectOnSessionChange(w),w.on("changeSession",w.$multiselectOnSessionChange),w.on("mousedown",o),w.commands.addCommands(u.defaultCommands),_(w))}function _(w){if(!w.textInput)return;var C=w.textInput.getElement(),b=!1;h.addListener(C,"keydown",function(A){var k=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);w.$blockSelectEnabled&&k?b||(w.renderer.setMouseCursor("crosshair"),b=!0):b&&T()},w),h.addListener(C,"keyup",T,w),h.addListener(C,"blur",T,w);function T(A){b&&(w.renderer.setMouseCursor(""),b=!1)}}r.MultiSelect=y,t("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(w){y(this),w?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(w){this.$blockSelectEnabled=w},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,r,i){var s=t("../../range").Range,l=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,o,h){var c=a.getLine(h);return this.foldingStartMarker.test(c)?"start":o=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(a,o,h){return null},this.indentationBlock=function(a,o,h){var c=/\S/,u=a.getLine(o),d=u.search(c);if(d!=-1){for(var f=h||u.length,p=a.getLength(),m=o,g=o;++o<p;){var v=a.getLine(o).search(c);if(v!=-1){if(v<=d){var y=a.getTokenAt(o,0);if(!y||y.type!=="string")break}g=o}}if(g>m){var _=a.getLine(g).length;return new s(m,f,g,_)}}},this.openingBracketBlock=function(a,o,h,c,u){var d={row:h,column:c+1},f=a.$findClosingBracket(o,d,u);if(f){var p=a.foldWidgets[f.row];return p==null&&(p=a.getFoldWidget(f.row)),p=="start"&&f.row>d.row&&(f.row--,f.column=a.getLine(f.row).length),s.fromPoints(d,f)}},this.closingBracketBlock=function(a,o,h,c,u){var d={row:h,column:c},f=a.$findOpeningBracket(o,d);if(f)return f.column++,d.column--,s.fromPoints(f,d)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(t,r,i){var s=t("../lib/dom"),l=t("../range").Range,a=t("../config").nls;function o(c,u,d){for(var f=0,p=c.length-1;f<=p;){var m=f+p>>1,g=d(u,c[m]);if(g>0)f=m+1;else if(g<0)p=m-1;else return m}return-(f+1)}function h(c,u,d){var f=c.getAnnotations().sort(l.comparePoints);if(f.length){var p=o(f,{row:u,column:-1},l.comparePoints);p<0&&(p=-p-1),p>=f.length?p=d>0?0:f.length-1:p===0&&d<0&&(p=f.length-1);var m=f[p];if(!(!m||!d)){if(m.row===u){do m=f[p+=d];while(m&&m.row===u);if(!m)return f.slice()}var g=[];u=m.row;do g[d<0?"unshift":"push"](m),m=f[p+=d];while(m&&m.row==u);return g.length&&g}}}r.showErrorMarker=function(c,u){var d=c.session,f=c.getCursorPosition(),p=f.row,m=d.widgetManager.getWidgetsAtRow(p).filter(function(A){return A.type=="errorMarker"})[0];m?m.destroy():p-=u;var g=h(d,p,u),v;if(g){var y=g[0];f.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,f.row=y.row,v=c.renderer.$gutterLayer.$annotations[f.row]}else{if(m)return;v={displayText:[a("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(f.row),c.selection.moveToPosition(f);var _={row:f.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},w=_.el.appendChild(s.createElement("div")),C=_.el.appendChild(s.createElement("div"));C.className="error_widget_arrow "+v.className;var b=c.renderer.$cursorLayer.getPixelPosition(f).left;C.style.left=b+c.renderer.gutterWidth-5+"px",_.el.className="error_widget_wrapper",w.className="error_widget "+v.className,v.displayText.forEach(function(A,k){w.appendChild(s.createTextNode(A)),k<v.displayText.length-1&&w.appendChild(s.createElement("br"))}),w.appendChild(s.createElement("div"));var T=function(A,k,P){if(k===0&&(P==="esc"||P==="return"))return _.destroy(),{command:"null"}};_.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(T),d.widgetManager.removeLineWidget(_),c.off("changeSelection",_.destroy),c.off("changeSession",_.destroy),c.off("mouseup",_.destroy),c.off("change",_.destroy))},c.keyBinding.addKeyboardHandler(T),c.on("changeSelection",_.destroy),c.on("changeSession",_.destroy),c.on("mouseup",_.destroy),c.on("change",_.destroy),c.session.widgetManager.addLineWidget(_),_.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:_.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,r,i){t("./loader_build")(r);var s=t("./lib/dom"),l=t("./range").Range,a=t("./editor").Editor,o=t("./edit_session").EditSession,h=t("./undomanager").UndoManager,c=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),r.config=t("./config"),r.edit=function(d,f){if(typeof d=="string"){var p=d;if(d=document.getElementById(p),!d)throw new Error("ace.edit can't find div #"+p)}if(d&&d.env&&d.env.editor instanceof a)return d.env.editor;var m="";if(d&&/input|textarea/i.test(d.tagName)){var g=d;m=g.value,d=s.createElement("pre"),g.parentNode.replaceChild(d,g)}else d&&(m=d.textContent,d.innerHTML="");var v=r.createEditSession(m),y=new a(new c(d),v,f),_={document:v,editor:y,onResize:y.resize.bind(y,null)};return g&&(_.textarea=g),y.on("destroy",function(){_.editor.container.env=null}),y.container.env=y.env=_,y},r.createEditSession=function(d,f){var p=new o(d,f);return p.setUndoManager(new h),p},r.Range=l,r.Editor=a,r.EditSession=o,r.UndoManager=h,r.VirtualRenderer=c;var u=r.config.version;r.version=u}),(function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define);var r=(function(){return this})();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=t);for(var i in t)t.hasOwnProperty(i)&&(r.ace[i]=t[i]);r.ace.default=r.ace,n&&(n.exports=r.ace)})})()})(eE)),eE.exports}var ev={exports:{}};ev.exports;var TB;function j6(){return TB||(TB=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,s=2,l=9007199254740991,a="[object Arguments]",o="[object Array]",h="[object AsyncFunction]",c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",_="[object Promise]",w="[object Proxy]",C="[object RegExp]",b="[object Set]",T="[object String]",A="[object Symbol]",k="[object Undefined]",P="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",I="[object Float64Array]",O="[object Int8Array]",F="[object Int16Array]",H="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",W="[object Uint16Array]",K="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,te=/^(?:0|[1-9]\d*)$/,re={};re[L]=re[I]=re[O]=re[F]=re[H]=re[j]=re[z]=re[W]=re[K]=!0,re[a]=re[o]=re[N]=re[c]=re[D]=re[u]=re[d]=re[f]=re[m]=re[g]=re[y]=re[C]=re[b]=re[T]=re[P]=!1;var ae=typeof ml=="object"&&ml&&ml.Object===Object&&ml,ie=typeof self=="object"&&self&&self.Object===Object&&self,Q=ae||ie||Function("return this")(),se=e&&!e.nodeType&&e,de=se&&!0&&n&&!n.nodeType&&n,xe=de&&de.exports===se,ne=xe&&ae.process,ye=(function(){try{return ne&&ne.binding&&ne.binding("util")}catch{}})(),_e=ye&&ye.isTypedArray;function Ae(ue,Se){for(var Ge=-1,pt=ue==null?0:ue.length,Tn=0,Wt=[];++Ge<pt;){var vn=ue[Ge];Se(vn,Ge,ue)&&(Wt[Tn++]=vn)}return Wt}function Te(ue,Se){for(var Ge=-1,pt=Se.length,Tn=ue.length;++Ge<pt;)ue[Tn+Ge]=Se[Ge];return ue}function ze(ue,Se){for(var Ge=-1,pt=ue==null?0:ue.length;++Ge<pt;)if(Se(ue[Ge],Ge,ue))return!0;return!1}function tt(ue,Se){for(var Ge=-1,pt=Array(ue);++Ge<ue;)pt[Ge]=Se(Ge);return pt}function at(ue){return function(Se){return ue(Se)}}function _t(ue,Se){return ue.has(Se)}function It(ue,Se){return ue?.[Se]}function ln(ue){var Se=-1,Ge=Array(ue.size);return ue.forEach(function(pt,Tn){Ge[++Se]=[Tn,pt]}),Ge}function pe(ue,Se){return function(Ge){return ue(Se(Ge))}}function ce(ue){var Se=-1,Ge=Array(ue.size);return ue.forEach(function(pt){Ge[++Se]=pt}),Ge}var Ne=Array.prototype,Ye=Function.prototype,Ke=Object.prototype,et=Q["__core-js_shared__"],dt=Ye.toString,Xe=Ke.hasOwnProperty,Fe=(function(){var ue=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return ue?"Symbol(src)_1."+ue:""})(),st=Ke.toString,St=RegExp("^"+dt.call(Xe).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=xe?Q.Buffer:void 0,ht=Q.Symbol,le=Q.Uint8Array,be=Ke.propertyIsEnumerable,Ue=Ne.splice,me=ht?ht.toStringTag:void 0,qe=Object.getOwnPropertySymbols,Le=Et?Et.isBuffer:void 0,Je=pe(Object.keys,Object),lt=ps(Q,"DataView"),Kt=ps(Q,"Map"),nn=ps(Q,"Promise"),fn=ps(Q,"Set"),_r=ps(Q,"WeakMap"),an=ps(Object,"create"),ar=Ht(lt),On=Ht(Kt),Ja=Ht(nn),Ao=Ht(fn),nu=Ht(_r),Ni=ht?ht.prototype:void 0,to=Ni?Ni.valueOf:void 0;function br(ue){var Se=-1,Ge=ue==null?0:ue.length;for(this.clear();++Se<Ge;){var pt=ue[Se];this.set(pt[0],pt[1])}}function Qa(){this.__data__=an?an(null):{},this.size=0}function _h(ue){var Se=this.has(ue)&&delete this.__data__[ue];return this.size-=Se?1:0,Se}function bh(ue){var Se=this.__data__;if(an){var Ge=Se[ue];return Ge===r?void 0:Ge}return Xe.call(Se,ue)?Se[ue]:void 0}function wh(ue){var Se=this.__data__;return an?Se[ue]!==void 0:Xe.call(Se,ue)}function he(ue,Se){var Ge=this.__data__;return this.size+=this.has(ue)?0:1,Ge[ue]=an&&Se===void 0?r:Se,this}br.prototype.clear=Qa,br.prototype.delete=_h,br.prototype.get=bh,br.prototype.has=wh,br.prototype.set=he;function Pe(ue){var Se=-1,Ge=ue==null?0:ue.length;for(this.clear();++Se<Ge;){var pt=ue[Se];this.set(pt[0],pt[1])}}function He(){this.__data__=[],this.size=0}function ke(ue){var Se=this.__data__,Ge=Ei(Se,ue);if(Ge<0)return!1;var pt=Se.length-1;return Ge==pt?Se.pop():Ue.call(Se,Ge,1),--this.size,!0}function We(ue){var Se=this.__data__,Ge=Ei(Se,ue);return Ge<0?void 0:Se[Ge][1]}function gt(ue){return Ei(this.__data__,ue)>-1}function Ot(ue,Se){var Ge=this.__data__,pt=Ei(Ge,ue);return pt<0?(++this.size,Ge.push([ue,Se])):Ge[pt][1]=Se,this}Pe.prototype.clear=He,Pe.prototype.delete=ke,Pe.prototype.get=We,Pe.prototype.has=gt,Pe.prototype.set=Ot;function Lt(ue){var Se=-1,Ge=ue==null?0:ue.length;for(this.clear();++Se<Ge;){var pt=ue[Se];this.set(pt[0],pt[1])}}function $t(){this.size=0,this.__data__={hash:new br,map:new(Kt||Pe),string:new br}}function Jt(ue){var Se=gn(this,ue).delete(ue);return this.size-=Se?1:0,Se}function mt(ue){return gn(this,ue).get(ue)}function zt(ue){return gn(this,ue).has(ue)}function xn(ue,Se){var Ge=gn(this,ue),pt=Ge.size;return Ge.set(ue,Se),this.size+=Ge.size==pt?0:1,this}Lt.prototype.clear=$t,Lt.prototype.delete=Jt,Lt.prototype.get=mt,Lt.prototype.has=zt,Lt.prototype.set=xn;function Sn(ue){var Se=-1,Ge=ue==null?0:ue.length;for(this.__data__=new Lt;++Se<Ge;)this.add(ue[Se])}function Xr(ue){return this.__data__.set(ue,r),this}function Bi(ue){return this.__data__.has(ue)}Sn.prototype.add=Sn.prototype.push=Xr,Sn.prototype.has=Bi;function pn(ue){var Se=this.__data__=new Pe(ue);this.size=Se.size}function Ut(){this.__data__=new Pe,this.size=0}function rn(ue){var Se=this.__data__,Ge=Se.delete(ue);return this.size=Se.size,Ge}function jt(ue){return this.__data__.get(ue)}function In(ue){return this.__data__.has(ue)}function wr(ue,Se){var Ge=this.__data__;if(Ge instanceof Pe){var pt=Ge.__data__;if(!Kt||pt.length<t-1)return pt.push([ue,Se]),this.size=++Ge.size,this;Ge=this.__data__=new Lt(pt)}return Ge.set(ue,Se),this.size=Ge.size,this}pn.prototype.clear=Ut,pn.prototype.delete=rn,pn.prototype.get=jt,pn.prototype.has=In,pn.prototype.set=wr;function lr(ue,Se){var Ge=ro(ue),pt=!Ge&&da(ue),Tn=!Ge&&!pt&&Ch(ue),Wt=!Ge&&!pt&&!Tn&&nl(ue),vn=Ge||pt||Tn||Wt,Cr=vn?tt(ue.length,String):[],Pn=Cr.length;for(var $n in ue)Xe.call(ue,$n)&&!(vn&&($n=="length"||Tn&&($n=="offset"||$n=="parent")||Wt&&($n=="buffer"||$n=="byteLength"||$n=="byteOffset")||iu($n,Pn)))&&Cr.push($n);return Cr}function Ei(ue,Se){for(var Ge=ue.length;Ge--;)if(Ns(ue[Ge][0],Se))return Ge;return-1}function Fn(ue,Se,Ge){var pt=Se(ue);return ro(ue)?pt:Te(pt,Ge(ue))}function Cn(ue){return ue==null?ue===void 0?k:v:me&&me in Object(ue)?Fl(ue):Ds(ue)}function Fi(ue){return Lo(ue)&&Cn(ue)==a}function cr(ue,Se,Ge,pt,Tn){return ue===Se?!0:ue==null||Se==null||!Lo(ue)&&!Lo(Se)?ue!==ue&&Se!==Se:el(ue,Se,Ge,pt,cr,Tn)}function el(ue,Se,Ge,pt,Tn,Wt){var vn=ro(ue),Cr=ro(Se),Pn=vn?o:no(ue),$n=Cr?o:no(Se);Pn=Pn==a?y:Pn,$n=$n==a?y:$n;var Dn=Pn==y,ai=$n==y,Qn=Pn==$n;if(Qn&&Ch(ue)){if(!Ch(Se))return!1;vn=!0,Dn=!1}if(Qn&&!Dn)return Wt||(Wt=new pn),vn||nl(ue)?ru(ue,Se,Ge,pt,Tn,Wt):Bl(ue,Se,Pn,Ge,pt,Tn,Wt);if(!(Ge&i)){var ur=Dn&&Xe.call(ue,"__wrapped__"),li=ai&&Xe.call(Se,"__wrapped__");if(ur||li){var er=ur?ue.value():ue,ci=li?Se.value():Se;return Wt||(Wt=new pn),Tn(er,ci,Ge,pt,Wt)}}return Qn?(Wt||(Wt=new pn),kg(ue,Se,Ge,pt,Tn,Wt)):!1}function tl(ue){if(!$l(ue)||ha(ue))return!1;var Se=Ro(ue)?St:J;return Se.test(Ht(ue))}function ca(ue){return Lo(ue)&&cf(ue.length)&&!!re[Cn(ue)]}function Qi(ue){if(!ou(ue))return Je(ue);var Se=[];for(var Ge in Object(ue))Xe.call(ue,Ge)&&Ge!="constructor"&&Se.push(Ge);return Se}function ru(ue,Se,Ge,pt,Tn,Wt){var vn=Ge&i,Cr=ue.length,Pn=Se.length;if(Cr!=Pn&&!(vn&&Pn>Cr))return!1;var $n=Wt.get(ue);if($n&&Wt.get(Se))return $n==Se;var Dn=-1,ai=!0,Qn=Ge&s?new Sn:void 0;for(Wt.set(ue,Se),Wt.set(Se,ue);++Dn<Cr;){var ur=ue[Dn],li=Se[Dn];if(pt)var er=vn?pt(li,ur,Dn,Se,ue,Wt):pt(ur,li,Dn,ue,Se,Wt);if(er!==void 0){if(er)continue;ai=!1;break}if(Qn){if(!ze(Se,function(ci,gs){if(!_t(Qn,gs)&&(ur===ci||Tn(ur,ci,Ge,pt,Wt)))return Qn.push(gs)})){ai=!1;break}}else if(!(ur===li||Tn(ur,li,Ge,pt,Wt))){ai=!1;break}}return Wt.delete(ue),Wt.delete(Se),ai}function Bl(ue,Se,Ge,pt,Tn,Wt,vn){switch(Ge){case D:if(ue.byteLength!=Se.byteLength||ue.byteOffset!=Se.byteOffset)return!1;ue=ue.buffer,Se=Se.buffer;case N:return!(ue.byteLength!=Se.byteLength||!Wt(new le(ue),new le(Se)));case c:case u:case g:return Ns(+ue,+Se);case d:return ue.name==Se.name&&ue.message==Se.message;case C:case T:return ue==Se+"";case m:var Cr=ln;case b:var Pn=pt&i;if(Cr||(Cr=ce),ue.size!=Se.size&&!Pn)return!1;var $n=vn.get(ue);if($n)return $n==Se;pt|=s,vn.set(ue,Se);var Dn=ru(Cr(ue),Cr(Se),pt,Tn,Wt,vn);return vn.delete(ue),Dn;case A:if(to)return to.call(ue)==to.call(Se)}return!1}function kg(ue,Se,Ge,pt,Tn,Wt){var vn=Ge&i,Cr=ua(ue),Pn=Cr.length,$n=ua(Se),Dn=$n.length;if(Pn!=Dn&&!vn)return!1;for(var ai=Pn;ai--;){var Qn=Cr[ai];if(!(vn?Qn in Se:Xe.call(Se,Qn)))return!1}var ur=Wt.get(ue);if(ur&&Wt.get(Se))return ur==Se;var li=!0;Wt.set(ue,Se),Wt.set(Se,ue);for(var er=vn;++ai<Pn;){Qn=Cr[ai];var ci=ue[Qn],gs=Se[Qn];if(pt)var Po=vn?pt(gs,ci,Qn,Se,ue,Wt):pt(ci,gs,Qn,ue,Se,Wt);if(!(Po===void 0?ci===gs||Tn(ci,gs,Ge,pt,Wt):Po)){li=!1;break}er||(er=Qn=="constructor")}if(li&&!er){var io=ue.constructor,zr=Se.constructor;io!=zr&&"constructor"in ue&&"constructor"in Se&&!(typeof io=="function"&&io instanceof io&&typeof zr=="function"&&zr instanceof zr)&&(li=!1)}return Wt.delete(ue),Wt.delete(Se),li}function ua(ue){return Fn(ue,Bs,Sh)}function gn(ue,Se){var Ge=ue.__data__;return su(Se)?Ge[typeof Se=="string"?"string":"hash"]:Ge.map}function ps(ue,Se){var Ge=It(ue,Se);return tl(Ge)?Ge:void 0}function Fl(ue){var Se=Xe.call(ue,me),Ge=ue[me];try{ue[me]=void 0;var pt=!0}catch{}var Tn=st.call(ue);return pt&&(Se?ue[me]=Ge:delete ue[me]),Tn}var Sh=qe?function(ue){return ue==null?[]:(ue=Object(ue),Ae(qe(ue),function(Se){return be.call(ue,Se)}))}:zl,no=Cn;(lt&&no(new lt(new ArrayBuffer(1)))!=D||Kt&&no(new Kt)!=m||nn&&no(nn.resolve())!=_||fn&&no(new fn)!=b||_r&&no(new _r)!=P)&&(no=function(ue){var Se=Cn(ue),Ge=Se==y?ue.constructor:void 0,pt=Ge?Ht(Ge):"";if(pt)switch(pt){case ar:return D;case On:return m;case Ja:return _;case Ao:return b;case nu:return P}return Se});function iu(ue,Se){return Se=Se??l,!!Se&&(typeof ue=="number"||te.test(ue))&&ue>-1&&ue%1==0&&ue<Se}function su(ue){var Se=typeof ue;return Se=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?ue!=="__proto__":ue===null}function ha(ue){return!!Fe&&Fe in ue}function ou(ue){var Se=ue&&ue.constructor,Ge=typeof Se=="function"&&Se.prototype||Ke;return ue===Ge}function Ds(ue){return st.call(ue)}function Ht(ue){if(ue!=null){try{return dt.call(ue)}catch{}try{return ue+""}catch{}}return""}function Ns(ue,Se){return ue===Se||ue!==ue&&Se!==Se}var da=Fi((function(){return arguments})())?Fi:function(ue){return Lo(ue)&&Xe.call(ue,"callee")&&!be.call(ue,"callee")},ro=Array.isArray;function ko(ue){return ue!=null&&cf(ue.length)&&!Ro(ue)}var Ch=Le||Ul;function Sr(ue,Se){return cr(ue,Se)}function Ro(ue){if(!$l(ue))return!1;var Se=Cn(ue);return Se==f||Se==p||Se==h||Se==w}function cf(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=l}function $l(ue){var Se=typeof ue;return ue!=null&&(Se=="object"||Se=="function")}function Lo(ue){return ue!=null&&typeof ue=="object"}var nl=_e?at(_e):ca;function Bs(ue){return ko(ue)?lr(ue):Qi(ue)}function zl(){return[]}function Ul(){return!1}n.exports=Sr})(ev,ev.exports)),ev.exports}var Ba={},AB;function H6(){if(AB)return Ba;AB=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.getAceInstance=Ba.debounce=Ba.editorEvents=Ba.editorOptions=void 0;var n=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Ba.editorOptions=n;var e=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Ba.editorEvents=e;var t=function(){var i;return typeof window>"u"?(ml.window={},i=xb(),delete ml.window):window.ace?(i=window.ace,i.acequire=window.ace.require||window.ace.acequire):i=xb(),i};Ba.getAceInstance=t;var r=function(i,s){var l=null;return function(){var a=this,o=arguments;clearTimeout(l),l=setTimeout(function(){i.apply(a,o)},s)}};return Ba.debounce=r,Ba}var kB;function iSe(){if(kB)return Hu;kB=1;var n=Hu&&Hu.__extends||(function(){var h=function(c,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},h(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(c,u);function d(){this.constructor=c}c.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}})(),e=Hu&&Hu.__assign||function(){return e=Object.assign||function(h){for(var c,u=1,d=arguments.length;u<d;u++){c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f])}return h},e.apply(this,arguments)};Object.defineProperty(Hu,"__esModule",{value:!0});var t=xb(),r=TA(),i=Ll(),s=j6(),l=H6(),a=(0,l.getAceInstance)(),o=(function(h){n(c,h);function c(u){var d=h.call(this,u)||this;return l.editorEvents.forEach(function(f){d[f]=d[f].bind(d)}),d.debounce=l.debounce,d}return c.prototype.isInShadow=function(u){for(var d=u&&u.parentNode;d;){if(d.toString()==="[object ShadowRoot]")return!0;d=d.parentNode}return!1},c.prototype.componentDidMount=function(){var u=this,d=this.props,f=d.className,p=d.onBeforeLoad,m=d.onValidate,g=d.mode,v=d.focus,y=d.theme,_=d.fontSize,w=d.lineHeight,C=d.value,b=d.defaultValue,T=d.showGutter,A=d.wrapEnabled,k=d.showPrintMargin,P=d.scrollMargin,N=P===void 0?[0,0,0,0]:P,D=d.keyboardHandler,L=d.onLoad,I=d.commands,O=d.annotations,F=d.markers,H=d.placeholder;this.editor=a.edit(this.refEditor),p&&p(a);for(var j=Object.keys(this.props.editorProps),z=0;z<j.length;z++)this.editor[j[z]]=this.props.editorProps[j[z]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(N[0],N[1],N[2],N[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof g=="string"?"ace/mode/".concat(g):g),y&&y!==""&&this.editor.setTheme("ace/theme/".concat(y)),this.editor.setFontSize(typeof _=="number"?"".concat(_,"px"):_),w&&(this.editor.container.style.lineHeight=typeof w=="number"?"".concat(w,"px"):"".concat(w),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(b||C||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(T),this.editor.getSession().setUseWrapMode(A),this.editor.setShowPrintMargin(k),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),H&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),m&&this.editor.getSession().on("changeAnnotation",function(){var K=u.editor.getSession().getAnnotations();u.props.onValidate(K)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(O||[]),F&&F.length>0&&this.handleMarkers(F);var W=this.editor.$options;l.editorOptions.forEach(function(K){W.hasOwnProperty(K)?u.editor.setOption(K,u.props[K]):u.props[K]&&console.warn("ReactAce: editor option ".concat(K," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(I)&&I.forEach(function(K){typeof K.exec=="string"?u.editor.commands.bindKey(K.bindKey,K.exec):u.editor.commands.addCommand(K)}),D&&this.editor.setKeyboardHandler("ace/keyboard/"+D),f&&(this.refEditor.className+=" "+f),L&&L(this.editor),this.editor.resize(),v&&this.editor.focus()},c.prototype.componentDidUpdate=function(u){for(var d=u,f=this.props,p=0;p<l.editorOptions.length;p++){var m=l.editorOptions[p];f[m]!==d[m]&&this.editor.setOption(m,f[m])}if(f.className!==d.className){var g=this.refEditor.className,v=g.trim().split(" "),y=d.className.trim().split(" ");y.forEach(function(C){var b=v.indexOf(C);v.splice(b,1)}),this.refEditor.className=" "+f.className+" "+v.join(" ")}var _=this.editor&&f.value!=null&&this.editor.getValue()!==f.value;if(_){this.silent=!0;var w=this.editor.session.selection.toJSON();this.editor.setValue(f.value,f.cursorStart),this.editor.session.selection.fromJSON(w),this.silent=!1}f.placeholder!==d.placeholder&&this.updatePlaceholder(),f.mode!==d.mode&&this.editor.getSession().setMode(typeof f.mode=="string"?"ace/mode/".concat(f.mode):f.mode),f.theme!==d.theme&&this.editor.setTheme("ace/theme/"+f.theme),f.keyboardHandler!==d.keyboardHandler&&(f.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+f.keyboardHandler):this.editor.setKeyboardHandler(null)),f.fontSize!==d.fontSize&&this.editor.setFontSize(typeof f.fontSize=="number"?"".concat(f.fontSize,"px"):f.fontSize),f.lineHeight!==d.lineHeight&&(this.editor.container.style.lineHeight=typeof f.lineHeight=="number"?"".concat(f.lineHeight,"px"):f.lineHeight,this.editor.renderer.updateFontSize()),f.wrapEnabled!==d.wrapEnabled&&this.editor.getSession().setUseWrapMode(f.wrapEnabled),f.showPrintMargin!==d.showPrintMargin&&this.editor.setShowPrintMargin(f.showPrintMargin),f.showGutter!==d.showGutter&&this.editor.renderer.setShowGutter(f.showGutter),s(f.setOptions,d.setOptions)||this.handleOptions(f),(_||!s(f.annotations,d.annotations))&&this.editor.getSession().setAnnotations(f.annotations||[]),!s(f.markers,d.markers)&&Array.isArray(f.markers)&&this.handleMarkers(f.markers),s(f.scrollMargin,d.scrollMargin)||this.handleScrollMargins(f.scrollMargin),(u.height!==this.props.height||u.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!u.focus&&this.editor.focus()},c.prototype.handleScrollMargins=function(u){u===void 0&&(u=[0,0,0,0]),this.editor.renderer.setScrollMargin(u[0],u[1],u[2],u[3])},c.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},c.prototype.onChange=function(u){if(this.props.onChange&&!this.silent){var d=this.editor.getValue();this.props.onChange(d,u)}},c.prototype.onSelectionChange=function(u){if(this.props.onSelectionChange){var d=this.editor.getSelection();this.props.onSelectionChange(d,u)}},c.prototype.onCursorChange=function(u){if(this.props.onCursorChange){var d=this.editor.getSelection();this.props.onCursorChange(d,u)}},c.prototype.onInput=function(u){this.props.onInput&&this.props.onInput(u),this.props.placeholder&&this.updatePlaceholder()},c.prototype.onFocus=function(u){this.props.onFocus&&this.props.onFocus(u,this.editor)},c.prototype.onBlur=function(u){this.props.onBlur&&this.props.onBlur(u,this.editor)},c.prototype.onCopy=function(u){var d=u.text;this.props.onCopy&&this.props.onCopy(d)},c.prototype.onPaste=function(u){var d=u.text;this.props.onPaste&&this.props.onPaste(d)},c.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},c.prototype.handleOptions=function(u){for(var d=Object.keys(u.setOptions),f=0;f<d.length;f++)this.editor.setOption(d[f],u.setOptions[d[f]])},c.prototype.handleMarkers=function(u){var d=this,f=this.editor.getSession().getMarkers(!0);for(var p in f)f.hasOwnProperty(p)&&this.editor.getSession().removeMarker(f[p].id);f=this.editor.getSession().getMarkers(!1);for(var p in f)f.hasOwnProperty(p)&&f[p].clazz!=="ace_active-line"&&f[p].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(f[p].id);u.forEach(function(m){var g=m.startRow,v=m.startCol,y=m.endRow,_=m.endCol,w=m.className,C=m.type,b=m.inFront,T=b===void 0?!1:b,A=new t.Range(g,v,y,_);d.editor.getSession().addMarker(A,w,C,T)})},c.prototype.updatePlaceholder=function(){var u=this.editor,d=this.props.placeholder,f=!u.session.getValue().length,p=u.renderer.placeholderNode;!f&&p?(u.renderer.scroller.removeChild(u.renderer.placeholderNode),u.renderer.placeholderNode=null):f&&!p?(p=u.renderer.placeholderNode=document.createElement("div"),p.textContent=d||"",p.className="ace_comment ace_placeholder",p.style.padding="0 9px",p.style.position="absolute",p.style.zIndex="3",u.renderer.scroller.appendChild(p)):f&&p&&(p.textContent=d)},c.prototype.updateRef=function(u){this.refEditor=u},c.prototype.render=function(){var u=this.props,d=u.name,f=u.width,p=u.height,m=u.style,g=e({width:f,height:p},m);return i.createElement("div",{ref:this.updateRef,id:d,style:g})},c.propTypes={mode:r.oneOfType([r.string,r.object]),focus:r.bool,theme:r.string,name:r.string,className:r.string,height:r.string,width:r.string,fontSize:r.oneOfType([r.number,r.string]),lineHeight:r.oneOfType([r.number,r.string]),showGutter:r.bool,onChange:r.func,onCopy:r.func,onPaste:r.func,onFocus:r.func,onInput:r.func,onBlur:r.func,onScroll:r.func,value:r.string,defaultValue:r.string,onLoad:r.func,onSelectionChange:r.func,onCursorChange:r.func,onBeforeLoad:r.func,onValidate:r.func,minLines:r.number,maxLines:r.number,readOnly:r.bool,highlightActiveLine:r.bool,tabSize:r.number,showPrintMargin:r.bool,cursorStart:r.number,debounceChangePeriod:r.number,editorProps:r.object,setOptions:r.object,style:r.object,scrollMargin:r.array,annotations:r.array,markers:r.array,keyboardHandler:r.string,wrapEnabled:r.bool,enableSnippets:r.bool,enableBasicAutocompletion:r.oneOfType([r.bool,r.array]),enableLiveAutocompletion:r.oneOfType([r.bool,r.array]),navigateToFileEnd:r.bool,commands:r.array,placeholder:r.string},c.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},c})(i.Component);return Hu.default=o,Hu}var Cp={},Wu={},tE={exports:{}},RB;function sSe(){return RB||(RB=1,(function(n,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(t,r,i){var s=t("./lib/oop");t("./lib/lang");var l=t("./lib/event_emitter").EventEmitter,a=t("./editor").Editor,o=t("./virtual_renderer").VirtualRenderer,h=t("./edit_session").EditSession,c;c=function(u,d,f){this.BELOW=1,this.BESIDE=0,this.$container=u,this.$theme=d,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){s.implement(this,l),this.$createEditor=function(){var u=document.createElement("div");u.className=this.$editorCSS,u.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(u);var d=new a(new o(u,this.$theme));return d.on("focus",(function(){this._emit("focus",d)}).bind(this)),this.$editors.push(d),d.setFontSize(this.$fontSize),d},this.setSplits=function(u){var d;if(u<1)throw"The number of splits have to be > 0!";if(u!=this.$splits){if(u>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<u;)d=this.$editors[this.$splits],this.$container.appendChild(d.container),d.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<u;)this.$createEditor(),this.$splits++}else for(;this.$splits>u;)d=this.$editors[this.$splits-1],this.$container.removeChild(d.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(u){return this.$editors[u]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(u){this.$editors.forEach(function(d){d.setTheme(u)})},this.setKeyboardHandler=function(u){this.$editors.forEach(function(d){d.setKeyboardHandler(u)})},this.forEach=function(u,d){this.$editors.forEach(u,d)},this.$fontSize="",this.setFontSize=function(u){this.$fontSize=u,this.forEach(function(d){d.setFontSize(u)})},this.$cloneSession=function(u){var d=new h(u.getDocument(),u.getMode()),f=u.getUndoManager();return d.setUndoManager(f),d.setTabSize(u.getTabSize()),d.setUseSoftTabs(u.getUseSoftTabs()),d.setOverwrite(u.getOverwrite()),d.setBreakpoints(u.getBreakpoints()),d.setUseWrapMode(u.getUseWrapMode()),d.setUseWorker(u.getUseWorker()),d.setWrapLimitRange(u.$wrapLimitRange.min,u.$wrapLimitRange.max),d.$foldData=u.$cloneFoldData(),d},this.setSession=function(u,d){var f;d==null?f=this.$cEditor:f=this.$editors[d];var p=this.$editors.some(function(m){return m.session===u});return p&&(u=this.$cloneSession(u)),f.setSession(u),u},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(u){this.$orientation!=u&&(this.$orientation=u,this.resize())},this.resize=function(){var u=this.$container.clientWidth,d=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=u/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=m*p+"px",f.container.style.height=d+"px",f.resize();else for(var g=d/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=u+"px",f.container.style.top=m*g+"px",f.container.style.left="0px",f.container.style.height=g+"px",f.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(t,r,i){i.exports=t("../split")}),(function(){ace.require(["ace/ext/split"],function(t){n&&(n.exports=t)})})()})(tE)),tE.exports}var nE,LB;function oSe(){if(LB)return nE;LB=1;var n="Expected a function",e="__lodash_hash_undefined__",t="[object Function]",r="[object GeneratorFunction]",i="[object Symbol]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,a=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/[\\^$.*+?()[\]{}|]/g,c=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,d=typeof ml=="object"&&ml&&ml.Object===Object&&ml,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")();function m(le,be){return le?.[be]}function g(le){var be=!1;if(le!=null&&typeof le.toString!="function")try{be=!!(le+"")}catch{}return be}var v=Array.prototype,y=Function.prototype,_=Object.prototype,w=p["__core-js_shared__"],C=(function(){var le=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""})(),b=y.toString,T=_.hasOwnProperty,A=_.toString,k=RegExp("^"+b.call(T).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=p.Symbol,N=v.splice,D=_t(p,"Map"),L=_t(Object,"create"),I=P?P.prototype:void 0,O=I?I.toString:void 0;function F(le){var be=-1,Ue=le?le.length:0;for(this.clear();++be<Ue;){var me=le[be];this.set(me[0],me[1])}}function H(){this.__data__=L?L(null):{}}function j(le){return this.has(le)&&delete this.__data__[le]}function z(le){var be=this.__data__;if(L){var Ue=be[le];return Ue===e?void 0:Ue}return T.call(be,le)?be[le]:void 0}function W(le){var be=this.__data__;return L?be[le]!==void 0:T.call(be,le)}function K(le,be){var Ue=this.__data__;return Ue[le]=L&&be===void 0?e:be,this}F.prototype.clear=H,F.prototype.delete=j,F.prototype.get=z,F.prototype.has=W,F.prototype.set=K;function X(le){var be=-1,Ue=le?le.length:0;for(this.clear();++be<Ue;){var me=le[be];this.set(me[0],me[1])}}function J(){this.__data__=[]}function te(le){var be=this.__data__,Ue=_e(be,le);if(Ue<0)return!1;var me=be.length-1;return Ue==me?be.pop():N.call(be,Ue,1),!0}function re(le){var be=this.__data__,Ue=_e(be,le);return Ue<0?void 0:be[Ue][1]}function ae(le){return _e(this.__data__,le)>-1}function ie(le,be){var Ue=this.__data__,me=_e(Ue,le);return me<0?Ue.push([le,be]):Ue[me][1]=be,this}X.prototype.clear=J,X.prototype.delete=te,X.prototype.get=re,X.prototype.has=ae,X.prototype.set=ie;function Q(le){var be=-1,Ue=le?le.length:0;for(this.clear();++be<Ue;){var me=le[be];this.set(me[0],me[1])}}function se(){this.__data__={hash:new F,map:new(D||X),string:new F}}function de(le){return at(this,le).delete(le)}function xe(le){return at(this,le).get(le)}function ne(le){return at(this,le).has(le)}function ye(le,be){return at(this,le).set(le,be),this}Q.prototype.clear=se,Q.prototype.delete=de,Q.prototype.get=xe,Q.prototype.has=ne,Q.prototype.set=ye;function _e(le,be){for(var Ue=le.length;Ue--;)if(et(le[Ue][0],be))return Ue;return-1}function Ae(le,be){be=It(be,le)?[be]:tt(be);for(var Ue=0,me=be.length;le!=null&&Ue<me;)le=le[Ne(be[Ue++])];return Ue&&Ue==me?le:void 0}function Te(le){if(!Fe(le)||pe(le))return!1;var be=Xe(le)||g(le)?k:u;return be.test(Ye(le))}function ze(le){if(typeof le=="string")return le;if(St(le))return O?O.call(le):"";var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function tt(le){return dt(le)?le:ce(le)}function at(le,be){var Ue=le.__data__;return ln(be)?Ue[typeof be=="string"?"string":"hash"]:Ue.map}function _t(le,be){var Ue=m(le,be);return Te(Ue)?Ue:void 0}function It(le,be){if(dt(le))return!1;var Ue=typeof le;return Ue=="number"||Ue=="symbol"||Ue=="boolean"||le==null||St(le)?!0:l.test(le)||!s.test(le)||be!=null&&le in Object(be)}function ln(le){var be=typeof le;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?le!=="__proto__":le===null}function pe(le){return!!C&&C in le}var ce=Ke(function(le){le=Et(le);var be=[];return a.test(le)&&be.push(""),le.replace(o,function(Ue,me,qe,Le){be.push(qe?Le.replace(c,"$1"):me||Ue)}),be});function Ne(le){if(typeof le=="string"||St(le))return le;var be=le+"";return be=="0"&&1/le==-1/0?"-0":be}function Ye(le){if(le!=null){try{return b.call(le)}catch{}try{return le+""}catch{}}return""}function Ke(le,be){if(typeof le!="function"||be&&typeof be!="function")throw new TypeError(n);var Ue=function(){var me=arguments,qe=be?be.apply(this,me):me[0],Le=Ue.cache;if(Le.has(qe))return Le.get(qe);var Je=le.apply(this,me);return Ue.cache=Le.set(qe,Je),Je};return Ue.cache=new(Ke.Cache||Q),Ue}Ke.Cache=Q;function et(le,be){return le===be||le!==le&&be!==be}var dt=Array.isArray;function Xe(le){var be=Fe(le)?A.call(le):"";return be==t||be==r}function Fe(le){var be=typeof le;return!!le&&(be=="object"||be=="function")}function st(le){return!!le&&typeof le=="object"}function St(le){return typeof le=="symbol"||st(le)&&A.call(le)==i}function Et(le){return le==null?"":ze(le)}function ht(le,be,Ue){var me=le==null?void 0:Ae(le,be);return me===void 0?Ue:me}return nE=ht,nE}var PB;function W6(){if(PB)return Wu;PB=1;var n=Wu&&Wu.__extends||(function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},u(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}})(),e=Wu&&Wu.__assign||function(){return e=Object.assign||function(u){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},e.apply(this,arguments)};Object.defineProperty(Wu,"__esModule",{value:!0});var t=H6(),r=(0,t.getAceInstance)(),i=xb(),s=sSe(),l=TA(),a=Ll(),o=j6(),h=oSe(),c=(function(u){n(d,u);function d(f){var p=u.call(this,f)||this;return t.editorEvents.forEach(function(m){p[m]=p[m].bind(p)}),p.debounce=t.debounce,p}return d.prototype.isInShadow=function(f){for(var p=f&&f.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},d.prototype.componentDidMount=function(){var f=this,p=this.props,m=p.className,g=p.onBeforeLoad,v=p.mode,y=p.focus,_=p.theme,w=p.fontSize,C=p.value,b=p.defaultValue,T=p.cursorStart,A=p.showGutter,k=p.wrapEnabled,P=p.showPrintMargin,N=p.scrollMargin,D=N===void 0?[0,0,0,0]:N,L=p.keyboardHandler,I=p.onLoad,O=p.commands,F=p.annotations,H=p.markers,j=p.splits;this.editor=r.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(_)),g&&g(r);var z=Object.keys(this.props.editorProps),W=new s.Split(this.editor.container,"ace/theme/".concat(_),j);this.editor.env.split=W,this.splitEditor=W.getEditor(0),this.split=W,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var K=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),W.forEach(function(J,te){for(var re=0;re<z.length;re++)J[z[re]]=f.props.editorProps[z[re]];var ae=h(b,te),ie=h(C,te,"");J.session.setUndoManager(new r.UndoManager),J.setTheme("ace/theme/".concat(_)),J.renderer.setScrollMargin(D[0],D[1],D[2],D[3]),J.getSession().setMode("ace/mode/".concat(v)),J.setFontSize(w),J.renderer.setShowGutter(A),J.getSession().setUseWrapMode(k),J.setShowPrintMargin(P),J.on("focus",f.onFocus),J.on("blur",f.onBlur),J.on("input",f.onInput),J.on("copy",f.onCopy),J.on("paste",f.onPaste),J.on("change",f.onChange),J.getSession().selection.on("changeSelection",f.onSelectionChange),J.getSession().selection.on("changeCursor",f.onCursorChange),J.session.on("changeScrollTop",f.onScroll),J.setValue(ae===void 0?ie:ae,T);var Q=h(F,te,[]),se=h(H,te,[]);J.getSession().setAnnotations(Q),se&&se.length>0&&f.handleMarkers(se,J);for(var re=0;re<t.editorOptions.length;re++){var de=t.editorOptions[re];K.hasOwnProperty(de)?J.setOption(de,f.props[de]):f.props[de]&&console.warn("ReaceAce: editor option ".concat(de," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}f.handleOptions(f.props,J),Array.isArray(O)&&O.forEach(function(xe){typeof xe.exec=="string"?J.commands.bindKey(xe.bindKey,xe.exec):J.commands.addCommand(xe)}),L&&J.setKeyboardHandler("ace/keyboard/"+L)}),m&&(this.refEditor.className+=" "+m),y&&this.splitEditor.focus();var X=this.editor.env.split;X.setOrientation(this.props.orientation==="below"?X.BELOW:X.BESIDE),X.resize(!0),I&&I(X)},d.prototype.componentDidUpdate=function(f){var p=this,m=f,g=this.props,v=this.editor.env.split;if(g.splits!==m.splits&&v.setSplits(g.splits),g.orientation!==m.orientation&&v.setOrientation(g.orientation==="below"?v.BELOW:v.BESIDE),v.forEach(function(C,b){g.mode!==m.mode&&C.getSession().setMode("ace/mode/"+g.mode),g.keyboardHandler!==m.keyboardHandler&&(g.keyboardHandler?C.setKeyboardHandler("ace/keyboard/"+g.keyboardHandler):C.setKeyboardHandler(null)),g.fontSize!==m.fontSize&&C.setFontSize(g.fontSize),g.wrapEnabled!==m.wrapEnabled&&C.getSession().setUseWrapMode(g.wrapEnabled),g.showPrintMargin!==m.showPrintMargin&&C.setShowPrintMargin(g.showPrintMargin),g.showGutter!==m.showGutter&&C.renderer.setShowGutter(g.showGutter);for(var T=0;T<t.editorOptions.length;T++){var A=t.editorOptions[T];g[A]!==m[A]&&C.setOption(A,g[A])}o(g.setOptions,m.setOptions)||p.handleOptions(g,C);var k=h(g.value,b,"");if(C.getValue()!==k){p.silent=!0;var P=C.session.selection.toJSON();C.setValue(k,g.cursorStart),C.session.selection.fromJSON(P),p.silent=!1}var N=h(g.annotations,b,[]),D=h(m.annotations,b,[]);o(N,D)||C.getSession().setAnnotations(N);var L=h(g.markers,b,[]),I=h(m.markers,b,[]);!o(L,I)&&Array.isArray(L)&&p.handleMarkers(L,C)}),g.className!==m.className){var y=this.refEditor.className,_=y.trim().split(" "),w=m.className.trim().split(" ");w.forEach(function(C){var b=_.indexOf(C);_.splice(b,1)}),this.refEditor.className=" "+g.className+" "+_.join(" ")}g.theme!==m.theme&&v.setTheme("ace/theme/"+g.theme),g.focus&&!m.focus&&this.splitEditor.focus(),(g.height!==this.props.height||g.width!==this.props.width)&&this.editor.resize()},d.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},d.prototype.onChange=function(f){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getValue())}),this.props.onChange(p,f)}},d.prototype.onSelectionChange=function(f){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getSelection())}),this.props.onSelectionChange(p,f)}},d.prototype.onCursorChange=function(f){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(m){p.push(m.getSelection())}),this.props.onCursorChange(p,f)}},d.prototype.onFocus=function(f){this.props.onFocus&&this.props.onFocus(f)},d.prototype.onInput=function(f){this.props.onInput&&this.props.onInput(f)},d.prototype.onBlur=function(f){this.props.onBlur&&this.props.onBlur(f)},d.prototype.onCopy=function(f){this.props.onCopy&&this.props.onCopy(f)},d.prototype.onPaste=function(f){this.props.onPaste&&this.props.onPaste(f)},d.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},d.prototype.handleOptions=function(f,p){for(var m=Object.keys(f.setOptions),g=0;g<m.length;g++)p.setOption(m[g],f.setOptions[m[g]])},d.prototype.handleMarkers=function(f,p){var m=p.getSession().getMarkers(!0);for(var g in m)m.hasOwnProperty(g)&&p.getSession().removeMarker(m[g].id);m=p.getSession().getMarkers(!1);for(var g in m)m.hasOwnProperty(g)&&p.getSession().removeMarker(m[g].id);f.forEach(function(v){var y=v.startRow,_=v.startCol,w=v.endRow,C=v.endCol,b=v.className,T=v.type,A=v.inFront,k=A===void 0?!1:A,P=new i.Range(y,_,w,C);p.getSession().addMarker(P,b,T,k)})},d.prototype.updateRef=function(f){this.refEditor=f},d.prototype.render=function(){var f=this.props,p=f.name,m=f.width,g=f.height,v=f.style,y=e({width:m,height:g},v);return a.createElement("div",{ref:this.updateRef,id:p,style:y})},d.propTypes={className:l.string,debounceChangePeriod:l.number,defaultValue:l.arrayOf(l.string),focus:l.bool,fontSize:l.oneOfType([l.number,l.string]),height:l.string,mode:l.string,name:l.string,onBlur:l.func,onChange:l.func,onCopy:l.func,onFocus:l.func,onInput:l.func,onLoad:l.func,onPaste:l.func,onScroll:l.func,orientation:l.string,showGutter:l.bool,splits:l.number,theme:l.string,value:l.arrayOf(l.string),width:l.string,onSelectionChange:l.func,onCursorChange:l.func,onBeforeLoad:l.func,minLines:l.number,maxLines:l.number,readOnly:l.bool,highlightActiveLine:l.bool,tabSize:l.number,showPrintMargin:l.bool,cursorStart:l.number,editorProps:l.object,setOptions:l.object,style:l.object,scrollMargin:l.array,annotations:l.array,markers:l.array,keyboardHandler:l.string,wrapEnabled:l.bool,enableBasicAutocompletion:l.oneOfType([l.bool,l.array]),enableLiveAutocompletion:l.oneOfType([l.bool,l.array]),commands:l.array},d.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},d})(a.Component);return Wu.default=c,Wu}var rE={exports:{}},OB;function aSe(){return OB||(OB=1,(function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,r=1,i=0;e.Diff=function(s,l){return[s,l]},e.prototype.diff_main=function(s,l,a,o){typeof o>"u"&&(this.Diff_Timeout<=0?o=Number.MAX_VALUE:o=new Date().getTime()+this.Diff_Timeout*1e3);var h=o;if(s==null||l==null)throw new Error("Null input. (diff_main)");if(s==l)return s?[new e.Diff(i,s)]:[];typeof a>"u"&&(a=!0);var c=a,u=this.diff_commonPrefix(s,l),d=s.substring(0,u);s=s.substring(u),l=l.substring(u),u=this.diff_commonSuffix(s,l);var f=s.substring(s.length-u);s=s.substring(0,s.length-u),l=l.substring(0,l.length-u);var p=this.diff_compute_(s,l,c,h);return d&&p.unshift(new e.Diff(i,d)),f&&p.push(new e.Diff(i,f)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(s,l,a,o){var h;if(!s)return[new e.Diff(r,l)];if(!l)return[new e.Diff(t,s)];var c=s.length>l.length?s:l,u=s.length>l.length?l:s,d=c.indexOf(u);if(d!=-1)return h=[new e.Diff(r,c.substring(0,d)),new e.Diff(i,u),new e.Diff(r,c.substring(d+u.length))],s.length>l.length&&(h[0][0]=h[2][0]=t),h;if(u.length==1)return[new e.Diff(t,s),new e.Diff(r,l)];var f=this.diff_halfMatch_(s,l);if(f){var p=f[0],m=f[1],g=f[2],v=f[3],y=f[4],_=this.diff_main(p,g,a,o),w=this.diff_main(m,v,a,o);return _.concat([new e.Diff(i,y)],w)}return a&&s.length>100&&l.length>100?this.diff_lineMode_(s,l,o):this.diff_bisect_(s,l,o)},e.prototype.diff_lineMode_=function(s,l,a){var o=this.diff_linesToChars_(s,l);s=o.chars1,l=o.chars2;var h=o.lineArray,c=this.diff_main(s,l,!1,a);this.diff_charsToLines_(c,h),this.diff_cleanupSemantic(c),c.push(new e.Diff(i,""));for(var u=0,d=0,f=0,p="",m="";u<c.length;){switch(c[u][0]){case r:f++,m+=c[u][1];break;case t:d++,p+=c[u][1];break;case i:if(d>=1&&f>=1){c.splice(u-d-f,d+f),u=u-d-f;for(var g=this.diff_main(p,m,!1,a),v=g.length-1;v>=0;v--)c.splice(u,0,g[v]);u=u+g.length}f=0,d=0,p="",m="";break}u++}return c.pop(),c},e.prototype.diff_bisect_=function(s,l,a){for(var o=s.length,h=l.length,c=Math.ceil((o+h)/2),u=c,d=2*c,f=new Array(d),p=new Array(d),m=0;m<d;m++)f[m]=-1,p[m]=-1;f[u+1]=0,p[u+1]=0;for(var g=o-h,v=g%2!=0,y=0,_=0,w=0,C=0,b=0;b<c&&!(new Date().getTime()>a);b++){for(var T=-b+y;T<=b-_;T+=2){var A=u+T,k;T==-b||T!=b&&f[A-1]<f[A+1]?k=f[A+1]:k=f[A-1]+1;for(var P=k-T;k<o&&P<h&&s.charAt(k)==l.charAt(P);)k++,P++;if(f[A]=k,k>o)_+=2;else if(P>h)y+=2;else if(v){var N=u+g-T;if(N>=0&&N<d&&p[N]!=-1){var D=o-p[N];if(k>=D)return this.diff_bisectSplit_(s,l,k,P,a)}}}for(var L=-b+w;L<=b-C;L+=2){var N=u+L,D;L==-b||L!=b&&p[N-1]<p[N+1]?D=p[N+1]:D=p[N-1]+1;for(var I=D-L;D<o&&I<h&&s.charAt(o-D-1)==l.charAt(h-I-1);)D++,I++;if(p[N]=D,D>o)C+=2;else if(I>h)w+=2;else if(!v){var A=u+g-L;if(A>=0&&A<d&&f[A]!=-1){var k=f[A],P=u+k-A;if(D=o-D,k>=D)return this.diff_bisectSplit_(s,l,k,P,a)}}}}return[new e.Diff(t,s),new e.Diff(r,l)]},e.prototype.diff_bisectSplit_=function(s,l,a,o,h){var c=s.substring(0,a),u=l.substring(0,o),d=s.substring(a),f=l.substring(o),p=this.diff_main(c,u,!1,h),m=this.diff_main(d,f,!1,h);return p.concat(m)},e.prototype.diff_linesToChars_=function(s,l){var a=[],o={};a[0]="";function h(f){for(var p="",m=0,g=-1,v=a.length;g<f.length-1;){g=f.indexOf(`
`,m),g==-1&&(g=f.length-1);var y=f.substring(m,g+1);(o.hasOwnProperty?o.hasOwnProperty(y):o[y]!==void 0)?p+=String.fromCharCode(o[y]):(v==c&&(y=f.substring(m),g=f.length),p+=String.fromCharCode(v),o[y]=v,a[v++]=y),m=g+1}return p}var c=4e4,u=h(s);c=65535;var d=h(l);return{chars1:u,chars2:d,lineArray:a}},e.prototype.diff_charsToLines_=function(s,l){for(var a=0;a<s.length;a++){for(var o=s[a][1],h=[],c=0;c<o.length;c++)h[c]=l[o.charCodeAt(c)];s[a][1]=h.join("")}},e.prototype.diff_commonPrefix=function(s,l){if(!s||!l||s.charAt(0)!=l.charAt(0))return 0;for(var a=0,o=Math.min(s.length,l.length),h=o,c=0;a<h;)s.substring(c,h)==l.substring(c,h)?(a=h,c=a):o=h,h=Math.floor((o-a)/2+a);return h},e.prototype.diff_commonSuffix=function(s,l){if(!s||!l||s.charAt(s.length-1)!=l.charAt(l.length-1))return 0;for(var a=0,o=Math.min(s.length,l.length),h=o,c=0;a<h;)s.substring(s.length-h,s.length-c)==l.substring(l.length-h,l.length-c)?(a=h,c=a):o=h,h=Math.floor((o-a)/2+a);return h},e.prototype.diff_commonOverlap_=function(s,l){var a=s.length,o=l.length;if(a==0||o==0)return 0;a>o?s=s.substring(a-o):a<o&&(l=l.substring(0,a));var h=Math.min(a,o);if(s==l)return h;for(var c=0,u=1;;){var d=s.substring(h-u),f=l.indexOf(d);if(f==-1)return c;u+=f,(f==0||s.substring(h-u)==l.substring(0,u))&&(c=u,u++)}},e.prototype.diff_halfMatch_=function(s,l){if(this.Diff_Timeout<=0)return null;var a=s.length>l.length?s:l,o=s.length>l.length?l:s;if(a.length<4||o.length*2<a.length)return null;var h=this;function c(_,w,C){for(var b=_.substring(C,C+Math.floor(_.length/4)),T=-1,A="",k,P,N,D;(T=w.indexOf(b,T+1))!=-1;){var L=h.diff_commonPrefix(_.substring(C),w.substring(T)),I=h.diff_commonSuffix(_.substring(0,C),w.substring(0,T));A.length<I+L&&(A=w.substring(T-I,T)+w.substring(T,T+L),k=_.substring(0,C-I),P=_.substring(C+L),N=w.substring(0,T-I),D=w.substring(T+L))}return A.length*2>=_.length?[k,P,N,D,A]:null}var u=c(a,o,Math.ceil(a.length/4)),d=c(a,o,Math.ceil(a.length/2)),f;if(!u&&!d)return null;d?u?f=u[4].length>d[4].length?u:d:f=d:f=u;var p,m,g,v;s.length>l.length?(p=f[0],m=f[1],g=f[2],v=f[3]):(g=f[0],v=f[1],p=f[2],m=f[3]);var y=f[4];return[p,m,g,v,y]},e.prototype.diff_cleanupSemantic=function(s){for(var l=!1,a=[],o=0,h=null,c=0,u=0,d=0,f=0,p=0;c<s.length;)s[c][0]==i?(a[o++]=c,u=f,d=p,f=0,p=0,h=s[c][1]):(s[c][0]==r?f+=s[c][1].length:p+=s[c][1].length,h&&h.length<=Math.max(u,d)&&h.length<=Math.max(f,p)&&(s.splice(a[o-1],0,new e.Diff(t,h)),s[a[o-1]+1][0]=r,o--,o--,c=o>0?a[o-1]:-1,u=0,d=0,f=0,p=0,h=null,l=!0)),c++;for(l&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),c=1;c<s.length;){if(s[c-1][0]==t&&s[c][0]==r){var m=s[c-1][1],g=s[c][1],v=this.diff_commonOverlap_(m,g),y=this.diff_commonOverlap_(g,m);v>=y?(v>=m.length/2||v>=g.length/2)&&(s.splice(c,0,new e.Diff(i,g.substring(0,v))),s[c-1][1]=m.substring(0,m.length-v),s[c+1][1]=g.substring(v),c++):(y>=m.length/2||y>=g.length/2)&&(s.splice(c,0,new e.Diff(i,m.substring(0,y))),s[c-1][0]=r,s[c-1][1]=g.substring(0,g.length-y),s[c+1][0]=t,s[c+1][1]=m.substring(y),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(s){function l(y,_){if(!y||!_)return 6;var w=y.charAt(y.length-1),C=_.charAt(0),b=w.match(e.nonAlphaNumericRegex_),T=C.match(e.nonAlphaNumericRegex_),A=b&&w.match(e.whitespaceRegex_),k=T&&C.match(e.whitespaceRegex_),P=A&&w.match(e.linebreakRegex_),N=k&&C.match(e.linebreakRegex_),D=P&&y.match(e.blanklineEndRegex_),L=N&&_.match(e.blanklineStartRegex_);return D||L?5:P||N?4:b&&!A&&k?3:A||k?2:b||T?1:0}for(var a=1;a<s.length-1;){if(s[a-1][0]==i&&s[a+1][0]==i){var o=s[a-1][1],h=s[a][1],c=s[a+1][1],u=this.diff_commonSuffix(o,h);if(u){var d=h.substring(h.length-u);o=o.substring(0,o.length-u),h=d+h.substring(0,h.length-u),c=d+c}for(var f=o,p=h,m=c,g=l(o,h)+l(h,c);h.charAt(0)===c.charAt(0);){o+=h.charAt(0),h=h.substring(1)+c.charAt(0),c=c.substring(1);var v=l(o,h)+l(h,c);v>=g&&(g=v,f=o,p=h,m=c)}s[a-1][1]!=f&&(f?s[a-1][1]=f:(s.splice(a-1,1),a--),s[a][1]=p,m?s[a+1][1]=m:(s.splice(a+1,1),a--))}a++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var l=!1,a=[],o=0,h=null,c=0,u=!1,d=!1,f=!1,p=!1;c<s.length;)s[c][0]==i?(s[c][1].length<this.Diff_EditCost&&(f||p)?(a[o++]=c,u=f,d=p,h=s[c][1]):(o=0,h=null),f=p=!1):(s[c][0]==t?p=!0:f=!0,h&&(u&&d&&f&&p||h.length<this.Diff_EditCost/2&&u+d+f+p==3)&&(s.splice(a[o-1],0,new e.Diff(t,h)),s[a[o-1]+1][0]=r,o--,h=null,u&&d?(f=p=!0,o=0):(o--,c=o>0?a[o-1]:-1,f=p=!1),l=!0)),c++;l&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(i,""));for(var l=0,a=0,o=0,h="",c="",u;l<s.length;)switch(s[l][0]){case r:o++,c+=s[l][1],l++;break;case t:a++,h+=s[l][1],l++;break;case i:a+o>1?(a!==0&&o!==0&&(u=this.diff_commonPrefix(c,h),u!==0&&(l-a-o>0&&s[l-a-o-1][0]==i?s[l-a-o-1][1]+=c.substring(0,u):(s.splice(0,0,new e.Diff(i,c.substring(0,u))),l++),c=c.substring(u),h=h.substring(u)),u=this.diff_commonSuffix(c,h),u!==0&&(s[l][1]=c.substring(c.length-u)+s[l][1],c=c.substring(0,c.length-u),h=h.substring(0,h.length-u))),l-=a+o,s.splice(l,a+o),h.length&&(s.splice(l,0,new e.Diff(t,h)),l++),c.length&&(s.splice(l,0,new e.Diff(r,c)),l++),l++):l!==0&&s[l-1][0]==i?(s[l-1][1]+=s[l][1],s.splice(l,1)):l++,o=0,a=0,h="",c="";break}s[s.length-1][1]===""&&s.pop();var d=!1;for(l=1;l<s.length-1;)s[l-1][0]==i&&s[l+1][0]==i&&(s[l][1].substring(s[l][1].length-s[l-1][1].length)==s[l-1][1]?(s[l][1]=s[l-1][1]+s[l][1].substring(0,s[l][1].length-s[l-1][1].length),s[l+1][1]=s[l-1][1]+s[l+1][1],s.splice(l-1,1),d=!0):s[l][1].substring(0,s[l+1][1].length)==s[l+1][1]&&(s[l-1][1]+=s[l+1][1],s[l][1]=s[l][1].substring(s[l+1][1].length)+s[l+1][1],s.splice(l+1,1),d=!0)),l++;d&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,l){var a=0,o=0,h=0,c=0,u;for(u=0;u<s.length&&(s[u][0]!==r&&(a+=s[u][1].length),s[u][0]!==t&&(o+=s[u][1].length),!(a>l));u++)h=a,c=o;return s.length!=u&&s[u][0]===t?c:c+(l-h)},e.prototype.diff_prettyHtml=function(s){for(var l=[],a=/&/g,o=/</g,h=/>/g,c=/\n/g,u=0;u<s.length;u++){var d=s[u][0],f=s[u][1],p=f.replace(a,"&amp;").replace(o,"&lt;").replace(h,"&gt;").replace(c,"&para;<br>");switch(d){case r:l[u]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case t:l[u]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:l[u]="<span>"+p+"</span>";break}}return l.join("")},e.prototype.diff_text1=function(s){for(var l=[],a=0;a<s.length;a++)s[a][0]!==r&&(l[a]=s[a][1]);return l.join("")},e.prototype.diff_text2=function(s){for(var l=[],a=0;a<s.length;a++)s[a][0]!==t&&(l[a]=s[a][1]);return l.join("")},e.prototype.diff_levenshtein=function(s){for(var l=0,a=0,o=0,h=0;h<s.length;h++){var c=s[h][0],u=s[h][1];switch(c){case r:a+=u.length;break;case t:o+=u.length;break;case i:l+=Math.max(a,o),a=0,o=0;break}}return l+=Math.max(a,o),l},e.prototype.diff_toDelta=function(s){for(var l=[],a=0;a<s.length;a++)switch(s[a][0]){case r:l[a]="+"+encodeURI(s[a][1]);break;case t:l[a]="-"+s[a][1].length;break;case i:l[a]="="+s[a][1].length;break}return l.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,l){for(var a=[],o=0,h=0,c=l.split(/\t/g),u=0;u<c.length;u++){var d=c[u].substring(1);switch(c[u].charAt(0)){case"+":try{a[o++]=new e.Diff(r,decodeURI(d))}catch{throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var f=parseInt(d,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+d);var p=s.substring(h,h+=f);c[u].charAt(0)=="="?a[o++]=new e.Diff(i,p):a[o++]=new e.Diff(t,p);break;default:if(c[u])throw new Error("Invalid diff operation in diff_fromDelta: "+c[u])}}if(h!=s.length)throw new Error("Delta length ("+h+") does not equal source text length ("+s.length+").");return a},e.prototype.match_main=function(s,l,a){if(s==null||l==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,s.length)),s==l?0:s.length?s.substring(a,a+l.length)==l?a:this.match_bitap_(s,l,a):-1},e.prototype.match_bitap_=function(s,l,a){if(l.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var o=this.match_alphabet_(l),h=this;function c(k,P){var N=k/l.length,D=Math.abs(a-P);return h.Match_Distance?N+D/h.Match_Distance:D?1:N}var u=this.Match_Threshold,d=s.indexOf(l,a);d!=-1&&(u=Math.min(c(0,d),u),d=s.lastIndexOf(l,a+l.length),d!=-1&&(u=Math.min(c(0,d),u)));var f=1<<l.length-1;d=-1;for(var p,m,g=l.length+s.length,v,y=0;y<l.length;y++){for(p=0,m=g;p<m;)c(y,a+m)<=u?p=m:g=m,m=Math.floor((g-p)/2+p);g=m;var _=Math.max(1,a-m+1),w=Math.min(a+m,s.length)+l.length,C=Array(w+2);C[w+1]=(1<<y)-1;for(var b=w;b>=_;b--){var T=o[s.charAt(b-1)];if(y===0?C[b]=(C[b+1]<<1|1)&T:C[b]=(C[b+1]<<1|1)&T|((v[b+1]|v[b])<<1|1)|v[b+1],C[b]&f){var A=c(y,b-1);if(A<=u)if(u=A,d=b-1,d>a)_=Math.max(1,2*a-d);else break}}if(c(y+1,a)>u)break;v=C}return d},e.prototype.match_alphabet_=function(s){for(var l={},a=0;a<s.length;a++)l[s.charAt(a)]=0;for(var a=0;a<s.length;a++)l[s.charAt(a)]|=1<<s.length-a-1;return l},e.prototype.patch_addContext_=function(s,l){if(l.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var a=l.substring(s.start2,s.start2+s.length1),o=0;l.indexOf(a)!=l.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,a=l.substring(s.start2-o,s.start2+s.length1+o);o+=this.Patch_Margin;var h=l.substring(s.start2-o,s.start2);h&&s.diffs.unshift(new e.Diff(i,h));var c=l.substring(s.start2+s.length1,s.start2+s.length1+o);c&&s.diffs.push(new e.Diff(i,c)),s.start1-=h.length,s.start2-=h.length,s.length1+=h.length+c.length,s.length2+=h.length+c.length}},e.prototype.patch_make=function(s,l,a){var o,h;if(typeof s=="string"&&typeof l=="string"&&typeof a>"u")o=s,h=this.diff_main(o,l,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(s&&typeof s=="object"&&typeof l>"u"&&typeof a>"u")h=s,o=this.diff_text1(h);else if(typeof s=="string"&&l&&typeof l=="object"&&typeof a>"u")o=s,h=l;else if(typeof s=="string"&&typeof l=="string"&&a&&typeof a=="object")o=s,h=a;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var c=[],u=new e.patch_obj,d=0,f=0,p=0,m=o,g=o,v=0;v<h.length;v++){var y=h[v][0],_=h[v][1];switch(!d&&y!==i&&(u.start1=f,u.start2=p),y){case r:u.diffs[d++]=h[v],u.length2+=_.length,g=g.substring(0,p)+_+g.substring(p);break;case t:u.length1+=_.length,u.diffs[d++]=h[v],g=g.substring(0,p)+g.substring(p+_.length);break;case i:_.length<=2*this.Patch_Margin&&d&&h.length!=v+1?(u.diffs[d++]=h[v],u.length1+=_.length,u.length2+=_.length):_.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(u,m),c.push(u),u=new e.patch_obj,d=0,m=g,f=p);break}y!==r&&(f+=_.length),y!==t&&(p+=_.length)}return d&&(this.patch_addContext_(u,m),c.push(u)),c},e.prototype.patch_deepCopy=function(s){for(var l=[],a=0;a<s.length;a++){var o=s[a],h=new e.patch_obj;h.diffs=[];for(var c=0;c<o.diffs.length;c++)h.diffs[c]=new e.Diff(o.diffs[c][0],o.diffs[c][1]);h.start1=o.start1,h.start2=o.start2,h.length1=o.length1,h.length2=o.length2,l[a]=h}return l},e.prototype.patch_apply=function(s,l){if(s.length==0)return[l,[]];s=this.patch_deepCopy(s);var a=this.patch_addPadding(s);l=a+l+a,this.patch_splitMax(s);for(var o=0,h=[],c=0;c<s.length;c++){var u=s[c].start2+o,d=this.diff_text1(s[c].diffs),f,p=-1;if(d.length>this.Match_MaxBits?(f=this.match_main(l,d.substring(0,this.Match_MaxBits),u),f!=-1&&(p=this.match_main(l,d.substring(d.length-this.Match_MaxBits),u+d.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(l,d,u),f==-1)h[c]=!1,o-=s[c].length2-s[c].length1;else{h[c]=!0,o=f-u;var m;if(p==-1?m=l.substring(f,f+d.length):m=l.substring(f,p+this.Match_MaxBits),d==m)l=l.substring(0,f)+this.diff_text2(s[c].diffs)+l.substring(f+d.length);else{var g=this.diff_main(d,m,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(g)/d.length>this.Patch_DeleteThreshold)h[c]=!1;else{this.diff_cleanupSemanticLossless(g);for(var v=0,y,_=0;_<s[c].diffs.length;_++){var w=s[c].diffs[_];w[0]!==i&&(y=this.diff_xIndex(g,v)),w[0]===r?l=l.substring(0,f+y)+w[1]+l.substring(f+y):w[0]===t&&(l=l.substring(0,f+y)+l.substring(f+this.diff_xIndex(g,v+w[1].length))),w[0]!==t&&(v+=w[1].length)}}}}}return l=l.substring(a.length,l.length-a.length),[l,h]},e.prototype.patch_addPadding=function(s){for(var l=this.Patch_Margin,a="",o=1;o<=l;o++)a+=String.fromCharCode(o);for(var o=0;o<s.length;o++)s[o].start1+=l,s[o].start2+=l;var h=s[0],c=h.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new e.Diff(i,a)),h.start1-=l,h.start2-=l,h.length1+=l,h.length2+=l;else if(l>c[0][1].length){var u=l-c[0][1].length;c[0][1]=a.substring(c[0][1].length)+c[0][1],h.start1-=u,h.start2-=u,h.length1+=u,h.length2+=u}if(h=s[s.length-1],c=h.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new e.Diff(i,a)),h.length1+=l,h.length2+=l;else if(l>c[c.length-1][1].length){var u=l-c[c.length-1][1].length;c[c.length-1][1]+=a.substring(0,u),h.length1+=u,h.length2+=u}return a},e.prototype.patch_splitMax=function(s){for(var l=this.Match_MaxBits,a=0;a<s.length;a++)if(!(s[a].length1<=l)){var o=s[a];s.splice(a--,1);for(var h=o.start1,c=o.start2,u="";o.diffs.length!==0;){var d=new e.patch_obj,f=!0;for(d.start1=h-u.length,d.start2=c-u.length,u!==""&&(d.length1=d.length2=u.length,d.diffs.push(new e.Diff(i,u)));o.diffs.length!==0&&d.length1<l-this.Patch_Margin;){var p=o.diffs[0][0],m=o.diffs[0][1];p===r?(d.length2+=m.length,c+=m.length,d.diffs.push(o.diffs.shift()),f=!1):p===t&&d.diffs.length==1&&d.diffs[0][0]==i&&m.length>2*l?(d.length1+=m.length,h+=m.length,f=!1,d.diffs.push(new e.Diff(p,m)),o.diffs.shift()):(m=m.substring(0,l-d.length1-this.Patch_Margin),d.length1+=m.length,h+=m.length,p===i?(d.length2+=m.length,c+=m.length):f=!1,d.diffs.push(new e.Diff(p,m)),m==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}u=this.diff_text2(d.diffs),u=u.substring(u.length-this.Patch_Margin);var g=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);g!==""&&(d.length1+=g.length,d.length2+=g.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===i?d.diffs[d.diffs.length-1][1]+=g:d.diffs.push(new e.Diff(i,g))),f||s.splice(++a,0,d)}}},e.prototype.patch_toText=function(s){for(var l=[],a=0;a<s.length;a++)l[a]=s[a];return l.join("")},e.prototype.patch_fromText=function(s){var l=[];if(!s)return l;for(var a=s.split(`
`),o=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<a.length;){var c=a[o].match(h);if(!c)throw new Error("Invalid patch string: "+a[o]);var u=new e.patch_obj;for(l.push(u),u.start1=parseInt(c[1],10),c[2]===""?(u.start1--,u.length1=1):c[2]=="0"?u.length1=0:(u.start1--,u.length1=parseInt(c[2],10)),u.start2=parseInt(c[3],10),c[4]===""?(u.start2--,u.length2=1):c[4]=="0"?u.length2=0:(u.start2--,u.length2=parseInt(c[4],10)),o++;o<a.length;){var d=a[o].charAt(0);try{var f=decodeURI(a[o].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(d=="-")u.diffs.push(new e.Diff(t,f));else if(d=="+")u.diffs.push(new e.Diff(r,f));else if(d==" ")u.diffs.push(new e.Diff(i,f));else{if(d=="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+f)}o++}}return l},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,l;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?l=this.start2+",0":this.length2==1?l=this.start2+1:l=this.start2+1+","+this.length2;for(var a=["@@ -"+s+" +"+l+` @@
`],o,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case r:o="+";break;case t:o="-";break;case i:o=" ";break}a[h+1]=o+encodeURI(this.diffs[h][1])+`
`}return a.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=r,n.exports.DIFF_EQUAL=i})(rE)),rE.exports}var IB;function lSe(){if(IB)return Cp;IB=1;var n=Cp&&Cp.__extends||(function(){var l=function(a,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(h[u]=c[u])},l(a,o)};return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(a,o);function h(){this.constructor=a}a.prototype=o===null?Object.create(o):(h.prototype=o.prototype,new h)}})();Object.defineProperty(Cp,"__esModule",{value:!0});var e=TA(),t=Ll(),r=W6(),i=aSe(),s=(function(l){n(a,l);function a(o){var h=l.call(this,o)||this;return h.state={value:h.props.value},h.onChange=h.onChange.bind(h),h.diff=h.diff.bind(h),h}return a.prototype.componentDidUpdate=function(){var o=this.props.value;o!==this.state.value&&this.setState({value:o})},a.prototype.onChange=function(o){this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},a.prototype.diff=function(){var o=new i,h=this.state.value[0],c=this.state.value[1];if(h.length===0&&c.length===0)return[];var u=o.diff_main(h,c);o.diff_cleanupSemantic(u);var d=this.generateDiffedLines(u),f=this.setCodeMarkers(d);return f},a.prototype.generateDiffedLines=function(o){var h={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},u={left:1,right:1};return o.forEach(function(d){var f=d[0],p=d[1],m=p.split(`
`).length-1;if(p.length!==0){var g=p[0],v=p[p.length-1],y=0;switch(f){case h.DIFF_EQUAL:u.left+=m,u.right+=m;break;case h.DIFF_DELETE:g===`
`&&(u.left++,m--),y=m,y===0&&c.right.push({startLine:u.right,endLine:u.right}),v===`
`&&(y-=1),c.left.push({startLine:u.left,endLine:u.left+y}),u.left+=m;break;case h.DIFF_INSERT:g===`
`&&(u.right++,m--),y=m,y===0&&c.left.push({startLine:u.left,endLine:u.left}),v===`
`&&(y-=1),c.right.push({startLine:u.right,endLine:u.right+y}),u.right+=m;break;default:throw new Error("Diff type was not defined.")}}}),c},a.prototype.setCodeMarkers=function(o){o===void 0&&(o={left:[],right:[]});for(var h=[],c={left:[],right:[]},u=0;u<o.left.length;u++){var d={startRow:o.left[u].startLine-1,endRow:o.left[u].endLine,type:"text",className:"codeMarker"};c.left.push(d)}for(var u=0;u<o.right.length;u++){var d={startRow:o.right[u].startLine-1,endRow:o.right[u].endLine,type:"text",className:"codeMarker"};c.right.push(d)}return h[0]=c.left,h[1]=c.right,h},a.prototype.render=function(){var o=this.diff();return t.createElement(r.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:o})},a.propTypes={cursorStart:e.number,editorProps:e.object,enableBasicAutocompletion:e.bool,enableLiveAutocompletion:e.bool,focus:e.bool,fontSize:e.number,height:e.string,highlightActiveLine:e.bool,maxLines:e.number,minLines:e.number,mode:e.string,name:e.string,className:e.string,onLoad:e.func,onPaste:e.func,onScroll:e.func,onChange:e.func,orientation:e.string,readOnly:e.bool,scrollMargin:e.array,setOptions:e.object,showGutter:e.bool,showPrintMargin:e.bool,splits:e.number,style:e.object,tabSize:e.number,theme:e.string,value:e.array,width:e.string,wrapEnabled:e.bool},a.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},a})(t.Component);return Cp.default=s,Cp}var DB;function cSe(){if(DB)return ju;DB=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.diff=ju.split=void 0;var n=iSe(),e=lSe();ju.diff=e.default;var t=W6();return ju.split=t.default,ju.default=n.default,ju}var uSe=cSe();const hSe=aa(uSe),dSe=({selectedFile:n})=>{const e=n.split(".");switch(e[e.length-1]){case"js":return"javascript";case"py":return"python";case"java":return"java";case"xml":return"xml";case"rb":return"ruby";case"sass":return"sass";case"md":return"markdown";case"sql":return"mysql";case"json":return"json";case"html":return"html";case"hbs":return"handlebars";case"handlebars":return"handlebars";case"go":return"golang";case"cs":return"csharp";case"litcoffee":return"coffee";case"css":return"css";default:return""}},fSe=({userProjectId:n,currentStatus:e,onStatusChange:t})=>{const[r,i]=G.useState(!1),[s,l]=G.useState(!1),a=e==="completed",o=async()=>{i(!0);try{const c=await fetch(`${Zn}/user-projects/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"completed",completedAt:new Date().toISOString()})});if(c.ok){const u=await c.json();Sc.success(" Project completed!"),l(!1),t&&t("completed")}else Sc.error("Failed to mark project as complete")}catch(c){console.error("Error:",c),Sc.error("Something went wrong")}finally{i(!1)}},h=async()=>{i(!0);try{(await fetch(`${Zn}/user-projects/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:"in-progress",completedAt:null})})).ok?(Sc.success("Project reopened"),t&&t("in-progress")):Sc.error("Failed to update status")}catch(c){console.error("Error:",c),Sc.error("Something went wrong")}finally{i(!1)}};return a?U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 10px",backgroundColor:"#1e3a1e",border:"1px solid #2d5a2d",borderRadius:"3px",fontSize:"12px",color:"#4caf50"},children:[U.jsx(TM,{size:14}),U.jsx("span",{children:"Completed"}),U.jsxs("button",{onClick:h,disabled:r,style:{marginLeft:"4px",padding:"2px 6px",fontSize:"11px",backgroundColor:"#3e3e42",color:"#cccccc",border:"none",borderRadius:"2px",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[U.jsx(Dse,{size:10}),r?"...":"Reopen"]})]}):U.jsxs(U.Fragment,{children:[U.jsxs("button",{onClick:()=>l(!0),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 10px",backgroundColor:"#0e639c",color:"white",border:"none",borderRadius:"3px",fontSize:"12px",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:c=>c.currentTarget.style.backgroundColor="#1177bb",onMouseLeave:c=>c.currentTarget.style.backgroundColor="#0e639c",children:[U.jsx(P_,{size:14}),U.jsx("span",{children:"Mark Complete"})]}),s&&U.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>l(!1),children:U.jsxs("div",{style:{backgroundColor:"#252526",border:"1px solid #2d2d30",borderRadius:"6px",padding:"20px",maxWidth:"360px",width:"90%"},onClick:c=>c.stopPropagation(),children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[U.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#1e3a1e",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsx(TM,{size:20,style:{color:"#4caf50"}})}),U.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#cccccc",margin:0},children:"Complete Project?"})]}),U.jsx("p",{style:{fontSize:"13px",color:"#858585",lineHeight:"1.5",marginBottom:"16px"},children:"Mark this project as completed? This will update your dashboard."}),U.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[U.jsx("button",{onClick:()=>l(!1),disabled:r,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"#3e3e42",color:"#cccccc",border:"none",borderRadius:"3px",cursor:r?"not-allowed":"pointer"},children:"Cancel"}),U.jsx("button",{onClick:o,disabled:r,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"#0e639c",color:"white",border:"none",borderRadius:"3px",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"4px"},children:r?U.jsxs(U.Fragment,{children:[U.jsx(C5,{size:12,style:{animation:"spin 1s linear infinite"}}),U.jsx("span",{children:"..."})]}):U.jsxs(U.Fragment,{children:[U.jsx(P_,{size:12}),U.jsx("span",{children:"Complete"})]})})]})]})}),U.jsx("style",{children:`
				@keyframes spin {
					from { transform: rotate(0deg); }
					to { transform: rotate(360deg); }
				}
			`})]})},pSe=({projectId:n,userId:e,onTaskSelect:t})=>{const[r,i]=G.useState([]),[s,l]=G.useState([]),[a,o]=G.useState(1),[h,c]=G.useState(null),[u,d]=G.useState(!1),[f,p]=G.useState(!0);G.useEffect(()=>{n&&m()},[n]);const m=async()=>{try{const w=await fetch(`${Zn}/tasks/${n}`,{credentials:"include"});if(w.ok){const C=await w.json();i(C.tasks||[]),l(C.completedTasks||[]),o(C.currentTask||1);const b=C.tasks.find(T=>T.id===C.currentTask);b&&(c(b),t?.(b))}}catch(w){console.error("Error loading tasks:",w)}},g=async w=>{d(!0);try{const C=await fetch(`${Zn}/tasks/${n}/complete/${w}`,{method:"POST",credentials:"include"});if(C.ok){const b=await C.json();l(b.completedTasks),o(b.currentTask);const T=r.find(A=>A.id===b.currentTask);T&&(c(T),t?.(T))}}catch(C){console.error("Error completing task:",C)}finally{d(!1)}},v=w=>{c(w),t?.(w)},y=w=>s.includes(w),_=w=>w===a;return r.length===0?null:U.jsxs("div",{style:{height:"100%",backgroundColor:"#252526",display:"flex",flexDirection:"column",overflow:"hidden"},children:[U.jsxs("button",{onClick:()=>p(!f),style:{padding:"8px 12px",borderBottom:"1px solid #2d2d30",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:"#cccccc",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px",backgroundColor:"transparent",border:"none",borderBottom:"1px solid #2d2d30",cursor:"pointer",width:"100%",textAlign:"left"},children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[U.jsx(A5,{size:14}),U.jsx("span",{children:"Project Tasks"}),U.jsxs("span",{style:{fontSize:"10px",color:"#858585"},children:["(",s.length,"/",r.length,")"]})]}),f?U.jsx(_5,{size:14}):U.jsx(b5,{size:14})]}),f&&U.jsx("div",{style:{flex:1,overflowY:"auto"},children:U.jsx("div",{style:{padding:"8px 0"},children:r.map(w=>{const C=y(w.id),b=_(w.id),T=h?.id===w.id;return U.jsxs("div",{onClick:()=>v(w),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:T?"#37373d":"transparent",borderLeft:b?"3px solid #0e639c":"3px solid transparent",transition:"all 0.2s"},onMouseEnter:A=>{T||(A.currentTarget.style.backgroundColor="#2a2d2e")},onMouseLeave:A=>{T||(A.currentTarget.style.backgroundColor="transparent")},children:[U.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[C?U.jsx(Yie,{size:16,style:{color:"#4caf50"}}):U.jsx(Jie,{size:16,style:{color:"#858585"}}),U.jsxs("div",{style:{flex:1},children:[U.jsx("div",{style:{fontSize:"13px",color:C?"#4caf50":"#cccccc",fontWeight:b?600:400,marginBottom:"4px"},children:w.title}),U.jsx("div",{style:{fontSize:"11px",color:"#858585",marginBottom:"6px"},children:w.description}),b&&!C&&U.jsx("div",{style:{fontSize:"10px",color:"#0e639c",padding:"2px 6px",backgroundColor:"#0e639c20",borderRadius:"3px",display:"inline-block"},children:"Current Task"})]})]}),T&&U.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #2d2d30"},children:[U.jsxs("div",{style:{fontSize:"10px",color:"#858585",marginBottom:"6px"},children:[" Learning:"," ",U.jsx("span",{style:{color:"#ce9178"},children:w.concept})]}),!C&&U.jsx("button",{onClick:A=>{A.stopPropagation(),g(w.id)},disabled:u,style:{width:"100%",padding:"6px 12px",fontSize:"12px",backgroundColor:"#0e639c",color:"white",border:"none",borderRadius:"3px",cursor:u?"not-allowed":"pointer",marginBottom:"6px"},children:u?"Marking...":"Mark Complete"}),w.resources&&w.resources.length>0&&U.jsxs("div",{style:{fontSize:"11px",color:"#858585"},children:[U.jsxs("div",{style:{marginBottom:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[U.jsx(Uie,{size:12}),U.jsx("span",{children:"Resources:"})]}),w.resources.map((A,k)=>U.jsxs("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"4px",color:"#4fc3f7",textDecoration:"none",padding:"4px 0",fontSize:"11px"},onMouseEnter:P=>P.currentTarget.style.textDecoration="underline",onMouseLeave:P=>P.currentTarget.style.textDecoration="none",children:[U.jsx(S5,{size:10}),U.jsx("span",{children:A.title})]},k))]})]})]},w.id)})})}),f&&U.jsxs("div",{style:{padding:"8px 12px",borderTop:"1px solid #2d2d30",backgroundColor:"#1e1e1e",fontSize:"11px",color:"#858585"},children:[U.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[U.jsx("span",{children:"Progress:"}),U.jsxs("span",{style:{color:"#4caf50"},children:[s.length,"/",r.length," tasks"]})]}),U.jsx("div",{style:{marginTop:"6px",height:"4px",backgroundColor:"#2d2d30",borderRadius:"2px",overflow:"hidden"},children:U.jsx("div",{style:{height:"100%",width:`${s.length/r.length*100}%`,backgroundColor:"#4caf50",transition:"width 0.3s"}})})]})]})},gSe=({open:n,onClose:e})=>n?(G.useEffect(()=>{document.querySelectorAll(".code-block").forEach(r=>{const i=r.querySelector(".copy-btn"),s=r.querySelector("code").innerText;i.onclick=()=>{navigator.clipboard.writeText(s),i.innerText="Copied!",i.classList.add("copied"),setTimeout(()=>{i.innerText="Copy",i.classList.remove("copied")},1500)}})},[]),U.jsx("div",{className:"info-overlay show",children:U.jsxs("div",{className:"info-modal animate-popup",children:[U.jsx("button",{className:"close-btn",onClick:e,children:""}),U.jsxs("div",{className:"info-header",children:[U.jsx("h2",{children:" Website Project Setup Guide"}),U.jsx("p",{children:"This guide will help you set up and run your basic website project."})]}),U.jsxs("div",{className:"info-content",children:[U.jsxs("section",{children:[U.jsx("h2",{children:" 1. Navigate to Your Project Folder"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:"cd your-project-folder"})})]}),U.jsx("p",{children:"Make sure you are inside the correct folder before creating files."})]}),U.jsxs("section",{children:[U.jsx("h2",{children:" 2. Create Your index.html File"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Website</title>
  <link rel="stylesheet" href="styles.css">
  <meta http-equiv="refresh" content="3">
</head>
<body>
  <h1>Hello, world!</h1>
  <p>Your website is running.</p>
  <script src="script.js"><\/script>
</body>
</html>`})})]})]}),U.jsxs("section",{children:[U.jsx("h2",{children:" 3. Create Your main.js File"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:`import http from "http";
import fs from "fs";
import path from "path";

const PORT = your_allocated_port_number;

http.createServer((req, res) => {
  let filePath = req.url === "/" ? "index.html" : req.url.slice(1);

  fs.readFile(filePath, (err, data) => {
    if (err) {
      res.writeHead(404);
      return res.end("Not found");
    }

    const ext = path.extname(filePath);
    const types = {
      ".html": "text/html",
      ".css": "text/css",
      ".js": "text/javascript"
    };

    res.writeHead(200, { "Content-Type": types[ext] || "text/plain" });
    res.end(data);
  });
}).listen(PORT, () =>
  console.log(\`Server running at http://localhost:\${PORT}\`)
);`})})]}),U.jsx("h3",{children:"Run your server:"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:"node main.js"})})]}),U.jsx("p",{children:"Open in browser:"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:"http://localhost:your_allocated_port_number"})})]})]}),U.jsxs("section",{children:[U.jsx("h2",{children:" 4. Example styles.css"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:`body {
  font-family: Arial, sans-serif;
  background: #f5f5f5;
  padding: 20px;
}

h1 {
  color: #333;
}

p {
  font-size: 18px;
}`})})]})]}),U.jsxs("section",{children:[U.jsx("h2",{children:" 5. Example script.js"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:`console.log("Script loaded successfully!");

document.addEventListener("DOMContentLoaded", () => {
  console.log("Page is ready!");
});`})})]})]}),U.jsxs("section",{children:[U.jsx("h2",{children:" 6. Installing Packages"}),U.jsx("p",{children:"You can install Node.js packages anytime using:"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:"npm install package_name"})})]}),U.jsx("p",{children:"Example:"}),U.jsxs("div",{className:"code-block",children:[U.jsx("button",{className:"copy-btn",children:"Copy"}),U.jsx("pre",{children:U.jsx("code",{children:"npm install express"})})]})]}),U.jsx("h2",{className:"footer-note",children:" You're Ready to Start Coding Your Website!"})]})]})})):null,V6=({size:n})=>U.jsxs("svg",{className:"ci-icon ci-neon",width:n,height:n,viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[U.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#00eaff",strokeWidth:"1.8"}),U.jsx("path",{d:"M12 16v-4",stroke:"#00eaff",strokeWidth:"1.8",strokeLinecap:"round"}),U.jsx("circle",{cx:"12",cy:"8",r:"1.2",fill:"#00eaff"})]}),mSe=({size:n})=>U.jsxs("svg",{className:"ci-icon ci-pulse",width:n,height:n,viewBox:"0 0 24 24","aria-hidden":"true",children:[U.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(0,200,255,0.08)",stroke:"#00c8ff",strokeWidth:"1.4"}),U.jsx("path",{d:"M12 16v-4",stroke:"#00c8ff",strokeWidth:"1.6",strokeLinecap:"round"}),U.jsx("circle",{cx:"12",cy:"8",r:"1.4",fill:"#00c8ff"})]}),vSe=({size:n})=>U.jsxs("svg",{className:"ci-icon ci-gradient",width:n,height:n,viewBox:"0 0 24 24","aria-hidden":"true",children:[U.jsx("defs",{children:U.jsxs("linearGradient",{id:"ciGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[U.jsx("stop",{offset:"0%",stopColor:"#ff00ea"}),U.jsx("stop",{offset:"100%",stopColor:"#00eaff"})]})}),U.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"url(#ciGrad)",strokeWidth:"1.6"}),U.jsx("path",{d:"M12 16v-4",stroke:"url(#ciGrad)",strokeWidth:"1.6",strokeLinecap:"round"}),U.jsx("circle",{cx:"12",cy:"8",r:"1.3",fill:"url(#ciGrad)"})]}),ySe=({size:n})=>U.jsx("div",{className:"ci-glass",style:{width:n,height:n,fontSize:n*.65},children:U.jsx("span",{className:"ci-glass-i",children:"i"})}),xSe={neon:V6,pulse:mSe,gradient:vSe,glass:ySe};function _Se({size:n=28,variant:e="neon"}){const t=xSe[e]||V6;return U.jsx(t,{size:n})}var iE={exports:{}},NB;function bSe(){return NB||(NB=1,(function(n,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},a.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};s.inherits(a,l),a.getTagRule=function(o){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},a.getStartRule=function(o){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:o}},a.getEndRule=function(o){return{token:"comment.doc",regex:"\\*\\/",next:o}},r.JsDocCommentHighlightRules=a}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,a=t("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(d){var f={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},p=this.createKeywordMapper(f,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",v="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(f).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[l.getStartRule("doc-start"),u("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:p,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[l.getStartRule("doc-start"),u("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[u("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!d||!d.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(_,w,C){if(this.next=_=="{"?this.nextState:"",_=="{"&&C.length)C.unshift("start",w);else if(_=="}"&&C.length&&(C.shift(),this.next=C.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return _=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!d||d.jsx!=!1)&&c.call(this)),this.embedRules(l,"doc-",[l.getEndRule("no_regex")]),this.normalizeRules()};s.inherits(h,a);function c(){var d=o.replace("\\d","\\d\\-"),f={onMatch:function(m,g,v){var y=m.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?v.unshift(this.next,this.nextState,0):v.unshift(this.next),v[2]++):y==2&&g==this.nextState&&(v[1]--,(!v[1]||v[1]<0)&&(v.shift(),v.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+d+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(f);var p={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[p,f,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,g,v){return g==v[0]&&v.shift(),m.length==2&&(v[0]==this.nextState&&v[1]--,(!v[1]||v[1]<0)&&v.splice(0,2)),this.next=v[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},p,u("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:d},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},f],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function u(d){return[{token:"comment",regex:/\/\*/,next:[l.getTagRule(),{token:"comment",regex:"\\*\\/",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[l.getTagRule(),{token:"comment",regex:"$|^",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=function(){};(function(){this.checkOutdent=function(a,o){return/^\s+$/.test(a)?/^\s*\}/.test(o):!1},this.autoOutdent=function(a,o){var h=a.getLine(o),c=h.match(/^(\s*\})/);if(!c)return 0;var u=c[1].length,d=a.findMatchingBracket({row:o,column:u});if(!d||d.row==o)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(o,0,o,u-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(l.prototype),r.MatchingBraceOutdent=l}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop"),l=t("../behaviour").Behaviour,a=t("../../token_iterator").TokenIterator;function o(c,u){return c&&c.type.lastIndexOf(u+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(c,u,d,f,p){if(p=='"'||p=="'"){var m=p,g=f.doc.getTextRange(d.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&d.getWrapBehavioursEnabled())return{text:m+g+m,selection:!1};var v=d.getCursorPosition(),y=f.doc.getLine(v.row),_=y.substring(v.column,v.column+1),w=new a(f,v.row,v.column),C=w.getCurrentToken();if(_==m&&(o(C,"attribute-value")||o(C,"string")))return{text:"",selection:[1,1]};if(C||(C=w.stepBackward()),!C)return;for(;o(C,"tag-whitespace")||o(C,"whitespace");)C=w.stepBackward();var b=!_||_.match(/\s/);if(o(C,"attribute-equals")&&(b||_==">")||o(C,"decl-attribute-equals")&&(b||_=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,u,d,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&(m=='"'||m=="'")){var g=f.doc.getLine(p.start.row),v=g.substring(p.start.column+1,p.start.column+2);if(v==m)return p.end.column++,p}}),this.add("autoclosing","insertion",function(c,u,d,f,p){if(p==">"){var m=d.getSelectionRange().start,g=new a(f,m.row,m.column),v=g.getCurrentToken()||g.stepBackward();if(!v||!(o(v,"tag-name")||o(v,"tag-whitespace")||o(v,"attribute-name")||o(v,"attribute-equals")||o(v,"attribute-value"))||o(v,"reference.attribute-value"))return;if(o(v,"attribute-value")){var y=g.getCurrentTokenColumn()+v.value.length;if(m.column<y)return;if(m.column==y){var _=g.stepForward();if(_&&o(_,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(f.getLine(m.row).slice(m.column)))return;for(;!o(v,"tag-name");)if(v=g.stepBackward(),v.value=="<"){v=g.stepForward();break}var w=g.getCurrentTokenRow(),C=g.getCurrentTokenColumn();if(o(g.stepBackward(),"end-tag-open"))return;var b=v.value;return w==m.row&&(b=b.substring(0,m.column-C)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,u,d,f,p){if(p==`
`){var m=d.getCursorPosition(),g=f.getLine(m.row),v=new a(f,m.row,m.column),y=v.getCurrentToken();if(o(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=v.stepBackward();if(!y)return;var _=y.value,w=v.getCurrentTokenRow();if(y=v.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[_]||!this.voidElements){var C=f.getTokenAt(m.row,m.column+1),g=f.getLine(w),b=this.$getIndent(g),T=b+f.getTabString();return C&&C.value==="</"?{text:`
`+T+`
`+b,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};s.inherits(h,l),r.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../token_iterator").TokenIterator,a=t("../behaviour/cstyle").CstyleBehaviour,o=t("../behaviour/xml").XmlBehaviour,h=function(){var c=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(c),this.inherit(a),this.add("autoclosing-fragment","insertion",function(u,d,f,p,m){if(m==">"){var g=f.getSelectionRange().start,v=new l(p,g.row,g.column),y=v.getCurrentToken()||v.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};s.inherits(h,a),r.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(u,d){a.call(this),this.voidElements=u||{},this.optionalEndTags=s.mixin({},this.voidElements),d&&s.mixin(this.optionalEndTags,d)};s.inherits(o,a);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(u,d){return u&&u.type&&u.type.lastIndexOf(d+".xml")>-1}(function(){this.getFoldWidget=function(u,d,f){var p=this._getFirstTagInLine(u,f);return p?p.closing||!p.tagName&&p.selfClosing?d==="markbeginend"?"end":"":!p.tagName||p.selfClosing||this.voidElements.hasOwnProperty(p.tagName.toLowerCase())||this._findEndTagInLine(u,f,p.tagName,p.end.column)?"":"start":this.getCommentFoldWidget(u,f)},this.getCommentFoldWidget=function(u,d){return/comment/.test(u.getState(d))&&/<!-/.test(u.getLine(d))?"start":""},this._getFirstTagInLine=function(u,d){for(var f=u.getTokens(d),p=new h,m=0;m<f.length;m++){var g=f[m];if(c(g,"tag-open")){if(p.end.column=p.start.column+g.value.length,p.closing=c(g,"end-tag-open"),g=f[++m],!g)return null;if(p.tagName=g.value,g.value===""){if(g=f[++m],!g)return null;p.tagName=g.value}for(p.end.column+=g.value.length,m++;m<f.length;m++)if(g=f[m],p.end.column+=g.value.length,c(g,"tag-close")){p.selfClosing=g.value=="/>";break}return p}else if(c(g,"tag-close"))return p.selfClosing=g.value=="/>",p;p.start.column+=g.value.length}return null},this._findEndTagInLine=function(u,d,f,p){for(var m=u.getTokens(d),g=0,v=0;v<m.length;v++){var y=m[v];if(g+=y.value.length,!(g<p-1)&&c(y,"end-tag-open")&&(y=m[v+1],c(y,"tag-name")&&y.value===""&&(y=m[v+2]),y&&y.value==f))return!0}return!1},this.getFoldWidgetRange=function(u,d,f){var p=this._getFirstTagInLine(u,f);if(!p)return this.getCommentFoldWidget(u,f)&&u.getCommentFoldRange(f,u.getLine(f).length);var m=u.getMatchingTags({row:f,column:0});if(m)return new l(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(o.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};s.inherits(o,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var f=this._getFoldWidgetBase(h,c,u);return!f&&this.startRegionRe.test(d)?"start":f},this.getFoldWidgetRange=function(h,c,u,d){var f=h.getLine(u);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(h,f,u);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(h,g[1],u,p);var m=h.getCommentFoldRange(u,p+g[0].length,1);return m&&!m.isMultiLine()&&(d?m=this.getSectionRange(h,u):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(h,g[1],u,p):h.getCommentFoldRange(u,p,-1)}}},this.getSectionRange=function(h,c){var u=h.getLine(c),d=u.search(/\S/),f=c,p=u.length;c=c+1;for(var m=c,g=h.getLength();++c<g;){u=h.getLine(c);var v=u.search(/\S/);if(v!==-1){if(d>v)break;var y=this.getFoldWidgetRange(h,"all",c);if(y){if(y.start.row<=f)break;if(y.isMultiLine())c=y.end.row;else if(d==v)break}m=c}}return new l(f,p,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,u){for(var d=c.search(/\s*$/),f=h.getLength(),p=u,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++u<f;){c=h.getLine(u);var v=m.exec(c);if(v&&(v[1]?g--:g++,!g))break}var y=u;if(y>p)return new l(p,d,y,c.length)}}).call(o.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../../lib/oop"),l=t("./xml").FoldMode,a=t("./cstyle").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new l};s.inherits(o,a),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=this.getFoldWidgetBase(h,c,u);return d||this.xmlFoldMode.getFoldWidget(h,c,u)},this.getFoldWidgetRange=function(h,c,u,d){var f=this.getFoldWidgetRangeBase(h,c,u,d);return f||this.xmlFoldMode.getFoldWidgetRange(h,c,u)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./javascript_highlight_rules").JavaScriptHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./behaviour/javascript").JavaScriptBehaviour,u=t("./folding/javascript").FoldMode,d=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new c,this.foldingRules=new u};s.inherits(d,l),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(f,p,m){var g=this.$getIndent(p),v=this.getTokenizer().getLineTokens(p,f),y=v.tokens,_=v.state;if(y.length&&y[y.length-1].type=="comment")return g;if(f=="start"||f=="no_regex"){var w=p.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=m)}else if(f=="doc-start"&&(_=="start"||_=="no_regex"))return"";return g},this.checkOutdent=function(f,p,m){return this.$outdent.checkOutdent(p,m)},this.autoOutdent=function(f,p,m){this.$outdent.autoOutdent(p,m)},this.createWorker=function(f){var p=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return p.attachToDocument(f.getDocument()),p.on("annotate",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(d.prototype),r.Mode=d}),(function(){ace.require(["ace/mode/javascript"],function(t){n&&(n.exports=t)})})()})(iE)),iE.exports}bSe();var sE={exports:{}},BB;function wSe(){return BB||(BB=1,(function(n,e){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(){var o="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",h="True|False|None|NotImplemented|Ellipsis|__debug__",c="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",u=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":c,"variable.language":"self|cls","constant.language":h,keyword:o},"identifier"),d="[uU]?",f="[rR]",p="[fF]",m="(?:[rR][fF]|[fF][rR])",g="(?:(?:[1-9]\\d*)|(?:0))",v="(?:0[oO]?[0-7]+)",y="(?:0[xX][\\dA-Fa-f]+)",_="(?:0[bB][01]+)",w="(?:"+g+"|"+v+"|"+y+"|"+_+")",C="(?:[eE][+-]?\\d+)",b="(?:\\.\\d+)",T="(?:\\d+)",A="(?:(?:"+T+"?"+b+")|(?:"+T+"\\.))",k="(?:(?:"+A+"|"+T+")"+C+")",P="(?:"+k+"|"+A+")",N=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:d+'"{3}',next:"qqstring3"},{token:"string",regex:d+'"(?=.)',next:"qqstring"},{token:"string",regex:d+"'{3}",next:"qstring3"},{token:"string",regex:d+"'(?=.)",next:"qstring"},{token:"string",regex:f+'"{3}',next:"rawqqstring3"},{token:"string",regex:f+'"(?=.)',next:"rawqqstring"},{token:"string",regex:f+"'{3}",next:"rawqstring3"},{token:"string",regex:f+"'(?=.)",next:"rawqstring"},{token:"string",regex:p+'"{3}',next:"fqqstring3"},{token:"string",regex:p+'"(?=.)',next:"fqqstring"},{token:"string",regex:p+"'{3}",next:"fqstring3"},{token:"string",regex:p+"'(?=.)",next:"fqstring"},{token:"string",regex:m+'"{3}',next:"rfqqstring3"},{token:"string",regex:m+'"(?=.)',next:"rfqqstring"},{token:"string",regex:m+"'{3}",next:"rfqstring3"},{token:"string",regex:m+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:N},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:N},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:N},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:N},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:N},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:N},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:N},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:N},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+P+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:P},{token:"constant.numeric",regex:w+"[lL]\\b"},{token:"constant.numeric",regex:w+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:u,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};s.inherits(a,l),r.PythonHighlightRules=a}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("./fold_mode").FoldMode,a=r.FoldMode=function(o){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+o+")(?:\\s*)(?:#.*)?$")};s.inherits(a,l),(function(){this.getFoldWidgetRange=function(o,h,c){var u=o.getLine(c),d=u.match(this.foldingStartMarker);if(d)return d[1]?this.openingBracketBlock(o,d[1],c,d.index):d[2]?this.indentationBlock(o,c,d.index+d[2].length):this.indentationBlock(o,c)}}).call(a.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./python_highlight_rules").PythonHighlightRules,o=t("./folding/pythonic").FoldMode,h=t("../range").Range,c=function(){this.HighlightRules=a,this.foldingRules=new o("\\:"),this.$behaviour=this.$defaultBehaviour};s.inherits(c,l),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(d,f,p){var m=this.$getIndent(f),g=this.getTokenizer().getLineTokens(f,d),v=g.tokens;if(v.length&&v[v.length-1].type=="comment")return m;if(d=="start"){var y=f.match(/^.*[\{\(\[:]\s*$/);y&&(m+=p)}return m};var u={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(d,f,p){if(p!==`\r
`&&p!=="\r"&&p!==`
`)return!1;var m=this.getTokenizer().getLineTokens(f.trim(),d).tokens;if(!m)return!1;do var g=m.pop();while(g&&(g.type=="comment"||g.type=="text"&&g.value.match(/^\s+$/)));return g?g.type=="keyword"&&u[g.value]:!1},this.autoOutdent=function(d,f,p){p+=1;var m=this.$getIndent(f.getLine(p)),g=f.getTabString();m.slice(-g.length)==g&&f.remove(new h(p,m.length-g.length,p,m.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(c.prototype),r.Mode=c}),(function(){ace.require(["ace/mode/python"],function(t){n&&(n.exports=t)})})()})(sE)),sE.exports}wSe();var oE={exports:{}},FB;function SSe(){return FB||(FB=1,(function(n,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},a.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};s.inherits(a,l),a.getTagRule=function(o){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},a.getStartRule=function(o){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:o}},a.getEndRule=function(o){return{token:"comment.doc",regex:"\\*\\/",next:o}},r.JsDocCommentHighlightRules=a}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,a=t("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(d){var f={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},p=this.createKeywordMapper(f,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",v="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(f).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[l.getStartRule("doc-start"),u("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:p,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[l.getStartRule("doc-start"),u("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[u("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!d||!d.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(_,w,C){if(this.next=_=="{"?this.nextState:"",_=="{"&&C.length)C.unshift("start",w);else if(_=="}"&&C.length&&(C.shift(),this.next=C.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return _=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!d||d.jsx!=!1)&&c.call(this)),this.embedRules(l,"doc-",[l.getEndRule("no_regex")]),this.normalizeRules()};s.inherits(h,a);function c(){var d=o.replace("\\d","\\d\\-"),f={onMatch:function(m,g,v){var y=m.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?v.unshift(this.next,this.nextState,0):v.unshift(this.next),v[2]++):y==2&&g==this.nextState&&(v[1]--,(!v[1]||v[1]<0)&&(v.shift(),v.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+d+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(f);var p={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[p,f,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,g,v){return g==v[0]&&v.shift(),m.length==2&&(v[0]==this.nextState&&v[1]--,(!v[1]||v[1]<0)&&v.splice(0,2)),this.next=v[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},p,u("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:d},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},f],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function u(d){return[{token:"comment",regex:/\/\*/,next:[l.getTagRule(),{token:"comment",regex:"\\*\\/",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[l.getTagRule(),{token:"comment",regex:"$|^",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=function(){};(function(){this.checkOutdent=function(a,o){return/^\s+$/.test(a)?/^\s*\}/.test(o):!1},this.autoOutdent=function(a,o){var h=a.getLine(o),c=h.match(/^(\s*\})/);if(!c)return 0;var u=c[1].length,d=a.findMatchingBracket({row:o,column:u});if(!d||d.row==o)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(o,0,o,u-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(l.prototype),r.MatchingBraceOutdent=l}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop"),l=t("../behaviour").Behaviour,a=t("../../token_iterator").TokenIterator;function o(c,u){return c&&c.type.lastIndexOf(u+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(c,u,d,f,p){if(p=='"'||p=="'"){var m=p,g=f.doc.getTextRange(d.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&d.getWrapBehavioursEnabled())return{text:m+g+m,selection:!1};var v=d.getCursorPosition(),y=f.doc.getLine(v.row),_=y.substring(v.column,v.column+1),w=new a(f,v.row,v.column),C=w.getCurrentToken();if(_==m&&(o(C,"attribute-value")||o(C,"string")))return{text:"",selection:[1,1]};if(C||(C=w.stepBackward()),!C)return;for(;o(C,"tag-whitespace")||o(C,"whitespace");)C=w.stepBackward();var b=!_||_.match(/\s/);if(o(C,"attribute-equals")&&(b||_==">")||o(C,"decl-attribute-equals")&&(b||_=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,u,d,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&(m=='"'||m=="'")){var g=f.doc.getLine(p.start.row),v=g.substring(p.start.column+1,p.start.column+2);if(v==m)return p.end.column++,p}}),this.add("autoclosing","insertion",function(c,u,d,f,p){if(p==">"){var m=d.getSelectionRange().start,g=new a(f,m.row,m.column),v=g.getCurrentToken()||g.stepBackward();if(!v||!(o(v,"tag-name")||o(v,"tag-whitespace")||o(v,"attribute-name")||o(v,"attribute-equals")||o(v,"attribute-value"))||o(v,"reference.attribute-value"))return;if(o(v,"attribute-value")){var y=g.getCurrentTokenColumn()+v.value.length;if(m.column<y)return;if(m.column==y){var _=g.stepForward();if(_&&o(_,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(f.getLine(m.row).slice(m.column)))return;for(;!o(v,"tag-name");)if(v=g.stepBackward(),v.value=="<"){v=g.stepForward();break}var w=g.getCurrentTokenRow(),C=g.getCurrentTokenColumn();if(o(g.stepBackward(),"end-tag-open"))return;var b=v.value;return w==m.row&&(b=b.substring(0,m.column-C)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,u,d,f,p){if(p==`
`){var m=d.getCursorPosition(),g=f.getLine(m.row),v=new a(f,m.row,m.column),y=v.getCurrentToken();if(o(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=v.stepBackward();if(!y)return;var _=y.value,w=v.getCurrentTokenRow();if(y=v.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[_]||!this.voidElements){var C=f.getTokenAt(m.row,m.column+1),g=f.getLine(w),b=this.$getIndent(g),T=b+f.getTabString();return C&&C.value==="</"?{text:`
`+T+`
`+b,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};s.inherits(h,l),r.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../token_iterator").TokenIterator,a=t("../behaviour/cstyle").CstyleBehaviour,o=t("../behaviour/xml").XmlBehaviour,h=function(){var c=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(c),this.inherit(a),this.add("autoclosing-fragment","insertion",function(u,d,f,p,m){if(m==">"){var g=f.getSelectionRange().start,v=new l(p,g.row,g.column),y=v.getCurrentToken()||v.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};s.inherits(h,a),r.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(u,d){a.call(this),this.voidElements=u||{},this.optionalEndTags=s.mixin({},this.voidElements),d&&s.mixin(this.optionalEndTags,d)};s.inherits(o,a);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(u,d){return u&&u.type&&u.type.lastIndexOf(d+".xml")>-1}(function(){this.getFoldWidget=function(u,d,f){var p=this._getFirstTagInLine(u,f);return p?p.closing||!p.tagName&&p.selfClosing?d==="markbeginend"?"end":"":!p.tagName||p.selfClosing||this.voidElements.hasOwnProperty(p.tagName.toLowerCase())||this._findEndTagInLine(u,f,p.tagName,p.end.column)?"":"start":this.getCommentFoldWidget(u,f)},this.getCommentFoldWidget=function(u,d){return/comment/.test(u.getState(d))&&/<!-/.test(u.getLine(d))?"start":""},this._getFirstTagInLine=function(u,d){for(var f=u.getTokens(d),p=new h,m=0;m<f.length;m++){var g=f[m];if(c(g,"tag-open")){if(p.end.column=p.start.column+g.value.length,p.closing=c(g,"end-tag-open"),g=f[++m],!g)return null;if(p.tagName=g.value,g.value===""){if(g=f[++m],!g)return null;p.tagName=g.value}for(p.end.column+=g.value.length,m++;m<f.length;m++)if(g=f[m],p.end.column+=g.value.length,c(g,"tag-close")){p.selfClosing=g.value=="/>";break}return p}else if(c(g,"tag-close"))return p.selfClosing=g.value=="/>",p;p.start.column+=g.value.length}return null},this._findEndTagInLine=function(u,d,f,p){for(var m=u.getTokens(d),g=0,v=0;v<m.length;v++){var y=m[v];if(g+=y.value.length,!(g<p-1)&&c(y,"end-tag-open")&&(y=m[v+1],c(y,"tag-name")&&y.value===""&&(y=m[v+2]),y&&y.value==f))return!0}return!1},this.getFoldWidgetRange=function(u,d,f){var p=this._getFirstTagInLine(u,f);if(!p)return this.getCommentFoldWidget(u,f)&&u.getCommentFoldRange(f,u.getLine(f).length);var m=u.getMatchingTags({row:f,column:0});if(m)return new l(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(o.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};s.inherits(o,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var f=this._getFoldWidgetBase(h,c,u);return!f&&this.startRegionRe.test(d)?"start":f},this.getFoldWidgetRange=function(h,c,u,d){var f=h.getLine(u);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(h,f,u);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(h,g[1],u,p);var m=h.getCommentFoldRange(u,p+g[0].length,1);return m&&!m.isMultiLine()&&(d?m=this.getSectionRange(h,u):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(h,g[1],u,p):h.getCommentFoldRange(u,p,-1)}}},this.getSectionRange=function(h,c){var u=h.getLine(c),d=u.search(/\S/),f=c,p=u.length;c=c+1;for(var m=c,g=h.getLength();++c<g;){u=h.getLine(c);var v=u.search(/\S/);if(v!==-1){if(d>v)break;var y=this.getFoldWidgetRange(h,"all",c);if(y){if(y.start.row<=f)break;if(y.isMultiLine())c=y.end.row;else if(d==v)break}m=c}}return new l(f,p,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,u){for(var d=c.search(/\s*$/),f=h.getLength(),p=u,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++u<f;){c=h.getLine(u);var v=m.exec(c);if(v&&(v[1]?g--:g++,!g))break}var y=u;if(y>p)return new l(p,d,y,c.length)}}).call(o.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../../lib/oop"),l=t("./xml").FoldMode,a=t("./cstyle").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new l};s.inherits(o,a),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=this.getFoldWidgetBase(h,c,u);return d||this.xmlFoldMode.getFoldWidget(h,c,u)},this.getFoldWidgetRange=function(h,c,u,d){var f=this.getFoldWidgetRangeBase(h,c,u,d);return f||this.xmlFoldMode.getFoldWidgetRange(h,c,u)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./javascript_highlight_rules").JavaScriptHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./behaviour/javascript").JavaScriptBehaviour,u=t("./folding/javascript").FoldMode,d=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new c,this.foldingRules=new u};s.inherits(d,l),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(f,p,m){var g=this.$getIndent(p),v=this.getTokenizer().getLineTokens(p,f),y=v.tokens,_=v.state;if(y.length&&y[y.length-1].type=="comment")return g;if(f=="start"||f=="no_regex"){var w=p.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=m)}else if(f=="doc-start"&&(_=="start"||_=="no_regex"))return"";return g},this.checkOutdent=function(f,p,m){return this.$outdent.checkOutdent(p,m)},this.autoOutdent=function(f,p,m){this.$outdent.autoOutdent(p,m)},this.createWorker=function(f){var p=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return p.attachToDocument(f.getDocument()),p.on("annotate",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(d.prototype),r.Mode=d}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop");t("../lib/lang");var l=t("./text_highlight_rules").TextHighlightRules,a=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=r.supportFunction="rgb|rgba|url|attr|counter|counters",h=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",c=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",u=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",d=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",f=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",m=function(){var g=this.createKeywordMapper({"support.function":o,"support.constant":h,"support.type":a,"support.constant.color":c,"support.constant.fonts":u},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:d},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+d+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:d},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:f},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};s.inherits(m,l),r.CssHighlightRules=m}),ace.define("ace/mode/css_completions",["require","exports","module"],function(t,r,i){var s={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},l=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var a=document.createElement("c").style;for(var o in a)if(typeof a[o]=="string"){var h=o.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});s.hasOwnProperty(h)||(s[h]=1)}}this.completionsDefined=!0},this.getCompletions=function(a,o,h,c){if(this.completionsDefined||this.defineCompletions(),a==="ruleset"||o.$mode.$id=="ace/mode/scss"){var u=o.getLine(h.row).substr(0,h.column),d=/\([^)]*$/.test(u);return d&&(u=u.substr(u.lastIndexOf("(")+1)),/:[^;]+$/.test(u)?this.getPropertyValueCompletions(a,o,h,c):this.getPropertyCompletions(a,o,h,c,d)}return[]},this.getPropertyCompletions=function(a,o,h,c,u){u=u||!1;var d=Object.keys(s);return d.map(function(f){return{caption:f,snippet:f+": $0"+(u?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(a,o,h,c){var u=o.getLine(h.row).substr(0,h.column),d=(/([\w\-]+):[^:]*$/.exec(u)||{})[1];if(!d)return[];var f=[];return d in s&&typeof s[d]=="object"&&(f=Object.keys(s[d])),f.map(function(p){return{caption:p,snippet:p,meta:"property value",score:1e6}})}}).call(l.prototype),r.CssCompletions=l}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop");t("../behaviour").Behaviour;var l=t("./cstyle").CstyleBehaviour,a=t("../../token_iterator").TokenIterator,o=function(){this.inherit(l),this.add("colon","insertion",function(h,c,u,d,f){if(f===":"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=new a(d,p.row,p.column),g=m.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=m.stepBackward()),g&&g.type==="support.type"){var v=d.doc.getLine(p.row),y=v.substring(p.column,p.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(v.substring(p.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(h,c,u,d,f){var p=d.doc.getTextRange(f);if(!f.isMultiLine()&&p===":"){var m=u.getCursorPosition(),g=new a(d,m.row,m.column),v=g.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=g.stepBackward()),v&&v.type==="support.type"){var y=d.doc.getLine(f.start.row),_=y.substring(f.end.column,f.end.column+1);if(_===";")return f.end.column++,f}}}),this.add("semicolon","insertion",function(h,c,u,d,f){if(f===";"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row),g=m.substring(p.column,p.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(h,c,u,d,f){if(f==="!"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row);if(/^\s*(;|}|$)/.test(m.substring(p.column)))return{text:"!important",selection:[10,10]}}})};s.inherits(o,l),r.CssBehaviour=o}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./css_highlight_rules").CssHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./css_completions").CssCompletions,u=t("./behaviour/css").CssBehaviour,d=t("./folding/cstyle").FoldMode,f=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new d};s.inherits(f,l),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(p,m,g){var v=this.$getIndent(m),y=this.getTokenizer().getLineTokens(m,p).tokens;if(y.length&&y[y.length-1].type=="comment")return v;var _=m.match(/^.*\{\s*$/);return _&&(v+=g),v},this.checkOutdent=function(p,m,g){return this.$outdent.checkOutdent(m,g)},this.autoOutdent=function(p,m,g){this.$outdent.autoOutdent(m,g)},this.getCompletions=function(p,m,g,v){return this.$completer.getCompletions(p,m,g,v)},this.createWorker=function(p){var m=new h(["ace"],"ace/mode/css_worker","Worker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(g){p.setAnnotations(g.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(o){var h="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+h+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:h},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+h+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+h+":)?"+h+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:h},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(o,h,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:h+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(u,d,f){return f.splice(0),this.token}}],this.embedRules(o,h,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(l.prototype),s.inherits(a,l),r.XmlHighlightRules=a}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/lang"),a=t("./css_highlight_rules").CssHighlightRules,o=t("./javascript_highlight_rules").JavaScriptHighlightRules,h=t("./xml_highlight_rules").XmlHighlightRules,c=l.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),u=function(){h.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(d,f){var p=c[f];return["meta.tag.punctuation."+(d=="<"?"":"end-")+"tag-open.xml","meta.tag"+(p?"."+p:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(a,"css-","style"),this.embedTagRules(new o({jsx:!1}).getRules(),"js-","script"),this.constructor===u&&this.normalizeRules()};s.inherits(u,h),r.HtmlHighlightRules=u}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("./fold_mode").FoldMode,a=r.FoldMode=function(o,h){this.defaultMode=o,this.subModes=h};s.inherits(a,l),(function(){this.$getMode=function(o){typeof o!="string"&&(o=o[0]);for(var h in this.subModes)if(o.indexOf(h)===0)return this.subModes[h];return null},this.$tryMode=function(o,h,c,u){var d=this.$getMode(o);return d?d.getFoldWidget(h,c,u):""},this.getFoldWidget=function(o,h,c){return this.$tryMode(o.getState(c-1),o,h,c)||this.$tryMode(o.getState(c),o,h,c)||this.defaultMode.getFoldWidget(o,h,c)},this.getFoldWidgetRange=function(o,h,c){var u=this.$getMode(o.getState(c-1));return(!u||!u.getFoldWidget(o,h,c))&&(u=this.$getMode(o.getState(c))),(!u||!u.getFoldWidget(o,h,c))&&(u=this.defaultMode),u.getFoldWidgetRange(o,h,c)}}).call(a.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../../lib/oop"),l=t("./mixed").FoldMode,a=t("./xml").FoldMode,o=t("./cstyle").FoldMode,h=r.FoldMode=function(c,u){l.call(this,new a(c,u),{"js-":new o,"css-":new o})};s.inherits(h,l)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(t,r,i){var s=t("../token_iterator").TokenIterator,l=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],a=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],o=l.concat(a),h={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},c=Object.keys(h);function u(m,g){return m.type.lastIndexOf(g+".xml")>-1}function d(m,g){for(var v=new s(m,g.row,g.column),y=v.getCurrentToken();y&&!u(y,"tag-name");)y=v.stepBackward();if(y)return y.value}function f(m,g){for(var v=new s(m,g.row,g.column),y=v.getCurrentToken();y&&!u(y,"attribute-name");)y=v.stepBackward();if(y)return y.value}var p=function(){};(function(){this.getCompletions=function(m,g,v,y){var _=g.getTokenAt(v.row,v.column);if(!_)return[];if(u(_,"tag-name")||u(_,"tag-open")||u(_,"end-tag-open"))return this.getTagCompletions(m,g,v,y);if(u(_,"tag-whitespace")||u(_,"attribute-name"))return this.getAttributeCompletions(m,g,v,y);if(u(_,"attribute-value"))return this.getAttributeValueCompletions(m,g,v,y);var w=g.getLine(v.row).substr(0,v.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(m,g,v,y):[]},this.getTagCompletions=function(m,g,v,y){return c.map(function(_){return{value:_,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(m,g,v,y){var _=d(g,v);if(!_)return[];var w=o;return _ in h&&(w=w.concat(Object.keys(h[_]))),w.map(function(C){return{caption:C,snippet:C+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(m,g,v,y){var _=d(g,v),w=f(g,v);if(!_)return[];var C=[];return _ in h&&w in h[_]&&typeof h[_][w]=="object"&&(C=Object.keys(h[_][w])),C.map(function(b){return{caption:b,snippet:b,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(m,g,v,y){var _=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return _.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(p.prototype),r.HtmlCompletions=p}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/lang"),a=t("./text").Mode,o=t("./javascript").Mode,h=t("./css").Mode,c=t("./html_highlight_rules").HtmlHighlightRules,u=t("./behaviour/xml").XmlBehaviour,d=t("./folding/html").FoldMode,f=t("./html_completions").HtmlCompletions,p=t("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],v=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=c,this.$behaviour=new u,this.$completer=new f,this.createModeDelegates({"js-":o,"css-":h}),this.foldingRules=new d(this.voidElements,l.arrayToMap(g))};s.inherits(v,a),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=l.arrayToMap(m),this.getNextLineIndent=function(y,_,w){return this.$getIndent(_)},this.checkOutdent=function(y,_,w){return!1},this.getCompletions=function(y,_,w,C){return this.$completer.getCompletions(y,_,w,C)},this.createWorker=function(y){if(this.constructor==v){var _=new p(["ace"],"ace/mode/html_worker","Worker");return _.attachToDocument(y.getDocument()),this.fragmentContext&&_.call("setOptions",[{context:this.fragmentContext}]),_.on("error",function(w){y.setAnnotations(w.data)}),_.on("terminate",function(){y.clearAnnotations()}),_}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(v.prototype),r.Mode=v}),(function(){ace.require(["ace/mode/html"],function(t){n&&(n.exports=t)})})()})(oE)),oE.exports}SSe();var aE={exports:{}},$B;function CSe(){return $B||($B=1,(function(n,e){ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop");t("../lib/lang");var l=t("./text_highlight_rules").TextHighlightRules,a=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=r.supportFunction="rgb|rgba|url|attr|counter|counters",h=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",c=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",u=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",d=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",f=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",m=function(){var g=this.createKeywordMapper({"support.function":o,"support.constant":h,"support.type":a,"support.constant.color":c,"support.constant.fonts":u},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:d},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+d+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:d},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:f},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};s.inherits(m,l),r.CssHighlightRules=m}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=function(){};(function(){this.checkOutdent=function(a,o){return/^\s+$/.test(a)?/^\s*\}/.test(o):!1},this.autoOutdent=function(a,o){var h=a.getLine(o),c=h.match(/^(\s*\})/);if(!c)return 0;var u=c[1].length,d=a.findMatchingBracket({row:o,column:u});if(!d||d.row==o)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(o,0,o,u-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(l.prototype),r.MatchingBraceOutdent=l}),ace.define("ace/mode/css_completions",["require","exports","module"],function(t,r,i){var s={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},l=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var a=document.createElement("c").style;for(var o in a)if(typeof a[o]=="string"){var h=o.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});s.hasOwnProperty(h)||(s[h]=1)}}this.completionsDefined=!0},this.getCompletions=function(a,o,h,c){if(this.completionsDefined||this.defineCompletions(),a==="ruleset"||o.$mode.$id=="ace/mode/scss"){var u=o.getLine(h.row).substr(0,h.column),d=/\([^)]*$/.test(u);return d&&(u=u.substr(u.lastIndexOf("(")+1)),/:[^;]+$/.test(u)?this.getPropertyValueCompletions(a,o,h,c):this.getPropertyCompletions(a,o,h,c,d)}return[]},this.getPropertyCompletions=function(a,o,h,c,u){u=u||!1;var d=Object.keys(s);return d.map(function(f){return{caption:f,snippet:f+": $0"+(u?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(a,o,h,c){var u=o.getLine(h.row).substr(0,h.column),d=(/([\w\-]+):[^:]*$/.exec(u)||{})[1];if(!d)return[];var f=[];return d in s&&typeof s[d]=="object"&&(f=Object.keys(s[d])),f.map(function(p){return{caption:p,snippet:p,meta:"property value",score:1e6}})}}).call(l.prototype),r.CssCompletions=l}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop");t("../behaviour").Behaviour;var l=t("./cstyle").CstyleBehaviour,a=t("../../token_iterator").TokenIterator,o=function(){this.inherit(l),this.add("colon","insertion",function(h,c,u,d,f){if(f===":"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=new a(d,p.row,p.column),g=m.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=m.stepBackward()),g&&g.type==="support.type"){var v=d.doc.getLine(p.row),y=v.substring(p.column,p.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(v.substring(p.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(h,c,u,d,f){var p=d.doc.getTextRange(f);if(!f.isMultiLine()&&p===":"){var m=u.getCursorPosition(),g=new a(d,m.row,m.column),v=g.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=g.stepBackward()),v&&v.type==="support.type"){var y=d.doc.getLine(f.start.row),_=y.substring(f.end.column,f.end.column+1);if(_===";")return f.end.column++,f}}}),this.add("semicolon","insertion",function(h,c,u,d,f){if(f===";"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row),g=m.substring(p.column,p.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(h,c,u,d,f){if(f==="!"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row);if(/^\s*(;|}|$)/.test(m.substring(p.column)))return{text:"!important",selection:[10,10]}}})};s.inherits(o,l),r.CssBehaviour=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};s.inherits(o,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var f=this._getFoldWidgetBase(h,c,u);return!f&&this.startRegionRe.test(d)?"start":f},this.getFoldWidgetRange=function(h,c,u,d){var f=h.getLine(u);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(h,f,u);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(h,g[1],u,p);var m=h.getCommentFoldRange(u,p+g[0].length,1);return m&&!m.isMultiLine()&&(d?m=this.getSectionRange(h,u):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(h,g[1],u,p):h.getCommentFoldRange(u,p,-1)}}},this.getSectionRange=function(h,c){var u=h.getLine(c),d=u.search(/\S/),f=c,p=u.length;c=c+1;for(var m=c,g=h.getLength();++c<g;){u=h.getLine(c);var v=u.search(/\S/);if(v!==-1){if(d>v)break;var y=this.getFoldWidgetRange(h,"all",c);if(y){if(y.start.row<=f)break;if(y.isMultiLine())c=y.end.row;else if(d==v)break}m=c}}return new l(f,p,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,u){for(var d=c.search(/\s*$/),f=h.getLength(),p=u,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++u<f;){c=h.getLine(u);var v=m.exec(c);if(v&&(v[1]?g--:g++,!g))break}var y=u;if(y>p)return new l(p,d,y,c.length)}}).call(o.prototype)}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./css_highlight_rules").CssHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./css_completions").CssCompletions,u=t("./behaviour/css").CssBehaviour,d=t("./folding/cstyle").FoldMode,f=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new d};s.inherits(f,l),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(p,m,g){var v=this.$getIndent(m),y=this.getTokenizer().getLineTokens(m,p).tokens;if(y.length&&y[y.length-1].type=="comment")return v;var _=m.match(/^.*\{\s*$/);return _&&(v+=g),v},this.checkOutdent=function(p,m,g){return this.$outdent.checkOutdent(m,g)},this.autoOutdent=function(p,m,g){this.$outdent.autoOutdent(m,g)},this.getCompletions=function(p,m,g,v){return this.$completer.getCompletions(p,m,g,v)},this.createWorker=function(p){var m=new h(["ace"],"ace/mode/css_worker","Worker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(g){p.setAnnotations(g.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(f.prototype),r.Mode=f}),(function(){ace.require(["ace/mode/css"],function(t){n&&(n.exports=t)})})()})(aE)),aE.exports}CSe();var lE={exports:{}},zB;function ESe(){return zB||(zB=1,(function(n,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};s.inherits(a,l),r.JsonHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=function(){};(function(){this.checkOutdent=function(a,o){return/^\s+$/.test(a)?/^\s*\}/.test(o):!1},this.autoOutdent=function(a,o){var h=a.getLine(o),c=h.match(/^(\s*\})/);if(!c)return 0;var u=c[1].length,d=a.findMatchingBracket({row:o,column:u});if(!d||d.row==o)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(o,0,o,u-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(l.prototype),r.MatchingBraceOutdent=l}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};s.inherits(o,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var f=this._getFoldWidgetBase(h,c,u);return!f&&this.startRegionRe.test(d)?"start":f},this.getFoldWidgetRange=function(h,c,u,d){var f=h.getLine(u);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(h,f,u);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(h,g[1],u,p);var m=h.getCommentFoldRange(u,p+g[0].length,1);return m&&!m.isMultiLine()&&(d?m=this.getSectionRange(h,u):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(h,g[1],u,p):h.getCommentFoldRange(u,p,-1)}}},this.getSectionRange=function(h,c){var u=h.getLine(c),d=u.search(/\S/),f=c,p=u.length;c=c+1;for(var m=c,g=h.getLength();++c<g;){u=h.getLine(c);var v=u.search(/\S/);if(v!==-1){if(d>v)break;var y=this.getFoldWidgetRange(h,"all",c);if(y){if(y.start.row<=f)break;if(y.isMultiLine())c=y.end.row;else if(d==v)break}m=c}}return new l(f,p,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,u){for(var d=c.search(/\s*$/),f=h.getLength(),p=u,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++u<f;){c=h.getLine(u);var v=m.exec(c);if(v&&(v[1]?g--:g++,!g))break}var y=u;if(y>p)return new l(p,d,y,c.length)}}).call(o.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./json_highlight_rules").JsonHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("./folding/cstyle").FoldMode,c=t("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new h};s.inherits(u,l),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(d,f,p){var m=this.$getIndent(f);if(d=="start"){var g=f.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(d,f,p){return this.$outdent.checkOutdent(f,p)},this.autoOutdent=function(d,f,p){this.$outdent.autoOutdent(f,p)},this.createWorker=function(d){var f=new c(["ace"],"ace/mode/json_worker","JsonWorker");return f.attachToDocument(d.getDocument()),f.on("annotate",function(p){d.setAnnotations(p.data)}),f.on("terminate",function(){d.clearAnnotations()}),f},this.$id="ace/mode/json"}).call(u.prototype),r.Mode=u}),(function(){ace.require(["ace/mode/json"],function(t){n&&(n.exports=t)})})()})(lE)),lE.exports}ESe();var cE={exports:{}},UB;function MSe(){return UB||(UB=1,(function(n,e){ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop");t("../lib/lang");var l=t("./text_highlight_rules").TextHighlightRules,a=r.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=r.supportFunction="rgb|rgba|url|attr|counter|counters",h=r.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",c=r.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",u=r.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",d=r.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",f=r.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=r.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",m=function(){var g=this.createKeywordMapper({"support.function":o,"support.constant":h,"support.type":a,"support.constant.color":c,"support.constant.fonts":u},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:d},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+d+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:d},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:f},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{token:"paren.lparen",regex:"\\{"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};s.inherits(m,l),r.CssHighlightRules=m}),ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},a.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};s.inherits(a,l),a.getTagRule=function(o){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},a.getStartRule=function(o){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:o}},a.getEndRule=function(o){return{token:"comment.doc",regex:"\\*\\/",next:o}},r.JsDocCommentHighlightRules=a}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,a=t("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",h=function(d){var f={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},p=this.createKeywordMapper(f,"identifier"),m="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",g="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",v="(function)(\\s*)(\\*?)",y={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(f).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[l.getStartRule("doc-start"),u("no_regex"),y,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+v+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+m+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:p,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:v+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[l.getStartRule("doc-start"),u("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[u("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!d||!d.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(_,w,C){if(this.next=_=="{"?this.nextState:"",_=="{"&&C.length)C.unshift("start",w);else if(_=="}"&&C.length&&(C.shift(),this.next=C.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return _=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:g},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!d||d.jsx!=!1)&&c.call(this)),this.embedRules(l,"doc-",[l.getEndRule("no_regex")]),this.normalizeRules()};s.inherits(h,a);function c(){var d=o.replace("\\d","\\d\\-"),f={onMatch:function(m,g,v){var y=m.charAt(1)=="/"?2:1;return y==1?(g!=this.nextState?v.unshift(this.next,this.nextState,0):v.unshift(this.next),v[2]++):y==2&&g==this.nextState&&(v[1]--,(!v[1]||v[1]<0)&&(v.shift(),v.shift())),[{type:"meta.tag.punctuation."+(y==1?"":"end-")+"tag-open.xml",value:m.slice(0,y)},{type:"meta.tag.tag-name.xml",value:m.substr(y)}]},regex:"</?(?:"+d+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(f);var p={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[p,f,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(m,g,v){return g==v[0]&&v.shift(),m.length==2&&(v[0]==this.nextState&&v[1]--,(!v[1]||v[1]<0)&&v.splice(0,2)),this.next=v[0]||"start",[{type:this.token,value:m}]},nextState:"jsx"},p,u("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:d},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},f],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function u(d){return[{token:"comment",regex:/\/\*/,next:[l.getTagRule(),{token:"comment",regex:"\\*\\/",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[l.getTagRule(),{token:"comment",regex:"$|^",next:d||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}r.JavaScriptHighlightRules=h}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=function(o){var h="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+h+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:h},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+h+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+h+":)?"+h+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:h},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(o,h,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:h+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(u,d,f){return f.splice(0),this.token}}],this.embedRules(o,h,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(l.prototype),s.inherits(a,l),r.XmlHighlightRules=a}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/lang"),a=t("./css_highlight_rules").CssHighlightRules,o=t("./javascript_highlight_rules").JavaScriptHighlightRules,h=t("./xml_highlight_rules").XmlHighlightRules,c=l.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),u=function(){h.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(d,f){var p=c[f];return["meta.tag.punctuation."+(d=="<"?"":"end-")+"tag-open.xml","meta.tag"+(p?"."+p:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(a,"css-","style"),this.embedTagRules(new o({jsx:!1}).getRules(),"js-","script"),this.constructor===u&&this.normalizeRules()};s.inherits(u,h),r.HtmlHighlightRules=u}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],function(t,r,i){var s=t("../config").$modes,l=t("../lib/oop"),a=t("../lib/lang"),o=t("./text_highlight_rules").TextHighlightRules,h=t("./html_highlight_rules").HtmlHighlightRules,c=function(d){return"(?:[^"+a.escapeRegExp(d)+"\\\\]|\\\\.)*"},u=function(){h.call(this);var d={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(p,m,g,v){var y=p.match(/^(\s*)([`~]+)(.*)/),_=/[\w-]+|$/.exec(y[3])[0];return s[_]||(_=""),g.unshift("githubblock",[],[y[1],y[2],_],m),this.token},next:"githubblock"},f=[{token:"support.function",regex:".*",onMatch:function(p,m,g,v){var y=g[1],_=g[2][0],w=g[2][1],C=g[2][2],b=/^(\s*)(`+|~+)\s*$/.exec(p);if(b&&b[1].length<_.length+3&&b[2].length>=w.length&&b[2][0]==w[0])return g.splice(0,3),this.next=g.shift(),this.token;if(this.next="",C&&s[C]){var T=s[C].getTokenizer().getLineTokens(p,y.slice(0));return g[1]=T.state,T.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(p){return"markup.heading."+p.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},d,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+c("]")+")(\\]\\s*\\[)("+c("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+c("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+c('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:`(<)((?:https?|ftp|dict):[^'">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)`}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},d,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:f}),this.normalizeRules()};l.inherits(u,o),r.MarkdownHighlightRules=u}),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(t,r,i){var s=t("../../lib/oop"),l=t("./fold_mode").FoldMode,a=t("../../range").Range,o=r.FoldMode=function(){};s.inherits(o,l),(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);return this.foldingStartMarker.test(d)?d[0]=="`"&&h.bgTokenizer.getState(u)=="start"?"end":"start":""},this.getFoldWidgetRange=function(h,c,u){var d=h.getLine(u),f=d.length,p=h.getLength(),m=u,g=u;if(!d.match(this.foldingStartMarker))return;if(d[0]=="`")if(h.bgTokenizer.getState(u)!=="start"){for(;++u<p&&(d=h.getLine(u),!(d[0]=="`"&d.substring(0,3)=="```")););return new a(m,f,u,0)}else{for(;u-- >0&&(d=h.getLine(u),!(d[0]=="`"&d.substring(0,3)=="```")););return new a(u,d.length,m,0)}var v;function y(A){return v=h.getTokens(A)[0],v&&v.type.lastIndexOf(_,0)===0}var _="markup.heading";function w(){var A=v.value[0];return A=="="?6:A=="-"?5:7-v.value.search(/[^#]|$/)}if(y(u)){for(var C=w();++u<p;)if(y(u)){var b=w();if(b>=C)break}if(g=u-(!v||["=","-"].indexOf(v.value[0])==-1?1:2),g>m)for(;g>m&&/^\s*$/.test(h.getLine(g));)g--;if(g>m){var T=h.getLine(g).length;return new a(m,f,g,T)}}}}).call(o.prototype)}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=function(){};(function(){this.checkOutdent=function(a,o){return/^\s+$/.test(a)?/^\s*\}/.test(o):!1},this.autoOutdent=function(a,o){var h=a.getLine(o),c=h.match(/^(\s*\})/);if(!c)return 0;var u=c[1].length,d=a.findMatchingBracket({row:o,column:u});if(!d||d.row==o)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(o,0,o,u-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(l.prototype),r.MatchingBraceOutdent=l}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop"),l=t("../behaviour").Behaviour,a=t("../../token_iterator").TokenIterator;function o(c,u){return c&&c.type.lastIndexOf(u+".xml")>-1}var h=function(){this.add("string_dquotes","insertion",function(c,u,d,f,p){if(p=='"'||p=="'"){var m=p,g=f.doc.getTextRange(d.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&d.getWrapBehavioursEnabled())return{text:m+g+m,selection:!1};var v=d.getCursorPosition(),y=f.doc.getLine(v.row),_=y.substring(v.column,v.column+1),w=new a(f,v.row,v.column),C=w.getCurrentToken();if(_==m&&(o(C,"attribute-value")||o(C,"string")))return{text:"",selection:[1,1]};if(C||(C=w.stepBackward()),!C)return;for(;o(C,"tag-whitespace")||o(C,"whitespace");)C=w.stepBackward();var b=!_||_.match(/\s/);if(o(C,"attribute-equals")&&(b||_==">")||o(C,"decl-attribute-equals")&&(b||_=="?"))return{text:m+m,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,u,d,f,p){var m=f.doc.getTextRange(p);if(!p.isMultiLine()&&(m=='"'||m=="'")){var g=f.doc.getLine(p.start.row),v=g.substring(p.start.column+1,p.start.column+2);if(v==m)return p.end.column++,p}}),this.add("autoclosing","insertion",function(c,u,d,f,p){if(p==">"){var m=d.getSelectionRange().start,g=new a(f,m.row,m.column),v=g.getCurrentToken()||g.stepBackward();if(!v||!(o(v,"tag-name")||o(v,"tag-whitespace")||o(v,"attribute-name")||o(v,"attribute-equals")||o(v,"attribute-value"))||o(v,"reference.attribute-value"))return;if(o(v,"attribute-value")){var y=g.getCurrentTokenColumn()+v.value.length;if(m.column<y)return;if(m.column==y){var _=g.stepForward();if(_&&o(_,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(f.getLine(m.row).slice(m.column)))return;for(;!o(v,"tag-name");)if(v=g.stepBackward(),v.value=="<"){v=g.stepForward();break}var w=g.getCurrentTokenRow(),C=g.getCurrentTokenColumn();if(o(g.stepBackward(),"end-tag-open"))return;var b=v.value;return w==m.row&&(b=b.substring(0,m.column-C)),this.voidElements&&this.voidElements.hasOwnProperty(b.toLowerCase())?void 0:{text:"></"+b+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,u,d,f,p){if(p==`
`){var m=d.getCursorPosition(),g=f.getLine(m.row),v=new a(f,m.row,m.column),y=v.getCurrentToken();if(o(y,"")&&y.type.indexOf("tag-close")!==-1){if(y.value=="/>")return;for(;y&&y.type.indexOf("tag-name")===-1;)y=v.stepBackward();if(!y)return;var _=y.value,w=v.getCurrentTokenRow();if(y=v.stepBackward(),!y||y.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[_]||!this.voidElements){var C=f.getTokenAt(m.row,m.column+1),g=f.getLine(w),b=this.$getIndent(g),T=b+f.getTabString();return C&&C.value==="</"?{text:`
`+T+`
`+b,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};s.inherits(h,l),r.XmlBehaviour=h}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../token_iterator").TokenIterator,a=t("../behaviour/cstyle").CstyleBehaviour,o=t("../behaviour/xml").XmlBehaviour,h=function(){var c=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(c),this.inherit(a),this.add("autoclosing-fragment","insertion",function(u,d,f,p,m){if(m==">"){var g=f.getSelectionRange().start,v=new l(p,g.row,g.column),y=v.getCurrentToken()||v.stepBackward();if(!y)return;if(y.value=="<")return{text:"></>",selection:[1,1]}}})};s.inherits(h,a),r.JavaScriptBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(u,d){a.call(this),this.voidElements=u||{},this.optionalEndTags=s.mixin({},this.voidElements),d&&s.mixin(this.optionalEndTags,d)};s.inherits(o,a);var h=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(u,d){return u&&u.type&&u.type.lastIndexOf(d+".xml")>-1}(function(){this.getFoldWidget=function(u,d,f){var p=this._getFirstTagInLine(u,f);return p?p.closing||!p.tagName&&p.selfClosing?d==="markbeginend"?"end":"":!p.tagName||p.selfClosing||this.voidElements.hasOwnProperty(p.tagName.toLowerCase())||this._findEndTagInLine(u,f,p.tagName,p.end.column)?"":"start":this.getCommentFoldWidget(u,f)},this.getCommentFoldWidget=function(u,d){return/comment/.test(u.getState(d))&&/<!-/.test(u.getLine(d))?"start":""},this._getFirstTagInLine=function(u,d){for(var f=u.getTokens(d),p=new h,m=0;m<f.length;m++){var g=f[m];if(c(g,"tag-open")){if(p.end.column=p.start.column+g.value.length,p.closing=c(g,"end-tag-open"),g=f[++m],!g)return null;if(p.tagName=g.value,g.value===""){if(g=f[++m],!g)return null;p.tagName=g.value}for(p.end.column+=g.value.length,m++;m<f.length;m++)if(g=f[m],p.end.column+=g.value.length,c(g,"tag-close")){p.selfClosing=g.value=="/>";break}return p}else if(c(g,"tag-close"))return p.selfClosing=g.value=="/>",p;p.start.column+=g.value.length}return null},this._findEndTagInLine=function(u,d,f,p){for(var m=u.getTokens(d),g=0,v=0;v<m.length;v++){var y=m[v];if(g+=y.value.length,!(g<p-1)&&c(y,"end-tag-open")&&(y=m[v+1],c(y,"tag-name")&&y.value===""&&(y=m[v+2]),y&&y.value==f))return!0}return!1},this.getFoldWidgetRange=function(u,d,f){var p=this._getFirstTagInLine(u,f);if(!p)return this.getCommentFoldWidget(u,f)&&u.getCommentFoldRange(f,u.getLine(f).length);var m=u.getMatchingTags({row:f,column:0});if(m)return new l(m.openTag.end.row,m.openTag.end.column,m.closeTag.start.row,m.closeTag.start.column)}}).call(o.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("../../range").Range,a=t("./fold_mode").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end)))};s.inherits(o,a),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=h.getLine(u);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var f=this._getFoldWidgetBase(h,c,u);return!f&&this.startRegionRe.test(d)?"start":f},this.getFoldWidgetRange=function(h,c,u,d){var f=h.getLine(u);if(this.startRegionRe.test(f))return this.getCommentRegionBlock(h,f,u);var g=f.match(this.foldingStartMarker);if(g){var p=g.index;if(g[1])return this.openingBracketBlock(h,g[1],u,p);var m=h.getCommentFoldRange(u,p+g[0].length,1);return m&&!m.isMultiLine()&&(d?m=this.getSectionRange(h,u):c!="all"&&(m=null)),m}if(c!=="markbegin"){var g=f.match(this.foldingStopMarker);if(g){var p=g.index+g[0].length;return g[1]?this.closingBracketBlock(h,g[1],u,p):h.getCommentFoldRange(u,p,-1)}}},this.getSectionRange=function(h,c){var u=h.getLine(c),d=u.search(/\S/),f=c,p=u.length;c=c+1;for(var m=c,g=h.getLength();++c<g;){u=h.getLine(c);var v=u.search(/\S/);if(v!==-1){if(d>v)break;var y=this.getFoldWidgetRange(h,"all",c);if(y){if(y.start.row<=f)break;if(y.isMultiLine())c=y.end.row;else if(d==v)break}m=c}}return new l(f,p,m,h.getLine(m).length)},this.getCommentRegionBlock=function(h,c,u){for(var d=c.search(/\s*$/),f=h.getLength(),p=u,m=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++u<f;){c=h.getLine(u);var v=m.exec(c);if(v&&(v[1]?g--:g++,!g))break}var y=u;if(y>p)return new l(p,d,y,c.length)}}).call(o.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../../lib/oop"),l=t("./xml").FoldMode,a=t("./cstyle").FoldMode,o=r.FoldMode=function(h){h&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+h.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+h.end))),this.xmlFoldMode=new l};s.inherits(o,a),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(h,c,u){var d=this.getFoldWidgetBase(h,c,u);return d||this.xmlFoldMode.getFoldWidget(h,c,u)},this.getFoldWidgetRange=function(h,c,u,d){var f=this.getFoldWidgetRangeBase(h,c,u,d);return f||this.xmlFoldMode.getFoldWidgetRange(h,c,u)}}).call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./javascript_highlight_rules").JavaScriptHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./behaviour/javascript").JavaScriptBehaviour,u=t("./folding/javascript").FoldMode,d=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new c,this.foldingRules=new u};s.inherits(d,l),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(f,p,m){var g=this.$getIndent(p),v=this.getTokenizer().getLineTokens(p,f),y=v.tokens,_=v.state;if(y.length&&y[y.length-1].type=="comment")return g;if(f=="start"||f=="no_regex"){var w=p.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);w&&(g+=m)}else if(f=="doc-start"&&(_=="start"||_=="no_regex"))return"";return g},this.checkOutdent=function(f,p,m){return this.$outdent.checkOutdent(p,m)},this.autoOutdent=function(f,p,m){this.$outdent.autoOutdent(p,m)},this.createWorker=function(f){var p=new h(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return p.attachToDocument(f.getDocument()),p.on("annotate",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(d.prototype),r.Mode=d}),ace.define("ace/mode/css_completions",["require","exports","module"],function(t,r,i){var s={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},l=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var a=document.createElement("c").style;for(var o in a)if(typeof a[o]=="string"){var h=o.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});s.hasOwnProperty(h)||(s[h]=1)}}this.completionsDefined=!0},this.getCompletions=function(a,o,h,c){if(this.completionsDefined||this.defineCompletions(),a==="ruleset"||o.$mode.$id=="ace/mode/scss"){var u=o.getLine(h.row).substr(0,h.column),d=/\([^)]*$/.test(u);return d&&(u=u.substr(u.lastIndexOf("(")+1)),/:[^;]+$/.test(u)?this.getPropertyValueCompletions(a,o,h,c):this.getPropertyCompletions(a,o,h,c,d)}return[]},this.getPropertyCompletions=function(a,o,h,c,u){u=u||!1;var d=Object.keys(s);return d.map(function(f){return{caption:f,snippet:f+": $0"+(u?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(a,o,h,c){var u=o.getLine(h.row).substr(0,h.column),d=(/([\w\-]+):[^:]*$/.exec(u)||{})[1];if(!d)return[];var f=[];return d in s&&typeof s[d]=="object"&&(f=Object.keys(s[d])),f.map(function(p){return{caption:p,snippet:p,meta:"property value",score:1e6}})}}).call(l.prototype),r.CssCompletions=l}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,r,i){var s=t("../../lib/oop");t("../behaviour").Behaviour;var l=t("./cstyle").CstyleBehaviour,a=t("../../token_iterator").TokenIterator,o=function(){this.inherit(l),this.add("colon","insertion",function(h,c,u,d,f){if(f===":"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=new a(d,p.row,p.column),g=m.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=m.stepBackward()),g&&g.type==="support.type"){var v=d.doc.getLine(p.row),y=v.substring(p.column,p.column+1);if(y===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(v.substring(p.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(h,c,u,d,f){var p=d.doc.getTextRange(f);if(!f.isMultiLine()&&p===":"){var m=u.getCursorPosition(),g=new a(d,m.row,m.column),v=g.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=g.stepBackward()),v&&v.type==="support.type"){var y=d.doc.getLine(f.start.row),_=y.substring(f.end.column,f.end.column+1);if(_===";")return f.end.column++,f}}}),this.add("semicolon","insertion",function(h,c,u,d,f){if(f===";"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row),g=m.substring(p.column,p.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(h,c,u,d,f){if(f==="!"&&u.selection.isEmpty()){var p=u.getCursorPosition(),m=d.doc.getLine(p.row);if(/^\s*(;|}|$)/.test(m.substring(p.column)))return{text:"!important",selection:[10,10]}}})};s.inherits(o,l),r.CssBehaviour=o}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./css_highlight_rules").CssHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,h=t("../worker/worker_client").WorkerClient,c=t("./css_completions").CssCompletions,u=t("./behaviour/css").CssBehaviour,d=t("./folding/cstyle").FoldMode,f=function(){this.HighlightRules=a,this.$outdent=new o,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new d};s.inherits(f,l),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(p,m,g){var v=this.$getIndent(m),y=this.getTokenizer().getLineTokens(m,p).tokens;if(y.length&&y[y.length-1].type=="comment")return v;var _=m.match(/^.*\{\s*$/);return _&&(v+=g),v},this.checkOutdent=function(p,m,g){return this.$outdent.checkOutdent(m,g)},this.autoOutdent=function(p,m,g){this.$outdent.autoOutdent(m,g)},this.getCompletions=function(p,m,g,v){return this.$completer.getCompletions(p,m,g,v)},this.createWorker=function(p){var m=new h(["ace"],"ace/mode/css_worker","Worker");return m.attachToDocument(p.getDocument()),m.on("annotate",function(g){p.setAnnotations(g.data)}),m.on("terminate",function(){p.clearAnnotations()}),m},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(f.prototype),r.Mode=f}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,r,i){var s=t("../../lib/oop"),l=t("./fold_mode").FoldMode,a=r.FoldMode=function(o,h){this.defaultMode=o,this.subModes=h};s.inherits(a,l),(function(){this.$getMode=function(o){typeof o!="string"&&(o=o[0]);for(var h in this.subModes)if(o.indexOf(h)===0)return this.subModes[h];return null},this.$tryMode=function(o,h,c,u){var d=this.$getMode(o);return d?d.getFoldWidget(h,c,u):""},this.getFoldWidget=function(o,h,c){return this.$tryMode(o.getState(c-1),o,h,c)||this.$tryMode(o.getState(c),o,h,c)||this.defaultMode.getFoldWidget(o,h,c)},this.getFoldWidgetRange=function(o,h,c){var u=this.$getMode(o.getState(c-1));return(!u||!u.getFoldWidget(o,h,c))&&(u=this.$getMode(o.getState(c))),(!u||!u.getFoldWidget(o,h,c))&&(u=this.defaultMode),u.getFoldWidgetRange(o,h,c)}}).call(a.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../../lib/oop"),l=t("./mixed").FoldMode,a=t("./xml").FoldMode,o=t("./cstyle").FoldMode,h=r.FoldMode=function(c,u){l.call(this,new a(c,u),{"js-":new o,"css-":new o})};s.inherits(h,l)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(t,r,i){var s=t("../token_iterator").TokenIterator,l=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],a=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],o=l.concat(a),h={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},c=Object.keys(h);function u(m,g){return m.type.lastIndexOf(g+".xml")>-1}function d(m,g){for(var v=new s(m,g.row,g.column),y=v.getCurrentToken();y&&!u(y,"tag-name");)y=v.stepBackward();if(y)return y.value}function f(m,g){for(var v=new s(m,g.row,g.column),y=v.getCurrentToken();y&&!u(y,"attribute-name");)y=v.stepBackward();if(y)return y.value}var p=function(){};(function(){this.getCompletions=function(m,g,v,y){var _=g.getTokenAt(v.row,v.column);if(!_)return[];if(u(_,"tag-name")||u(_,"tag-open")||u(_,"end-tag-open"))return this.getTagCompletions(m,g,v,y);if(u(_,"tag-whitespace")||u(_,"attribute-name"))return this.getAttributeCompletions(m,g,v,y);if(u(_,"attribute-value"))return this.getAttributeValueCompletions(m,g,v,y);var w=g.getLine(v.row).substr(0,v.column);return/&[a-z]*$/i.test(w)?this.getHTMLEntityCompletions(m,g,v,y):[]},this.getTagCompletions=function(m,g,v,y){return c.map(function(_){return{value:_,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(m,g,v,y){var _=d(g,v);if(!_)return[];var w=o;return _ in h&&(w=w.concat(Object.keys(h[_]))),w.map(function(C){return{caption:C,snippet:C+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(m,g,v,y){var _=d(g,v),w=f(g,v);if(!_)return[];var C=[];return _ in h&&w in h[_]&&typeof h[_][w]=="object"&&(C=Object.keys(h[_][w])),C.map(function(b){return{caption:b,snippet:b,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(m,g,v,y){var _=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return _.map(function(w){return{caption:w,snippet:w,meta:"html entity",score:1e6}})}}).call(p.prototype),r.HtmlCompletions=p}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/lang"),a=t("./text").Mode,o=t("./javascript").Mode,h=t("./css").Mode,c=t("./html_highlight_rules").HtmlHighlightRules,u=t("./behaviour/xml").XmlBehaviour,d=t("./folding/html").FoldMode,f=t("./html_completions").HtmlCompletions,p=t("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],v=function(y){this.fragmentContext=y&&y.fragmentContext,this.HighlightRules=c,this.$behaviour=new u,this.$completer=new f,this.createModeDelegates({"js-":o,"css-":h}),this.foldingRules=new d(this.voidElements,l.arrayToMap(g))};s.inherits(v,a),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=l.arrayToMap(m),this.getNextLineIndent=function(y,_,w){return this.$getIndent(_)},this.checkOutdent=function(y,_,w){return!1},this.getCompletions=function(y,_,w,C){return this.$completer.getCompletions(y,_,w,C)},this.createWorker=function(y){if(this.constructor==v){var _=new p(["ace"],"ace/mode/html_worker","Worker");return _.attachToDocument(y.getDocument()),this.fragmentContext&&_.call("setOptions",[{context:this.fragmentContext}]),_.on("error",function(w){y.setAnnotations(w.data)}),_.on("terminate",function(){y.clearAnnotations()}),_}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(v.prototype),r.Mode=v}),ace.define("ace/mode/sh_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,i){var s=t("../lib/oop"),l=t("./text_highlight_rules").TextHighlightRules,a=r.reservedKeywords="!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly",o=r.languageConstructs="[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait",h=function(){var c=this.createKeywordMapper({keyword:a,"support.function.builtin":o,"invalid.deprecated":"debugger"},"identifier"),u="(?:(?:[1-9]\\d*)|(?:0))",d="(?:\\.\\d+)",f="(?:\\d+)",p="(?:(?:"+f+"?"+d+")|(?:"+f+"\\.))",m="(?:(?:"+p+"|"+f+"))",g="(?:"+m+"|"+p+")",v="(?:&"+f+")",y="[a-zA-Z_][a-zA-Z0-9_]*",_="(?:"+y+"(?==))",w="(?:\\$(?:SHLVL|\\$|\\!|\\?))",C="(?:"+y+"\\s*\\(\\))";this.$rules={start:[{token:"constant",regex:/\\./},{token:["text","comment"],regex:/(^|\s)(#.*)$/},{token:"string.start",regex:'"',push:[{token:"constant.language.escape",regex:/\\(?:[$`"\\]|$)/},{include:"variables"},{token:"keyword.operator",regex:/`/},{token:"string.end",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"string",regex:"\\$'",push:[{token:"constant.language.escape",regex:/\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/},{token:"string",regex:"'",next:"pop"},{defaultToken:"string"}]},{regex:"<<<",token:"keyword.operator"},{stateName:"heredoc",regex:"(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",onMatch:function(b,T,A){var k=b[2]=="-"?"indentedHeredoc":"heredoc",P=b.split(this.splitRegex);return A.push(k,P[4]),[{type:"constant",value:P[1]},{type:"text",value:P[2]},{type:"string",value:P[3]},{type:"support.class",value:P[4]},{type:"string",value:P[5]}]},rules:{heredoc:[{onMatch:function(b,T,A){return b===A[1]?(A.shift(),A.shift(),this.next=A[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^	+"},{onMatch:function(b,T,A){return b===A[1]?(A.shift(),A.shift(),this.next=A[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(b,T){return T[0]==="heredoc"||T[0]==="indentedHeredoc"?T[0]:b}},{token:["keyword","text","text","text","variable"],regex:/(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/},{token:"variable.language",regex:w},{token:"variable",regex:_},{include:"variables"},{token:"support.function",regex:C},{token:"support.function",regex:v},{token:"string",start:"'",end:"'"},{token:"constant.numeric",regex:g},{token:"constant.numeric",regex:u+"\\b"},{token:c,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"},{token:"punctuation.operator",regex:";"},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]]"},{token:"paren.rparen",regex:"[\\)\\}]",next:"pop"}],variables:[{token:"variable",regex:/(\$)(\w+)/},{token:["variable","paren.lparen"],regex:/(\$)(\()/,push:"start"},{token:["variable","paren.lparen","keyword.operator","variable","keyword.operator"],regex:/(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,push:"start"},{token:"variable",regex:/\$[*@#?\-$!0_]/},{token:["variable","paren.lparen"],regex:/(\$)(\{)/,push:"start"}]},this.normalizeRules()};s.inherits(h,l),r.ShHighlightRules=h}),ace.define("ace/mode/sh",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sh_highlight_rules","ace/range","ace/mode/folding/cstyle"],function(t,r,i){var s=t("../lib/oop"),l=t("./text").Mode,a=t("./sh_highlight_rules").ShHighlightRules,o=t("../range").Range,h=t("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=a,this.foldingRules=new h,this.$behaviour=this.$defaultBehaviour};s.inherits(c,l),(function(){this.lineCommentStart="#",this.getNextLineIndent=function(d,f,p){var m=this.$getIndent(f),g=this.getTokenizer().getLineTokens(f,d),v=g.tokens;if(v.length&&v[v.length-1].type=="comment")return m;if(d=="start"){var y=f.match(/^.*[\{\(\[:]\s*$/);y&&(m+=p)}return m};var u={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(d,f,p){if(p!==`\r
`&&p!=="\r"&&p!==`
`)return!1;var m=this.getTokenizer().getLineTokens(f.trim(),d).tokens;if(!m)return!1;do var g=m.pop();while(g&&(g.type=="comment"||g.type=="text"&&g.value.match(/^\s+$/)));return g?g.type=="keyword"&&u[g.value]:!1},this.autoOutdent=function(d,f,p){p+=1;var m=this.$getIndent(f.getLine(p)),g=f.getTabString();m.slice(-g.length)==g&&f.remove(new o(p,m.length-g.length,p,m.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}).call(c.prototype),r.Mode=c}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(t,r,i){var s=t("../lib/oop"),l=t("../lib/lang"),a=t("./text").Mode,o=t("./xml_highlight_rules").XmlHighlightRules,h=t("./behaviour/xml").XmlBehaviour,c=t("./folding/xml").FoldMode,u=t("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=o,this.$behaviour=new h,this.foldingRules=new c};s.inherits(d,a),(function(){this.voidElements=l.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(f){var p=new u(["ace"],"ace/mode/xml_worker","Worker");return p.attachToDocument(f.getDocument()),p.on("error",function(m){f.setAnnotations(m.data)}),p.on("terminate",function(){f.clearAnnotations()}),p},this.$id="ace/mode/xml"}).call(d.prototype),r.Mode=d}),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/behaviour/cstyle","ace/mode/text","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown","ace/mode/javascript","ace/mode/html","ace/mode/sh","ace/mode/sh","ace/mode/xml","ace/mode/css"],function(t,r,i){var s=t("../lib/oop"),l=t("./behaviour/cstyle").CstyleBehaviour,a=t("./text").Mode,o=t("./markdown_highlight_rules").MarkdownHighlightRules,h=t("./folding/markdown").FoldMode,c=function(){this.HighlightRules=o,this.createModeDelegates({javascript:t("./javascript").Mode,html:t("./html").Mode,bash:t("./sh").Mode,sh:t("./sh").Mode,xml:t("./xml").Mode,css:t("./css").Mode}),this.foldingRules=new h,this.$behaviour=new l({braces:!0})};s.inherits(c,a),(function(){this.type="text",this.blockComment={start:"<!--",end:"-->"},this.$quotes={'"':'"',"`":"`"},this.getNextLineIndent=function(u,d,f){if(u=="listblock"){var p=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(d);if(!p)return"";var m=p[2];return m||(m=parseInt(p[3],10)+1+"."),p[1]+m+p[4]}else return this.$getIndent(d)},this.$id="ace/mode/markdown",this.snippetFileId="ace/snippets/markdown"}).call(c.prototype),r.Mode=c}),(function(){ace.require(["ace/mode/markdown"],function(t){n&&(n.exports=t)})})()})(cE)),cE.exports}MSe();var uE={exports:{}},jB;function TSe(){return jB||(jB=1,(function(n,e){ace.define("ace/theme/monokai-css",["require","exports","module"],function(t,r,i){i.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(t,r,i){r.isDark=!0,r.cssClass="ace-monokai",r.cssText=t("./monokai-css");var s=t("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),(function(){ace.require(["ace/theme/monokai"],function(t){n&&(n.exports=t)})})()})(uE)),uE.exports}TSe();var hE={exports:{}},HB;function ASe(){return HB||(HB=1,(function(n,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(t,r,i){var s=t("./lib/dom"),l=t("./lib/oop"),a=t("./lib/event_emitter").EventEmitter,o=t("./lib/lang"),h=t("./range").Range,c=t("./range_list").RangeList,u=t("./keyboard/hash_handler").HashHandler,d=t("./tokenizer").Tokenizer,f=t("./clipboard"),p={CURRENT_WORD:function(b){return b.session.getTextRange(b.session.getWordRange())},SELECTION:function(b,T,A){var k=b.session.getTextRange();return A?k.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):k},CURRENT_LINE:function(b){return b.session.getLine(b.getCursorPosition().row)},PREV_LINE:function(b){return b.session.getLine(b.getCursorPosition().row-1)},LINE_INDEX:function(b){return b.getCursorPosition().row},LINE_NUMBER:function(b){return b.getCursorPosition().row+1},SOFT_TABS:function(b){return b.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(b){return b.session.getTabSize()},CLIPBOARD:function(b){return f.getText&&f.getText()},FILENAME:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0]},FILENAME_BASE:function(b){return/[^/\\]*$/.exec(this.FILEPATH(b))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(b){return this.FILEPATH(b).replace(/[^/\\]*$/,"")},FILEPATH:function(b){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(b){var T=b.session.$mode||{};return T.blockComment&&T.blockComment.start||""},BLOCK_COMMENT_END:function(b){var T=b.session.$mode||{};return T.blockComment&&T.blockComment.end||""},LINE_COMMENT:function(b){var T=b.session.$mode||{};return T.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function m(b){var T=new Date().toLocaleString("en-us",b);return T.length==1?"0"+T:T}var g=(function(){function b(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return b.prototype.getTokenizer=function(){return b.$tokenizer||this.createTokenizer()},b.prototype.createTokenizer=function(){function T(P){return P=P.substr(1),/^\d+$/.test(P)?[{tabstopId:parseInt(P,10)}]:[{text:P}]}function A(P){return"(?:[^\\\\"+P+"]|\\\\.)"}var k={regex:"/("+A("/")+"+)/",onMatch:function(P,N,D){var L=D[0];return L.fmtString=!0,L.guard=P.slice(1,-1),L.flag="",""},next:"formatString"};return b.$tokenizer=new d({start:[{regex:/\\./,onMatch:function(P,N,D){var L=P[1];return(L=="}"&&D.length||"`$\\".indexOf(L)!=-1)&&(P=L),[P]}},{regex:/}/,onMatch:function(P,N,D){return[D.length?D.shift():P]}},{regex:/\$(?:\d+|\w+)/,onMatch:T},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(P,N,D){var L=T(P.substr(1));return D.unshift(L[0]),L},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(P,N,D){var L=P.slice(1,-1).replace(/\\[,|\\]|,/g,function(I){return I.length==2?I[1]:"\0"}).split("\0").map(function(I){return{value:I}});return D[0].choices=L,[L[0]]},next:"start"},k,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(P,N,D){return D.length&&D[0].expectElse?(D[0].expectElse=!1,D[0].ifEnd={elseEnd:D[0]},[D[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(P,N,D){var L=P[1];return L=="}"&&D.length||"`$\\".indexOf(L)!=-1?P=L:L=="n"?P=`
`:L=="t"?P="	":"ulULE".indexOf(L)!=-1&&(P={changeCase:L,local:L>"a"}),[P]}},{regex:"/\\w*}",onMatch:function(P,N,D){var L=D.shift();return L&&(L.flag=P.slice(1,-1)),this.next=L&&L.tabstopId?"start":"",[L||P]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(P,N,D){return[{text:P.slice(1)}]}},{regex:/\${\w+/,onMatch:function(P,N,D){var L={text:P.slice(2)};return D.unshift(L),[L]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(P,N,D){var L=D.shift();return this.next=L&&L.tabstopId?"start":"",[L||P]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(P,N,D){var L=D[0];return L.formatFunction=P.slice(2,-1),[D.shift()]},next:"formatString"},k,{regex:/:[\?\-+]?/,onMatch:function(P,N,D){P[1]=="+"&&(D[0].ifEnd=D[0]),P[1]=="?"&&(D[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),b.$tokenizer},b.prototype.tokenizeTmSnippet=function(T,A){return this.getTokenizer().getLineTokens(T,A).tokens.map(function(k){return k.value||k})},b.prototype.getVariableValue=function(T,A,k){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var P=this.variables[A];return typeof P=="function"&&(P=this.variables[A](T,A,k)),P??""},b.prototype.tmStrFormat=function(T,A,k){if(!A.fmt)return T;var P=A.flag||"",N=A.guard;N=new RegExp(N,P.replace(/[^gim]/g,""));var D=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,L=this,I=T.replace(N,function(){var O=L.variables.__;L.variables.__=[].slice.call(arguments);for(var F=L.resolveVariables(D,k),H="E",j=0;j<F.length;j++){var z=F[j];if(typeof z=="object")if(F[j]="",z.changeCase&&z.local){var W=F[j+1];W&&typeof W=="string"&&(z.changeCase=="u"?F[j]=W[0].toUpperCase():F[j]=W[0].toLowerCase(),F[j+1]=W.substr(1))}else z.changeCase&&(H=z.changeCase);else H=="U"?F[j]=z.toUpperCase():H=="L"&&(F[j]=z.toLowerCase())}return L.variables.__=O,F.join("")});return I},b.prototype.tmFormatFunction=function(T,A,k){return A.formatFunction=="upcase"?T.toUpperCase():A.formatFunction=="downcase"?T.toLowerCase():T},b.prototype.resolveVariables=function(T,A){for(var k=[],P="",N=!0,D=0;D<T.length;D++){var L=T[D];if(typeof L=="string"){k.push(L),L==`
`?(N=!0,P=""):N&&(P=/^\t*/.exec(L)[0],N=/\S/.test(L));continue}if(L){if(N=!1,L.fmtString){var I=T.indexOf(L,D+1);I==-1&&(I=T.length),L.fmt=T.slice(D+1,I),D=I}if(L.text){var O=this.getVariableValue(A,L.text,P)+"";L.fmtString&&(O=this.tmStrFormat(O,L,A)),L.formatFunction&&(O=this.tmFormatFunction(O,L,A)),O&&!L.ifEnd?(k.push(O),F(L)):!O&&L.ifEnd&&F(L.ifEnd)}else L.elseEnd?F(L.elseEnd):(L.tabstopId!=null||L.changeCase!=null)&&k.push(L)}}function F(H){var j=T.indexOf(H,D+1);j!=-1&&(D=j)}return k},b.prototype.getDisplayTextForSnippet=function(T,A){var k=v.call(this,T,A);return k.text},b.prototype.insertSnippetForSelection=function(T,A,k){k===void 0&&(k={});var P=v.call(this,T,A,k),N=T.getSelectionRange(),D=T.session.replace(N,P.text),L=new y(T),I=T.inVirtualSelectionMode&&T.selection.index;L.addTabstops(P.tabstops,N.start,D,I)},b.prototype.insertSnippet=function(T,A,k){k===void 0&&(k={});var P=this;if(T.inVirtualSelectionMode)return P.insertSnippetForSelection(T,A,k);T.forEachSelection(function(){P.insertSnippetForSelection(T,A,k)},null,{keepOrder:!0}),T.tabstopManager&&T.tabstopManager.tabNext()},b.prototype.$getScope=function(T){var A=T.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!T.session.$mode.inlinePhp&&(A="html");var k=T.getCursorPosition(),P=T.session.getState(k.row);typeof P=="object"&&(P=P[0]),P.substring&&(P.substring(0,3)=="js-"?A="javascript":P.substring(0,4)=="css-"?A="css":P.substring(0,4)=="php-"&&(A="php"))}return A},b.prototype.getActiveScopes=function(T){var A=this.$getScope(T),k=[A],P=this.snippetMap;return P[A]&&P[A].includeScopes&&k.push.apply(k,P[A].includeScopes),k.push("_"),k},b.prototype.expandWithTab=function(T,A){var k=this,P=T.forEachSelection(function(){return k.expandSnippetForSelection(T,A)},null,{keepOrder:!0});return P&&T.tabstopManager&&T.tabstopManager.tabNext(),P},b.prototype.expandSnippetForSelection=function(T,A){var k=T.getCursorPosition(),P=T.session.getLine(k.row),N=P.substring(0,k.column),D=P.substr(k.column),L=this.snippetMap,I;return this.getActiveScopes(T).some(function(O){var F=L[O];return F&&(I=this.findMatchingSnippet(F,N,D)),!!I},this),I?(A&&A.dryRun||(T.session.doc.removeInLine(k.row,k.column-I.replaceBefore.length,k.column+I.replaceAfter.length),this.variables.M__=I.matchBefore,this.variables.T__=I.matchAfter,this.insertSnippetForSelection(T,I.content),this.variables.M__=this.variables.T__=null),!0):!1},b.prototype.findMatchingSnippet=function(T,A,k){for(var P=T.length;P--;){var N=T[P];if(!(N.startRe&&!N.startRe.test(A))&&!(N.endRe&&!N.endRe.test(k))&&!(!N.startRe&&!N.endRe))return N.matchBefore=N.startRe?N.startRe.exec(A):[""],N.matchAfter=N.endRe?N.endRe.exec(k):[""],N.replaceBefore=N.triggerRe?N.triggerRe.exec(A)[0]:"",N.replaceAfter=N.endTriggerRe?N.endTriggerRe.exec(k)[0]:"",N}},b.prototype.register=function(T,A){var k=this.snippetMap,P=this.snippetNameMap,N=this;T||(T=[]);function D(O){return O&&!/^\^?\(.*\)\$?$|^\\b$/.test(O)&&(O="(?:"+O+")"),O||""}function L(O,F,H){return O=D(O),F=D(F),O=F+O,O&&O[O.length-1]!="$"&&(O=O+"$"),new RegExp(O)}function I(O){O.scope||(O.scope=A||"_"),A=O.scope,k[A]||(k[A]=[],P[A]={});var F=P[A];if(O.name){var H=F[O.name];H&&N.unregister(H),F[O.name]=O}k[A].push(O),O.prefix&&(O.tabTrigger=O.prefix),!O.content&&O.body&&(O.content=Array.isArray(O.body)?O.body.join(`
`):O.body),O.tabTrigger&&!O.trigger&&(!O.guard&&/^\w/.test(O.tabTrigger)&&(O.guard="\\b"),O.trigger=o.escapeRegExp(O.tabTrigger)),!(!O.trigger&&!O.guard&&!O.endTrigger&&!O.endGuard)&&(O.startRe=L(O.trigger,O.guard),O.triggerRe=new RegExp(O.trigger),O.endRe=L(O.endTrigger,O.endGuard),O.endTriggerRe=new RegExp(O.endTrigger))}Array.isArray(T)?T.forEach(I):Object.keys(T).forEach(function(O){I(T[O])}),this._signal("registerSnippets",{scope:A})},b.prototype.unregister=function(T,A){var k=this.snippetMap,P=this.snippetNameMap;function N(D){var L=P[D.scope||A];if(L&&L[D.name]){delete L[D.name];var I=k[D.scope||A],O=I&&I.indexOf(D);O>=0&&I.splice(O,1)}}T.content?N(T):Array.isArray(T)&&T.forEach(N)},b.prototype.parseSnippetFile=function(T){T=T.replace(/\r/g,"");for(var A=[],k={},P=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,N;N=P.exec(T);){if(N[1])try{k=JSON.parse(N[1]),A.push(k)}catch{}if(N[4])k.content=N[4].replace(/^\t/gm,""),A.push(k),k={};else{var D=N[2],L=N[3];if(D=="regex"){var I=/\/((?:[^\/\\]|\\.)*)|$/g;k.guard=I.exec(L)[1],k.trigger=I.exec(L)[1],k.endTrigger=I.exec(L)[1],k.endGuard=I.exec(L)[1]}else D=="snippet"?(k.tabTrigger=L.match(/^\S*/)[0],k.name||(k.name=L)):D&&(k[D]=L)}}return A},b.prototype.getSnippetByName=function(T,A){var k=this.snippetNameMap,P;return this.getActiveScopes(A).some(function(N){var D=k[N];return D&&(P=D[T]),!!P},this),P},b})();l.implement(g.prototype,a);var v=function(b,T,A){A===void 0&&(A={});var k=b.getCursorPosition(),P=b.session.getLine(k.row),N=b.session.getTabString(),D=P.match(/^\s*/)[0];k.column<D.length&&(D=D.slice(0,k.column)),T=T.replace(/\r/g,"");var L=this.tokenizeTmSnippet(T);L=this.resolveVariables(L,b),L=L.map(function(ae){return ae==`
`&&!A.excludeExtraIndent?ae+D:typeof ae=="string"?ae.replace(/\t/g,N):ae});var I=[];L.forEach(function(ae,ie){if(typeof ae=="object"){var Q=ae.tabstopId,se=I[Q];if(se||(se=I[Q]=[],se.index=Q,se.value="",se.parents={}),se.indexOf(ae)===-1){ae.choices&&!se.choices&&(se.choices=ae.choices),se.push(ae);var de=L.indexOf(ae,ie+1);if(de!==-1){var xe=L.slice(ie+1,de),ne=xe.some(function(ye){return typeof ye=="object"});ne&&!se.value?se.value=xe:xe.length&&(!se.value||typeof se.value!="string")&&(se.value=xe.join(""))}}}}),I.forEach(function(ae){ae.length=0});var O={};function F(ae){for(var ie=[],Q=0;Q<ae.length;Q++){var se=ae[Q];if(typeof se=="object"){if(O[se.tabstopId])continue;var de=ae.lastIndexOf(se,Q-1);se=ie[de]||{tabstopId:se.tabstopId}}ie[Q]=se}return ie}for(var H=0;H<L.length;H++){var j=L[H];if(typeof j=="object"){var z=j.tabstopId,W=I[z],K=L.indexOf(j,H+1);if(O[z]){O[z]===j&&(delete O[z],Object.keys(O).forEach(function(ae){W.parents[ae]=!0}));continue}O[z]=j;var X=W.value;typeof X!="string"?X=F(X):j.fmt&&(X=this.tmStrFormat(X,j,b)),L.splice.apply(L,[H+1,Math.max(0,K-H)].concat(X,j)),W.indexOf(j)===-1&&W.push(j)}}var J=0,te=0,re="";return L.forEach(function(ae){if(typeof ae=="string"){var ie=ae.split(`
`);ie.length>1?(te=ie[ie.length-1].length,J+=ie.length-1):te+=ae.length,re+=ae}else ae&&(ae.start?ae.end={row:J,column:te}:ae.start={row:J,column:te})}),{text:re,tabstops:I,tokens:L}},y=(function(){function b(T){if(this.index=0,this.ranges=[],this.tabstops=[],T.tabstopManager)return T.tabstopManager;T.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=o.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(T)}return b.prototype.attach=function(T){this.$openTabstops=null,this.selectedTabstop=null,this.editor=T,this.session=T.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},b.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},b.prototype.onChange=function(T){for(var A=T.action[0]=="r",k=this.selectedTabstop||{},P=k.parents||{},N=this.tabstops.slice(),D=0;D<N.length;D++){var L=N[D],I=L==k||P[L.index];if(L.rangeList.$bias=I?0:1,T.action=="remove"&&L!==k){var O=L.parents&&L.parents[k.index],F=L.rangeList.pointIndex(T.start,O);F=F<0?-F-1:F+1;var H=L.rangeList.pointIndex(T.end,O);H=H<0?-H-1:H-1;for(var j=L.rangeList.ranges.slice(F,H),z=0;z<j.length;z++)this.removeRange(j[z])}L.rangeList.$onChange(T)}var W=this.session;!this.$inChange&&A&&W.getLength()==1&&!W.getValue()&&this.detach()},b.prototype.updateLinkedFields=function(){var T=this.selectedTabstop;if(!(!T||!T.hasLinkedRanges||!T.firstNonLinked)){this.$inChange=!0;for(var A=this.session,k=A.getTextRange(T.firstNonLinked),P=0;P<T.length;P++){var N=T[P];if(N.linked){var D=N.original,L=r.snippetManager.tmStrFormat(k,D,this.editor);A.replace(N,L)}}this.$inChange=!1}},b.prototype.onAfterExec=function(T){T.command&&!T.command.readOnly&&this.updateLinkedFields()},b.prototype.onChangeSelection=function(){if(this.editor){for(var T=this.editor.selection.lead,A=this.editor.selection.anchor,k=this.editor.selection.isEmpty(),P=0;P<this.ranges.length;P++)if(!this.ranges[P].linked){var N=this.ranges[P].contains(T.row,T.column),D=k||this.ranges[P].contains(A.row,A.column);if(N&&D)return}this.detach()}},b.prototype.onChangeSession=function(){this.detach()},b.prototype.tabNext=function(T){var A=this.tabstops.length,k=this.index+(T||1);k=Math.min(Math.max(k,1),A),k==A&&(k=0),this.selectTabstop(k),this.updateTabstopMarkers(),k===0&&this.detach()},b.prototype.selectTabstop=function(T){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=T,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var k=A.firstNonLinked||A;if(A.choices&&(k.cursor=k.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(k);else{var P=this.editor.multiSelect;P.toSingleRange(k);for(var N=0;N<A.length;N++)A.hasLinkedRanges&&A[N].linked||P.addRange(A[N].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},b.prototype.addTabstops=function(T,A,k){var P=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!T[0]){var N=h.fromPoints(k,k);w(N.start,A),w(N.end,A),T[0]=[N],T[0].index=0}var D=this.index,L=[D+1,0],I=this.ranges,O=this.snippetId=(this.snippetId||0)+1;T.forEach(function(F,H){var j=this.$openTabstops[H]||F;j.snippetId=O;for(var z=0;z<F.length;z++){var W=F[z],K=h.fromPoints(W.start,W.end||W.start);_(K.start,A),_(K.end,A),K.original=W,K.tabstop=j,I.push(K),j!=F?j.unshift(K):j[z]=K,W.fmtString||j.firstNonLinked&&P?(K.linked=!0,j.hasLinkedRanges=!0):j.firstNonLinked||(j.firstNonLinked=K)}j.firstNonLinked||(j.hasLinkedRanges=!1),j===F&&(L.push(j),this.$openTabstops[H]=j),this.addTabstopMarkers(j),j.rangeList=j.rangeList||new c,j.rangeList.$bias=0,j.rangeList.addList(j)},this),L.length>2&&(this.tabstops.length&&L.push(L.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,L))},b.prototype.addTabstopMarkers=function(T){var A=this.session;T.forEach(function(k){k.markerId||(k.markerId=A.addMarker(k,"ace_snippet-marker","text"))})},b.prototype.removeTabstopMarkers=function(T){var A=this.session;T.forEach(function(k){A.removeMarker(k.markerId),k.markerId=null})},b.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var T=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&T--,this.tabstops.forEach(function(A){A.snippetId===T?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},b.prototype.removeRange=function(T){var A=T.tabstop.indexOf(T);A!=-1&&T.tabstop.splice(A,1),A=this.ranges.indexOf(T),A!=-1&&this.ranges.splice(A,1),A=T.tabstop.rangeList.ranges.indexOf(T),A!=-1&&T.tabstop.splice(A,1),this.session.removeMarker(T.markerId),T.tabstop.length||(A=this.tabstops.indexOf(T.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},b})();y.prototype.keyboardHandler=new u,y.prototype.keyboardHandler.bindKeys({Tab:function(b){r.snippetManager&&r.snippetManager.expandWithTab(b)||(b.tabstopManager.tabNext(1),b.renderer.scrollCursorIntoView())},"Shift-Tab":function(b){b.tabstopManager.tabNext(-1),b.renderer.scrollCursorIntoView()},Esc:function(b){b.tabstopManager.detach()}});var _=function(b,T){b.row==0&&(b.column+=T.column),b.row+=T.row},w=function(b,T){b.row==T.row&&(b.column-=T.column),b.row-=T.row};s.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new g;var C=t("./editor").Editor;(function(){this.insertSnippet=function(b,T){return r.snippetManager.insertSnippet(this,b,T)},this.expandSnippet=function(b){return r.snippetManager.expandWithTab(this,b)}}).call(C.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(t,r,i){var s=t("../virtual_renderer").VirtualRenderer,l=t("../editor").Editor,a=t("../range").Range,o=t("../lib/event"),h=t("../lib/lang"),c=t("../lib/dom"),u=t("../config").nls,d=t("./../lib/useragent"),f=function(_){return"suggest-aria-id:".concat(_)},p=d.isSafari?"menu":"listbox",m=d.isSafari?"menuitem":"option",g=d.isSafari?"aria-current":"aria-selected",v=function(_){var w=new s(_);w.$maxLines=4;var C=new l(w);return C.setHighlightActiveLine(!1),C.setShowPrintMargin(!1),C.renderer.setShowGutter(!1),C.renderer.setHighlightGutterLine(!1),C.$mouseHandler.$focusTimeout=0,C.$highlightTagPending=!0,C},y=(function(){function _(w){var C=c.createElement("div"),b=v(C);w&&w.appendChild(C),C.style.display="none",b.renderer.content.style.cursor="default",b.renderer.setStyle("ace_autocomplete"),b.renderer.$textLayer.element.setAttribute("role",p),b.renderer.$textLayer.element.setAttribute("aria-roledescription",u("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),b.renderer.$textLayer.element.setAttribute("aria-label",u("autocomplete.popup.aria-label","Autocomplete suggestions")),b.renderer.textarea.setAttribute("aria-hidden","true"),b.setOption("displayIndentGuides",!1),b.setOption("dragDelay",150);var T=function(){};b.focus=T,b.$isFocused=!0,b.renderer.$cursorLayer.restartTimer=T,b.renderer.$cursorLayer.element.style.opacity="0",b.renderer.$maxLines=8,b.renderer.$keepTextAreaAtCursor=!1,b.setHighlightActiveLine(!1),b.session.highlight(""),b.session.$searchHighlight.clazz="ace_highlight-marker",b.on("mousedown",function(I){var O=I.getDocumentPosition();b.selection.moveToPosition(O),P.start.row=P.end.row=O.row,I.stop()});var A,k=new a(-1,0,-1,1/0),P=new a(-1,0,-1,1/0);P.id=b.session.addMarker(P,"ace_active-line","fullLine"),b.setSelectOnHover=function(I){I?k.id&&(b.session.removeMarker(k.id),k.id=null):k.id=b.session.addMarker(k,"ace_line-hover","fullLine")},b.setSelectOnHover(!1),b.on("mousemove",function(I){if(!A){A=I;return}if(!(A.x==I.x&&A.y==I.y)){A=I,A.scrollTop=b.renderer.scrollTop,b.isMouseOver=!0;var O=A.getDocumentPosition().row;k.start.row!=O&&(k.id||b.setRow(O),D(O))}}),b.renderer.on("beforeRender",function(){if(A&&k.start.row!=-1){A.$pos=null;var I=A.getDocumentPosition().row;k.id||b.setRow(I),D(I,!0)}}),b.renderer.on("afterRender",function(){for(var I=b.renderer.$textLayer,O=I.config.firstRow,F=I.config.lastRow;O<=F;O++){var H=I.element.childNodes[O-I.config.firstRow];H.setAttribute("role",m),H.setAttribute("aria-roledescription",u("autocomplete.popup.item.aria-roledescription","item")),H.setAttribute("aria-setsize",b.data.length),H.setAttribute("aria-describedby","doc-tooltip"),H.setAttribute("aria-posinset",O+1);var j=b.getData(O);if(j){var z="".concat(j.caption||j.value).concat(j.meta?", ".concat(j.meta):"");H.setAttribute("aria-label",z)}var W=H.querySelectorAll(".ace_completion-highlight");W.forEach(function(K){K.setAttribute("role","mark")})}}),b.renderer.on("afterRender",function(){var I=b.getRow(),O=b.renderer.$textLayer,F=O.element.childNodes[I-O.config.firstRow],H=document.activeElement;if(F!==b.selectedNode&&b.selectedNode&&(c.removeCssClass(b.selectedNode,"ace_selected"),b.selectedNode.removeAttribute(g),b.selectedNode.removeAttribute("id")),H.removeAttribute("aria-activedescendant"),b.selectedNode=F,F){var j=f(I);c.addCssClass(F,"ace_selected"),F.id=j,O.element.setAttribute("aria-activedescendant",j),H.setAttribute("aria-activedescendant",j),F.setAttribute(g,"true")}});var N=function(){D(-1)},D=function(I,O){I!==k.start.row&&(k.start.row=k.end.row=I,O||b.session._emit("changeBackMarker"),b._emit("changeHoverMarker"))};b.getHoveredRow=function(){return k.start.row},o.addListener(b.container,"mouseout",function(){b.isMouseOver=!1,N()}),b.on("hide",N),b.on("changeSelection",N),b.session.doc.getLength=function(){return b.data.length},b.session.doc.getLine=function(I){var O=b.data[I];return typeof O=="string"?O:O&&O.value||""};var L=b.session.bgTokenizer;return L.$tokenizeRow=function(I){var O=b.data[I],F=[];if(!O)return F;typeof O=="string"&&(O={value:O});var H=O.caption||O.value||O.name;function j(ae,ie){ae&&F.push({type:(O.className||"")+(ie||""),value:ae})}for(var z=H.toLowerCase(),W=(b.filterText||"").toLowerCase(),K=0,X=0,J=0;J<=W.length;J++)if(J!=X&&(O.matchMask&1<<J||J==W.length)){var te=W.slice(X,J);X=J;var re=z.indexOf(te,K);if(re==-1)continue;j(H.slice(K,re),""),K=re+te.length,j(H.slice(re,K),"completion-highlight")}return j(H.slice(K,H.length),""),F.push({type:"completion-spacer",value:" "}),O.meta&&F.push({type:"completion-meta",value:O.meta}),O.message&&F.push({type:"completion-message",value:O.message}),F},L.$updateOnChange=T,L.start=T,b.session.$computeWidth=function(){return this.screenWidth=0},b.isOpen=!1,b.isTopdown=!1,b.autoSelect=!0,b.filterText="",b.isMouseOver=!1,b.data=[],b.setData=function(I,O){b.filterText=O||"",b.setValue(h.stringRepeat(`
`,I.length),-1),b.data=I||[],b.setRow(0)},b.getData=function(I){return b.data[I]},b.getRow=function(){return P.start.row},b.setRow=function(I){I=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,I)),P.start.row!=I&&(b.selection.clearSelection(),P.start.row=P.end.row=I||0,b.session._emit("changeBackMarker"),b.moveCursorTo(I||0,0),b.isOpen&&b._signal("select"))},b.on("changeSelection",function(){b.isOpen&&b.setRow(b.selection.lead.row),b.renderer.scrollCursorIntoView()}),b.hide=function(){this.container.style.display="none",b.anchorPos=null,b.anchor=null,b.isOpen&&(b.isOpen=!1,this._signal("hide"))},b.tryShow=function(I,O,F,H){if(!H&&b.isOpen&&b.anchorPos&&b.anchor&&b.anchorPos.top===I.top&&b.anchorPos.left===I.left&&b.anchor===F)return!0;var j=this.container,z=this.renderer.scrollBar.width||10,W=window.innerHeight-z,K=window.innerWidth-z,X=this.renderer,J=X.$maxLines*O*1.4,te={top:0,bottom:0},re=W-I.top-3*this.$borderSize-O,ae=I.top-3*this.$borderSize;F||(ae<=re||re>=J?F="bottom":F="top"),F==="top"?(te.bottom=I.top-this.$borderSize,te.top=te.bottom-J):F==="bottom"&&(te.top=I.top+O+this.$borderSize,te.bottom=te.top+J);var ie=te.top>=0&&te.bottom<=W;if(!H&&!ie)return!1;ie?X.$maxPixelHeight=null:F==="top"?X.$maxPixelHeight=ae:X.$maxPixelHeight=re,F==="top"?(j.style.top="",j.style.bottom=W+z-te.bottom+"px",b.isTopdown=!1):(j.style.top=te.top+"px",j.style.bottom="",b.isTopdown=!0),j.style.display="";var Q=I.left;return Q+j.offsetWidth>K&&(Q=K-j.offsetWidth),j.style.left=Q+"px",j.style.right="",b.isOpen||(b.isOpen=!0,this._signal("show"),A=null),b.anchorPos=I,b.anchor=F,c.$fixPositionBug(j),!0},b.show=function(I,O,F){this.tryShow(I,O,F?"bottom":void 0,!0)},b.goTo=function(I){var O=this.getRow(),F=this.session.getLength()-1;switch(I){case"up":O=O<=0?F:O-1;break;case"down":O=O>=F?-1:O+1;break;case"start":O=0;break;case"end":O=F;break}this.setRow(O)},b.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},b.$imageSize=0,b.$borderSize=1,b}return _})();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=y,r.$singleLineEditor=v,r.getAriaId=f}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(t,r,i){var s=(function(){function l(a){this.editor=a,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return l.prototype.setScreenReaderContent=function(a){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var h=this.popup.getRow(),c=this.popup.renderer.$textLayer,u=c.element.childNodes[h-c.config.firstRow];if(u){for(var d="doc-tooltip ",f=0;f<this._lines.length;f++)d+="ace-inline-screenreader-line-".concat(f," ");u.setAttribute("aria-describedby",d)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=a.split(/\r\n|\r|\n/);var o=this.createCodeBlock();this.screenReaderDiv.appendChild(o)},l.prototype.destroy=function(){this.screenReaderDiv.remove()},l.prototype.createCodeBlock=function(){var a=document.createElement("pre");a.setAttribute("id","ace-inline-screenreader");for(var o=0;o<this._lines.length;o++){var h=document.createElement("code");h.setAttribute("id","ace-inline-screenreader-line-".concat(o));var c=document.createTextNode(this._lines[o]);h.appendChild(c),a.appendChild(h)}return a},l})();r.AceInlineScreenReader=s}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(t,r,i){var s=t("../snippets").snippetManager,l=t("./inline_screenreader").AceInlineScreenReader,a=(function(){function o(){this.editor=null}return o.prototype.show=function(h,c,u){if(u=u||"",h&&this.editor&&this.editor!==h&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!h||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new l(h));var d=c.snippet?s.getDisplayTextForSnippet(h,c.snippet):c.value;return c.hideInlinePreview||!d||!d.startsWith(u)?!1:(this.editor=h,this.inlineScreenReader.setScreenReaderContent(d),d=d.slice(u.length),d===""?h.removeGhostText():h.setGhostText(d),!0)},o.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},o.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},o.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},o})();r.AceInline=a}),ace.define("ace/autocomplete/util",["require","exports","module"],function(t,r,i){r.parForEach=function(l,a,o){var h=0,c=l.length;c===0&&o();for(var u=0;u<c;u++)a(l[u],function(d,f){h++,h===c&&o(d,f)})};var s=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(l,a,o){o=o||s;for(var h=[],c=a-1;c>=0&&o.test(l[c]);c--)h.push(l[c]);return h.reverse().join("")},r.retrieveFollowingIdentifier=function(l,a,o){o=o||s;for(var h=[],c=a;c<l.length&&o.test(l[c]);c++)h.push(l[c]);return h},r.getCompletionPrefix=function(l){var a=l.getCursorPosition(),o=l.session.getLine(a.row),h;return l.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(u){!h&&u&&(h=this.retrievePrecedingIdentifier(o,a.column,u))}).bind(this))}).bind(this)),h||this.retrievePrecedingIdentifier(o,a.column)},r.triggerAutocomplete=function(l,o){var o=o??l.session.getPrecedingCharacter();return l.completers.some(function(h){if(h.triggerCharacters&&Array.isArray(h.triggerCharacters))return h.triggerCharacters.includes(o)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(t,r,i){var s=t("./keyboard/hash_handler").HashHandler,l=t("./autocomplete/popup").AcePopup,a=t("./autocomplete/inline").AceInline,o=t("./autocomplete/popup").getAriaId,h=t("./autocomplete/util"),c=t("./lib/lang"),u=t("./lib/dom"),d=t("./snippets").snippetManager,f=t("./config"),p=t("./lib/event"),m=t("./lib/scroll").preventParentScroll,g=function(w,C){C.completer&&C.completer.destroy()},v=(function(){function w(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new s,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var C=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!C||this.editor.completers.length===0||(this.completions=new _(w.completionsForLoading),this.openPopup(this.editor,C.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(w,"completionsForLoading",{get:function(){return[{caption:f.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),w.prototype.$init=function(){return this.popup=new l(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(C){this.insertMatch(),C.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},w.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new a,this.inlineRenderer},w.prototype.getPopup=function(){return this.popup||this.$init()},w.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},w.prototype.$seen=function(C){!this.hasSeen.has(C)&&C&&C.completer&&C.completer.onSeen&&typeof C.completer.onSeen=="function"&&(C.completer.onSeen(this.editor,C),this.hasSeen.add(C))},w.prototype.$onPopupChange=function(C){if(this.inlineRenderer&&this.inlineEnabled){var b=C?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(b),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},w.prototype.$updateGhostText=function(C){var b=this.base.row,T=this.base.column,A=this.editor.getCursorPosition().column,k=this.editor.session.getLine(b).slice(T,A);this.inlineRenderer.show(this.editor,C,k)?this.$seen(C):this.inlineRenderer.hide()},w.prototype.$onPopupRender=function(){var C=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var b=this.popup.getFirstVisibleRow();b<=this.popup.getLastVisibleRow();b++){var T=this.popup.getData(b);T&&(!C||T.hideInlinePreview)&&this.$seen(T)}},w.prototype.$onPopupShow=function(C){this.$onPopupChange(C),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},w.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var C=this.editor.container.parentNode,b=[];C;)b.push(C),C.addEventListener("scroll",this.onLayoutChange,{passive:!0}),C=C.parentNode;this.$elements=b}},w.prototype.unObserveLayoutChanges=function(){var C=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(b){b.removeEventListener("scroll",C.onLayoutChange,{passive:!0})}),this.$elements=null},w.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},w.prototype.$updatePopupPosition=function(){var C=this.editor,b=C.renderer,T=b.layerConfig.lineHeight,A=b.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var k=C.container.getBoundingClientRect();A.top+=k.top-b.layerConfig.offset,A.left+=k.left-C.renderer.scrollLeft,A.left+=b.gutterWidth;var P={top:A.top,left:A.left};b.$ghostText&&b.$ghostTextWidget&&this.base.row===b.$ghostText.position.row&&(P.top+=b.$ghostTextWidget.el.offsetHeight);var N=C.container.getBoundingClientRect().bottom-T,D=N<P.top?{top:N,left:P.left}:P;this.popup.tryShow(D,T,"bottom")||this.popup.tryShow(A,T,"top")||this.popup.show(A,T)},w.prototype.openPopup=function(C,b,T){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),k=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:o(this.popup.getRow()),inline:this.inlineEnabled}),C.keyBinding.addKeyboardHandler(this.keyboardHandler);var P;this.stickySelection&&(P=this.popup.data.indexOf(k)),(!P||P===-1)&&(P=0),this.popup.setRow(this.autoSelect?P:-1),P===A&&k!==this.completions.filtered[P]&&this.$onPopupChange();var N=this.inlineRenderer&&this.inlineEnabled;if(P===A&&N){var D=this.popup.getData(this.popup.getRow());this.$updateGhostText(D)}T||(this.popup.setTheme(C.getTheme()),this.popup.setFontSize(C.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},w.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},w.prototype.changeListener=function(C){var b=this.editor.selection.lead;(b.row!=this.base.row||b.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},w.prototype.blurListener=function(C){var b=document.activeElement,T=this.editor.textInput.getElement(),A=C.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(C.relatedTarget),k=this.popup&&this.popup.container;b!=T&&b.parentNode!=k&&!A&&b!=this.tooltipNode&&C.relatedTarget!=T&&this.detach()},w.prototype.mousedownListener=function(C){this.detach()},w.prototype.mousewheelListener=function(C){this.popup&&!this.popup.isMouseOver&&this.detach()},w.prototype.mouseOutListener=function(C){this.popup.isOpen&&this.$updatePopupPosition()},w.prototype.goTo=function(C){this.popup.goTo(C)},w.prototype.insertMatch=function(C,b){if(C||(C=this.popup.getData(this.popup.getRow())),!C)return!1;if(C.value==="")return this.detach();var T=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,C,T.filterText,b);return this.completions==T&&this.detach(),A},w.prototype.showPopup=function(C,b){this.editor&&this.detach(),this.activated=!0,this.editor=C,C.completer!=this&&(C.completer&&C.completer.detach(),C.completer=this),C.on("changeSelection",this.changeListener),C.on("blur",this.blurListener),C.on("mousedown",this.mousedownListener),C.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,b)},w.prototype.getCompletionProvider=function(C){return this.completionProvider||(this.completionProvider=new y(C)),this.completionProvider},w.prototype.gatherCompletions=function(C,b){return this.getCompletionProvider().gatherCompletions(C,b)},w.prototype.updateCompletions=function(C,b){if(C&&this.base&&this.completions){var A=this.editor.getCursorPosition(),k=this.editor.session.getTextRange({start:this.base,end:A});if(k==this.completions.filterText)return;if(this.completions.setFilter(k),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==k&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,k,C);return}if(b&&b.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new _(b.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",C)}var T=this.editor.getSession(),A=this.editor.getCursorPosition(),k=h.getCompletionPrefix(this.editor);this.base=T.doc.createAnchor(A.row,A.column-k.length),this.base.$insertRight=!0;var P={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:k,pos:A}).provideCompletions(this.editor,P,(function(N,D,L){var I=D.filtered,O=h.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),L){if(!I.length){var F=!this.autoShown&&this.emptyMessage;if(typeof F=="function"&&(F=this.emptyMessage(O)),F){var H=[{caption:F,value:""}];this.completions=new _(H),this.openPopup(this.editor,O,C),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(I.length==1&&I[0].value==O&&!I[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&I.length==1)return this.insertMatch(I[0])}this.completions=!L&&this.showLoadingState?new _(w.completionsForLoading.concat(I),D.filterText):D,this.openPopup(this.editor,O,C),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!L)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},w.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},w.prototype.updateDocTooltip=function(){var C=this.popup,b=this.completions&&this.completions.filtered,T=b&&(b[C.getHoveredRow()]||b[C.getRow()]),A=null;if(!T||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var k=this.editor.completers.length,P=0;P<k;P++){var N=this.editor.completers[P];if(N.getDocTooltip&&T.completerId===N.id){A=N.getDocTooltip(T);break}}if(!A&&typeof T!="string"&&(A=T),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},w.prototype.showDocTooltip=function(C){this.tooltipNode||(this.tooltipNode=u.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var b=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(b.isDark?"ace_dark ":"")+(b.cssClass||"");var T=this.tooltipNode;C.docHTML?T.innerHTML=C.docHTML:C.docText&&(T.textContent=C.docText),T.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,k=A.container.getBoundingClientRect(),P=400,N=300,D=A.renderer.scrollBar.width||10,L=k.left,I=window.innerWidth-k.right-D,O=A.isTopdown?k.top:window.innerHeight-D-k.bottom,F=[Math.min(I/P,1),Math.min(L/P,1),Math.min(O/N*.9)],H=Math.max.apply(Math,F),j=T.style;j.display="block",H==F[0]?(j.left=k.right+1+"px",j.right="",j.maxWidth=P*H+"px",j.top=k.top+"px",j.bottom="",j.maxHeight=Math.min(window.innerHeight-D-k.top,N)+"px"):H==F[1]?(j.right=window.innerWidth-k.left+"px",j.left="",j.maxWidth=P*H+"px",j.top=k.top+"px",j.bottom="",j.maxHeight=Math.min(window.innerHeight-D-k.top,N)+"px"):H==F[2]&&(j.left=window.innerWidth-k.left+"px",j.maxWidth=Math.min(P,window.innerWidth)+"px",A.isTopdown?(j.top=k.bottom+"px",j.left=k.left+"px",j.right="",j.bottom="",j.maxHeight=Math.min(window.innerHeight-D-k.bottom,N)+"px"):(j.top=A.container.offsetTop-T.offsetHeight+"px",j.left=k.left+"px",j.right="",j.bottom="",j.maxHeight=Math.min(A.container.offsetTop,N)+"px"))},w.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var C=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==C&&this.editor.focus(),this.tooltipNode=null,C.parentNode&&C.parentNode.removeChild(C)}},w.prototype.onTooltipClick=function(C){for(var b=C.target;b&&b!=this.tooltipNode;){if(b.nodeName=="A"&&b.href){b.rel="noreferrer",b.target="_blank";break}b=b.parentNode}},w.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var C=this.popup.container;C&&C.parentNode&&C.parentNode.removeChild(C)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",g),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},w.for=function(C){return C.completer instanceof w||(C.completer&&(C.completer.destroy(),C.completer=null),f.get("sharedPopups")?(w.$sharedInstance||(w.$sharedInstance=new w),C.completer=w.$sharedInstance):(C.completer=new w,C.once("destroy",g))),C.completer},w})();v.prototype.commands={Up:function(w){w.completer.goTo("up")},Down:function(w){w.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(w){w.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(w){w.completer.goTo("end")},Esc:function(w){w.completer.detach()},Return:function(w){return w.completer.insertMatch()},"Shift-Return":function(w){w.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(w){var C=w.completer.insertMatch();if(!C&&!w.tabstopManager)w.completer.goTo("down");else return C},Backspace:function(w){w.execCommand("backspace");var C=h.getCompletionPrefix(w);!C&&w.completer&&w.completer.detach()},PageUp:function(w){w.completer.popup.gotoPageUp()},PageDown:function(w){w.completer.popup.gotoPageDown()}},v.startCommand={name:"startAutocomplete",exec:function(w,C){var b=v.for(w);b.autoInsert=!1,b.autoSelect=!0,b.autoShown=!1,b.showPopup(w,C),b.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var y=(function(){function w(C){this.initialPosition=C,this.active=!0}return w.prototype.insertByIndex=function(C,b,T){return!this.completions||!this.completions.filtered?!1:this.insertMatch(C,this.completions.filtered[b],T)},w.prototype.insertMatch=function(C,b,T){if(!b)return!1;if(C.startOperation({command:{name:"insertMatch"}}),b.completer&&b.completer.insertMatch)b.completer.insertMatch(C,b);else{if(!this.completions)return!1;var A=this.completions.filterText.length,k=0;if(b.range&&b.range.start.row===b.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-b.range.start.column,k+=b.range.end.column-this.initialPosition.pos.column),A||k){var P;C.selection.getAllRanges?P=C.selection.getAllRanges():P=[C.getSelectionRange()];for(var N=0,D;D=P[N];N++)D.start.column-=A,D.end.column+=k,C.session.remove(D)}b.snippet?d.insertSnippet(C,b.snippet):this.$insertString(C,b),b.completer&&b.completer.onInsert&&typeof b.completer.onInsert=="function"&&b.completer.onInsert(C,b),b.command&&b.command==="startAutocomplete"&&C.execCommand(b.command)}return C.endOperation(),!0},w.prototype.$insertString=function(C,b){var T=b.value||b;C.execCommand("insertstring",T)},w.prototype.gatherCompletions=function(C,b){var T=C.getSession(),A=C.getCursorPosition(),k=h.getCompletionPrefix(C),P=[];this.completers=C.completers;var N=C.completers.length;return C.completers.forEach(function(D,L){D.getCompletions(C,T,A,k,function(I,O){D.hideInlinePreview&&(O=O.map(function(F){return Object.assign(F,{hideInlinePreview:D.hideInlinePreview})})),!I&&O&&(P=P.concat(O)),b(null,{prefix:h.getCompletionPrefix(C),matches:P,finished:--N===0})})}),!0},w.prototype.provideCompletions=function(C,b,T){var A=(function(D){var L=D.prefix,I=D.matches;this.completions=new _(I),b.exactMatch&&(this.completions.exactMatch=!0),b.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(L),(D.finished||this.completions.filtered.length)&&T(null,this.completions,D.finished)}).bind(this),k=!0,P=null;if(this.gatherCompletions(C,(function(D,L){if(this.active){D&&(T(D,[],!0),this.detach());var I=L.prefix;if(I.indexOf(L.prefix)===0){if(k){P=L;return}A(L)}}}).bind(this)),k=!1,P){var N=P;P=null,A(N)}},w.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(C){typeof C.cancel=="function"&&C.cancel()})},w})(),_=(function(){function w(C,b){this.all=C,this.filtered=C,this.filterText=b||"",this.exactMatch=!1,this.ignoreCaption=!1}return w.prototype.setFilter=function(C){if(C.length>this.filterText&&C.lastIndexOf(this.filterText,0)===0)var b=this.filtered;else var b=this.all;this.filterText=C,b=this.filterCompletions(b,this.filterText),b=b.sort(function(A,k){return k.exactMatch-A.exactMatch||k.$score-A.$score||(A.caption||A.value).localeCompare(k.caption||k.value)});var T=null;b=b.filter(function(A){var k=A.snippet||A.caption||A.value;return k===T?!1:(T=k,!0)}),this.filtered=b},w.prototype.filterCompletions=function(C,b){var T=[],A=b.toUpperCase(),k=b.toLowerCase();e:for(var P=0,N;N=C[P];P++){if(N.skipFilter){N.$score=N.score,T.push(N);continue}var D=!this.ignoreCaption&&N.caption||N.value||N.snippet;if(D){var L=-1,I=0,O=0,F,H;if(this.exactMatch){if(b!==D.substr(0,b.length))continue e}else{var j=D.toLowerCase().indexOf(k);if(j>-1)O=j;else for(var z=0;z<b.length;z++){var W=D.indexOf(k[z],L+1),K=D.indexOf(A[z],L+1);if(F=W>=0&&(K<0||W<K)?W:K,F<0)continue e;H=F-L-1,H>0&&(L===-1&&(O+=10),O+=H,I=I|1<<z),L=F}}N.matchMask=I,N.exactMatch=O?0:1,N.$score=(N.score||0)-O,T.push(N)}}return T},w})();r.Autocomplete=v,r.CompletionProvider=y,r.FilteredList=_}),ace.define("ace/marker_group",["require","exports","module"],function(t,r,i){var s=(function(){function l(a,o){o&&(this.markerType=o.markerType),this.markers=[],this.session=a,a.addDynamicMarker(this)}return l.prototype.getMarkerAtPosition=function(a){return this.markers.find(function(o){return o.range.contains(a.row,a.column)})},l.prototype.markersComparator=function(a,o){return a.range.start.row-o.range.start.row},l.prototype.setMarkers=function(a){this.markers=a.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},l.prototype.update=function(a,o,h,c){if(!(!this.markers||!this.markers.length))for(var u=c.firstRow,d=c.lastRow,f,p=0,m=0,g=0;g<this.markers.length;g++){var v=this.markers[g];if(!(v.range.end.row<u)&&!(v.range.start.row>d)&&(v.range.start.row===m?p++:(m=v.range.start.row,p=0),!(p>200))){var y=v.range.clipRows(u,d);if(!(y.start.row===y.end.row&&y.start.column===y.end.column)){var _=y.toScreenRange(h);if(_.isEmpty()){f=h.getNextFoldLine(y.end.row,f),f&&f.end.row>y.end.row&&(u=f.end.row);continue}this.markerType==="fullLine"?o.drawFullLineMarker(a,_,v.className,c):_.isMultiLine()?this.markerType==="line"?o.drawMultiLineMarker(a,_,v.className,c):o.drawTextMarker(a,_,v.className,c):o.drawSingleLineMarker(a,_,v.className+" ace_br15",c)}}}},l})();s.prototype.MAX_MARKERS=1e4,r.MarkerGroup=s}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(t,r,i){var s=t("../range").Range,l=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function a(h,c){var u=h.getTextRange(s.fromPoints({row:0,column:0},c));return u.split(l).length-1}function o(h,c){var u=a(h,c),d=h.getValue().split(l),f=Object.create(null),p=d[u];return d.forEach(function(m,g){if(!(!m||m===p)){var v=Math.abs(u-g),y=d.length-v;f[m]?f[m]=Math.max(y,f[m]):f[m]=y}}),f}r.getCompletions=function(h,c,u,d,f){var p=o(c,u),m=Object.keys(p);f(null,m.map(function(g){return{caption:g,value:g,score:p[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(t,r,i){var s=t("../snippets").snippetManager,l=t("../autocomplete").Autocomplete,a=t("../config"),o=t("../lib/lang"),h=t("../autocomplete/util"),c=t("../marker_group").MarkerGroup,u=t("../autocomplete/text_completer"),d={getCompletions:function(k,P,N,D,L){if(P.$mode.completer)return P.$mode.completer.getCompletions(k,P,N,D,L);var I=k.session.getState(N.row),O=P.$mode.getCompletions(I,P,N,D);O=O.map(function(F){return F.completerId=d.id,F}),L(null,O)},id:"keywordCompleter"},f=function(k){var P={};return k.replace(/\${(\d+)(:(.*?))?}/g,function(N,D,L,I){return P[D]=I||""}).replace(/\$(\d+?)/g,function(N,D){return P[D]})},p={getCompletions:function(k,P,N,D,L){var I=[],O=P.getTokenAt(N.row,N.column);O&&O.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?I.push("html-tag"):I=s.getActiveScopes(k);var F=s.snippetMap,H=[];I.forEach(function(j){for(var z=F[j]||[],W=z.length;W--;){var K=z[W],X=K.name||K.tabTrigger;X&&H.push({caption:X,snippet:K.content,meta:K.tabTrigger&&!K.name?K.tabTrigger+" ":"snippet",completerId:p.id})}},this),L(null,H)},getDocTooltip:function(k){k.snippet&&!k.docHTML&&(k.docHTML=["<b>",o.escapeHTML(k.caption),"</b>","<hr></hr>",o.escapeHTML(f(k.snippet))].join(""))},id:"snippetCompleter"},m=[p,u,d];r.setCompleters=function(k){m.length=0,k&&m.push.apply(m,k)},r.addCompleter=function(k){m.push(k)},r.textCompleter=u,r.keyWordCompleter=d,r.snippetCompleter=p;var g={name:"expandSnippet",exec:function(k){return s.expandWithTab(k)},bindKey:"Tab"},v=function(k,P){y(P.session.$mode)},y=function(k){typeof k=="string"&&(k=a.$modes[k]),k&&(s.files||(s.files={}),_(k.$id,k.snippetFileId),k.modes&&k.modes.forEach(y))},_=function(k,P){!P||!k||s.files[k]||(s.files[k]={},a.loadModule(P,function(N){N&&(s.files[k]=N,!N.snippets&&N.snippetText&&(N.snippets=s.parseSnippetFile(N.snippetText)),s.register(N.snippets||[],N.scope),N.includeScopes&&(s.snippetMap[N.scope].includeScopes=N.includeScopes,N.includeScopes.forEach(function(D){y("ace/mode/"+D)})))}))},w=function(k){var P=k.editor,N=P.completer&&P.completer.activated;if(k.command.name==="backspace")N&&!h.getCompletionPrefix(P)&&P.completer.detach();else if(k.command.name==="insertstring"&&!N){C=k;var D=k.editor.$liveAutocompletionDelay;D?b.delay(D):T(k)}},C,b=o.delayedCall(function(){T(C)},0),T=function(k){var P=k.editor,N=h.getCompletionPrefix(P),D=k.args,L=h.triggerAutocomplete(P,D);if(N&&N.length>=P.$liveAutocompletionThreshold||L){var I=l.for(P);I.autoShown=!0,I.showPopup(P)}},A=t("../editor").Editor;t("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(k){k?(l.for(this),this.completers||(this.completers=Array.isArray(k)?k:m),this.commands.addCommand(l.startCommand)):this.commands.removeCommand(l.startCommand)},value:!1},enableLiveAutocompletion:{set:function(k){k?(this.completers||(this.completers=Array.isArray(k)?k:m),this.commands.on("afterExec",w)):this.commands.off("afterExec",w)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(k){k?(this.commands.addCommand(g),this.on("changeMode",v),v(null,this)):(this.commands.removeCommand(g),this.off("changeMode",v))},value:!1}}),r.MarkerGroup=c}),(function(){ace.require(["ace/ext/language_tools"],function(t){n&&(n.exports=t)})})()})(hE)),hE.exports}ASe();function kSe(){const{user:n,loading:e}=tu(),t=Il(),[r,i]=G.useState(null),[s,l]=G.useState({}),[a,o]=G.useState(""),[h,c]=G.useState(""),[u,d]=G.useState(""),[f,p]=G.useState(!1),[m,g]=G.useState(""),[v,y]=G.useState(!0),[_,w]=G.useState(!0),[C,b]=G.useState(250),[T,A]=G.useState(!1),[k,P]=G.useState(!1),[N,D]=G.useState(null),{projectId:L}=nV(),[I,O]=G.useState(null),[F,H]=G.useState("in-progress"),[j,z]=G.useState(null),W=h===u,[K,X]=G.useState(!1);G.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo({top:0,behavior:"auto"}),document.body.style.overflow="hidden";const ye=setTimeout(()=>{window.scrollTo({top:0,behavior:"auto"}),document.body.style.overflow="auto"},600);return()=>{clearTimeout(ye),"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),document.body.style.overflow="auto"}},[]),G.useEffect(()=>{!e&&!n&&(console.log("  No user found, redirecting to login"),t("/login"))},[e,n,t]),G.useEffect(()=>{D(L)},[]);const J=G.useRef(!1);G.useEffect(()=>{if(!N||!n?._id||J.current)return;J.current=!0,(async()=>{try{const _e=await fetch(`${Zn}/user-projects`,{method:"GET",credentials:"include"});if(!_e.ok)return;const Te=(await _e.json()).find(tt=>tt.project._id===N);if(Te){O(Te._id),H(Te.status);return}const ze=await fetch(`${Zn}/user-projects`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({project:N,status:"in-progress"})});if(ze.ok){const tt=await ze.json();O(tt._id),H(tt.status)}}finally{J.current=!1}})()},[N,n]);const te=ye=>{H(ye)};G.useEffect(()=>{if(!e)if(n&&n._id){console.log(" Establishing socket connection for user:",n._id);const ye=Z1e(n._id);if(ye){i(ye);const _e=()=>{console.log(" Socket connected"),P(!0)},Ae=()=>{console.log(" Socket disconnected"),P(!1)};return ye.on("connect",_e),ye.on("disconnect",Ae),ye.connected&&P(!0),()=>{ye.off("connect",_e),ye.off("disconnect",Ae)}}}else J1e(),i(null),P(!1)},[e,n]),G.useEffect(()=>{if(!r||!k)return;const ye=_e=>{console.log(" File tree updated"),l(_e)};return r.on("file:refresh",ye),()=>{r.off("file:refresh",ye)}},[r,k]),G.useEffect(()=>{if(!r||!k||!a||W||!u)return;const ye=setTimeout(()=>{r.emit("file:change",{path:a,content:u}),c(u)},2e3);return()=>clearTimeout(ye)},[r,k,u,a,W]),G.useEffect(()=>{d(h)},[h]);const re=G.useCallback(async()=>{if(!(!a||!n?._id||a==="/"||a==="")){p(!0),g("");try{const ye=await fetch(`${Zm}/files/content?userId=${n._id}&socketId=${r.id}&path=${encodeURIComponent(a)}`,{credentials:"include"}),_e=await ye.json();ye.ok?c(_e.content):(g(_e.error||"Failed to load file"),c(""))}catch(ye){g("Failed to load file"),c(""),console.error("Error fetching file:",ye)}finally{p(!1)}}},[a,n,r]);G.useEffect(()=>{a?re():(c(""),d(""),g(""))},[a,re]),G.useEffect(()=>{if(!r||!k)return;const ye=setInterval(()=>{r.emit("file:tree:refresh")},3e3);return()=>clearInterval(ye)},[r,k]);const ae=()=>{r&&k&&r.emit("file:tree:refresh")},ie=async(ye,_e)=>{if(!n?._id)return;const Ae=prompt(`Enter ${_e} name:`);if(!Ae)return;const Te=ye?`${ye}/${Ae}`:`/${Ae}`;try{await fetch(`${Zm}/files/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n._id,path:Te,type:_e,socketId:r.id}),credentials:"include"})}catch(ze){alert("Failed to create file"),console.error(ze)}},Q=async ye=>{if(!(!n?._id||!ye)&&window.confirm(`Delete "${ye}"?`))try{await fetch(`${Zm}/files/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n._id,path:ye,socketId:r.id}),credentials:"include"}),a===ye&&o("")}catch(_e){alert("Failed to delete file"),console.error(_e)}},se=async ye=>{if(!n?._id||!ye)return;const _e=prompt("Enter new name:");if(!_e)return;const Ae=ye.split("/");Ae[Ae.length-1]=_e;const Te=Ae.join("/");try{await fetch(`${Zm}/files/rename`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n._id,oldPath:ye,newPath:Te,socketId:r.id}),credentials:"include"}),a===ye&&o(Te)}catch(ze){alert("Failed to rename file"),console.error(ze)}},de=ye=>{ye&&ye!=="/"&&ye!==""&&o(ye)},xe=()=>{r&&k&&a&&!W&&(r.emit("file:change",{path:a,content:u}),c(u))},ne=ye=>{A(!0),ye.preventDefault()};return G.useEffect(()=>{const ye=Ae=>{if(!T)return;const Te=window.innerHeight-Ae.clientY-90;Te>=150&&Te<=600&&b(Te)},_e=()=>{A(!1)};return T&&(document.addEventListener("mousemove",ye),document.addEventListener("mouseup",_e)),()=>{document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",_e)}},[T]),e?U.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1e1e1e",color:"#cccccc",fontSize:"16px"},children:U.jsx("div",{children:"Loading..."})}):!k&&n?U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1e1e1e",color:"#cccccc",flexDirection:"column",gap:"16px"},children:[U.jsx("div",{style:{fontSize:"16px"},children:"Connecting to IDE..."}),U.jsx("div",{style:{fontSize:"12px",color:"#858585"},children:"Please wait while we set up your workspace"})]}):U.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",minHeight:"100vh",width:"100%",overflow:"hidden",backgroundColor:"#1e1e1e",color:"#cccccc",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',paddingTop:"76px"},children:[U.jsxs("div",{style:{height:"35px",backgroundColor:"#323233",borderBottom:"1px solid #2d2d30",display:"flex",alignItems:"center",padding:"0 12px",gap:"12px",flexShrink:0},children:[U.jsx("button",{onClick:()=>y(!v),style:{background:"none",border:"none",color:"#cccccc",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},title:"Toggle Sidebar",children:U.jsx(E5,{size:18})}),U.jsx("button",{onClick:()=>w(!_),style:{background:"none",border:"none",color:_?"#4caf50":"#cccccc",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},title:"Toggle AI Assistant",children:U.jsx(u_,{size:18})}),U.jsxs("span",{style:{fontSize:"13px",fontWeight:500},children:["IDE - ",n?.username]}),I&&U.jsxs("div",{style:{marginLeft:"auto",marginRight:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[U.jsx("button",{onClick:()=>X(!0),style:{background:"linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",border:"none",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",cursor:"pointer",gap:"6px"},title:"Show Project Info",children:U.jsx(_Se,{size:28,variant:"neon"})}),U.jsx(fSe,{userProjectId:I,currentStatus:F,onStatusChange:te}),U.jsx(gSe,{open:K,onClose:()=>X(!1)})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[U.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:k?"#4caf50":"#ff9800"}}),U.jsx("span",{children:k?"Connected":"Connecting..."})]})]}),U.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden",height:"100%"},children:[v&&U.jsxs("div",{style:{width:"250px",backgroundColor:"#252526",borderRight:"1px solid #2d2d30",display:"flex",flexDirection:"column",overflow:"hidden",flexShrink:0},children:[U.jsx(nSe,{socket:r,userId:n?._id}),U.jsx("div",{style:{maxHeight:"50%",overflow:"hidden",borderBottom:"1px solid #2d2d30",display:"flex",flexDirection:"column"},children:U.jsx(pSe,{projectId:N,userId:n?._id,onTaskSelect:z})}),U.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:U.jsx(tSe,{tree:s,onSelect:de,onAdd:ie,onDelete:Q,onRename:se,selectedPath:a,onRefresh:ae})})]}),U.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0},children:[U.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minHeight:0},children:[a&&U.jsxs("div",{style:{height:"36px",backgroundColor:"#2d2d2d",borderBottom:"1px solid #2d2d30",display:"flex",alignItems:"center",padding:"0 12px",gap:"8px",flexShrink:0},children:[U.jsx(mI,{size:16,style:{color:"#858585"}}),U.jsx("span",{style:{fontSize:"13px"},children:a.split("/").pop()}),!W&&U.jsxs(U.Fragment,{children:[U.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#ff9800"}}),U.jsxs("button",{onClick:xe,style:{marginLeft:"auto",padding:"4px 12px",fontSize:"12px",backgroundColor:"#0e639c",color:"white",border:"none",borderRadius:"2px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[U.jsx(Bse,{size:14}),"Save"]})]})]}),U.jsx("div",{style:{flex:1,position:"relative",overflow:"hidden",minHeight:0},children:a?m?U.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#f48771"},children:U.jsxs("div",{style:{textAlign:"center"},children:[U.jsx("p",{style:{fontSize:"14px",marginBottom:"8px"},children:"Error"}),U.jsx("p",{style:{fontSize:"12px",opacity:.8},children:m})]})}):f?U.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"13px",color:"#858585"},children:"Loading..."}):U.jsx(hSe,{width:"100%",height:"100%",mode:dSe({selectedFile:a}),theme:"monokai",value:u,onChange:d,name:"code-editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,fontSize:13,showPrintMargin:!1}}):U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:"12px",color:"#858585"},children:[U.jsx(mI,{size:48,style:{opacity:.3}}),U.jsxs("div",{style:{textAlign:"center"},children:[U.jsx("p",{style:{fontSize:"16px",marginBottom:"8px"},children:"No file selected"}),U.jsx("p",{style:{fontSize:"12px"},children:"Select a file from the explorer to start editing"})]})]})})]}),U.jsx("div",{onMouseDown:ne,style:{height:"4px",backgroundColor:T?"#0e639c":"#2d2d30",cursor:"ns-resize",transition:"background-color 0.2s",flexShrink:0}}),U.jsx("div",{style:{height:`${C}px`,backgroundColor:"#1e1e1e",borderTop:"1px solid #2d2d30",display:"flex",flexDirection:"column",overflow:"hidden",flexShrink:0},children:U.jsx(Q1e,{userId:n?._id})})]}),_&&U.jsx("div",{style:{width:"350px",backgroundColor:"#252526",borderLeft:"1px solid #2d2d30",display:"flex",flexDirection:"column",overflow:"hidden",flexShrink:0},children:U.jsx(rSe,{userId:n?._id,projectId:N,selectedFile:a,code:u,socket:r,currentTask:j})})]})]})}function RSe(){return U.jsxs(U.Fragment,{children:[U.jsx(Jwe,{}),U.jsx(gF,{position:"bottom-right",toastOptions:{style:{background:"#1f2937",color:"#fff",borderRadius:"8px",padding:"12px 16px"}}}),U.jsxs(vV,{children:[U.jsx(Go,{path:"/",element:U.jsx(Lie,{})}),U.jsx(Go,{path:"/projects",element:U.jsx("div",{children:U.jsx(Vwe,{})})}),U.jsx(Go,{path:"/about",element:U.jsx("div",{children:U.jsx(Wwe,{})})}),U.jsx(Go,{path:"/dashboard",element:U.jsx("div",{children:U.jsx(Uwe,{})})}),U.jsx(Go,{path:"/profile",element:U.jsx("div",{children:U.jsx(Xwe,{})})}),U.jsx(Go,{path:"/contact",element:U.jsx("div",{children:U.jsx(moe,{})})}),U.jsx(Go,{path:"/login",element:U.jsx("div",{children:U.jsx(jwe,{})})}),U.jsx(Go,{path:"/signup",element:U.jsx("div",{children:U.jsx(Hwe,{})})}),U.jsx(Go,{path:"/adminlogin",element:U.jsx("div",{children:U.jsx(Ywe,{})})}),U.jsx(Go,{path:"/adminsignup",element:U.jsx("div",{children:U.jsx(Zwe,{})})}),U.jsx(Go,{path:"/editor/:projectId/:title",element:U.jsx(kSe,{})})]})]})}const LSe=()=>{const{user:n,logout:e}=tu(),[t,r]=G.useState(!1),[i,s]=G.useState(!1),[l,a]=G.useState(!1),[o,h]=G.useState(!1),c=Gc(),u=Il(),d=G.useRef(null);G.useEffect(()=>{const m=()=>s(window.scrollY>20);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),G.useEffect(()=>{function m(g){d.current&&!d.current.contains(g.target)&&a(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=async()=>{try{await e(),h(!1),u("/",{replace:!0})}catch(m){console.error("Logout failed:",m)}},p=[{name:"Home",link:"/"},{name:"About",link:"/about"},{name:"Projects",link:"/projects"},{name:"Contact",link:"/contact"}];return U.jsxs(U.Fragment,{children:[U.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 border-b ${i?"bg-gray-900/95 backdrop-blur-md shadow-lg border-gray-800":"bg-transparent border-transparent"}`,children:[U.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-3 flex justify-between items-center",children:[U.jsx(vi,{to:"/",onClick:()=>r(!1),className:"text-2xl sm:text-3xl font-extrabold bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"DevForge"}),U.jsx("div",{className:"hidden md:flex space-x-8 text-lg",children:p.map(m=>U.jsxs(vi,{to:m.link,className:`relative group ${c.pathname===m.link?"text-cyan-400":"text-white"}`,children:[m.name,U.jsx("span",{className:"absolute left-0 -bottom-1 w-0 h-0.5 bg-cyan-400 transition-all group-hover:w-full"})]},m.name))}),U.jsx("div",{className:"hidden md:flex items-center gap-4 relative",children:n?U.jsxs("div",{ref:d,className:"relative",children:[U.jsx("button",{onClick:()=>a(!l),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:scale-105 transition",children:n.avatar?U.jsx("img",{src:n.avatar,alt:"",className:"object-cover w-full h-full"}):U.jsx("span",{className:"flex items-center justify-center w-full h-full bg-gradient-to-r from-cyan-400 to-pink-500 text-white font-bold",children:n.username?.charAt(0).toUpperCase()})}),l&&U.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-gray-900 border border-gray-700 shadow-xl rounded-xl p-2 animate-fadeIn",children:[U.jsx(vi,{to:"/profile",className:"block px-4 py-2 text-white hover:bg-gray-800 rounded-lg",onClick:()=>a(!1),children:"Profile"}),U.jsx("button",{onClick:()=>{a(!1),h(!0)},className:"block w-full text-left px-4 py-2 text-red-400 hover:bg-red-500/20 rounded-lg",children:"Logout"})]})]}):U.jsxs(U.Fragment,{children:[U.jsx(vi,{to:"/login",className:"text-cyan-400 border border-cyan-400 px-4 py-2 rounded-xl hover:bg-cyan-400/10",children:"Login"}),U.jsx(vi,{to:"/signup",className:"bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 text-white px-4 py-2 rounded-xl hover:opacity-90",children:"Sign Up"})]})}),U.jsx("button",{className:"md:hidden text-white",onClick:()=>r(!t),children:t?U.jsx(ok,{size:28}):U.jsx(E5,{size:28})})]}),t&&U.jsxs("div",{className:"md:hidden px-6 py-6 bg-gray-900/95 border-t border-gray-700 space-y-4 animate-slideDown",children:[p.map(m=>U.jsx(vi,{to:m.link,onClick:()=>r(!1),className:`block text-center text-lg ${c.pathname===m.link?"text-cyan-400":"text-white"}`,children:m.name},m.name)),U.jsx("div",{className:"pt-2 border-t border-gray-700",children:n?U.jsxs(U.Fragment,{children:[U.jsx(vi,{to:"/profile",onClick:()=>r(!1),className:"block py-2 text-center border border-cyan-400 rounded-xl text-cyan-400",children:"Profile"}),U.jsx(vi,{to:"/dashboard",onClick:()=>a(!1),className:"block px-4 py-2 text-gray-200 hover:bg-cyan-500/10 rounded-lg transition",children:"Dashboard"}),U.jsx("button",{onClick:()=>{r(!1),h(!0)},className:"mt-3 w-full py-2 border border-red-400 text-red-400 rounded-xl",children:"Logout"})]}):U.jsxs(U.Fragment,{children:[U.jsx(vi,{to:"/login",onClick:()=>r(!1),className:"block py-2 border border-cyan-400 text-center rounded-xl text-cyan-400",children:"Login"}),U.jsx(vi,{to:"/signup",onClick:()=>r(!1),className:"mt-3 block py-2 text-center rounded-xl bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 text-white",children:"Sign Up"})]})})]})]}),o&&U.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-black/60 backdrop-blur-sm z-[100]",children:U.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 text-center w-[90%] max-w-sm",children:[U.jsx("h2",{className:"text-white text-xl font-semibold",children:"Are you sure?"}),U.jsx("p",{className:"text-gray-400 mt-2 mb-5",children:"Do you want to logout?"}),U.jsxs("div",{className:"flex justify-center gap-4",children:[U.jsx("button",{onClick:f,className:"px-4 py-2 rounded-xl bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 text-white hover:opacity-90",children:"Logout"}),U.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]})}),U.jsx("style",{children:`
        .animate-slideDown {
          animation: slideDown .3s ease-out;
        }
        @keyframes slideDown {
          from {opacity: 0; transform: translateY(-10px);}
          to {opacity: 1; transform: translateY(0);}
        }
        .animate-fadeIn {
          animation: fadeIn .25s ease-in-out;
        }
        @keyframes fadeIn {
          from {opacity: 0; transform: scale(.95);}
          to {opacity: 1; transform: scale(1);}
        }
      `})]})},PSe=()=>U.jsxs("footer",{className:"relative bg-gray-950 text-gray-300 pt-20 pb-10 overflow-hidden",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden leading-none",children:U.jsx("svg",{className:"relative block w-full h-20 text-gray-900",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:U.jsx("path",{fill:"currentColor",d:"M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,229.3C672,245,768,235,864,202.7C960,171,1056,117,1152,128C1248,139,1344,213,1392,250.7L1440,288V0H0Z"})})}),U.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-3 gap-12 relative z-10",children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 bg-clip-text text-transparent",children:"DevForge"}),U.jsx("p",{className:"mt-4 text-gray-400 leading-relaxed",children:"AI-powered project builder for CSE students. Learn by doing, guided by AI."})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Quick Links"}),U.jsx("ul",{className:"space-y-2",children:[{name:"Home",link:"/"},{name:"About",link:"/About"},{name:"Projects",link:"/projects"},{name:"Contact",link:"/contact"}].map(n=>U.jsx("li",{children:U.jsx("a",{href:n.link,className:"hover:text-cyan-400 transition-colors duration-300",children:n.name})},n.name))})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Connect"}),U.jsx("div",{className:"flex space-x-4",children:[{icon:U.jsx(pse,{size:20}),link:"#"},{icon:U.jsx(Jse,{size:20}),link:"#"},{icon:U.jsx(mse,{size:20}),link:"#"},{icon:U.jsx(dse,{size:20}),link:"#"}].map((n,e)=>U.jsxs("a",{href:n.link,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gray-800 border border-gray-700 text-gray-400 relative group transition-all duration-300",children:[U.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 opacity-0 group-hover:opacity-100 blur-md transition duration-500"}),U.jsx("span",{className:"relative z-10 group-hover:text-white transition-colors duration-300",children:n.icon})]},e))})]})]}),U.jsxs("div",{className:"relative mt-12 pt-6 text-center text-gray-500 text-sm z-10",children:[U.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-cyan-400 via-indigo-500 to-pink-500 animate-pulse"}),U.jsxs("p",{className:"relative z-10",children:[" ",new Date().getFullYear()," DevForge. All rights reserved."]})]}),U.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-400 via-pink-500 to-indigo-500 animate-[pulse_3s_infinite_alternate] blur-sm opacity-70"})]});M8.createRoot(document.getElementById("root")).render(U.jsx(tv.StrictMode,{children:U.jsx(zV,{children:U.jsxs($we,{children:[U.jsx(LSe,{}),U.jsx(RSe,{}),U.jsx(PSe,{})]})})}));
